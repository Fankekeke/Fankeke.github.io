<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Vue前端生产环境发布配置实战篇"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Vue前端生产环境发布配置实战篇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/0nw1blacmwx/",
				"appid": "1613049289050283", 
				"title": "Vue前端生产环境发布配置实战篇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-08T02:30:30"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/oa1doephks/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/y20wom1k1ys/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&text=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&text=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&title=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&is_video=false&description=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&title=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&title=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&title=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0nw1blacmwx%2f&title=Vue%e5%89%8d%e7%ab%af%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e5%8f%91%e5%b8%83%e9%85%8d%e7%bd%ae%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Vue前端生产环境发布配置实战篇</h1><div class="meta"><div class="postdate"><time datetime="2018-12-08" itemprop="datePublished">2018-12-08</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3e前言\x3c\/h3\x3e\n\x3cp\x3e首先这篇文章是写给Vue新手的，老司机基本不用看了。\x3c\/p\x3e\n\x3cp\x3e当我们刚接触vue的时候，特别是对于第一次用前端框架的同学来说，心情可以说是比较激动的，框架带来的种种新体验，是以前jQuery无法给你的兴奋和满足感。但是在体验了几个demo的新鲜感之后，我们就要考虑如何把框架结合到我们实际的开发中如何应用的问题了。\x3c\/p\x3e\n\x3cp\x3e下面我主要总结三个和生产发布相关的问题：资源文件发布文件夹配置，图片文件的引用，以及后台接口调试方法。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e一，资源文件发布配置\x3c\/h3\x3e\n\x3cp\x3e一般项目都是用vue-cli脚手架搭建项目，然后编写自己的代码。vue-cli脚手架生成的配置，默认资源文件都在static文件夹下面，build发布的js和css文件也是在static文件夹下面，index.html文件则是和static形成相对路径关系。\x3c\/p\x3e\n\x3cp\x3e而实际我们的生产发布环境中，页面文件和资源文件不一定在同一目录下，页面文件和js,css文件也不在同一目录下。\x3c\/p\x3e\n\x3cp\x3e以php的Yii2环境为例，页面文件一般都放在\x3cstrong\x3e\x3cem\x3eviews\x3c\/em\x3e\x3c\/strong\x3e文件夹，页面访问路径可能是 “\x3ca href=\x22http:\/\/xxxx.com\/index.php\/sales-task\/create\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xxxx.com\/index.php\/sal...\x3c\/a\x3e” 这样的url形式。而js,css,image等资源文件则需要放在\x3cstrong\x3e\x3cem\x3eweb\x3c\/em\x3e\x3c\/strong\x3e文件夹下，访问路径则是从\x3cstrong\x3e根目录\x3c\/strong\x3e开始访问的。如果在\x3cem\x3eweb\x3c\/em\x3e目录下新建static文件夹，访问路径是 “\x3ca href=\x22http:\/\/xxxx.com\/static\/images\/logo.png\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xxxx.com\/static\/images...\x3c\/a\x3e” 这样的url形式。实际开发中我们不能把所有项目资源文件都放在\x3cem\x3eweb\x3c\/em\x3e目录下的static文件夹，需要按项目新建不同的文件夹，在每个项目文件夹里再新建js,css,images等文件夹来安放各自的资源文件，访问路径应该是 “\x3ca href=\x22http:\/\/xxxx.com\/sales-task\/images\/logo.png\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xxxx.com\/sales-task\/im...\x3c\/a\x3e” 这样的url形式。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e因此修改配置文件如下：\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e把vue项目下的static文件夹名称改成项目名称，名称由小写英文字母，横杠连接符“-”，数字组成，例如sales-task。\x3c\/li\x3e\n\x3cli\x3e修改config\/index.js，把dev和build属性里的assetsSubDirectorys的值都改成项目名称，例如sales-task。build的assetsPublicPath值改成“\/”，这样所有资源文件的引用都从根目录引用，避免相对路径错误。\x3c\/li\x3e\n\x3cli\x3e修改build\/webpack.dev.conf.js，把plugins的new CopyWebpackPlugin那里的from: path.resolve(__dirname, \x27..\/static\x27)，改为from: path.resolve(__dirname, \x27..\/sales-task\x27)。\x3c\/li\x3e\n\x3cli\x3ebuild\/webpack.prod.conf.js里也做同样的修改。\x3c\/li\x3e\n\x3cli\x3e上线前发布最终线上文件时，config\/index.js里的build设置属性productionSourceMap: false,同时注释掉devtool: \x27#source-map\x27,以避免产生.map映射文件。正式上线前这个还是要保留的，否则调试代码会很不方便。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e二，图片文件的引用方式\x3c\/h3\x3e\n\x3cp\x3evue项目中有2种图片引用方式，一种是静态引用，按照我们上面的资源文件夹配置，图片路径直接写到template的html代码里，格式示例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cimg src=\x26quot;\/sales-task\/images\/logo.png\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3eimg\x3c\/span\x3e src=\x3cspan class=\x22hljs-string\x22\x3e\x22\/sales-task\/images\/logo.png\x22\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样在开发模式和发布模式下都能正常引用到图片，好处是和正常html代码格式一样，方便代码的编写和修改。缺点是图片文件地址是静态的，替换图片后如果不手动更换文件名无法解决缓存问题。\x3c\/p\x3e\n\x3cp\x3e另一种方法就是更科学的模块化方式，用require引用图片，这样发布后图片文件名也会生成唯一识别码，图片修改后就会重新生成不同的文件名，从而能避免缓存问题，另外小图片还可以直接生成base64码，减少文件请求。require引用也有两种形式，直接写在:src属性上（注意这里和静态引用不一样，不是src而是:src了）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cimg :src=\x26quot;require(\x27..\/assets\/images\/logo.png\x27)\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;img \x3cspan class=\x22hljs-symbol\x22\x3e:src=\x3cspan class=\x22hljs-string\x22\x3e\x22require(\x27..\/assets\/images\/logo.png\x27)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或者把图片引用数据写在data绑定数据里：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cimg :src=\x26quot;logoImg\x26quot;\x3e\n...\n\x3cscript\x3e\nexport default\n  {\n    data()\n    {\n      return {\n        logoImg:require(\x27..\/assets\/images\/logo.png\x27)\n      }\n    }\n  }\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:src\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22logoImg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e\n  {\n    data()\n    {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attr\x22\x3elogoImg\x3c\/span\x3e:\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/assets\/images\/logo.png\x27\x3c\/span\x3e)\n      }\n    }\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然我还是推荐绑定数据的方法，代码看起来更清爽，也便于维护。\x3c\/p\x3e\n\x3cp\x3e另外需要说明的是在vue的\x26lt;style\x26gt;\x26lt;\/style\x26gt;块内的样式里定义的background-image引用图片不需要require引用，直接通过相对路径引入就可以实现上面相同的效果。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e三，后台接口调试方法\x3c\/h3\x3e\n\x3cp\x3e这里后台接口调试指的是在开发模式下的调试。\x3c\/p\x3e\n\x3cp\x3evue的开发模式是通过webpack-dev-server启动一个本地服务，所以在开发模式下调用后台接口就产生了跨域问题。这里要\x3cstrong\x3e说明一下\x3c\/strong\x3e，如果要调用的后台接口本身就是跨域的接口，也就是说\x3cstrong\x3e页面和接口文件不在同一个域名下\x3c\/strong\x3e，跨域问题需要在后端设置，这时其实vue项目不需要特殊配置了，因为本地访问和发布后访问都是跨域的，解决后端跨域就都解决了。所以我们这里要配置的，还是针对发布以后页面和接口不存在跨越问题，只是开发模式下本地服务和接口产生的跨越问题，如何解决。\x3c\/p\x3e\n\x3cp\x3e首先还是打开config\/index.js，找到module.exports里的dev，里面有一项proxyTable，默认是空的，我们要按照我们的接口路径，修改如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    proxyTable: {\n        \x27\/sales-task-api\x27:{\n            target:\x26quot;http:\/\/xxxxx.com\/sales-task-api\x26quot;,\n            changeOrigin:true,\n            pathRewrite: {\x26quot;^\/sales-task-api\x26quot; : \x26quot;\/\x26quot;} \n        }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e    \x3cspan class=\x22hljs-attribute\x22\x3eproxyTable\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-string\x22\x3e\x27\/sales-task-api\x27\x3c\/span\x3e:{\n            \x3cspan class=\x22hljs-attribute\x22\x3etarget\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/xxxxx.com\/sales-task-api\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3echangeOrigin\x3c\/span\x3e:true,\n            \x3cspan class=\x22hljs-attribute\x22\x3epathRewrite\x3c\/span\x3e: {\x3cspan class=\x22hljs-string\x22\x3e\x22^\/sales-task-api\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e} \n        }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意上面3个地方的接口路径名称（示例中的\x22sales-task-api\x22）要保持一致。\x3cbr\x3e例如实际要调用的接口地址是：\x3ca href=\x22http:\/\/xxxxx.com\/sales-task-api\/get-user-list\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xxxxx.com\/sales-task-a...\x3c\/a\x3e ,经过这样配置设置后，我们在vue中就可以通过 \x22\/sales-task-api\/get-user-list\x22 这样的地址调用，也不会产生跨域问题。同时因为是采用的根目录访问路径，在生产发布以后也不会产生接口访问路径错误问题。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Vue前端生产环境发布配置实战篇</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014047020">https://segmentfault.com/a/1190000014047020</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/0nw1blacmwx/" target="_blank">https://alili.tech/archive/0nw1blacmwx/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>