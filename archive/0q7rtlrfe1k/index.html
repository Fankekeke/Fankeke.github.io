<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Nuxt.js的踩坑指南（常见问题汇总）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Nuxt.js的踩坑指南（常见问题汇总） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/0q7rtlrfe1k/",
				"appid": "1613049289050283", 
				"title": "Nuxt.js的踩坑指南（常见问题汇总） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-04T02:30:05"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/wncoh1gmrys/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/gdz9n6ek1b/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&text=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&text=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&title=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&is_video=false&description=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&title=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&title=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&title=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0q7rtlrfe1k%2f&title=Nuxt.js%e7%9a%84%e8%b8%a9%e5%9d%91%e6%8c%87%e5%8d%97%ef%bc%88%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Nuxt.js的踩坑指南（常见问题汇总）</h1><div class="meta"><div class="postdate"><time datetime="2018-12-04" itemprop="datePublished">2018-12-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch5\x3e本文会不定期更新在nuxt.js中遇到的问题进行汇总。转发请注明出处，尊重作者，谢谢！\x3c\/h5\x3e\n\x3chr\x3e\n\x3ch3\x3e强烈推荐作者文档版踩坑指南，点击跳转👉\x3ca href=\x22http:\/\/docs.brianlee.cn\x22 rel=\x22nofollow noreferrer\x22\x3e踩坑指南\x3c\/a\x3e\n\x3c\/h3\x3e\n\x3cp\x3e在Nuxt的官方文档中，\x3cstrong\x3e中文文档和英文文档\x3c\/strong\x3e都存在着不小的差异。\x3c\/p\x3e\n\x3ch2\x3e1.路径匹配问题：\x3c\/h2\x3e\n\x3cp\x3eIn Nuxt.js, the path match is as follows:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e@import url(\x27~assets\/css\/style.css\x27) \/\/Error\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eThis path matching is an error, and writing it like this is possible:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e@import url(\x27~\/assets\/css\/style.css\x27) \/\/success\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e也就是说，在最新版本更新中，官方修复了路径匹配问题：\x3c\/p\x3e\n\x3cp\x3e而官方推荐使用\x3ccode\x3e~\/assets\x3c\/code\x3e匹配路径，而不是使用在\x3cstrong\x3e中文文档\x3c\/strong\x3e中的~assets去匹配路径。\x3c\/p\x3e\n\x3cp\x3e而在\x3cstrong\x3e中文文档\x3c\/strong\x3e中，也并未见修复及更改此问题。\x3c\/p\x3e\n\x3ch2\x3e2.按需引入(UI框架等等)\x3c\/h2\x3e\n\x3cp\x3e例如使用UI框架：\x3ccode\x3eelement-ui\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e我找了很多相关文章，并没有详细说明该如何引入。所以我要拿出来将他说明：\x3c\/p\x3e\n\x3cp\x3e先来看下，如果不按需引入\x3ccode\x3evendor.js\x3c\/code\x3e的体积大小为：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV87oP?w=2058\x26amp;h=483\x22 src=\x22https:\/\/static.alili.tech\/img\/bV87oP?w=2058\x26amp;h=483\x22 alt=\x22nuxt.js打包shi\x27li\x22 title=\x22nuxt.js打包shi\x27li\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e第一步，下载依赖：\x3c\/blockquote\x3e\n\x3cpre\x3e\x3ccode class=\x22json\x22\x3e\n# 先下载element-ui\n\nnpm install element-ui --save\n\n# 如果使用按需引入，必须安装babel-plugin-component(官网有需要下载说明，此插件根据官网规则不同，安装插件不同)\n\nnpm install babel-plugin-component --save-dev\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装好以后，按照\x3ccode\x3enuxt.js\x3c\/code\x3e中的规则，你需要在 \x3ccode\x3eplugins\/\x3c\/code\x3e 目录下创建相应的插件文件\x3c\/p\x3e\n\x3cp\x3e在\x3cstrong\x3e文件根目录\x3c\/strong\x3e创建(或已经存在)\x3ccode\x3eplugins\/\x3c\/code\x3e目录，创建名为：\x3ccode\x3eelement-ui.js\x3c\/code\x3e的文件，内容如下：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nimport Vue from \x27vue\x27\n\nimport { Button } from \x27element-ui\x27    \/\/引入Button按钮\n\nexport default ()=\x26gt;{\n    Vue.use(Button)\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e第二步，引入插件\x3c\/blockquote\x3e\n\x3cp\x3e在\x3ccode\x3enuxt.config.js\x3c\/code\x3e中，添加配置为：\x3ccode\x3eplugins\x3c\/code\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\ncss:[\n\x27element-ui\/lib\/theme-chalk\/index.css\x27\n],\nplugins:[\n\x27~\/plugins\/element-ui\x27\n]\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e默认为：开启SSR,采用服务端渲染，也可以\x3cstrong\x3e手动配置关闭SSR\x3c\/strong\x3e，配置为：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\ncss:[\n\x27element-ui\/lib\/theme-chalk\/index.css\x27\n],\nplugins:[\n    {\n        src:\x27~\/plugins\/element-ui\x27,\n        ssr:false    \/\/关闭ssr\n    }\n]\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e第三步，配置\x3ccode\x3ebabel\x3c\/code\x3e选项\x3c\/blockquote\x3e\n\x3cp\x3e在\x3ccode\x3enuxt.config.js\x3c\/code\x3e中，配置在\x3ccode\x3ebuild\x3c\/code\x3e选项中，规则为官网规则：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nbuild: {\n      babel:{        \/\/配置按需引入规则\n          \x22plugins\x22:[\n              [\n                  \x22component\x22,\n                  {\n                      \x22libraryName\x22:\x22element-ui\x22,\n                      \x22styleLibraryName\x22:\x22theme-chalk\x22\n                  }\n              ]\n          ]\n      },\n    \/*\n     ** Run ESLINT on save\n     *\/\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.module.rules.push({\n           enforce: \x27pre\x27,\n           test: \/\\.(js|vue)$\/,\n           loader: \x27eslint-loader\x27,\n           exclude: \/(node_modules)\/\n        })\n      }\n    }\n }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此时，我们在观察\x3cstrong\x3e打包以后文件体积大小\x3c\/strong\x3e，如图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV87pq?w=1601\x26amp;h=387\x22 src=\x22https:\/\/static.alili.tech\/img\/bV87pq?w=1601\x26amp;h=387\x22 alt=\x22nuxt.js打包示例\x22 title=\x22nuxt.js打包示例\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e此时，我们成功完成了按需引入配置。\x3c\/h4\x3e\n\x3chr\x3e\n\x3ch2\x3e3.初始化脚手架的选择：\x3c\/h2\x3e\n\x3cp\x3e官网提供的初始化脚手架为：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22json\x22\x3e\n# 基本的Nuxt.js项目模板\n\nvue init nuxt\/starter template\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而其实，官方也提供了更多的模板以便于我们使用，而我在\x3cstrong\x3e中文文档\x3c\/strong\x3e并未发现有说明：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3enuxt\/starter\x3c\/code\x3e 基本的Nuxt.js项目模板\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3enuxt\/express\x3c\/code\x3e Nuxt.js \x2b Express\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3enuxt\/koa\x3c\/code\x3e Nuxt.js \x2b Koa2\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3enuxt\/adonuxt\x3c\/code\x3e Nuxt.js \x2b AdonisJS\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3enuxt\/micro\x3c\/code\x3e Nuxt.js \x2b Micro\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3enuxt\/nuxtent\x3c\/code\x3e 适用于内容较重网站的Nuxt.js \x2b Nuxtent模块\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3chr\x3e\n\x3cp\x3e而我们使用基础的模板进行初始化项目，部署方式为：\x3c\/p\x3e\n\x3cblockquote\x3e第一步，打包：\x3c\/blockquote\x3e\n\x3cp\x3e在执行\x3ccode\x3enpm run build\x3c\/code\x3e的时候，\x3ccode\x3enuxt\x3c\/code\x3e会自动打包\x3c\/p\x3e\n\x3cblockquote\x3e第二步，选择要部署的文件：\x3c\/blockquote\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e.nuxt\x3c\/code\x3e文件夹\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3epackage.json\x3c\/code\x3e 文件\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3enuxt.config.js\x3c\/code\x3e 文件(如果你部署一些proxy，则需要上传这个文件，个人建议把它传上去)\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e第三步，启动你的\x3ccode\x3enuxt\x3c\/code\x3e\x3cstrong\x3e（重要）\x3c\/strong\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e使用\x3ccode\x3epm2\x3c\/code\x3e启动你的\x3ccode\x3enuxt.js\x3c\/code\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22shell\x22\x3e\npm2 start npm --name \x22demo\x22 -- run start\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e在这里，我发现个问题，如果你使用window server 服务器，在使用\x3ccode\x3epm2\x3c\/code\x3e启动时候，会出现错误，错误如下：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV87ss?w=669\x26amp;h=432\x22 src=\x22https:\/\/static.alili.tech\/img\/bV87ss?w=669\x26amp;h=432\x22 alt=\x22windows server\x22 title=\x22windows server\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e如果在\x3ccode\x3eLinux服务器\x3c\/code\x3e下启动，同样的命令，同样的执行，则不会出现错误：\x3c\/h4\x3e\n\x3ch4\x3e这里采用\x3ccode\x3eLinux CentOS 7\x3c\/code\x3e\n\x3c\/h4\x3e\n\x3ch2\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV87sK?w=1013\x26amp;h=327\x22 src=\x22https:\/\/static.alili.tech\/img\/bV87sK?w=1013\x26amp;h=327\x22 alt=\x22CentOS 7服务器\x22 title=\x22CentOS 7服务器\x22\x3e\x3c\/span\x3e\x3c\/h2\x3e\n\x3ch4\x3e所以，个人建议，在采用\x3cstrong\x3e初始化模板的时候，请选用\x3ccode\x3eexpress\x3c\/code\x3e 或者 \x3ccode\x3ekoa\x3c\/code\x3e 进行初始化，理由如下：\x3c\/strong\x3e\n\x3c\/h4\x3e\n\x3ch5\x3e1.采用基础模板初始化，观察\x3ccode\x3epackage.json\x3c\/code\x3e的启动方式如下：\x3c\/h5\x3e\n\x3cpre\x3e\x3ccode class=\x22shell\x22\x3e\n\x22scripts\x22: {\n    \x22dev\x22: \x22nuxt\x22,\n    \x22build\x22: \x22nuxt build\x22,\n    \x22start\x22: \x22nuxt start\x22,\n    \x22generate\x22: \x22nuxt generate\x22,\n    \x22lint\x22: \x22eslint --ext .js,.vue --ignore-path .gitignore .\x22,\n    \x22precommit\x22: \x22npm run lint\x22\n  }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e2.采用\x3ccode\x3eexpress\x3c\/code\x3e\/\x3ccode\x3ekoa\x3c\/code\x3e初始化模板，观察\x3ccode\x3epackage.json\x3c\/code\x3e的启动方式如下：\x3c\/h5\x3e\n\x3cpre\x3e\x3ccode class=\x22shell\x22\x3e\n\x22scripts\x22: {\n    \x22dev\x22: \x22backpack dev\x22,\n    \x22build\x22: \x22nuxt build \x26amp;\x26amp; backpack build\x22,\n    \x22start\x22: \x22cross-env NODE_ENV=production node build\/main.js\x22,\n    \x22precommit\x22: \x22npm run lint\x22,\n    \x22lint\x22: \x22eslint --ext .js,.vue --ignore-path .gitignore .\x22\n  }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e在\x3ccode\x3estart\x3c\/code\x3e中，对比下，个人觉得\x3ccode\x3eexpress\x3c\/code\x3e\/\x3ccode\x3ekoa\x3c\/code\x3e更灵活一些，它直接启动了\x3ccode\x3ebuild\/main.js\x3c\/code\x3e文件，更能直观的启动方式，而关键在于，也可以在\x3ccode\x3ewindows server\x3c\/code\x3e下运行起来。\x3c\/h5\x3e\n\x3cblockquote\x3e注意事项：如果采用\x3ccode\x3eexpress\x3c\/code\x3e\/\x3ccode\x3ekoa\x3c\/code\x3e的模板初始化，服务器部署的时候，同时要上传\x3ccode\x3ebuild\/\x3c\/code\x3e目录！！！\x3c\/blockquote\x3e\n\x3chr\x3e\n\x3ch2\x3e4.插件中获取vue绑定\x3c\/h2\x3e\n\x3cp\x3e我们需要在axios的插件中配置Loading加载效果，例如使用\x3ccode\x3eelement-ui\x3c\/code\x3e框架作为示例：\x3c\/p\x3e\n\x3cblockquote\x3e1.创建插件\x3c\/blockquote\x3e\n\x3cp\x3e在文件根目录创建(或已经存在)\x3ccode\x3eplugins\/\x3c\/code\x3e目录，创建名为：\x3ccode\x3eaxios.js\x3c\/code\x3e的文件，内容如下：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nimport Vue from \x27vue\x27\n\nvar vm = new Vue({})    \/\/获取vue实例\n\nexport default function ({ $axios, redirect }) {\n\n  $axios.onRequest(config =\x26gt; {\n    if (process.browser) {    \/\/判断是否为客户端（必须）\n        vm.$loading();\n    }\n  })\n\n  $axios.onResponse(response=\x26gt;{\n      if (process.browser) {    \/\/判断是否为客户端（必须）\n          let load = vm.$loading();\n          load.close();\n      }\n  })\n\n  $axios.onError(error =\x26gt; {\n    const code = parseInt(error.response \x26amp;\x26amp; error.response.status)\n    if (code === 400) {\n      redirect(\x27\/400\x27)\n    }\n  })\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如官方所说，并不需要像\x3cstrong\x3e原生\x3ccode\x3eaxios\x3c\/code\x3e\x3c\/strong\x3e一样，去\x3ccode\x3ereturn\x3c\/code\x3e一个\x3ccode\x3econfig\x3c\/code\x3e出来。\x3c\/p\x3e\n\x3cblockquote\x3e2.配置\x3ccode\x3enuxt.config.js\x3c\/code\x3e文件\x3c\/blockquote\x3e\n\x3cp\x3e在\x3ccode\x3eplugins\x3c\/code\x3e选项添加：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\n plugins:[\x27~\/plugins\/axios\x27]\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加\x3ccode\x3emodules\x3c\/code\x3e选项并添加如下示例：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nmodules:[\x27@nuxtjs\/axios\x27]\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置防止多次打包：\x3c\/p\x3e\n\x3cp\x3e在build选项中(\x3ccode\x3enuxt.config.js\x3c\/code\x3e会默认配置)添加\x3ccode\x3evendor\x3c\/code\x3e配置项：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nbuild:{\n    vendor:[\x27axios\x27]\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样就可以调用loading加载方法,并且愉快的使用了。\x3c\/p\x3e\n\x3cp\x3e（当然还有其他的方法去调用vue实例，每个人习惯不同，使用方式不同。）\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2\x3e5.Nuxt.js中配置代理解决跨域\x3c\/h2\x3e\n\x3cp\x3e我们知道在vue-cli中配置代理很方便，只需要在\x3ccode\x3econfig\/\x3c\/code\x3e目录下的\x3ccode\x3eindex.js\x3c\/code\x3e中找到\x3ccode\x3eproxyTable\x3c\/code\x3e添加即可，而在nuxt中同样需要修改\x3ccode\x3enuxt.config.js\x3c\/code\x3e配置文件。\x3c\/p\x3e\n\x3cblockquote\x3e1.原始配置代理方式\x3c\/blockquote\x3e\n\x3cp\x3e使用\x3ccode\x3e@nuxtjs\/axios\x3c\/code\x3e和\x3ccode\x3e@nuxtjs\/proxy\x3c\/code\x3e进行代理解决跨域\x3c\/p\x3e\n\x3ch5\x3e1）.下载插件\x3c\/h5\x3e\n\x3cpre\x3e\x3ccode class=\x22shell\x22\x3e\n# 下载插件\n\nnpm install @nuxtjs\/axios @nuxtjs\/proxy --save\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e2）.配置插件\x3c\/h5\x3e\n\x3cp\x3e在\x3ccode\x3enuxt.config.js\x3c\/code\x3e添加配置项：\x3ccode\x3emodules\x3c\/code\x3e和\x3ccode\x3eproxy\x3c\/code\x3e。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nexport default = {\n\n    modules:[\n        \x27@nuxtjs\/axios\x27,\n        \x27@nuxtjs\/proxy\x27\n    ],\n    proxy:[\n        [\x27\/json.html\x27,{target:\x27http:\/\/www.xxxx.com\x27}]    \/\/注意这也是一个数组\n    ]\n    \n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e按照上面的方式已经完成了代理，可以进行跨域请求了。\x3c\/p\x3e\n\x3cblockquote\x3e2.第二种方式的代理配置\x3c\/blockquote\x3e\n\x3ch5\x3e1）.下载插件\x3c\/h5\x3e\n\x3cp\x3e这次只需要下载\x3ccode\x3e@nuxtjs\/axios\x3c\/code\x3e插件就可以。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22shell\x22\x3e\n# 下载插件\n\nnpm install @nuxtjs\/axios --save\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e2）.配置插件\x3c\/h5\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nmodule.exports = {\n\n  modules: [\n    \x27@nuxtjs\/axios\x27,\n  ],\n  axios: {\n    proxy:true\n  },\n  proxy:{\n    \x27\/api\x27: \x27http:\/\/api.example.com\x27,\n    \x27\/api2\x27: \x27http:\/\/api.another-website.com\x27\n  }\n\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e特别注意：此时，\x3ccode\x3eaxios\x3c\/code\x3e选项为对象(\x3ccode\x3eobject\x3c\/code\x3e)，\x3ccode\x3eproxy\x3c\/code\x3e选项为对象(\x3ccode\x3eobject\x3c\/code\x3e)。\x3c\/h4\x3e\n\x3chr\x3e\n\x3ch3\x3e\n\x3ccode\x3e@nuxtjs\/axios\x3c\/code\x3e的配置项\x3c\/h3\x3e\n\x3chr\x3e\n\x3ch4\x3e\n\x3ccode\x3epathRewrite\x3c\/code\x3e选项(重写地址)\x3c\/h4\x3e\n\x3cp\x3e如果配置\x3ccode\x3epathRewrite\x3c\/code\x3e选项，可以采用第二种写法如下：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\n\n\nproxy: {\n\n  \x27\/api\/\x27: { target: \x27http:\/\/api.example.com\x27, pathRewrite: {\x27^\/api\/\x27: \x27\x27} }\n\n }\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e\/api\/\x3c\/code\x3e将被添加到API端点的所有请求中。可以使用\x3ccode\x3epathRewrite\x3c\/code\x3e选项删除。\x3c\/p\x3e\n\x3cp\x3e因为在 ajax 的 url 中加了前缀 \x3ccode\x3e\/api\x3c\/code\x3e，而原本的接口是没有这个前缀的。\x3c\/p\x3e\n\x3cp\x3e所以需要通过 pathRewrite 来重写地址，将前缀 \x3ccode\x3e\/api\x3c\/code\x3e 转为 \x3ccode\x3e\/\x3c\/code\x3e或者是\x3ccode\x3e\x27\x27\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e如果本身的接口地址就有 \x3ccode\x3e\/api\x3c\/code\x3e 这种通用前缀，就可以把 \x3ccode\x3epathRewrite\x3c\/code\x3e 删掉。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch4\x3e\n\x3ccode\x3eretry\x3c\/code\x3e选项(自动拦截失败请求)\x3c\/h4\x3e\n\x3cp\x3e可以在\x3ccode\x3eaxios\x3c\/code\x3e选项中，配置\x3ccode\x3eretry\x3c\/code\x3e配置项，自动拦截失败请求，\x3cstrong\x3e默认为3次。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\naxios: {\n  retry: { retries: 3 }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch4\x3e\n\x3ccode\x3eprogress\x3c\/code\x3e选项(发出请求时显示加载栏)\x3c\/h4\x3e\n\x3cp\x3e与\x3ccode\x3eNuxt.js\x3c\/code\x3e进度条集成，在发出请求时显示加载栏。\x3cstrong\x3e（仅在浏览器上，当加载栏可用时。）\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e您还可以使用\x3ccode\x3eprogress\x3c\/code\x3e配置为每个请求禁用进度条。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\nthis.$axios.$get(\x27URL\x27, { progress: false })\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch4\x3e\n\x3ccode\x3ebaseURL\x3c\/code\x3e选项（服务器端默认请求地址）\x3c\/h4\x3e\n\x3cp\x3e在服务器端使用和预先创建请求的基本URL。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch4\x3e\n\x3ccode\x3ebrowserBaseURL\x3c\/code\x3e选项（客户端默认请求地址）\x3c\/h4\x3e\n\x3cp\x3e在客户端使用和预先创建请求的基本URL。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/brianlee.cn\/archives\/132\x22 rel=\x22nofollow noreferrer\x22\x3e本文同步更新在个人博客中，?点击跳转\x3c\/a\x3e\x3cbr\x3e\x3cem\x3e本文如果有错误之处，请在下方留言以便于及时更正，谢谢！\x3c\/em\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Nuxt.js的踩坑指南（常见问题汇总）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014526984">https://segmentfault.com/a/1190000014526984</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/0q7rtlrfe1k/" target="_blank">https://alili.tech/archive/0q7rtlrfe1k/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>