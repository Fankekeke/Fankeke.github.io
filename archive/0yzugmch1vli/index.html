<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React单元测试：Jest &#43; Enzyme（一）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React单元测试：Jest &#43; Enzyme（一） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/0yzugmch1vli/",
				"appid": "1613049289050283", 
				"title": "React单元测试：Jest &#43; Enzyme（一） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/wulult6nif/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/nik5d4hf5o/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&text=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&text=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&title=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&is_video=false&description=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&title=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&title=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&title=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0yzugmch1vli%2f&title=React%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%ef%bc%9aJest%20%2b%20Enzyme%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React单元测试：Jest &#43; Enzyme（一）</h1><div class="meta"><div class="postdate"><time datetime="2018-12-29" itemprop="datePublished">2018-12-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2\x3e前言\x3c\/h2\x3e\n\x3cp\x3e前端的单元测试在很多人看来都是一个可有可无的东西，理由一般有下面几条（以下内容统一称单元测试为单测）：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e写单测比较费时，有这个时间不如多做几个需求\x3c\/li\x3e\n\x3cli\x3e测试在验收的时候对页面的功能都会操作一遍，写单测相当于做无用功\x3c\/li\x3e\n\x3cli\x3e后端提供给前端的接口需要保证质量，因此需要做单测，但前端很少需要提供接口给其他人\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e其实，我大体上是同意以上观点的。在大部分的情况下，如果公司的业务不复杂，是完全没必要做单测的。但如果涉及到以下几个方面，你就要考虑是否有必要引入单测了：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e业务比较复杂，前端参与的人员超过3人\x3c\/li\x3e\n\x3cli\x3e公司非常注重代码质量，想尽一切办法杜绝线上出bug\x3c\/li\x3e\n\x3cli\x3e你是跨项目组件的提供方\x3c\/li\x3e\n\x3cli\x3e你在做一个开源项目\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2\x3eReact项目如何做单测\x3c\/h2\x3e\n\x3cp\x3e目前比较流行的React单测组合是Jest\x2bEnzyme，下面我们先对它们做一个简单的了解。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/facebook.github.io\/jest\/\x22 rel=\x22nofollow noreferrer\x22\x3eJest\x3c\/a\x3e是Facebook开发的一个测试框架，它集成了测试执行器、断言库、spy、mock、snapshot和测试覆盖率报告等功能。React项目本身也是使用Jest进行单测的，因此它们俩的契合度相当高。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/airbnb.io\/enzyme\/\x22 rel=\x22nofollow noreferrer\x22\x3eEnzyme\x3c\/a\x3e是由airbnb开发的React单测工具。它扩展了React的TestUtils并通过支持类似jQuery的find语法可以很方便的对render出来的结果做各种断言。\x3c\/p\x3e\n\x3cp\x3e这将会是一个系列教程，作为教程的第一篇，我们先定一个小目标：将Jest应用到已有的React项目中并跑一个简单的单测（假设打包工具为webpack）。\x3c\/p\x3e\n\x3ch2\x3eJest的安装与配置\x3c\/h2\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3enpm install --save-dev jest jest-cli babel-jest\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中，babel-jest的作用是让单测代码支持ES6。安装完后，在项目的根目录新建__jest__文件夹和__tests__文件夹，此时__mocks__文件夹我们暂时不管，如下图所示：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWhvI?w=340\x26amp;h=196\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWhvI?w=340\x26amp;h=196\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3emudules文件夹将存放各个模块的单测代码，而utils文件夹里面是对一些公用的函数写的测试代码。\x3c\/p\x3e\n\x3cp\x3e由于我的项目使用webpack作为打包工具，于是我在package.json里面做了以下的配置：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\x22jest\x22: {\n    \x22moduleFileExtensions\x22: [\n      \x22js\x22,\n      \x22jsx\x22\n    ],\n    \x22moduleDirectories\x22: [\n      \x22node_modules\x22\n    ],\n    \x22moduleNameMapper\x22: {\n      \x22\\\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$\x22: \x22\x26lt;rootDir\x26gt;\/__jest__\/__mocks__\/fileMock.js\x22,\n      \x22\\\\.(css|scss)$\x22: \x22identity-obj-proxy\x22,\n      \x22^cpn(.*)$\x22: \x22\x26lt;rootDir\x26gt;\/src\/components$1\x22\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3emoduleFileExtensions对应webpack中的extensions；moduleDirectories对应webpack中的modulesDirectories；moduleNameMapper对应webpack中的alias。这里的\x26lt;rootDir\x26gt;对应我们项目的根目录。\x3c\/p\x3e\n\x3cp\x3e对于多媒体文件(jpg\/png等)，我们可以简单的手动mock一下：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e\/\/ \x26lt;rootDir\x26gt;\/__jest__\/__mocks__\/fileMock.js\nmodule.exports = \x27test-file-stub\x27;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于css和scss文件，我们使用\x3ca href=\x22https:\/\/github.com\/keyanzhang\/identity-obj-proxy\x22 rel=\x22nofollow noreferrer\x22\x3eidentity-obj-proxy\x3c\/a\x3e来mock，它会在引用到class的地方直接返回class的类名：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3enpm install --save-dev identity-obj-proxy\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e剩下的只是对一些简写路径的配置。\x3c\/p\x3e\n\x3cp\x3e更详细的说明可以看\x3ca href=\x22https:\/\/facebook.github.io\/jest\/docs\/en\/webpack.html\x22 rel=\x22nofollow noreferrer\x22\x3e这里\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e至此，Jest已经安装配置完毕。为了验证安装配置是否成功，我们写一个简单的测试代码：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3eimport {add} from \x27common\/utils\/math.js\x27\n\ntest(\x27adds 1 \x2b 2 to equal 3\x27, () =\x26gt; {\n    expect(add(1, 2)).toBe(3);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同时，在package.json文件中，加入以下script：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22javascript\x22\x3e  \x22scripts\x22: {\n    \x22test\x22: \x22jest __jest__\/__tests__\x22\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此时在命令行输入npm run test，出现以下结果，说明Jes安装成功并通过第一个测试\x3cspan class=\x22emoji emoji-clap\x22\x3e\x3c\/span\x3e：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWhwV?w=826\x26amp;h=340\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWhwV?w=826\x26amp;h=340\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2\x3e总结\x3c\/h2\x3e\n\x3cp\x3e按照上面说的步骤，如果一切顺利，你的第一个单测用例应该成功跑起来了！我们来回顾下我们都做了些什么：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e安装Jest并让其支持ES6语法\x3c\/li\x3e\n\x3cli\x3e新建对应的单测文件夹并新建一个单测文件\x3c\/li\x3e\n\x3cli\x3e针对项目的webpack做相应的Jest配置\x3c\/li\x3e\n\x3cli\x3e配置运行测试脚本\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e万事开头难，你已经踏出万里长征的第一步了！在下一篇文章中，我将会详细介绍如何使用Jest来mock方法和数据，敬请期待。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React单元测试：Jest + Enzyme（一）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011468620">https://segmentfault.com/a/1190000011468620</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/0yzugmch1vli/" target="_blank">https://alili.tech/archive/0yzugmch1vli/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>