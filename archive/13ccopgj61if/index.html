<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何用 js 获取虚拟键盘高度？（适用所有平台）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何用 js 获取虚拟键盘高度？（适用所有平台） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/13ccopgj61if/",
				"appid": "1613049289050283", 
				"title": "如何用 js 获取虚拟键盘高度？（适用所有平台） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-04T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/fgqo3xvc4w7/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/gczbup2wluo/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&text=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&text=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f13ccopgj61if%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%20js%20%e8%8e%b7%e5%8f%96%e8%99%9a%e6%8b%9f%e9%94%ae%e7%9b%98%e9%ab%98%e5%ba%a6%ef%bc%9f%ef%bc%88%e9%80%82%e7%94%a8%e6%89%80%e6%9c%89%e5%b9%b3%e5%8f%b0%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何用 js 获取虚拟键盘高度？（适用所有平台）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-04" itemprop="datePublished">2019-01-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e这是一个存在很久的历史问题了，对于这样一个具有普遍性的问题浏览器偏偏没有给出解决方案，what？没有方案还聊个什么？\x3c\/p\x3e\n\x3cp\x3e别急，别急，接下来我们一起来扒一扒关于软键盘高度和 input 的问题\x3c\/p\x3e\n\x3cp\x3e我们先来看一个短片认识一下这个问题\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVSX7O?w=480\x26amp;h=262\x22 src=\x22https:\/\/static.alili.tech\/img\/bVSX7O?w=480\x26amp;h=262\x22 alt=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 title=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e问题描述：\x3c\/strong\x3e当操作者进行输入操作的时候，弹起的软键盘把原本的输入框遮挡了，导致操作者看不到操作结果\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e以往的解决方案\x3c\/h2\x3e\n\x3cp\x3e以往的解决方案：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e修改网站的页面布局，比如本例中 twitter 尽量把 input 放置在中部以上的位置，从布局上尽量避免此类问题\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在一些指定设备和浏览器中\x3cstrong\x3e异步获取\x3c\/strong\x3e \x3ccode\x3ewindow.innerHeight\x3c\/code\x3e 进行前后对比而得出键盘高度\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e再来看一下另一种常见输入框的页面布局：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVSY6w?w=320\x26amp;h=550\x22 src=\x22https:\/\/static.alili.tech\/img\/bVSY6w?w=320\x26amp;h=550\x22 alt=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 title=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在这个场景里，输入框定位在页面的最底部，当软键盘弹起时整个视图窗口页面向上卷动，到达最底部时停止。恰巧当我们用 h5 来模拟这个效果的时候刚好勉强做到。\x3c\/p\x3e\n\x3cp\x3e这是因为当你首次 fouse 到输入框的时候软键盘弹出，浏览器会使页面会向上滚动，以确保 input 是可见的，该特性和 \x3ccode\x3edocument.body.scrollIntoViewIfNeeded\x3c\/code\x3e 方法是一致的，但是当你 body 的可滚动高度超过窗口高度时还会产生另一个问题：\x3cstrong\x3e固定元素将随页面滚动\x3c\/strong\x3e 如下图\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVS160?w=1024\x26amp;h=768\x22 src=\x22https:\/\/static.alili.tech\/img\/bVS160?w=1024\x26amp;h=768\x22 alt=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 title=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e因此浏览器关心的只是 input 是否被覆盖？实际上是 input 中的光标位置！那么这就解释了为什么输入框在底部的时候刚好勉强完成了，因为 input 在页面的底部时，软键盘弹出势必会遮挡住 input，因而浏览器会向上滚动至输入框可见的位置。\x3c\/p\x3e\n\x3cp\x3e但是如下图的效果这样就无法做到了，因为在输入框的下面还有一行工具栏，也就是说输入框并非在最底部的位置，那么浏览器在滚动到可视位置时只会确保到 input 可见，而对于工具栏是否可见则并不在浏览器的考虑范围内。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVSY6c?w=320\x26amp;h=550\x22 src=\x22https:\/\/static.alili.tech\/img\/bVSY6c?w=320\x26amp;h=550\x22 alt=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 title=\x22js 获取软键盘高度，解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eIOING 的解决方案分析\x3c\/h2\x3e\n\x3cp\x3e综合来看上面两种布局方案的问题，都不能完美解决输入被键盘遮挡和底部 footer 不能被顶起的问题，那是不是就没得法子了？\x3c\/p\x3e\n\x3cp\x3e当然号称可以让 HTML5 表现更接近 Native 的 IOING 引擎一定是有解决方案的\x3c\/p\x3e\n\x3cp\x3e我们先来看一段 input 在 IOING 中的表现\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVS0ie?w=320\x26amp;h=566\x22 src=\x22https:\/\/static.alili.tech\/img\/bVS0ie?w=320\x26amp;h=566\x22 alt=\x22解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 title=\x22解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVS0hx?w=320\x26amp;h=566\x22 src=\x22https:\/\/static.alili.tech\/img\/bVS0hx?w=320\x26amp;h=566\x22 alt=\x22解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 title=\x22解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们可以看到在输入过程中页面通过滚动来始终保持光标位于可视区域的中心位置，因此在这里我们需要提一个知识点：\x3ccode\x3e获取输入光标的实时位置\x3c\/code\x3e，当然这也是一个曲折的过程，在这里我就不扩算话题了，继续来讲原话题\x3c\/p\x3e\n\x3cp\x3e前面说了三个主要的传统解决方案：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e第一个是通过把 input 布局尽量放在页面顶部，显然这个不是我们想要的，否决掉\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e把 input 放在最底部，用来完成 footer 固定的效果，但是要局限页面高度不超过窗口高度，我们可以通过自制滚动控件来解除这个限制，那现在需要解决的技术点就变为实现一个模拟滚动控件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e通过比对软键盘弹出前后的 \x3ccode\x3ewindow.innerHeight\x3c\/code\x3e 的高度差来得到键盘高度，从而根据这个高度来实现底部定位和输入剧中，但是该方法局限于不同设备平台的支持\x3c\/p\x3e\n\x3cp\x3e综上所述我们总结一下我们要解决的思路和步骤\x3c\/p\x3e\n\x3cp\x3e先来看一下下面的图片\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVS0E3?w=1280\x26amp;h=1780\x22 src=\x22https:\/\/static.alili.tech\/img\/bVS0E3?w=1280\x26amp;h=1780\x22 alt=\x22解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 title=\x22解决第三方输入法遮挡底部input及android键盘回落后留白问题\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e当键盘弹出时，\x3ccode\x3e键盘高度\x3c\/code\x3e = \x3ccode\x3e不可见窗口高度\x3c\/code\x3e\x3cbr\x3e这个等式是有条件的，只有当 input 在对底部时该等式才成立 （这是上面讲过的 scrollIntoViewIfNeeded 的原因）\x3c\/p\x3e\n\x3cp\x3e思考：如果我们能让该等式成立，且能够获取不可见位置高度，是否就能得出键盘高度了呢\x3c\/p\x3e\n\x3cp\x3e我们整理好思路一步一步来实现\x3c\/p\x3e\n\x3cp\x3e1.需要将内容放置在虚拟滚动中，在 IOING 像下面这样就可以创建一个虚拟滚动区域了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscroll\x3e\n\x3cscrolling\x3e\n    页面内容\n\x3c\/scrolling\x3e\n\x3c\/scroll\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escroll\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escrolling\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    页面内容\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escrolling\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escroll\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e传统页面可以使用 WebKit 私有属性“\x3ccode\x3e-webkit-overflow-scrolling: touch\x3c\/code\x3e” 来允许独立的滚动区域和触摸回弹，或者使用 iScroll.js 等第三方库来完成，但是需要注意对 iScroll 使用不当可能会造成性能问题\x3c\/p\x3e\n\x3cp\x3e2.获取光标位于屏幕中的位置\x3c\/p\x3e\n\x3cp\x3e3.当光标 \x3ccode\x3efouce\x3c\/code\x3e 时，键盘弹起，若 input 被遮挡页面会进行滚动，但滚动量不确定，因此我们可以强制滚动到底端，即键盘完全弹出后主动使窗口向上滚动窗口高度的距离，而实际上窗口只能向上滚动到最底部位置后就不能再向上滚动了，此时获取页面的 \x3ccode\x3etop.scrollY\x3c\/code\x3e 即为实际键盘高度\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e得出公式：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e可视区域的中心位置\x3c\/code\x3e = \x3ccode\x3e键盘高度\x3c\/code\x3e \x2b \x3ccode\x3e(窗口高 - 键盘高度)／2 \x3c\/code\x3e\x3cbr\x3e\x3ccode\x3e应滚动距离\x3c\/code\x3e = \x3ccode\x3e可视区域的中心位置\x3c\/code\x3e - \x3ccode\x3e光标offsetTop\x3c\/code\x3e - \x3ccode\x3e(光标被遮挡 ？键盘高度 ：0)\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e当然实际操作需要更多的细节，\x3cstrong\x3epo 出 IOING 中该部分逻辑实现的源代码:\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ IOING 中部分源代码\n\/\/ dom 为 input 元素\n\/\/ scroll 为滚动容器的 Scroll 对象\n\nfunction scrollTo (y, _y, t, s, r) {\n    r = r == undefined ? 1 : r\n    y = y == undefined ? top.scrollY : y\n    if ( r == 1 ? y \x3e _y : y \x3c _y) return\n    s = s == undefined ? Math.abs((_y - y) \/ t * 17.6) : s\n    rAF(function () {\n        top.scrollTo(0, y \x2b= r*s)\n        scrollTo(y, _y, t, s, r)\n    })\n}\n\nfunction visibility () {\n    if ( this.moving || this.wheeling ) {\n        var top = dom.offset().top\n        var height = dom.offsetHeight\n        var viewTop = keyboardHeight \x2b scrollOffsetTop\n        var viewBottom = factWindowHeight - scrollOffsetBottom\n\n        if ( top \x2b height \x3c= viewTop || top \x3e= viewBottom ) {\n            dom.blur()\n        }\n    }\n}\n\nfunction refreshCursor () {\n    rAF(function () {\n        dom.getSelectionRangeInsert(\x27\x27)\n    })\n}\n\nfunction getScroll () {\n    var scroller = reactScroller || dom.closest(\x27scroll\x27)\n\n    scroll = scroller ? scroller.scrollEvent : null\n\n    if ( type == 1 ) {\n        minScrollY = scroll.minScrollY\n    }\n}\n\nfunction getViewOffset () {\n    \/\/ android : (top.scrollY == 0 ? keyboardHeight : 0)\n    viewOffset = viewCenter - rangeOffset.top - (top.scrollY == 0 ? keyboardHeight : 0) \x2b (that.module.config.sandbox ? keyboardHeight : 0)\n    \n    return viewOffset\n}\n\nfunction keyboardUp (e) {\n    getScroll(1)\n\n    if ( !scroll ) return\n\n    \/\/ refresh cursor \x22{{\x22\n\n        if ( device.os.ios \x26amp;\x26amp; device.os.iosVersion \x3c 12 ) {\n            scroll.on(\x27scroll scrollend\x27, refreshCursor)\n        }\n\n    \/\/ \x22}}\x22\n    \n    if ( normal ) return\n\n    function upend (e) {\n\n        window.keyboard.height = keyboardHeight = top.scrollY || factWindowHeight - top.innerHeight\n\n        \/\/ change minScrollY\n\n        scroll.minScrollY = minScrollY \x2b keyboardHeight\n        scroll.options.minScrollY = scroll.minScrollY\n\n        \/\/ 光标位置\n        \n        rangeOffset = dom.getSelectionRangeOffset()\n\n        \/\/ 可见视图的中心\n\n        viewWrapper = factWindowHeight - keyboardHeight - scrollOffsetTop - scrollOffsetBottom\n        viewCenter = keyboardHeight \x2b viewWrapper \/ 2\n\n        scroll.scrollBy(0, getViewOffset(), 600, null, false)\n\n        \/\/ 滚动到不可见区域时 blur\n        \n        scroll.on(\x27scroll\x27, visibility)\n\n        window.trigger(\x27keyboardup\x27, { \n            height : keyboardHeight \n        })\n\n        if ( reactResize ) {\n            scrollTo(null, 0, 300, null, -1)\n        }\n    }\n\n    setTimeout(function () {\n\n        top.one(\x27scrollend\x27, upend)\n\n        \/\/ no scroll\n        \n        setTimeout(function () {\n            if ( keyboardHeight == 0 ) upend() \n        }, 300)\n\n        \/\/ ``` old\n        \n        var offset = 0\n\n        if ( device.os.mobileSafari \x26amp;\x26amp; device.os.iosVersion \x3c 12 ) {\n            offset = 24 * viewportScale\n        }\n\n        \/\/ scroll to bottom\n\n        scrollTo(null, viewportHeight - offset, 300, null, 1)\n\n    }, 300)\n}\n\nfunction keyboardDown () {\n    getScroll()\n\n    if ( !scroll ) return\n\n    \/\/ ``` old : refresh cursor \x22{{\x22\n\n        if ( device.os.ios \x26amp;\x26amp; device.os.iosVersion \x3c 11 ) {\n            scroll.off(\x27scroll scrollend\x27, refreshCursor)\n        }\n\n    \/\/ \x22}}\x22\n\n    if ( normal ) return\n    if ( keyboardHeight == 0 ) return false\n\n    top.scrollTo(0, 0)\n    scroll.wrapper.scrollTop = 0\n    \n    \/\/ change minScrollY\n\n    scroll.minScrollY = minScrollY\n    scroll.options.minScrollY = minScrollY\n    scroll.off(\x27scroll\x27, visibility)\n    scroll._refresh()\n\n    window.keyboard.height = keyboardHeight = 0\n}\n\nfunction selectionRange (e) {\n    getScroll()\n\n    if ( !scroll ) return\n\n    \/\/ 非箭头按键取消\n    \n    if ( e.type == \x27keyup\x27 \x26amp;\x26amp; ![8, 13, 37, 38, 39, 40].consistOf(e.keyCode) ) return\n\n    \/\/ 重置光标位置\n\n    if ( reactOffset ) {\n        rangeOffset = dom.getSelectionRangeOffset()\n    } else if ( reactPosition ) {\n        rangeOffset = dom.getSelectionRangePosition()\n    }\n\n    if ( reactOrigin \x26amp;\x26amp; rangeOffset ) {\n        rangeOffset.each(function (i, v) {\n            scope.setValueOfHref(reactOrigin \x2b \x27.\x27 \x2b i, v)\n        })\n    }\n\n    if ( normal ) return\n\n    \/\/ 光标居中\n\n    if ( e.type == \x27input\x27 \x26amp;\x26amp; e.timeStamp - timeStamp \x3c 2000 ) return\n    if ( !scroll || !viewCenter ) return\n    if ( !reactOffset ) {\n        rangeOffset = dom.getSelectionRangeOffset()\n    }\n\n    timeStamp = e.timeStamp\n\n    scroll.scrollBy(0, getViewOffset(), 400, null, false)\n}\n\ndom.on(\x27click\x27, checkChange)\ndom.on(\x27focus\x27, keyboardUp)\ndom.on(\x27blur\x27, keyboardDown)\ndom.on(\x27focus keyup input paste mouseup\x27, selectionRange)\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ IOING 中部分源代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ dom 为 input 元素\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ scroll 为滚动容器的 Scroll 对象\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3escrollTo\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ey, _y, t, s, r\x3c\/span\x3e) \x3c\/span\x3e{\n    r = r == \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e ? \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e : r\n    y = y == \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e ? top.scrollY : y\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( r == \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e ? y \x26gt; _y : y \x26lt; _y) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n    s = s == \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e ? \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.abs((_y - y) \/ t * \x3cspan class=\x22hljs-number\x22\x3e17.6\x3c\/span\x3e) : s\n    rAF(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        top.scrollTo(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, y \x2b= r*s)\n        scrollTo(y, _y, t, s, r)\n    })\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3evisibility\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.moving || \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.wheeling ) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e top = dom.offset().top\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e height = dom.offsetHeight\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e viewTop = keyboardHeight \x2b scrollOffsetTop\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e viewBottom = factWindowHeight - scrollOffsetBottom\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( top \x2b height \x26lt;= viewTop || top \x26gt;= viewBottom ) {\n            dom.blur()\n        }\n    }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erefreshCursor\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    rAF(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        dom.getSelectionRangeInsert(\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e)\n    })\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetScroll\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e scroller = reactScroller || dom.closest(\x3cspan class=\x22hljs-string\x22\x3e\x27scroll\x27\x3c\/span\x3e)\n\n    scroll = scroller ? scroller.scrollEvent : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( type == \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e ) {\n        minScrollY = scroll.minScrollY\n    }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetViewOffset\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ android : (top.scrollY == 0 ? keyboardHeight : 0)\x3c\/span\x3e\n    viewOffset = viewCenter - rangeOffset.top - (top.scrollY == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ? keyboardHeight : \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x2b (that.module.config.sandbox ? keyboardHeight : \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e viewOffset\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ekeyboardUp\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n    getScroll(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( !scroll ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ refresh cursor \x22{{\x22\x3c\/span\x3e\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( device.os.ios \x26amp;\x26amp; device.os.iosVersion \x26lt; \x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e ) {\n            scroll.on(\x3cspan class=\x22hljs-string\x22\x3e\x27scroll scrollend\x27\x3c\/span\x3e, refreshCursor)\n        }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22}}\x22\x3c\/span\x3e\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( normal ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eupend\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.keyboard.height = keyboardHeight = top.scrollY || factWindowHeight - top.innerHeight\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ change minScrollY\x3c\/span\x3e\n\n        scroll.minScrollY = minScrollY \x2b keyboardHeight\n        scroll.options.minScrollY = scroll.minScrollY\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 光标位置\x3c\/span\x3e\n        \n        rangeOffset = dom.getSelectionRangeOffset()\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可见视图的中心\x3c\/span\x3e\n\n        viewWrapper = factWindowHeight - keyboardHeight - scrollOffsetTop - scrollOffsetBottom\n        viewCenter = keyboardHeight \x2b viewWrapper \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\n        scroll.scrollBy(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, getViewOffset(), \x3cspan class=\x22hljs-number\x22\x3e600\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e)\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 滚动到不可见区域时 blur\x3c\/span\x3e\n        \n        scroll.on(\x3cspan class=\x22hljs-string\x22\x3e\x27scroll\x27\x3c\/span\x3e, visibility)\n\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27keyboardup\x27\x3c\/span\x3e, { \n            \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e : keyboardHeight \n        })\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( reactResize ) {\n            scrollTo(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)\n        }\n    }\n\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n        top.one(\x3cspan class=\x22hljs-string\x22\x3e\x27scrollend\x27\x3c\/span\x3e, upend)\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ no scroll\x3c\/span\x3e\n        \n        setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( keyboardHeight == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ) upend() \n        }, \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e)\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ``` old\x3c\/span\x3e\n        \n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e offset = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( device.os.mobileSafari \x26amp;\x26amp; device.os.iosVersion \x26lt; \x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e ) {\n            offset = \x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e * viewportScale\n        }\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ scroll to bottom\x3c\/span\x3e\n\n        scrollTo(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, viewportHeight - offset, \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n\n    }, \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ekeyboardDown\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    getScroll()\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( !scroll ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ``` old : refresh cursor \x22{{\x22\x3c\/span\x3e\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( device.os.ios \x26amp;\x26amp; device.os.iosVersion \x26lt; \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e ) {\n            scroll.off(\x3cspan class=\x22hljs-string\x22\x3e\x27scroll scrollend\x27\x3c\/span\x3e, refreshCursor)\n        }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22}}\x22\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( normal ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( keyboardHeight == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n\n    top.scrollTo(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)\n    scroll.wrapper.scrollTop = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ change minScrollY\x3c\/span\x3e\n\n    scroll.minScrollY = minScrollY\n    scroll.options.minScrollY = minScrollY\n    scroll.off(\x3cspan class=\x22hljs-string\x22\x3e\x27scroll\x27\x3c\/span\x3e, visibility)\n    scroll._refresh()\n\n    \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.keyboard.height = keyboardHeight = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eselectionRange\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n    getScroll()\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( !scroll ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 非箭头按键取消\x3c\/span\x3e\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( e.type == \x3cspan class=\x22hljs-string\x22\x3e\x27keyup\x27\x3c\/span\x3e \x26amp;\x26amp; ![\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e37\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e38\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e39\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e].consistOf(e.keyCode) ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 重置光标位置\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( reactOffset ) {\n        rangeOffset = dom.getSelectionRangeOffset()\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( reactPosition ) {\n        rangeOffset = dom.getSelectionRangePosition()\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( reactOrigin \x26amp;\x26amp; rangeOffset ) {\n        rangeOffset.each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ei, v\x3c\/span\x3e) \x3c\/span\x3e{\n            scope.setValueOfHref(reactOrigin \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27.\x27\x3c\/span\x3e \x2b i, v)\n        })\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( normal ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 光标居中\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( e.type == \x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e \x26amp;\x26amp; e.timeStamp - timeStamp \x26lt; \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( !scroll || !viewCenter ) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( !reactOffset ) {\n        rangeOffset = dom.getSelectionRangeOffset()\n    }\n\n    timeStamp = e.timeStamp\n\n    scroll.scrollBy(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, getViewOffset(), \x3cspan class=\x22hljs-number\x22\x3e400\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e)\n}\n\ndom.on(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, checkChange)\ndom.on(\x3cspan class=\x22hljs-string\x22\x3e\x27focus\x27\x3c\/span\x3e, keyboardUp)\ndom.on(\x3cspan class=\x22hljs-string\x22\x3e\x27blur\x27\x3c\/span\x3e, keyboardDown)\ndom.on(\x3cspan class=\x22hljs-string\x22\x3e\x27focus keyup input paste mouseup\x27\x3c\/span\x3e, selectionRange)\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其它的小细节和注意事项：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3esafari 会受到浏览器底部导航栏的影响，会产生20多像素误差，需要针对考虑\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3esafari 中的 input 光标在执行 \x3ccode\x3etransform 3d\x3c\/code\x3e变换的时候会出现光标停滞的现象，需要执行光标刷新操作\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当 input 被操作者主动滑出可视区域外时应处罚键盘收起操作，否则在输入时 \x3ccode\x3escrollIntoViewIfNeeded\x3c\/code\x3e 效应将导致窗口滚动出现空白的问题\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e最后总结：\x3c\/p\x3e\n\x3cp\x3e获取键盘高度只是我们的表象，真正解决 html5 带来的各种问题才是我们的研究课题，也只有扫清这些布局杀手 h5 才能在追赶 Native 的道路上更近一步！\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e结尾\x3c\/h2\x3e\n\x3cp\x3e最后的最后我来 po 一下在 IOING 中完成这一步我们需要做什么？\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cinput placeholder=写点啥\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eplaceholder\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e写点啥\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就是这么简单，IOING 中 input 默认就能拥有自动居中特性\x3c\/p\x3e\n\x3cp\x3e如果你要取消这个特性，就像下面这样写\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cinput nomal placeholder=写点啥\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3enomal\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eplaceholder\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e写点啥\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然也可以设置居中相对底部／相对于顶部的偏移位置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cinput scroll-offset-top=50 placeholder=写点啥\x3e\n\x3cinput scroll-offset-bottom=50 placeholder=写点啥\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3escroll-offset-top\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e50\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eplaceholder\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e写点啥\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3escroll-offset-bottom\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e50\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eplaceholder\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e写点啥\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在输入过程中能够实时输出光标位置，且将位置信息赋值给数据源对象\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctextarea react-position=\x26quot;test.range\x26quot; resize=\x26quot;none\x26quot;\x3e\x3c\/textarea\x3e\n\x3cp\x3e当前光标位置：left: {test.range.left}, top: {test.range.top}\x3c\/p\x3e\n\x3c!-- test.range 为一个数据源对象 --\x3e\n\x3c!-- react-position 指令将把该输入框的光标状态传递给 test.range 对象  --\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etextarea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ereact-position\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22test.range\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eresize\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22none\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etextarea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e当前光标位置：left: {test.range.left}, top: {test.range.top}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- test.range 为一个数据源对象 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- react-position 指令将把该输入框的光标状态传递给 test.range 对象  --\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用js 获取键盘高度的方法\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/键盘弹起时为键盘高度，未弹起时为0\nconsole.log(window.keyboard.height)\n\/\/ 通过键盘弹起事件获取\nwindow.on(\x27keyboardup\x27, function (e) {\n    console.log(e.height)\n})\n\/\/ 键盘收起事件\nwindow.on(\x27keyboarddown\x27, function (e) {\n    console.log(e.height) \/\/ 0\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/键盘弹起时为键盘高度，未弹起时为0\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.keyboard.height)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过键盘弹起事件获取\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.on(\x3cspan class=\x22hljs-string\x22\x3e\x27keyboardup\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(e.height)\n})\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 键盘收起事件\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.on(\x3cspan class=\x22hljs-string\x22\x3e\x27keyboarddown\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(e.height) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 0\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e详细文档传送门：\x3ca href=\x22http:\/\/ioing.com\/#docs-dom-input\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22http:\/\/ioing.com\/#docs-dom-input\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/ioing.com\/#docs-dom-input\x3c\/a\x3e\x3cbr\x3eGitHub 传送门：\x3ca href=\x22https:\/\/github.com\/ioing\/IOING\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22https:\/\/github.com\/ioing\/IOING\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/ioing\/IOING\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>如何用 js 获取虚拟键盘高度？（适用所有平台）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010693229">https://segmentfault.com/a/1190000010693229</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/13ccopgj61if/" target="_blank">https://alili.tech/archive/13ccopgj61if/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>