<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="javascript 前缀Trie"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>javascript 前缀Trie | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/1ikf3jh0hjn/",
				"appid": "1613049289050283", 
				"title": "javascript 前缀Trie | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-16T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/qc6es9sosmm/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/50b2gs66eay/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&text=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&text=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&title=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&is_video=false&description=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=javascript%20%e5%89%8d%e7%bc%80Trie&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&title=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&title=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&title=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f1ikf3jh0hjn%2f&title=javascript%20%e5%89%8d%e7%bc%80Trie"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">javascript 前缀Trie</h1><div class="meta"><div class="postdate"><time datetime="2018-12-16" itemprop="datePublished">2018-12-16</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e引子\x3c\/h2\x3e\n\x3cp\x3e前缀Trie, 又叫字符Tire, trie来自单词retrieval, 一开始念作tree，后来改念try， 毕竟它与树是不一样的东西。网上许多文章都搞混了trie与树。 trie是通过”边“来储存字符的一种树状结构，所谓边就是节点与节点间的连接。trie每条边只能存放一个字符。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV2MZW?w=388\x26amp;h=325\x22 src=\x22https:\/\/static.alili.tech\/img\/bV2MZW?w=388\x26amp;h=325\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e它与hash树很相似，或者说它是哈希树的变种，哈希树是用边来存放一个整数（可以是一位数或两位数）。前树Tire与哈希树都是多叉树，换言之，父节点有N个子节点。\x3c\/p\x3e\n\x3cp\x3e前缀Tire主要用于字符串的快速检索，查询效率比哈希表高。\x3c\/p\x3e\n\x3cp\x3e前缀Trie的核心思想是空间换时间。利用字符串的公共前缀来降低查询时间的开销以达到提高效率的目的。\x3c\/p\x3e\n\x3cp\x3e前缀Trie树也有它的缺点, 假定我们只对字母与数字进行处理，那么每个节点至少有52＋10个子节点。为了节省内存，我们可以用链表或数组。在JS中我们直接用数组，因为JS的数组是动态的，自带优化。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e基本性质\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e根节点不包含字符，除根节点外的每一个子节点都包含一个字符\x3c\/li\x3e\n\x3cli\x3e从根节点到某一节点。路径上经过的字符连接起来，就是该节点对应的字符串\x3c\/li\x3e\n\x3cli\x3e每个节点的所有子节点包含的字符都不相同\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e程序实现\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ by 司徒正美\nclass Trie {\n  constructor() {\n    this.root = new TrieNode();\n  }\n  isValid(str) {\n    return \/^[a-z1-9]\x2b$\/i.test(str);\n  }\n  insert(word) {\n    \/\/ addWord\n    if (this.isValid(word)) {\n      var cur = this.root;\n      for (var i = 0; i \x3c word.length; i\x2b\x2b) {\n        var c = word.charCodeAt(i);\n        c -= 48; \/\/减少”0“的charCode\n        var node = cur.edges[c];\n        if (node == null) {\n          var node = (cur.edges[c] = new TrieNode());\n          node.value = word.charAt(i);\n          node.numPass = 1; \/\/有N个字符串经过它\n        } else {\n          node.numPass\x2b\x2b;\n        }\n        cur = node;\n      }\n      cur.isEnd = true; \/\/樯记有字符串到此节点已经结束\n      cur.numEnd\x2b\x2b; \/\/这个字符串重复次数\n\n      return true;\n    } else {\n      return false;\n    }\n  }\n  remove(word){\n      if (this.isValid(word)) {\n          var cur = this.root;\n          var array = [], n = word.length\n          for (var i = 0; i \x3c n; i\x2b\x2b) {\n              var c = word.charCodeAt(i);\n              c = this.getIndex(c)\n              var node = cur.edges[c];\n              if(node){\n                  array.push(node)\n                  cur = node\n              }else{\n                  return false\n              }\n  \n          }\n          if(array.length === n){\n              array.forEach(function(){\n                  el.numPass--\n              })\n              cur.numEnd --\n              if( cur.numEnd == 0){\n                  cur.isEnd = false\n              } \n          }\n      }else{\n          return false\n      }\n  }\n  preTraversal(cb){\/\/先序遍历\n        function preTraversalImpl(root, str, cb){  \n            cb(root, str);\n            for(let i = 0,n = root.edges.length; i \x3c n; i \x2b\x2b){\n                let node = root.edges[i];\n                if(node){\n                    preTraversalImpl(node, str \x2b node.value, cb);\n                }\n            }\n        }  \n        preTraversalImpl(this.root, \x26quot;\x26quot;, cb);\n   }\n  \/\/ 在字典树中查找是否存在某字符串为前缀开头的字符串(包括前缀字符串本身)\n  isContainPrefix(word) {\n    if (this.isValid(word)) {\n      var cur = this.root;\n      for (var i = 0; i \x3c word.length; i\x2b\x2b) {\n        var c = word.charCodeAt(i);\n        c -= 48; \/\/减少”0“的charCode\n        if (cur.edges[c]) {\n          cur = cur.edges[c];\n        } else {\n          return false;\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n  isContainWord(str) {\n    \/\/ 在字典树中查找是否存在某字符串(不为前缀)\n    if (this.isValid(word)) {\n      var cur = this.root;\n      for (var i = 0; i \x3c word.length; i\x2b\x2b) {\n        var c = word.charCodeAt(i);\n        c -= 48; \/\/减少”0“的charCode\n        if (cur.edges[c]) {\n          cur = cur.edges[c];\n        } else {\n          return false;\n        }\n      }\n      return cur.isEnd;\n    } else {\n      return false;\n    }\n  }\n  countPrefix(word) {\n    \/\/ 统计以指定字符串为前缀的字符串数量\n    if (this.isValid(word)) {\n      var cur = this.root;\n      for (var i = 0; i \x3c word.length; i\x2b\x2b) {\n        var c = word.charCodeAt(i);\n        c -= 48; \/\/减少”0“的charCode\n        if (cur.edges[c]) {\n          cur = cur.edges[c];\n        } else {\n          return 0;\n        }\n      }\n      return cur.numPass;\n    } else {\n      return 0;\n    }\n  }\n  countWord(word) {\n    \/\/ 统计某字符串出现的次数方法\n    if (this.isValid(word)) {\n      var cur = this.root;\n      for (var i = 0; i \x3c word.length; i\x2b\x2b) {\n        var c = word.charCodeAt(i);\n        c -= 48; \/\/减少”0“的charCode\n        if (cur.edges[c]) {\n          cur = cur.edges[c];\n        } else {\n          return 0;\n        }\n      }\n      return cur.numEnd;\n    } else {\n      return 0;\n    }\n  }\n}\n\nclass TrieNode {\n  constructor() {\n    this.numPass = 0;\/\/有多少个单词经过这节点\n    this.numEnd = 0; \/\/有多少个单词就此结束\n    this.edges = [];\n    this.value = \x26quot;\x26quot;; \/\/value为单个字符\n    this.isEnd = false;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ by 司徒正美\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTrie\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root = new TrieNode();\n  }\n  isValid(str) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \/^[a-z1\x3cspan class=\x22hljs-number\x22\x3e-9\x3c\/span\x3e]\x2b$\/i.test(str);\n  }\n  insert(word) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ addWord\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isValid(word)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cur = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root;\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; word.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = word.charCodeAt(i);\n        c -= \x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/减少”0“的charCode\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e node = cur.edges[c];\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node == \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) {\n          \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e node = (cur.edges[c] = new TrieNode());\n          node.value = word.charAt(i);\n          node.numPass = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/有N个字符串经过它\x3c\/span\x3e\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n          node.numPass\x2b\x2b;\n        }\n        cur = node;\n      }\n      cur.isEnd = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/樯记有字符串到此节点已经结束\x3c\/span\x3e\n      cur.numEnd\x2b\x2b; \x3cspan class=\x22hljs-comment\x22\x3e\/\/这个字符串重复次数\x3c\/span\x3e\n\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    }\n  }\n  remove(word){\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isValid(word)) {\n          \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cur = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root;\n          \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e array = [], n = word.length\n          \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; n; i\x2b\x2b) {\n              \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = word.charCodeAt(i);\n              c = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getIndex(c)\n              \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e node = cur.edges[c];\n              \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(node){\n                  array.push(node)\n                  cur = node\n              }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n              }\n  \n          }\n          \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(array.length === n){\n              array.forEach(function(){\n                  el.numPass--\n              })\n              cur.numEnd --\n              \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e( cur.numEnd == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n                  cur.isEnd = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n              } \n          }\n      }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n      }\n  }\n  preTraversal(cb){\x3cspan class=\x22hljs-comment\x22\x3e\/\/先序遍历\x3c\/span\x3e\n        function preTraversalImpl(root, str, cb){  \n            cb(root, str);\n            \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(let i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,n = root.edges.length; i \x26lt; n; i \x2b\x2b){\n                let node = root.edges[i];\n                \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(node){\n                    preTraversalImpl(node, str \x2b node.value, cb);\n                }\n            }\n        }  \n        preTraversalImpl(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root, \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e, cb);\n   }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在字典树中查找是否存在某字符串为前缀开头的字符串(包括前缀字符串本身)\x3c\/span\x3e\n  isContainPrefix(word) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isValid(word)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cur = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root;\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; word.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = word.charCodeAt(i);\n        c -= \x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/减少”0“的charCode\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (cur.edges[c]) {\n          cur = cur.edges[c];\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n        }\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    }\n  }\n  isContainWord(str) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在字典树中查找是否存在某字符串(不为前缀)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isValid(word)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cur = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root;\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; word.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = word.charCodeAt(i);\n        c -= \x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/减少”0“的charCode\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (cur.edges[c]) {\n          cur = cur.edges[c];\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n        }\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e cur.isEnd;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    }\n  }\n  countPrefix(word) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 统计以指定字符串为前缀的字符串数量\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isValid(word)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cur = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root;\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; word.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = word.charCodeAt(i);\n        c -= \x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/减少”0“的charCode\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (cur.edges[c]) {\n          cur = cur.edges[c];\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e cur.numPass;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    }\n  }\n  countWord(word) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 统计某字符串出现的次数方法\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isValid(word)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cur = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.root;\n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; word.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = word.charCodeAt(i);\n        c -= \x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/减少”0“的charCode\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (cur.edges[c]) {\n          cur = cur.edges[c];\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e cur.numEnd;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    }\n  }\n}\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTrieNode\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.numPass = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/有多少个单词经过这节点\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.numEnd = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/有多少个单词就此结束\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.edges = [];\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.value = \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/value为单个字符\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isEnd = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们重点看一下TrieNode与Trie的insert方法。 由于字典树是主要用在词频统计，因此它的节点属性比较多, 包含了numPass, numEnd但非常重要的属性。\x3c\/p\x3e\n\x3cp\x3einsert方法是用于插入重词，在开始之前，我们必须判定单词是否合法，不能出现 特殊字符与空白。在插入时是打散了一个个字符放入每个节点中。每经过一个节点都要修改numPass。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e优化\x3c\/h2\x3e\n\x3cp\x3e现在我们每个方法中，都有一个\x3ccode\x3ec=-48\x3c\/code\x3e的操作，其实数字与大写字母与小写字母间其实还有其他字符的，这样会造成无谓的空间的浪费\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ by 司徒正美\ngetIndex(c){\n      if(c \x3c 58){\/\/48-57\n          return c - 48\n      }else if(c \x3c 91){\/\/65-90\n          return c - 65 \x2b 11\n      }else {\/\/\x3e 97 \n          return c - 97 \x2b 26\x2b 11\n      }\n  }\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs swift\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ by 司徒正美\x3c\/span\x3e\ngetIndex(\x3cspan class=\x22hljs-built_in\x22\x3ec\x3c\/span\x3e){\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3ec\x3c\/span\x3e \x26lt; \x3cspan class=\x22hljs-number\x22\x3e58\x3c\/span\x3e){\x3cspan class=\x22hljs-comment\x22\x3e\/\/48-57\x3c\/span\x3e\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ec\x3c\/span\x3e - \x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e\n      }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3ec\x3c\/span\x3e \x26lt; \x3cspan class=\x22hljs-number\x22\x3e91\x3c\/span\x3e){\x3cspan class=\x22hljs-comment\x22\x3e\/\/65-90\x3c\/span\x3e\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ec\x3c\/span\x3e - \x3cspan class=\x22hljs-number\x22\x3e65\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e\n      }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26gt; 97 \x3c\/span\x3e\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ec\x3c\/span\x3e - \x3cspan class=\x22hljs-number\x22\x3e97\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e26\x3c\/span\x3e\x2b \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e\n      }\n  }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后相关方法将\x3ccode\x3ec-= 48\x3c\/code\x3e改成\x3ccode\x3ec = this.getIndex(c)\x3c\/code\x3e即可\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e测试\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var trie = new Trie();  \n    trie.insert(\x26quot;I\x26quot;);  \n    trie.insert(\x26quot;Love\x26quot;);  \n    trie.insert(\x26quot;China\x26quot;);  \n    trie.insert(\x26quot;China\x26quot;);  \n    trie.insert(\x26quot;China\x26quot;);  \n    trie.insert(\x26quot;China\x26quot;);  \n    trie.insert(\x26quot;China\x26quot;);  \n    trie.insert(\x26quot;xiaoliang\x26quot;);  \n    trie.insert(\x26quot;xiaoliang\x26quot;);  \n    trie.insert(\x26quot;man\x26quot;);  \n    trie.insert(\x26quot;handsome\x26quot;);  \n    trie.insert(\x26quot;love\x26quot;);  \n    trie.insert(\x26quot;Chinaha\x26quot;);  \n    trie.insert(\x26quot;her\x26quot;);  \n    trie.insert(\x26quot;know\x26quot;);  \n    var map = {}\n    trie.preTraversal(function(node, str){\n       if(node.isEnd){\n          map[str] = node.numEnd\n       }\n    })\n    for(var i in map){\n        console.log(i\x2b\x26quot; 出现了\x26quot;\x2b map[i]\x2b\x26quot; 次\x26quot;)\n    }\n    console.log(\x26quot;包含Chin（包括本身）前缀的单词及出现次数：\x26quot;);  \n    \/\/console.log(\x26quot;China\x26quot;)\n    var map = {}\n    trie.preTraversal(function(node, str){\n        if(str.indexOf(\x26quot;Chin\x26quot;) === 0 \x26amp;\x26amp; node.isEnd){\n           map[str] = node.numEnd\n        }\n     })\n    for(var i in map){\n        console.log(i\x2b\x26quot; 出现了\x26quot;\x2b map[i]\x2b\x26quot; 次\x26quot;)\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3evar trie = new Trie();  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22I\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Love\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22China\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22China\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22China\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22China\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22China\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22xiaoliang\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22xiaoliang\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22man\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22handsome\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22love\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Chinaha\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22her\x22\x3c\/span\x3e);  \n    trie.\x3cspan class=\x22hljs-keyword\x22\x3einsert\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22know\x22\x3c\/span\x3e);  \n    var \x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e = {}\n    trie.preTraversal(\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(node, str){\n       if(node.isEnd){\n          map[str] = node.numEnd\n       }\n    })\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e){\n        console.log(i\x2b\x3cspan class=\x22hljs-string\x22\x3e\x22 出现了\x22\x3c\/span\x3e\x2b map[i]\x2b\x3cspan class=\x22hljs-string\x22\x3e\x22 次\x22\x3c\/span\x3e)\n    }\n    console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22包含Chin（包括本身）前缀的单词及出现次数：\x22\x3c\/span\x3e);  \n    \/\/console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22China\x22\x3c\/span\x3e)\n    var \x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e = {}\n    trie.preTraversal(\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(node, str){\n        if(str.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x22Chin\x22\x3c\/span\x3e) === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x26amp;\x26amp; node.isEnd){\n           map[str] = node.numEnd\n        }\n     })\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e){\n        console.log(i\x2b\x3cspan class=\x22hljs-string\x22\x3e\x22 出现了\x22\x3c\/span\x3e\x2b map[i]\x2b\x3cspan class=\x22hljs-string\x22\x3e\x22 次\x22\x3c\/span\x3e)\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV2MWK?w=662\x26amp;h=688\x22 src=\x22https:\/\/static.alili.tech\/img\/bV2MWK?w=662\x26amp;h=688\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e前缀Trie和其它数据结构的比较\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e前缀Trie与二叉搜索树\x3c\/h3\x3e\n\x3cp\x3e二叉搜索树应该是我们最早接触的树结构了，我们知道，数据规模为n时，二叉搜索树插入、查找、删除操作的时间复杂度通常只有O(log n)，最坏情况下整棵树所有的节点都只有一个子节点，退变成一个线性表，此时插入、查找、删除操作的时间复杂度是O(n)。\x3c\/p\x3e\n\x3cp\x3e通常情况下，前缀Trie的高度n要远大于搜索字符串的长度m，故查找操作的时间复杂度通常为O(m)，最坏情况下的时间复杂度才为O(n)。很容易看出，前缀Trie最坏情况下的查找也快过二叉搜索树。\x3c\/p\x3e\n\x3cp\x3e文中前缀Trie都是拿字符串举例的，其实它本身对key的适宜性是有严格要求的，如果key是浮点数的话，就可能导致整个前缀Trie巨长无比，节点可读性也非常差，这种情况下是不适宜用前缀Trie来保存数据的；而二叉搜索树就不存在这个问题。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e前缀Trie与Hash表\x3c\/h3\x3e\n\x3cp\x3e   考虑一下Hash冲突的问题。Hash表通常我们说它的复杂度是O(1)，其实严格说起来这是接近完美的Hash表的复杂度，另外还需要考虑到hash函数本身需要遍历搜索字符串，复杂度是O(m)。在不同键被映射到“同一个位置”（考虑closed hashing，这“同一个位置”可以由一个普通链表来取代）的时候，需要进行查找的复杂度取决于这“同一个位置”下节点的数目，因此，在最坏情况下，Hash表也是可以成为一张单向链表的。\x3c\/p\x3e\n\x3cp\x3e   前缀Trie可以比较方便地按照key的字母序来排序（整棵树先序遍历一次就好了），这跟绝大多数Hash表是不同的（Hash表一般对于不同的key来说是无序的）。\x3c\/p\x3e\n\x3cp\x3e   在较理想的情况下，Hash表可以以O(1)的速度迅速命中目标，如果这张表非常大，需要放到磁盘上的话，Hash表的查找访问在理想情况下只需要一次即可；但是Trie树访问磁盘的数目需要等于节点深度。\x3c\/p\x3e\n\x3cp\x3e   很多时候前缀Trie比Hash表需要更多的空间，我们考虑这种一个节点存放一个字符的情况的话，在保存一个字符串的时候，没有办法把它保存成一个单独的块。前缀Trie的节点压缩可以明显缓解这个问题，后面会讲到。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e前缀Trie树的改进\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e按位Trie树（Bitwise Trie）\x3c\/h3\x3e\n\x3cp\x3e原理上和普通Trie树差不多，只不过普通Trie树存储的最小单位是字符，但是Bitwise Trie存放的是位而已。位数据的存取由CPU指令一次直接实现，对于二进制数据，它理论上要比普通Trie树快。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e节点压缩\x3c\/h3\x3e\n\x3cp\x3e分支压缩：将一些连结线与节点进行合并，比如i-n-n可以合并成inn。这种压缩后的Tire被唤作前缀压缩Tire，或直接叫前缀树， 字典树。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV2SCr?w=542\x26amp;h=520\x22 src=\x22https:\/\/static.alili.tech\/img\/bV2SCr?w=542\x26amp;h=520\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e节点映射表：这种方式也是在前缀Trie的节点可能已经几乎完全确定的情况下采用的，针对前缀Trie中节点的每一个状态，如果状态总数重复很多的话，通过一个元素为数字的多维数组（比如Triple Array Trie）来表示，这样存储Trie树本身的空间开销会小一些，虽说引入了一张额外的映射表。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e前缀Trie的应用\x3c\/h2\x3e\n\x3cp\x3e前缀树还是很好理解，它的应用也是非常广的。\x3c\/p\x3e\n\x3cp\x3e（1）字符串的快速检索\x3c\/p\x3e\n\x3cp\x3e字典树的查询时间复杂度是O(logL)，L是字符串的长度。所以效率还是比较高的。字典树的效率比hash表高。\x3c\/p\x3e\n\x3cp\x3e（2）字符串排序\x3c\/p\x3e\n\x3cp\x3e从上图我们很容易看出单词是排序的，先遍历字母序在前面。减少了没必要的公共子串。\x3c\/p\x3e\n\x3cp\x3e（3）最长公共前缀\x3c\/p\x3e\n\x3cp\x3einn和int的最长公共前缀是in，遍历字典树到字母n时，此时这些单词的公共前缀是in。\x3c\/p\x3e\n\x3cp\x3e（4）自动匹配前缀显示后缀\x3c\/p\x3e\n\x3cp\x3e我们使用辞典或者是搜索引擎的时候，输入appl，后面会自动显示一堆前缀是appl的东东吧。那么有可能是通过前缀Trie实现的，前面也说了前缀Trie可以找到公共前缀，我们只需要把剩余的后缀遍历显示出来即可。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e参考链接\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/abcd_d_\/article\/details\/40116485\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/blog.csdn.net\/abcd_d_\/...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/u013949069\/article\/details\/78056102\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/blog.csdn.net\/u0139490...\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>javascript 前缀Trie</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013018855">https://segmentfault.com/a/1190000013018855</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/1ikf3jh0hjn/" target="_blank">https://alili.tech/archive/1ikf3jh0hjn/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>