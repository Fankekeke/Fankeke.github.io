<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何解构单体前端应用——微前端应用的微服务式拆分"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何解构单体前端应用——微前端应用的微服务式拆分 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/1ixz6wvwlfi/",
				"appid": "1613049289050283", 
				"title": "如何解构单体前端应用——微前端应用的微服务式拆分 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-10T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/2qa4smbj1to/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/odxqt0co07/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&text=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&text=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&title=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&title=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&title=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&title=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f1ixz6wvwlfi%2f&title=%e5%a6%82%e4%bd%95%e8%a7%a3%e6%9e%84%e5%8d%95%e4%bd%93%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e2%80%94%e2%80%94%e5%be%ae%e5%89%8d%e7%ab%af%e5%ba%94%e7%94%a8%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%bc%8f%e6%8b%86%e5%88%86"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何解构单体前端应用——微前端应用的微服务式拆分</h1><div class="meta"><div class="postdate"><time datetime="2018-12-10" itemprop="datePublished">2018-12-10</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e刷新页面？路由拆分？No，动态加载组件。\x3c\/blockquote\x3e\n\x3cp\x3e本文分为以下四部分：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e前端微服务化思想介绍\x3c\/li\x3e\n\x3cli\x3e微前端的设计理念\x3c\/li\x3e\n\x3cli\x3e实战微前端架构设计\x3c\/li\x3e\n\x3cli\x3e基于 Mooa 进行前端微服务化\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e前端微服化\x3c\/h2\x3e\n\x3cp\x3e对于前端微服化来说，有这么一些方案：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eWeb Component 显然可以一个很优秀的基础架构。然而，我们并不可能去大量地复写已有的应用。\x3c\/li\x3e\n\x3cli\x3eiFrame。你是说真的吗？\x3c\/li\x3e\n\x3cli\x3e另外一个微前端框架 Single-SPA，显然是一个更好的方式。然而，它并非 Production Ready。\x3c\/li\x3e\n\x3cli\x3e通过路由来切分应用，而这个跳转会影响用户体验。\x3c\/li\x3e\n\x3cli\x3e等等。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e因此，当我们考虑前端微服务化的时候，我们希望：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e独立部署\x3c\/li\x3e\n\x3cli\x3e独立开发\x3c\/li\x3e\n\x3cli\x3e技术无关\x3c\/li\x3e\n\x3cli\x3e不影响用户体验\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e独立开发\x3c\/h3\x3e\n\x3cp\x3e在过去的几星期里，我花费了大量的时间在学习 Single-SPA 的代码。但是，我发现它在开发和部署上真的太麻烦了，完全达不到独立部署地标准。按 Single-SPA 的设计，我需要在入口文件中声名我的应用，然后才能去构建：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22declareChildApplication(\x27inferno\x27, () =\x3e import(\x27src\/inferno\/inferno.app.js\x27), pathPrefix(\x27\/inferno\x27));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3edeclareChildApplication(\x3cspan class=\x22hljs-string\x22\x3e\x27inferno\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27src\/inferno\/inferno.app.js\x27\x3c\/span\x3e), pathPrefix(\x3cspan class=\x22hljs-string\x22\x3e\x27\/inferno\x27\x3c\/span\x3e));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同时，在我的应用里，我还需要去指定我的生命周期。这就意味着，当我开发了一个新的应用时，必须更新两份代码：主工程和应用。这时我们还极可能在同一个源码里工作。 \x3c\/p\x3e\n\x3cp\x3e当出现多个团队的时候，在同一份源码里工作，显然变得相当的不可靠——比如说，对方团队使用的是 Tab，而我们使用的是 2 个空格，隔壁的老王用的是 4 个空格。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e独立部署\x3c\/h3\x3e\n\x3cp\x3e一个单体的前端应用最大的问题是，构建出来的 js、css 文件相当的巨大。而微前端则意味着，这个文件被独立地拆分成多个文件，它们便可以独立去部署应用。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e我们真的需要技术无关吗？\x3c\/h3\x3e\n\x3cp\x3e等等，我们是否真的需要\x3cstrong\x3e技术无关\x3c\/strong\x3e？如果我们不需要技术无关的话，微前端问题就很容易解决了。\x3c\/p\x3e\n\x3cp\x3e事实上，对于大部分的公司和团队来说，技术无关只是一个无关痛痒的话术。当一家公司的几个创始人使用了 Java，那么极有可能在未来的选型上继续使用 Java。除非，一些额外的服务来使用 Python 来实现人工智能。因此，在大部分的情况下，仍然是技术栈唯一。\x3c\/p\x3e\n\x3cp\x3e对于前端项目来说，更是如此：一个部门里基本上只会选用一个框架。\x3c\/p\x3e\n\x3cp\x3e于是，我们选择了 Angular。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e不影响用户体验\x3c\/h3\x3e\n\x3cp\x3e使用路由跳转来进行前端微服务化，是一种很简单、高效的切分方式。然而，路由跳转地过程中，会有一个白屏的过程。在这个过程中，跳转前的应用和将要跳转的应用，都失去了对页面的控制权。如果这个应用出了问题，那么用户就会一脸懵逼。\x3c\/p\x3e\n\x3cp\x3e理想的情况下，它应该可以被控制。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e微前端的设计理念\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e设计理念一：中心化路由\x3c\/h3\x3e\n\x3cp\x3e互联网本质是去中心化的吗？不，DNS 决定了它不是。TAB，决定了它不是。\x3c\/p\x3e\n\x3cp\x3e微服务从本质上来说，它应该是去中心化的。但是，它又不能是完全的去中心化。对于一个微服务来说，它需要一个\x3cstrong\x3e服务注册中心\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cblockquote\x3e服务提供方要注册通告服务地址，服务的调用方要能发现目标服务。\x3c\/blockquote\x3e\n\x3cp\x3e对于一个前端应用来说，这个东西就是路由。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013826703?w=1200\x26amp;h=430\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013826703?w=1200\x26amp;h=430\x22 alt=\x22Menu\x22 title=\x22Menu\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e从页面上来说，只有我们在网页上添加一个菜单链接，用户才能知道某个页面是可以使用的。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013826704?w=768\x26amp;h=512\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013826704?w=768\x26amp;h=512\x22 alt=\x22404\x22 title=\x22404\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e而从代码上来说，那就是我们需要有一个地方来管理我们的应用：**发现存在哪些应用，哪个应用使用哪个路由。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e管理好我们的路由，实际上就是管理好我们的应用\x3c\/strong\x3e。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e设计理念二：标识化应用\x3c\/h3\x3e\n\x3cp\x3e在设计一个微前端框架的时候，为\x3cstrong\x3e每个项目取一个名字的\x3c\/strong\x3e问题纠结了我很久——怎么去规范化这个东西。直到，我再一次想到了康威定律：\x3c\/p\x3e\n\x3cblockquote\x3e系统设计(产品结构等同组织形式，每个设计系统的组织，其产生的设计等同于组织之间的沟通结构。\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013826705?w=700\x26amp;h=682\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013826705?w=700\x26amp;h=682\x22 alt=\x22康威定律\x22 title=\x22康威定律\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e换句人话说，就是同一个组织下，不可能有两个项目的名称是一样的。\x3c\/p\x3e\n\x3cp\x3e所以，这个问题很简单就解决了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e设计理念三：生命周期\x3c\/h3\x3e\n\x3cp\x3eSingle-SPA 设计了一个基本的生命周期（虽然它没有统一管理），它包含了五种状态：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eload，决定加载哪个应用，并绑定生命周期\x3c\/li\x3e\n\x3cli\x3ebootstrap，获取静态资源\x3c\/li\x3e\n\x3cli\x3emount，安装应用，如创建 DOM 节点\x3c\/li\x3e\n\x3cli\x3eunload，删除应用的生命周期\x3c\/li\x3e\n\x3cli\x3eunmount，卸载应用，如删除 DOM 节点\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e于是，我在设计上基本上沿用了这个生命周期。显然，诸如 load 之类对于我的设计是多余的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e设计理念四：独立部署与配置自动化\x3c\/h3\x3e\n\x3cp\x3e从某种意义上来说，整个每系统是围绕着应用配置进行的。如果应用的配置能自动化，那么整个系统就自动化。\x3c\/p\x3e\n\x3cp\x3e当我们只开发一个新的组件，那么我们只需要更新我们的组件，并更新配置即可。而这个配置本身也应该是能自动生成的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e实战微前端架构设计\x3c\/h2\x3e\n\x3cp\x3e基于以上的前提，系统的工作流程如下所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013826706?w=800\x26amp;h=795\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013826706?w=800\x26amp;h=795\x22 alt=\x22系统工作流\x22 title=\x22系统工作流\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e整体的工程流程如下所示：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e主工程在运行的时候，会去服务器获取最新的应用配置。\x3c\/li\x3e\n\x3cli\x3e主工程在获取到配置后，将一一创建应用，并为应用绑定生命周期。\x3c\/li\x3e\n\x3cli\x3e当主工程监测到路由变化的时候，将寻找是否有对应的路由匹配到应用。\x3c\/li\x3e\n\x3cli\x3e当匹配对对应应用时，则加载相应的应用。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e故而，其对应的架构如下图所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013826707\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013826707\x22 alt=\x22Architecture\x22 title=\x22Architecture\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e独立部署与配置自动化\x3c\/h3\x3e\n\x3cp\x3e我们做的部署策略如下：我们的应用使用的配置文件叫 \x3ccode\x3eapps.json\x3c\/code\x3e，由主工程去获取这个配置。每次部署的时候，我们只需要将 \x3ccode\x3eapps.json\x3c\/code\x3e 指向最新的配置文件即可。配置的文件类如下所示：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e96a7907e5488b6bb.json\x3c\/li\x3e\n\x3cli\x3e6ff3bfaaa2cd39ea.json\x3c\/li\x3e\n\x3cli\x3edcd074685c97ab9b.json\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e一个应用的配置如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;name\x26quot;: \x26quot;help\x26quot;,\n  \x26quot;selector\x26quot;: \x26quot;help-root\x26quot;,\n  \x26quot;baseScriptUrl\x26quot;: \x26quot;\/assets\/help\x26quot;,\n  \x26quot;styles\x26quot;: [\n    \x26quot;styles.bundle.css\x26quot;\n  ],\n  \x26quot;prefix\x26quot;: \x26quot;help\x26quot;,\n  \x26quot;scripts\x26quot;: [\n    \x26quot;inline.bundle.js\x26quot;,\n    \x26quot;polyfills.bundle.js\x26quot;,\n    \x26quot;main.bundle.js\x26quot;\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22help\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22selector\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22help-root\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22baseScriptUrl\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\/assets\/help\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22styles\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22styles.bundle.css\x22\x3c\/span\x3e\n  ],\n  \x3cspan class=\x22hljs-string\x22\x3e\x22prefix\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22help\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22inline.bundle.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22polyfills.bundle.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22main.bundle.js\x22\x3c\/span\x3e\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的 \x3ccode\x3eselector\x3c\/code\x3e 对应于应用所需要的 DOM 节点，prefix 则是用于 URL 路由上。这些都是自动从 \x3ccode\x3eindex.html\x3c\/code\x3e 文件和 \x3ccode\x3epackage.json\x3c\/code\x3e 中获取生成的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e应用间路由——事件\x3c\/h3\x3e\n\x3cp\x3e由于现在的应用变成了两部分：主工程和应用部分。就会出现一个问题：\x3cstrong\x3e只有一个工程能捕获路由变化\x3c\/strong\x3e。当由主工程去改变应用的二级路由时，就无法有效地传达到子应用。在这时，只能通过事件的方式去通知子应用，子应用也需要监测是否是当前应用的路由。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (event.detail.app.name === appName) {\n  let urlPrefix = \x27app\x27\n  if (urlPrefix) {\n    urlPrefix = `\/${window.mooa.option.urlPrefix}\/`\n  }\n  router.navigate([event.detail.url.replace(urlPrefix \x2b appName, \x27\x27)])\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (event.detail.app.name === appName) {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e urlPrefix = \x3cspan class=\x22hljs-string\x22\x3e\x27app\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (urlPrefix) {\n    urlPrefix = \x3cspan class=\x22hljs-string\x22\x3e`\/\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.mooa.option.urlPrefix}\x3c\/span\x3e\/`\x3c\/span\x3e\n  }\n  router.navigate([event.detail.url.replace(urlPrefix \x2b appName, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e)])\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相似的，当我们需要从应用 A 跳转到应用 B 时，我们也需要这样的一个机制：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.addEventListener(\x27mooa.routing.navigate\x27, function(event: CustomEvent) {\n  const opts = event.detail\n  if (opts) {\n    navigateAppByName(opts)\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27mooa.routing.navigate\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent: CustomEvent\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e opts = event.detail\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (opts) {\n    navigateAppByName(opts)\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e剩下的诸如 Loading 动画也是类似的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e使用 Mooa 进行\x3c\/h2\x3e\n\x3cp\x3eSo，我们就有了前端微服务框架 Mooa。它基于 \x3ca href=\x22https:\/\/github.com\/CanopyTax\/single-spa\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esingle-spa\x3c\/a\x3e \x26amp;\x26amp; \x3ca href=\x22https:\/\/github.com\/PlaceMe-SAS\/single-spa-angular-cli\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esingle-spa-angular-cli\x3c\/a\x3e，并且符合以上的设计思想。\x3c\/p\x3e\n\x3cp\x3eGayHub 地址：\x3ca href=\x22https:\/\/github.com\/phodal\/mooa\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/phodal\/mooa\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e对于主工程而言，只需要以下的几行代码就可以完成上面的功能：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22http.get\x3cany[]\x3e(\x27\/assets\/apps.json\x27)\n  .subscribe(data =\x3e {\n    data.map((config) =\x3e {\n      that.mooa.registerApplication(config.name, config, mooaRouter.matchRoute(config.prefix));\n    });\n    this.mooa.start();\n  });\n\nthis.router.events.subscribe((event: any) =\x3e {\n  if (event instanceof NavigationEnd) {\n    that.mooa.reRouter(event);\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3ehttp.get\x26lt;any[]\x26gt;(\x3cspan class=\x22hljs-string\x22\x3e\x27\/assets\/apps.json\x27\x3c\/span\x3e)\n  .subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    data.map(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      that.mooa.registerApplication(config.name, config, mooaRouter.matchRoute(config.prefix));\n    });\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.mooa.start();\n  });\n\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events.subscribe(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent: any\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd) {\n    that.mooa.reRouter(event);\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e并添加一个对应的子应用路由：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  path: \x27app\/:appName\/:route\x27,\n  component: HomeComponent\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27app\/:appName\/:route\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: HomeComponent\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e则如上所述的四个步骤。\x3c\/p\x3e\n\x3cp\x3e对于子工程而言，则只需要一个对应的 Hook 操作：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22mooaPlatform.mount(\x27help\x27).then((opts) =\x3e {\n  platformBrowserDynamic().bootstrapModule(AppModule).then((module) =\x3e {\n    opts[\x27attachUnmount\x27](module);\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3emooaPlatform.mount(\x3cspan class=\x22hljs-string\x22\x3e\x27help\x27\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eopts\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  platformBrowserDynamic().bootstrapModule(AppModule).then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    opts[\x3cspan class=\x22hljs-string\x22\x3e\x27attachUnmount\x27\x3c\/span\x3e](\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e);\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e并设置好对应的 base_href:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22providers: [\n  {provide: APP_BASE_HREF, useValue: mooaPlatform.appBase()},\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3eproviders:\x3c\/span\x3e [\n  {\x3cspan class=\x22hljs-string\x22\x3eprovide:\x3c\/span\x3e APP_BASE_HREF, \x3cspan class=\x22hljs-string\x22\x3euseValue:\x3c\/span\x3e mooaPlatform.appBase()},\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e嗯，就是这么简单。DEMO 视频如下：\x3c\/p\x3e\n\x3cp\x3eDemo 地址见：\x3ca href=\x22http:\/\/mooa.phodal.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/mooa.phodal.com\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3eGitHub 示例：\x3ca href=\x22https:\/\/github.com\/phodal\/mooa\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/phodal\/mooa\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>如何解构单体前端应用——微前端应用的微服务式拆分</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013826698">https://segmentfault.com/a/1190000013826698</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/1ixz6wvwlfi/" target="_blank">https://alili.tech/archive/1ixz6wvwlfi/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>