<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="react搭建后台管理（react初窥）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>react搭建后台管理（react初窥） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/21dgtr3wspz/",
				"appid": "1613049289050283", 
				"title": "react搭建后台管理（react初窥） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-10T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/cwthjj6k0f/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/9875xa4ht3i/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&text=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&text=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&title=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&is_video=false&description=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&title=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&title=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&title=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f21dgtr3wspz%2f&title=react%e6%90%ad%e5%bb%ba%e5%90%8e%e5%8f%b0%e7%ae%a1%e7%90%86%ef%bc%88react%e5%88%9d%e7%aa%a5%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">react搭建后台管理（react初窥）</h1><div class="meta"><div class="postdate"><time datetime="2018-12-10" itemprop="datePublished">2018-12-10</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e以前一直是用vue进行的开发, 于是决定年后弄一弄react, 所以年后这段时间也就一直瞎弄react, 可算是看到成果了\x3c\/p\x3e\n\x3cp\x3e本来是想写一个 类似 \x3ca href=\x22http:\/\/dzblog.cn\/article\/5a78609ec153997e3417a6d4\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue仿今日头条\x3c\/a\x3e 那样的项目来入手, 后来又寻思还不如写个后台管理呢。\x3cbr\x3e于是乎便开始捣鼓起来了。\x3c\/p\x3e\n\x3ch4\x3e用到react相关的生态链模块:\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ccode\x3ereact\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3ereact-dom\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ereact-router-dom\x3c\/code\x3e: react-router4以后 好像都是用这个东西了\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ereact-transition-group\x3c\/code\x3e: 用来做动画的\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eredux\x3c\/code\x3e: 用来管理全局状态\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ereact-redux\x3c\/code\x3e: 用来管理全局状态\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eredux-actions\x3c\/code\x3e: 用来创建action的，而且生成相关reducers的时候也不要写 switch\/case 或 if\/else 了，主要是方便。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eredux-thunk\x3c\/code\x3e: \x3ccode\x3eredux\x3c\/code\x3e的中间件， 用来处理我们异步action\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eantd\x3c\/code\x3e: 随便找的一个比较常用的react-UI库\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e跟react相关的主要就是这个几个了\x3cbr\x3e 至于webpack 配置，基本跟以前配置vue的基本没多大区别。\x3c\/p\x3e\n\x3ch4\x3e文件目录讲解：\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV5HyK?w=370\x26amp;h=512\x22 src=\x22https:\/\/static.alili.tech\/img\/bV5HyK?w=370\x26amp;h=512\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3ebuild\x3c\/code\x3e: 用来放置关于webpack的配置\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3econfig\x3c\/code\x3e: 项目配置\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3esrc\x3c\/code\x3e: 源码\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3estatic\x3c\/code\x3e: 静态资源\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e.babelrc\x3c\/code\x3e: babel配置\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3epostcss.config.js\x3c\/code\x3e: css配置\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e别的目录就不说了，主要介绍一个\x3ccode\x3esrc\x3c\/code\x3e下的目录结构\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV5HyN?w=352\x26amp;h=558\x22 src=\x22https:\/\/static.alili.tech\/img\/bV5HyN?w=352\x26amp;h=558\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eactions\x3c\/code\x3e: 放redux中action相关的地方\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ereducers\x3c\/code\x3e: 放redux中reducer相关的地方\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eassets\x3c\/code\x3e: 项目静态资源\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ecomponents\x3c\/code\x3e: 常用的公共组件\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3erouter\x3c\/code\x3e: 路由相关的配置\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3estore\x3c\/code\x3e: redux的配置\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3estyles\x3c\/code\x3e: 公共样式文件\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eutils\x3c\/code\x3e: 工具类的封装\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eview\x3c\/code\x3e: 所有页面的主体结构\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3emain.js\x3c\/code\x3e: 项目入口文件\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3econfig.js\x3c\/code\x3e: 公共属性配置\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1. react 的 几种书写方式\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3eReact.createClass\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nconst MyComponent = React.createClass({\n   render () {\n       return (\n           \x3ch2\x3e我是React.createClass生成的组件\x3c\/h2\x3e\n       )\n   }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e MyComponent = React.createClass({\n   render () {\n       \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n           \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e我是React.createClass生成的组件\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n       )\n   }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\n\x3cli\x3eReact.createClass会自绑定函数方法（不像React.Component只绑定需要关心的函数）导致不必要的性能开销，增加代码过时的可能性\x3c\/li\x3e\n\x3cli\x3eReact.createClass的mixins不够自然、直观；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3chr\x3e\n\x3cul\x3e\x3cli\x3eReact.Component\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nclass MyComponent from React.Component {\n    render () {\n        return (\n            \x3ch2\x3e我是React.Component生成的组件\x3c\/h2\x3e\n        )\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eMyComponent\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    render () {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e我是React.Component生成的组件\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        )\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\n\x3cli\x3e需要手动绑定this指向\x3c\/li\x3e\n\x3cli\x3eReact.Component形式非常适合高阶组件（Higher Order Components--HOC）,它以更直观的形式展示了比mixins更强大的功能，并且HOC是纯净的JavaScript，不用担心他们会被废弃\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3chr\x3e\n\x3cul\x3e\x3cli\x3e无状态函数式组件\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\n const MyComponent = (props) =\x3e (\n     \x3ch2\x3e我是无状态函数式组件\x3c\/h2\x3e\n )\n ReactDOM.render(\x3cMyComponent name=\x26quot;Sebastian\x26quot; \/\x3e, mountNode)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e MyComponent = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eprops\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n     \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e我是无状态函数式组件\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n )\n ReactDOM.render(\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eMyComponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22Sebastian\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e, mountNode)\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\n\x3cli\x3e无状态组件的创建形式使代码的可读性更好，并且减少了大量冗余的代码，精简至只有一个render方法，大大的增强了编写一个组件的便利\x3c\/li\x3e\n\x3cli\x3e组件不会被实例化，整体渲染性能得到提升\x3c\/li\x3e\n\x3cli\x3e组件不能访问this对象\x3c\/li\x3e\n\x3cli\x3e组件无法访问生命周期的方法\x3c\/li\x3e\n\x3cli\x3e无状态组件只能访问输入的props，同样的props会得到同样的渲染结果，不会有副作用\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2. 路由拦截\x3c\/h3\x3e\n\x3cp\x3e路由拦截这块费了挺长时间，本来是想找个类似vue的beforeRouter这个种钩子函数，发现没有。\x3c\/p\x3e\n\x3cp\x3e然后后面找到\x3ccode\x3ehistory\x3c\/code\x3e模块，发现有个这东西有个监听路由的方法，最开始就用这它，但是我突然切成hash模式进行开发的时候，发现通过\x3ccode\x3ehistory.push(path, [state])\x3c\/code\x3e设置state属性的时候出了问题，这东西好像只能给history模式设置state属性，但是我有部分东西是通过设置state属性来进来的，于是便放弃了这个方法寻找新的方法。\x3c\/p\x3e\n\x3cp\x3e后面发现可以通过监听根路径的 \x3ccode\x3ecomponentWillReceiveProps\x3c\/code\x3e 钩子函数 便可以达到监听的效果。\x3c\/p\x3e\n\x3cp\x3e这钩子函数只要props改变便会触发，因为每次切换路由 \x3ccode\x3elocation\x3c\/code\x3e 的\x3ccode\x3epathname\x3c\/code\x3e总是不同的，所有只要切换路径便会触发这个这个钩子函数。这东西容易触发死循环，所以记得做好判断。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class MainComponents extends React.Component {\n    componentWillMount () { \/\/ 第一次进来触发\n        this.dataInit(this.props)\n    }\n    componentWillReceiveProps(nextProps){ \/\/ 以后每次变化props都会触发\n        \/\/ 如果死循环了 可能是某个属性设置会更新props上属性，所以导致一直循环，这个时候记得做好判断\n        this.dataInit(nextProps)\n    }\n    render () {\n        \/\/ 404\n        if (!isExistPath(allRoutes, pathname)) return \x3cRedirect to=\x27\/error\/404\x27\/\x3e\n        \n        \/\/当前路径路由信息\n        let currRoute = getRoute(allRoutes, pathname)\n\n        \/\/ 非白名单验证\n        if (!whiteList.some(path =\x3e path === pathname)) {\n\n            \/\/ 登录验证\n            if (!Cookie.get(\x27Auth_Token\x27)) {\n                return \x3cRedirect to=\x22{{\x22 pathname: \x27\/login\x27 \x22}}\x22 \/\x3e\n            }\n            \n            \/\/ 获取用户信息\n            if (!user) {\n                this.getUserInfo(() =\x3e {\n                    this.setRoutesByRole(this.props.user.roles)\n                })\n            }\n        }\n        \/\/ 401\n        if (user \x26amp;\x26amp; currRoute) {\n            if (!isAuth(currRoute.role, user)) return \x3cRedirect to=\x27\/error\/401\x27\/\x3e\n        }\n\n        \/\/ 网页title\n        document.title = currRoute.name\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eMainComponents\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    componentWillMount () { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第一次进来触发\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.dataInit(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props)\n    }\n    componentWillReceiveProps(nextProps){ \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 以后每次变化props都会触发\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果死循环了 可能是某个属性设置会更新props上属性，所以导致一直循环，这个时候记得做好判断\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.dataInit(nextProps)\n    }\n    render () {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 404\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!isExistPath(allRoutes, pathname)) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x26lt;Redirect to=\x3cspan class=\x22hljs-string\x22\x3e\x27\/error\/404\x27\x3c\/span\x3e\/\x26gt;\n        \n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/当前路径路由信息\x3c\/span\x3e\n        let currRoute = getRoute(allRoutes, pathname)\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 非白名单验证\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!whiteList.some(path =\x26gt; path === pathname)) {\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 登录验证\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!Cookie.\x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Auth_Token\x27\x3c\/span\x3e)) {\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x26lt;Redirect to=\x22{{\x22 pathname: \x3cspan class=\x22hljs-string\x22\x3e\x27\/login\x27\x3c\/span\x3e \x22}}\x22 \/\x26gt;\n            }\n            \n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取用户信息\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!user) {\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getUserInfo(() =\x26gt; {\n                    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setRoutesByRole(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.user.roles)\n                })\n            }\n        }\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 401\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (user \x26amp;\x26amp; currRoute) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!isAuth(currRoute.role, user)) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x26lt;Redirect to=\x3cspan class=\x22hljs-string\x22\x3e\x27\/error\/401\x27\x3c\/span\x3e\/\x26gt;\n        }\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 网页title\x3c\/span\x3e\n        document.title = currRoute.name\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e3. 路由集中设置\x3c\/h3\x3e\n\x3cp\x3e用过vue的都知道我们一般都是通过\x3ccode\x3enew Router({routes})\x3c\/code\x3e 来集中管理路由表。但是react-router好像不能这么设置。最新的版本好像连嵌套都不行。\x3cbr\x3e  于是乎自己便着手简单的搭建了一个集中设置的版本 。不过后面我看到个插件好像是可以管理的 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/react-router-config\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-router-config\x3c\/a\x3e,不过我也还没试过，也不知道可不可行。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 路由表\nconst allRoutes = [\n  {\n    path: \x27\/auth\x27,\n    login: true,\n    layout: true,\n    icon: \x27user\x27,\n    name: \x27权限管理\x27,\n    role: [\x27admin\x27],\n    component: _import_views(\x27Auth\x27)\n  },\n  {\n    path: \x27\/error\x27,\n    login: true,\n    layout: true,\n    icon: \x27user\x27,\n    name: \x27ErrorPage\x27,\n    redirect: \x27\/error\/404\x27,\n    children: [\n        { path: \x27\/error\/404\x27, component: _import_views(\x27Error\/NotFound\x27), name: \x27404\x27},\n        { path: \x27\/error\/401\x27, component: _import_views(\x27Error\/NotAuth\x27), name: \x27401\x27}\n    ]\n  }\n  ...\n]\n\n\n\/\/ 根目录\n\x3cBrowserRouter\x3e\n    \x3cRoute path=\x26quot;\/\x26quot; component={MainComponents}\/\x3e\n\x3c\/BrowserRouter\x3e\n\n\/\/ MainComponents\nclass MainComponents extends React.Component {\n  render () {\n    return (\n      \x3cSwitch\x3e\n          {renderRouteComponent(allRoutes.filter(route =\x3e !route.layout))} \/\/不需要侧边栏等公共部分的路由页面\n          \x3cRoute path=\x26quot;\/\x26quot; component={ComponentByLayout}\/\x3e\n      \x3c\/Switch\x3e\n    )\n  }\n}\n\n\/\/ ComponentByLayout\nconst ComponentByLayout = ({history}) =\x3e (\n  \x3cLayout history={history}\x3e\n      \x3cSwitch\x3e\n          {renderRouteComponent(allRoutes.filter(route =\x3e route.layout))}\n      \x3c\/Switch\x3e\n  \x3c\/Layout\x3e   \n)\n\n\n\/\/ 路由渲染\nconst RouteComponent = route =\x3e \x3cRoute key={route.path} exact={route.exact || false} path={route.path} component={route.component} \/\x3e \nconst renderRouteComponent = routes =\x3e routes.map((route, index) =\x3e {\n    return route.children ? route.children.map(route =\x3e RouteComponent(route)) : RouteComponent(route)\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs php\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 路由表\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e allRoutes = [\n  {\n    path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/auth\x27\x3c\/span\x3e,\n    login: \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e,\n    layout: \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e,\n    icon: \x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e,\n    name: \x3cspan class=\x22hljs-string\x22\x3e\x27权限管理\x27\x3c\/span\x3e,\n    role: [\x3cspan class=\x22hljs-string\x22\x3e\x27admin\x27\x3c\/span\x3e],\n    component: _import_views(\x3cspan class=\x22hljs-string\x22\x3e\x27Auth\x27\x3c\/span\x3e)\n  },\n  {\n    path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/error\x27\x3c\/span\x3e,\n    login: \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e,\n    layout: \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e,\n    icon: \x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e,\n    name: \x3cspan class=\x22hljs-string\x22\x3e\x27ErrorPage\x27\x3c\/span\x3e,\n    redirect: \x3cspan class=\x22hljs-string\x22\x3e\x27\/error\/404\x27\x3c\/span\x3e,\n    children: [\n        { path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/error\/404\x27\x3c\/span\x3e, component: _import_views(\x3cspan class=\x22hljs-string\x22\x3e\x27Error\/NotFound\x27\x3c\/span\x3e), name: \x3cspan class=\x22hljs-string\x22\x3e\x27404\x27\x3c\/span\x3e},\n        { path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/error\/401\x27\x3c\/span\x3e, component: _import_views(\x3cspan class=\x22hljs-string\x22\x3e\x27Error\/NotAuth\x27\x3c\/span\x3e), name: \x3cspan class=\x22hljs-string\x22\x3e\x27401\x27\x3c\/span\x3e}\n    ]\n  }\n  ...\n]\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 根目录\x3c\/span\x3e\n\x26lt;BrowserRouter\x26gt;\n    \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e component={MainComponents}\/\x26gt;\n\x26lt;\/BrowserRouter\x26gt;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ MainComponents\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eMainComponents\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  render () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eSwitch\x3c\/span\x3e\x26gt;\n          {renderRouteComponent(allRoutes.filter(route =\x26gt; !route.layout))} \x3cspan class=\x22hljs-comment\x22\x3e\/\/不需要侧边栏等公共部分的路由页面\x3c\/span\x3e\n          \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e component={ComponentByLayout}\/\x26gt;\n      \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3eSwitch\x3c\/span\x3e\x26gt;\n    )\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ComponentByLayout\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ComponentByLayout = ({history}) =\x26gt; (\n  \x26lt;Layout history={history}\x26gt;\n      \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eSwitch\x3c\/span\x3e\x26gt;\n          {renderRouteComponent(allRoutes.filter(route =\x26gt; route.layout))}\n      \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3eSwitch\x3c\/span\x3e\x26gt;\n  \x26lt;\/Layout\x26gt;   \n)\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 路由渲染\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e RouteComponent = route =\x26gt; \x26lt;Route key={route.path} exact={route.exact || \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e} path={route.path} component={route.component} \/\x26gt; \n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e renderRouteComponent = routes =\x26gt; routes.map((route, index) =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e route.children ? route.children.map(route =\x26gt; RouteComponent(route)) : RouteComponent(route)\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e4. 根据用户权限动态生成路由\x3c\/h3\x3e\n\x3cp\x3e我想根据用户不同的权限生成不同的侧边栏。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  path: \x27\/auth\x27,\n  login: true,\n  layout: true,\n  icon: \x27user\x27,\n  name: \x27权限管理\x27,\n  role: [\x27admin\x27],\n  component: _import_views(\x27Auth\x27)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e{\n  \x3cspan class=\x22hljs-attribute\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/auth\x27\x3c\/span\x3e,\n  login: true,\n  layout: true,\n  icon: \x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e,\n  name: \x3cspan class=\x22hljs-string\x22\x3e\x27权限管理\x27\x3c\/span\x3e,\n  role: [\x3cspan class=\x22hljs-string\x22\x3e\x27admin\x27\x3c\/span\x3e],\n  component: \x3cspan class=\x22hljs-built_in\x22\x3e_import_views\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Auth\x27\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e根据这个路由role信息 跟用户的role信息匹配进行显示跟隐藏\x3c\/p\x3e\n\x3cp\x3e这样来筛选出符合这个用户的路由表以及侧边栏（侧边栏根据路由表生成）\x3c\/p\x3e\n\x3cp\x3e但是有个问题，因为我们是需要登录才能得知用户的权限信息，所以我们得那个时候才能确定路由是哪些。\x3c\/p\x3e\n\x3cp\x3e但是那个时候路由已经设置完毕了。\x3ccode\x3evue\x3c\/code\x3e里面的提供了 \x3ccode\x3erouter.addRoutes\x3c\/code\x3e这个方法来供我们动态设置路由，\x3ccode\x3ereact\x3c\/code\x3e里面我也没找到关于这个api的，于是我便采取所有的路由都注册一遍，但是这样便产生一个问题。\x3c\/p\x3e\n\x3cp\x3e以 \x3ccode\x3e\/auth\x3c\/code\x3e 为例，我本身是没有访问\x3ccode\x3e\/auth\x3c\/code\x3e的权限，所以我侧边栏不会生成 \x3ccode\x3e\/auth\x3c\/code\x3e这个列表选项。但是我们在地址栏里面 访问 \x3ccode\x3e\/auth\x3c\/code\x3e 是能进入这个页面的的 (最好的办法就是压根就不生成这个路由)。所以这个设置其实是有问题，目前我也没知道怎么动态生成路由的办法，暂时也只是在\x3ccode\x3e根目录\x3c\/code\x3e 做了权限处理\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e5. 按需加载\x3c\/h3\x3e\n\x3cp\x3e按需加载的方法也不少，目前只尝试了第一种，因为我写Vue也是用import实现按需加载的，所以也就没去折腾了。\x3c\/p\x3e\n\x3ch4\x3e1. \x3cstrong\x3eimport方法\x3c\/strong\x3e\n\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/asyncComponent.js\nimport React from \x27react\x27\nexport default loadComponent =\x3e (\n    class AsyncComponent extends React.Component {\n        state = {\n            Component: null,\n        }\n        async componentDidMount() {\n            if (this.state.Component !== null) return\n\n            try {\n                const {default: Component} = await loadComponent()\n                this.setState({ Component })\n            }catch (err) {\n                console.error(\x27Cannot load component in \x3cAsyncComponent \/\x3e\x27);\n                throw err\n            }\n        }\n\n        render() {\n            const { Component } = this.state\n            return (Component) ? \x3cComponent {...this.props} \/\x3e : null\n        }\n    }\n)\n\n\n\/\/ index.js\nimport asyncComponent from \x27.\/asyncComponent.js\x27\nconst _import_ = file =\x3e asyncComponent(() =\x3e import(file))\n_import_(\x27components\/Home\/index.js\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/asyncComponent.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e loadComponent =\x26gt; (\n    \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e AsyncComponent \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e React.Component {\n        state = {\n            Component: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e componentDidMount() {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.Component !== \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n                \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e {\x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e: Component} = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e loadComponent()\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({ Component })\n            }\x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (err) {\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error(\x3cspan class=\x22hljs-string\x22\x3e\x27Cannot load component in \x26lt;AsyncComponent \/\x26gt;\x27\x3c\/span\x3e);\n                \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err\n            }\n        }\n\n        render() {\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { Component } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (Component) ? \x26lt;Component {...this.props} \/\x26gt; : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n        }\n    }\n)\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e asyncComponent \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/asyncComponent.js\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e _import_ = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efile\x3c\/span\x3e =\x26gt;\x3c\/span\x3e asyncComponent(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(file))\n_import_(\x3cspan class=\x22hljs-string\x22\x3e\x27components\/Home\/index.js\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e原理很简单:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eimport()接受相应的模块然后返回Promise对象\x3c\/li\x3e\n\x3cli\x3easyncComponent 接收一个函数，且这个函数返回promise对象\x3c\/li\x3e\n\x3cli\x3e在componentDidMount钩子函数通过 async\/await 执行接受进来的loadComponent方法，得到import返回的结果，赋值给state.Component,\x3c\/li\x3e\n\x3cli\x3e因为我们import的是一个React组件，所以我们得到的也是React组件，到时候只需要把该组件 render出去就行了\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e2. \x3ca href=\x22https:\/\/www.jianshu.com\/p\/547aa7b92d8c\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cstrong\x3eBundle组件 \x2b import（跟第一种感觉差不多）\x3c\/strong\x3e\x3c\/a\x3e\n\x3c\/h4\x3e\n\x3ch4\x3e3. \x3ca href=\x22https:\/\/github.com\/ReactTraining\/react-router\/blob\/master\/packages\/react-router-dom\/docs\/guides\/code-splitting.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cstrong\x3ereact-loadable\x3c\/strong\x3e\x3c\/a\x3e\n\x3c\/h4\x3e\n\x3ch4\x3e4. \x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009539836\x22\x3e\x3cstrong\x3ebundle-loader\x3c\/strong\x3e\x3c\/a\x3e\n\x3c\/h4\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e6. request\x3c\/h3\x3e\n\x3cp\x3e我这里用到的是\x3ccode\x3eaxios\x3c\/code\x3e, 用\x3ccode\x3eaxios\x3c\/code\x3e做了个简单的拦截器\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import axios from \x27axios\x27\nimport qs from \x27qs\x27\n\n\naxios.defaults.withCredentials = true \n\n\/\/ 发送时\naxios.interceptors.request.use(config =\x3e {\n    \/\/ 发起请求,可以进行动画啥的\n    return config\n}, err =\x3e {\n    return Promise.reject(err)\n})\n\n\/\/ 响应时\naxios.interceptors.response.use(response =\x3e response, err =\x3e Promise.resolve(err.response))\n\n\/\/ 检查状态码\nfunction checkStatus(res) { \n    \/\/ 得到返回结果,结束动画啥的\n    if (res.status === 200 || res.status === 304) {\n        return res.data\n    }\n    return {\n        code: 0,\n        msg: res.data.msg || res.statusText,\n        data: res.statusText\n    }\n    return res\n}\n\n\n\/\/ 检查CODE值\nfunction checkCode(res) {\n    if (res.code === 0) {\n        throw new Error(res.msg)\n    }\n    \n    return res\n}\n\nexport default {\n    get(url, params) {\n        if (!url) return\n        return axios({\n            method: \x27get\x27,\n            url: url,\n            params,\n            timeout: 30000\n        }).then(checkStatus).then(checkCode)\n    },\n    post(url, data) {\n        if (!url) return\n        return axios({\n            method: \x27post\x27,\n            url: url,\n            data: qs.stringify(data),\n            timeout: 30000\n        }).then(checkStatus).then(checkCode)\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e axios \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27axios\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e qs \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27qs\x27\x3c\/span\x3e\n\n\naxios.defaults.withCredentials = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发送时\x3c\/span\x3e\naxios.interceptors.request.use(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发起请求,可以进行动画啥的\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e config\n}, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.reject(err)\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 响应时\x3c\/span\x3e\naxios.interceptors.response.use(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e =\x26gt;\x3c\/span\x3e response, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.resolve(err.response))\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检查状态码\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echeckStatus\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eres\x3c\/span\x3e) \x3c\/span\x3e{ \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 得到返回结果,结束动画啥的\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (res.status === \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e || res.status === \x3cspan class=\x22hljs-number\x22\x3e304\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res.data\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        code: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        msg: res.data.msg || res.statusText,\n        data: res.statusText\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res\n}\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检查CODE值\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echeckCode\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eres\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (res.code === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(res.msg)\n    }\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e(url, params) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!url) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e axios({\n            method: \x3cspan class=\x22hljs-string\x22\x3e\x27get\x27\x3c\/span\x3e,\n            url: url,\n            params,\n            timeout: \x3cspan class=\x22hljs-number\x22\x3e30000\x3c\/span\x3e\n        }).then(checkStatus).then(checkCode)\n    },\n    post(url, data) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!url) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e axios({\n            method: \x3cspan class=\x22hljs-string\x22\x3e\x27post\x27\x3c\/span\x3e,\n            url: url,\n            data: qs.stringify(data),\n            timeout: \x3cspan class=\x22hljs-number\x22\x3e30000\x3c\/span\x3e\n        }).then(checkStatus).then(checkCode)\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e7. redux\x3c\/h3\x3e\n\x3cp\x3e这里主要用了 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/redux-actions\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eredux-actions\x3c\/code\x3e\x3c\/a\x3e 来创建action的 ， \x3cbr\x3e\x3cstrong\x3e原生写法\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ action\nconst addTodo = text =\x3e ({\n    type: \x27ADD_TODO\x27,\n    payload: {\n      text,\n      completed: false\n    }\n})\n\n\/\/ reducer\nconst todos = (state = [], action) =\x3e {\n    switch(action.type) {\n        case \x27ADD_TODO\x27:\n            return [...state, action.payload]\n        ...\n        default:\n            return state\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ action\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e addTodo = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({\n    \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27ADD_TODO\x27\x3c\/span\x3e,\n    payload: {\n      text,\n      completed: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    }\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e todos = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = [], action\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e(action.type) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27ADD_TODO\x27\x3c\/span\x3e:\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [...state, action.payload]\n        ...\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用了 \x3ccode\x3eredux-actions\x3c\/code\x3e的写法\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { createAction, handleActions } from \x27redux-actions\x27\n\n\/\/ action\nconst addTodo = createAction(\x27ADD_TODO\x27)\n\n\/\/ reducer\nconst todos = handleActions({\n    ADD_TODO: (state, action) =\x3e {\n        return [...state, action.payload]\n    }\n    ...\n}, [])\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createAction, handleActions } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux-actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ action\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e addTodo = createAction(\x3cspan class=\x22hljs-string\x22\x3e\x27ADD_TODO\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e todos = handleActions({\n    \x3cspan class=\x22hljs-attr\x22\x3eADD_TODO\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3estate, action\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [...state, action.payload]\n    }\n    ...\n}, [])\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\/\/ 用\x3ccode\x3eredux-actions\x3c\/code\x3e简单明了\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e8. connect\x3c\/h3\x3e\n\x3cp\x3e用了redux,这东西基本就不能少了, \x3ccode\x3econnect\x3c\/code\x3e主要是用来 连接 \x3ccode\x3e组件\x3c\/code\x3e 跟 \x3ccode\x3eredux store\x3c\/code\x3e的, 就是让组件能获取redux store里面的 \x3ccode\x3e值\x3c\/code\x3e 和 \x3ccode\x3e方法\x3c\/code\x3e\x3cbr\x3e\x3ccode\x3econnect([mapStateToProps], [mapDispatchToProps], [mergeProps],[options])\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e一般只用到前两个参数\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3emapStateToProps(state, ownProps)\x3c\/code\x3e: 获取store里面state指定数据,然后传递到指定组件, ownProps 组件本身的 props\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3emapDispatchToProps\x3c\/code\x3e: 这个是获取store里面的action方法, 然后传入指定组件\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e用法\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import toggleTodo from \x27actions\/todo\x27\nconst mapStateToProps = state =\x3e ({\n    active: state.active\n})\nconst mapDispatchToProps = {\n    onTodoClick: toggleTodo\n}\nconnect(mapStateToProps, mapDispatchToProps)(Component)\n\/\/ 在Component组件中, 便能在 props 里面获取到 active 数据, 跟 onTodoClick 这个方法了\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3eimport toggleTodo \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27actions\/todo\x27\nconst mapStateToProps = \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e =\x26gt; ({\n    active: \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.active\n})\nconst mapDispatchToProps = {\n    \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3eTodoClick: toggleTodo\n}\nconnect(mapStateToProps, mapDispatchToProps)(Component)\n\/\/ 在Component组件中, 便能在 props 里面获取到 active 数据, 跟 \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3eTodoClick 这个方法了\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3econnect\x3c\/code\x3e很多地方基本都要用到\x3cbr\x3e所以也进行了封装\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ connect.js\nimport actions from \x27src\/actions\x27 \/\/ 所有action\nimport {connect} from \x27react-redux\x27 \nimport {bindActionCreators} from \x27redux\x27\nexport default connect(\n    state =\x3e ({state}), \/\/ 偷懒了, 每次把state里面所有的数据都返回了\n    dispatch =\x3e bindActionCreators(actions, dispatch) \/\/合并所有action,并且传入dispatch, 那样我们在组件里面调用action,就不在需要dispatch了\n)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3e\/\/ connect.js\nimport actions \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27src\/actions\x27 \/\/ 所有action\nimport {connect} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27react-redux\x27 \nimport {bindActionCreators} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27redux\x27\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e connect(\n    \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e =\x26gt; ({\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e}), \/\/ 偷懒了, 每次把\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e里面所有的数据都返回了\n    dispatch =\x26gt; bindActionCreators(actions, dispatch) \/\/合并所有action,并且传入dispatch, 那样我们在组件里面调用action,就不在需要dispatch了\n)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.kancloud.cn\/allanyu\/redux-in-chinese\/82434\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebindActionCreators\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e然后我们把 \x3ccode\x3econnect.js\x3c\/code\x3e 文件通过 \x3ccode\x3ewebpack\x3c\/code\x3e 的alias属性来进行配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/配置别名映射\nalias: {\n    \x27src\x27: resolve(\x27src\x27),\n    \x27connect\x27: resolve(\x27src\/utils\/connect\x27)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e\/\/配置别名映射\nalia\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-string\x22\x3e\x27connect\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27src\/utils\/connect\x27\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后我们就可以在文件中如下引用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nimport connect from \x27connect\x27\n\n@connect \/\/ 通过装饰器调用\nclass Component extends React.Component {\n  componentWillMount () {\n    const {state, onTodoClick} = this.props\n    console.log(state, onTodoClick)\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eReact\x3c\/span\x3e from \x3cspan class=\x22hljs-symbol\x22\x3e\x27reac\x3c\/span\x3et\x27\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e connect from \x3cspan class=\x22hljs-symbol\x22\x3e\x27connec\x3c\/span\x3et\x27\n\n\x3cspan class=\x22hljs-meta\x22\x3e@connect\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过装饰器调用\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  componentWillMount () {\n    const {state, onTodoClick} = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props\n    console.log(state, onTodoClick)\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了省事，我把\x3ccode\x3estore\x3c\/code\x3e里面所有的数据 和 \x3ccode\x3eaction\x3c\/code\x3e都返回了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e9. cssModules\x3c\/h3\x3e\n\x3cp\x3e在 \x3ccode\x3evue\x3c\/code\x3e 中 我们一般都是通过设置 style标签的 \x3ccode\x3escoped\x3c\/code\x3e 属性来做到css模块化\x3cbr\x3e但是在 \x3ccode\x3ereact\x3c\/code\x3e 中，我采用的 \x3ccode\x3ecssModules\x3c\/code\x3e 来做css模块化\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e通过\x3ccode\x3ewebpack\x3c\/code\x3e设置 \x3ccode\x3ecss-loader\x3c\/code\x3e 的\x3ccode\x3emodules\x3c\/code\x3e来开启css的模块化\x3c\/li\x3e\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    loader: \x27css-loader\x27,\n    options: {\n      modules: true, \/\/是否开启\n      localIdentName: \x27[name]__[local]___[hash:base64:5]\x27  \/\/ 转化出来的class名字结构\n    }\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27css-loader\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attribute\x22\x3eoptions\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attribute\x22\x3emodules\x3c\/span\x3e: true, \x3cspan class=\x22hljs-comment\x22\x3e\/\/是否开启\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attribute\x22\x3elocalIdentName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27[name]__[local]___[hash:base64:5]\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 转化出来的class名字结构\x3c\/span\x3e\n    }\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\x3cli\x3e引入css, 并通过对象的赋值方式添加className\x3c\/li\x3e\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import styles from \x27.\/styles.css\x27\n\nexport default () =\x3e (\n  \x3cdiv className={styles.a}\x3e\x3c\/div\x3e\n)\n\n\/\/styles.css\n.a {\n    color: #ff4747;\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3eimport styles from \x3cspan class=\x22hljs-string\x22\x3e\x27.\/styles.css\x27\x3c\/span\x3e\n\nexport default () =\x26gt; (\n  \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e className={styles.a}\x26gt;\x26lt;\/div\x26gt;\n)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/styles.css\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.a\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#ff4747\x3c\/span\x3e;\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或者可以通过 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/react-css-modules\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3ereact-css-modules\x3c\/code\x3e\x3c\/a\x3e 来更方便的控制\x3ccode\x3eclass\x3c\/code\x3e类名\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import styles from \x27.\/styles.css\x27\nimport CSSModules from \x27react-css-modules\x27\n\nclass Component extends React.Component {\n  render () {\n    return (\n      \x3cdiv styleName=\x27a b\x27\x3e\x3c\/div\x3e\n    )\n  }\n}\nexport default CSSModules(Component, styles, {\n    allowMultiple: true \/\/允许多个class一起使用\n})\n\n\n\/\/styles.css\n.a {\n    color: #ff4747;\n}\n.b {\n  background: #f00;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e styles from \x27.\/styles.css\x27\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eCSSModules\x3c\/span\x3e from \x3cspan class=\x22hljs-symbol\x22\x3e\x27react\x3c\/span\x3e-css-modules\x27\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  render () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x26lt;div styleName=\x3cspan class=\x22hljs-symbol\x22\x3e\x27a\x3c\/span\x3e b\x27\x26gt;\x26lt;\/div\x26gt;\n    )\n  }\n}\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eCSSModules\x3c\/span\x3e(\x3cspan class=\x22hljs-type\x22\x3eComponent\x3c\/span\x3e, styles, {\n    allowMultiple: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/允许多个class一起使用\x3c\/span\x3e\n})\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/styles.css\x3c\/span\x3e\n.a {\n    color: #ff4747;\n}\n.b {\n  background: #f00;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样我们就可以通过字符串的方式传入 \x3ccode\x3eclass\x3c\/code\x3e类名. 注意: 我们添加时 不再使用 \x3ccode\x3eclassName\x3c\/code\x3e 了, 而是使用 \x3ccode\x3estyleName\x3c\/code\x3e了\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e10. 双向绑定的实现\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Bingding extends React.Component {\n  state = {\n    value: \x27\x27\n  }\n  handleInput = value =\x3e {\n    this.setState({\n      value\n    })\n  }\n  render () {\n    return (\n      \x3cinput type=\x26quot;text\x26quot; value={this.state.value} onChange={e =\x3e {this.handleInput(e.target.value)\x22}}\x22\/\x3e\n      \x3cdiv\x3e{this.state.value}\x3c\/div\x3e\n    )\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eBingding\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  state = {\n    value: \x27\x27\n  }\n  handleInput = value =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n      value\n    })\n  }\n  render () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x26lt;input \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e value={\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.value} onChange={e =\x26gt; {\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleInput(e.target.value)\x22}}\x22\/\x26gt;\n      \x26lt;div\x26gt;{\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.value}\x26lt;\/div\x26gt;\n    )\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就是通过 \x3ccode\x3eonChange\x3c\/code\x3e 事件 来触发 \x3ccode\x3ethis.setState\x3c\/code\x3e 重新渲染 render 方法\x3c\/p\x3e\n\x3cp\x3e还有一些知识点\x3cbr\x3e包括 \x3ca href=\x22https:\/\/reactcommunity.org\/react-transition-group\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3e动画\x3c\/code\x3e\x3c\/a\x3e，\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/24926575\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3e生命周期\x3c\/code\x3e\x3c\/a\x3e 等等\x3cbr\x3e就不过多介绍了。这些项目中基本多多少少都参和了一点。\x3cbr\x3e开发中遇到的问题挺多的，最主要是\x3ccode\x3ereact-router\x3c\/code\x3e配置的问题，怎么配置都感觉不太好。\x3cbr\x3e也同时希望有人推荐几个全面的尤其是最新版本的\x3ccode\x3ereact\x3c\/code\x3e开源项目。\x3c\/p\x3e\n\x3cp\x3e项目启动步骤\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3enpm\/yarn run dll (DllPlugin打包,只需打包一次就够了)\x3c\/li\x3e\n\x3cli\x3enpm\/yarn run dev (开发模式)\x3c\/li\x3e\n\x3cli\x3enpm\/yarn run build (生产模式)\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e小结\x3c\/h2\x3e\n\x3cp\x3e国内比较火的两个框架，也勉强算是都接触了下，\x3ccode\x3evue\x3c\/code\x3e我是一直在用的，\x3ccode\x3ereact\x3c\/code\x3e算是年后刚接触的。\x3cbr\x3e  从我目前来看，\x3ccode\x3evue\x3c\/code\x3e比\x3ccode\x3ereact\x3c\/code\x3e开发起来确实要方便很多(可能用的比较多吧)。\x3cbr\x3e  因为\x3ccode\x3evue\x3c\/code\x3e很多常用的都是内置的。而\x3ccode\x3ereact\x3c\/code\x3e基本都要自己去寻找对应的模块。本身就只提供UI， 其他基本得自力更生。\x3cbr\x3e  主要是你经常一找能找着多个模块，你就不知道用哪个，还得一个个试水。当然，\x3ccode\x3ereact\x3c\/code\x3e的社区强大，这么都不是什么大问题。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/dzblog.cn\/cases\/react-admin\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在线观看地址\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/dzblog.cn\/article\/5aa7ef0e4f85ad06d2346688\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客地址\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/cd-dongzi\/react-admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>react搭建后台管理（react初窥）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013713078">https://segmentfault.com/a/1190000013713078</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/21dgtr3wspz/" target="_blank">https://alili.tech/archive/21dgtr3wspz/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>