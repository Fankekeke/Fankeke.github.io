<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="译：用let 和 const 来指导JavaScript 的变量提升"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>译：用let 和 const 来指导JavaScript 的变量提升 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/2mpfdcy0nud/",
				"appid": "1613049289050283", 
				"title": "译：用let 和 const 来指导JavaScript 的变量提升 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-21T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/gc5c7oibtdo/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/63dbc2x39vh/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&text=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&text=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&title=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&is_video=false&description=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&title=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&title=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&title=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2mpfdcy0nud%2f&title=%e8%af%91%ef%bc%9a%e7%94%a8let%20%e5%92%8c%20const%20%e6%9d%a5%e6%8c%87%e5%af%bcJavaScript%20%e7%9a%84%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">译：用let 和 const 来指导JavaScript 的变量提升</h1><div class="meta"><div class="postdate"><time datetime="2018-12-21" itemprop="datePublished">2018-12-21</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV0Nsd?w=800\x26amp;h=450\x22 src=\x22https:\/\/static.alili.tech\/img\/bV0Nsd?w=800\x26amp;h=450\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e最近在\x3ca href=\x22https:\/\/medium.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMedium\x3c\/a\x3e上看到一篇关于“变量提升”的文章，原文在此：\x3ca href=\x22https:\/\/medium.freecodecamp.org\/what-is-variable-hoisting-differentiating-between-var-let-and-const-in-es6-f1a70bb43d\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《A guide to JavaScript variable hoisting with let and const》\x3c\/a\x3e。为了培养自己看英文文档习惯且看懂的需要，就翻译一下。谈不上精确，欢迎指正。\x3c\/p\x3e\n\x3cp\x3e对于刚入门的JavaScript开发者时常难以理解“变量\/方法”提升（hoisting）的独特行为。\x3cbr\x3e接下来我们要谈论var，let，const声明，那么先了解变量提升就显得更为重要了。那就开始吧。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV0Ntq?w=245\x26amp;h=225\x22 src=\x22https:\/\/static.alili.tech\/img\/bV0Ntq?w=245\x26amp;h=225\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么是变量提升？\x3c\/h2\x3e\n\x3cp\x3eJavaScript引擎用“var”处理所有变量声明，不管在哪里声明，最后都会在函数作用域顶端（如果在函数内部声明）或则在全局作用域顶端（在函数外部声明）。这就是“提升”。\x3cbr\x3e因此变量实际上可能在声明它之前就已经被引擎获得了。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV0Nur?w=460\x26amp;h=196\x22 src=\x22https:\/\/static.alili.tech\/img\/bV0Nur?w=460\x26amp;h=196\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在实际操作中看看效果..\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ OUTPUT : undefined\nconsole.log(shape);\nvar shape = square;\n\/\/ OUTPUT : square\nconsole.log(shape);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ OUTPUT : undefined\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(shape);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e shape = square;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ OUTPUT : square\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(shape);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你来自C语言，你认为在第一个console.log那里就会抛出变量未定义的错误。但JavaScript解释器预感和“提升”所有变量声明到作用域顶端，并且在那进行初始化。\x3cbr\x3e下面演示实际发生了什么：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/declaration getting hoisted at the top\nvar shape;\n\/\/ OUTPUT : undefined\nconsole.log(shape);\nshape = square;\n\/\/ OUTPUT : square\nconsole.log(shape);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/declaration getting hoisted at the top\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e shape;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ OUTPUT : undefined\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(shape);\nshape = square;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ OUTPUT : square\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(shape);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e另一个例子是用函数作用域来更清楚的展示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 function getShape(condition) {\n    \/\/ shape exists here with a value of undefined\n    \/\/ OUTPUT : undefined\n    console.log(shape);\n    if (condition) {\n        var shape = square;\n        \/\/ some other code\n        return shape;\n    } else {\n        \/\/ shape exists here with a value of undefined\n        return false;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetShape\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econdition\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ shape exists here with a value of undefined\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ OUTPUT : undefined\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(shape);\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (condition) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e shape = square;\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ some other code\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e shape;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ shape exists here with a value of undefined\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的例子可以看出shape声明被提升到了“getShape”函数作用域的顶端。这是因为“if\/else” 不能像其他语言那样，创建局部作用域。在JavaScript里，函数作用域实际上就是局部作用域了。因此，“shape”可以在if块之外，函数作用域内任意访问，且值为“undefined”。\x3c\/p\x3e\n\x3cp\x3eJavaScript的这个默认行为，既是优点，又是缺点。没有完全掌握的话，会给我们的代码带来细微且危险的bugs。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e进入块级作用域！\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV0Nvp?w=456\x26amp;h=308\x22 src=\x22https:\/\/static.alili.tech\/img\/bV0Nvp?w=456\x26amp;h=308\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3eES6 引入了块级作用域，这让开发者对变量有了更多的控制，且让变量有灵活的生命周期。\x3cbr\x3e块级声明在块级\/词法作用域里面声明，他们在“{}”中被创建。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3elet声明\x3c\/h2\x3e\n\x3cp\x3e“let”语法跟“var”相似，只是用“let”标识符来替换“var”标识符进行变量声明，其作用域范围仅仅在声明的那个代码块。\x3cbr\x3elet声明放在块的顶端，因此只能在那个块级作用域中访问。\x3cbr\x3e举例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getShape(condition) {\n  \/\/ shape doesn\x27t exist here\n  \/\/ console.log(shape); ReferenceError: shape is not defined\n  if (condition) {\n    let shape = square;\n    \/\/ some other code\n    return shape;\n  } else {\n    \/\/ shape doesn\x27t exist here as well\n    return false;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetShape\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econdition\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ shape doesn\x27t exist here\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ console.log(shape); ReferenceError: shape is not defined\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (condition) {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e shape = square;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ some other code\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e shape;\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ shape doesn\x27t exist here as well\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意shape只存在if块中，当在if块外面访问时会抛出一个错误，而不是象我们之前用var声明那样输出“undefined”。\x3cbr\x3e提示：在同一个作用域内，如果已经使用var标识符声明了变量，同时又用let标识符声明同名变量时会抛出错误。\x3cbr\x3e但是，如果在let声明的变量作用域外，声明同名变量是不会报错的。（这种情况也同样适用于我们即将谈论的const声明。）\x3cbr\x3e举例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var shape = square;\n\nlet shape = rectangle;\n\/\/ SyntaxError: Identifier \x27shape\x27 has already been declared\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e shape = square;\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e shape = rectangle;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError: Identifier \x27shape\x27 has already been declared\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e和\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var shape = square;\nif (condition) {\n  \/\/ doesn\x27t throw an error\n  let shape = rectangle;\n  \/\/ more code \n}\n\/\/ No error\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e shape = square;\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (condition) {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ doesn\x27t throw an error\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e shape = rectangle;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ more code \x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ No error\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3econst声明\x3c\/h2\x3e\n\x3cp\x3econst声明语法与let和var相似，生命周期与let相同，但你还要注意一些规则。\x3cbr\x3e用const声明的变量将像\x3cstrong\x3e常量\x3c\/strong\x3e看待，因此\x3cstrong\x3e它们的值在定义后是不可以修改的\x3c\/strong\x3e。由于这样，每个const变量都\x3cstrong\x3e必须在声明的同时进行初始化\x3c\/strong\x3e。\x3cbr\x3e举例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ valid \nconst shape = triangle;\n\/\/ syntax error: missing initialization\nconst color;\n\/\/ TypeError: Assignment to constant variable\nshape = square;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ valid \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e shape = triangle;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ syntax error: missing initialization\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e color;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ TypeError: Assignment to constant variable\x3c\/span\x3e\nshape = square;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e然而\x3c\/strong\x3e，这个规则在声明对象时有点不同。对象属性的值可以被修改！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 const shape = {\n    name: triangle,\n    sides: 3\n}\n\/\/ WORKS\nshape.name = square;\nshape.sides = 4;\n\/\/ SyntaxError: Invalid shorthand property initializer\nshape = {\n    name: hexagon,\n    sides: 6\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e shape = {\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: triangle,\n    \x3cspan class=\x22hljs-attr\x22\x3esides\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ WORKS\x3c\/span\x3e\nshape.name = square;\nshape.sides = \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError: Invalid shorthand property initializer\x3c\/span\x3e\nshape = {\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: hexagon,\n    \x3cspan class=\x22hljs-attr\x22\x3esides\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在上面的例子中，我们可以看到shape对象属性的值可以被修改，因为我们只改变shape包含的,而不是它本身。\x3cbr\x3e我们可以总结说，const可以防止整个绑定的修改，而不是绑定的值。\x3cbr\x3e提示：属性可以改变。所以对于真正不可变的，请使用\x3cem\x3eImmutable.js\x3c\/em\x3e或\x3cem\x3eMori\x3c\/em\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e暂时性死区\x3c\/h2\x3e\n\x3cp\x3e我们都知道，如果我们在使用let，const声明定义的变量之前就使用这些变量，会抛出ReferenceError错误。 在进入作用域和不能访问的这段时间，我们称为暂时性死区。\x3cbr\x3e提示：“暂时性死区”不是ECMAScript规范里的正式定义，它只是在程序员中广为流行而已。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV0Nxg?w=245\x26amp;h=245\x22 src=\x22https:\/\/static.alili.tech\/img\/bV0Nxg?w=245\x26amp;h=245\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我个人推荐总是使用const，因为它不容易出错。我还没遇到需要使用var的情况。\x3cbr\x3e作为基本规则，只在循环计数器中，或则你真的需要给变量从新赋值时用let。其他地方，用const。我已经放弃使用循环，转而选择使用filter,map,reduce等方法。你也应该如此。\x3c\/p\x3e\n\x3cp\x3e后记，此作者还有一篇关于方法提升的文章，到时候在搬来。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>译：用let 和 const 来指导JavaScript 的变量提升</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012544497">https://segmentfault.com/a/1190000012544497</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/2mpfdcy0nud/" target="_blank">https://alili.tech/archive/2mpfdcy0nud/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>