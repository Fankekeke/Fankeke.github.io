<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Electron开发初体验"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Electron开发初体验 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/2vknppsxd7d/",
				"appid": "1613049289050283", 
				"title": "Electron开发初体验 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-10T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/g56pd1r6omk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/jih1hq1cf37/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&text=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&text=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&title=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&is_video=false&description=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&title=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&title=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&title=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2vknppsxd7d%2f&title=Electron%e5%bc%80%e5%8f%91%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Electron开发初体验</h1><div class="meta"><div class="postdate"><time datetime="2018-12-10" itemprop="datePublished">2018-12-10</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e需求背景\x3c\/h2\x3e\n\x3cp\x3e平时总会写markdown，markdown整体语法用起来很方便，但依然有晦涩的地方，比如表格。markdown的表格语法写起来很容易出错，而且每行每列单元格里的内容长短不一编辑器里就很容易乱掉，所以我在写表格时候都是借助\x3ca href=\x22https:\/\/www.tablesgenerator.com\/markdown_tables\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTables Generator\x3c\/a\x3e来写的，但是这个网站不能保存多个模板，每次写不同的表格都要把列数，表头信息来回改，很麻烦，于是打算自己照着Table Generator写一个简单的，能保存表头信息的东西出来。先看一哈大致的样子：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013685325?w=2000\x26amp;h=1120\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013685325?w=2000\x26amp;h=1120\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e动手前的思考\x3c\/h2\x3e\n\x3cp\x3e最初在考虑的是要不要写一个差不多的简单的页面，但是我个人不太喜欢总开新的tab来回切换，所以突然想到可以做成一个简单的桌面应用，想用的时候可以直接从Dock启动，而且Electron有了解过但没实际用过，也可以尝尝鲜，就决定用Electron直接做成一个小应用了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e工程搭建\x3c\/h2\x3e\n\x3cp\x3e在这个\x22不用脚手架不舒服\x22 \x2b \x22不用框架不舒服\x22的时代，搭建工程当然是选择一款靠谱的脚手架了，开发环境 \x2b 打包构建都能通过命令行搞定，极大程度地节省了时间，感谢开源贡献者吧~这里我选择了\x3ca href=\x22https:\/\/github.com\/SimulatedGREG\/electron-vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eelectron-vue\x3c\/a\x3e这个模板，基于vue-cli的，初始化项目很简单，直接执行:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22vue init simulatedgreg\/electron-vue my-project\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3evue init simulatedgreg\/electron-vue \x3cspan class=\x22hljs-keyword\x22\x3emy\x3c\/span\x3e-project\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后根据提示输入完项目名，项目描述，依赖和构建工具(\x3ccode\x3eelectron-builder\x3c\/code\x3e或者\x3ccode\x3eelectron-packager\x3c\/code\x3e)后，一个项目就搭建完成了，进入目录执行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn \x26amp;\x26amp; yarn dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nginx\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3eyarn\x3c\/span\x3e \x26amp;\x26amp; yarn dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后项目就以开发模式运行起来了\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013685326?w=2000\x26amp;h=1170\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013685326?w=2000\x26amp;h=1170\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e后续的开发工作，如果你的应用对于系统级别的API需求不大，事实上和开发网页的体验并没有什么区别。比如我要完成的这个小工具就和开发网页的体验差不多。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e核心概念\x3c\/h2\x3e\n\x3cp\x3e实现的思路比较简单：为表格的每一个单元格设置\x3ccode\x3econtenteditable\x3c\/code\x3e，这样整个表格的内容都是可以随意编辑的，然后再通过\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/MutationObserver\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMutationObserver\x3c\/a\x3e监听表格内容的变化，构造出正确的数据结构即可。\x3c\/p\x3e\n\x3cp\x3e为th和td添加 contenteditable 使其内容可以编辑：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctable id=\x26quot;table\x26quot;\x3e\n    \x3ctbody\x3e\n      \x3ctr\x3e\n        \x3cth class=\x26quot;col-mark\x26quot;\x3e\x3c\/th\x3e\n        \x3cth data-row=\x26quot;0\x26quot; :data-col=\x26quot;index\x26quot; v-title=\x26quot;item.text\x26quot;\n          v-for=\x26quot;(item, index) in columns\x26quot; :key=\x26quot;item.key\x26quot; contenteditable\n          :class=\x26quot;{\x27active\x27: index === acCol}\x26quot;\n        \x3e\x3c\/th\x3e\n      \x3c\/tr\x3e\n    \x3c\/tbody\x3e\n\x3c\/table\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etable\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22table\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etbody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etr\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eth\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22col-mark\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eth\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eth\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edata-row\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:data-col\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22index\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-title\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.text\x22\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22(item, index) in columns\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:key\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.key\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtenteditable\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{\x27active\x27: index === acCol}\x22\x3c\/span\x3e\n        \x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eth\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etr\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etbody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etable\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在渲染完成后使用MutationObserver监听变化：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22mounted () {\n    this.targetNode = document.getElementById(\x27table\x27)\n    \/\/ this.handleMutation是具体处理回调\n    this.observer = new MutationObserver(this.handleMutation)\n    this.observer.observe(this.targetNode, this.config)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3emounted () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.targetNode = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27table\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this.handleMutation是具体处理回调\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.observer = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e MutationObserver(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMutation)\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.observer.observe(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.targetNode, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.config)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的MutationObserver的配置是\x3ccode\x3e{ subtree: true, characterData: true, childList: true }\x3c\/code\x3e作用分别是：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3echaracterData: 目标的数据被修改时触发，比如直接编辑td,th里的内容时，就是对其\x3ccode\x3etextContent\x3c\/code\x3e的修改。\x3c\/li\x3e\n\x3cli\x3esubtree: 使MutationObserver也能响应后代元素内容的变化，因为我们只在table上绑定一个MutationObserver，所以使用这个属性。\x3c\/li\x3e\n\x3cli\x3echildList: 目标(包括后代节点)的子元素(包括文本元素)添加或者被删除时触发。比如单元格中的内容从无到有和从有到无的两种边界情况。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e核心概念主要就用到了这两个概念，样式上选择了\x3ca href=\x22https:\/\/github.com\/papercss\/papercss\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epapercss\x3c\/a\x3e，简单的功能搭配简洁的风格。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e复制到剪贴板\x3c\/h2\x3e\n\x3cp\x3e表格信息写好之后，最后的功能就是生成对应的markdown内容然后复制到粘贴板了。Electron提供了\x3ccode\x3eclipboard API\x3c\/code\x3e，直接调用\x3ccode\x3eclipboard.writeText\x3c\/code\x3e就能把内容写入粘贴板：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { clipboard } from \x27electron\x27\n\nlet text = \x27xxx\x27\nclipboard.writeText(text)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { clipboard } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27electron\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e text = \x3cspan class=\x22hljs-string\x22\x3e\x27xxx\x27\x3c\/span\x3e\nclipboard.writeText(text)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里复制成功后可以给出一个提示信息，我们在Electron开发的内容一般是在render进程的，在render进程中可以直接使用HTML5 Notification API来实现提示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let myNotification = new Notification(\x27Table Generator\x27, {\n    body: \x27Copy successfully~\x27\n})\nsetTimeout(() =\x3e {\n    myNotification.close()\n}, 2000)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e myNotification = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Notification(\x3cspan class=\x22hljs-string\x22\x3e\x27Table Generator\x27\x3c\/span\x3e, {\n    \x3cspan class=\x22hljs-attr\x22\x3ebody\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Copy successfully~\x27\x3c\/span\x3e\n})\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    myNotification.close()\n}, \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e实际效果为一个两秒后自动消失的提示框：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013685327?w=1442\x26amp;h=696\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013685327?w=1442\x26amp;h=696\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e主进程与渲染进程的通信\x3c\/h2\x3e\n\x3cp\x3e这里要实现的效果是通过自定义的快捷键删除左侧模板列表中的模板，但是快捷键注册只能在主进程通过\x3ccode\x3eglobalShortcut\x3c\/code\x3e注册，而对于删除行为的响应(二次确认的弹窗)是在渲染进程，所以设计到了主进程和渲染进程的通信。\x3c\/p\x3e\n\x3cp\x3e渲染进程是主进程中创建的一个\x3ccode\x3eBrowserWindow\x3c\/code\x3e实例，实例的\x3ccode\x3ewebContents\x3c\/code\x3e属性是对渲染进程的引用，所以主进程可以直接通过\x3ccode\x3ewebContents\x3c\/code\x3e发送事件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 创建的渲染进程\nmainWindow = new BrowserWindow({\n    height: 560,\n    minHeight: 450,\n    width: 1000,\n    minWidth: 760,\n    titleBarStyle: \x27hiddenInset\x27,\n    show: false,\n    backgroundColor: \x27#fff\x27\n})\n\/\/ 注册快捷键\nglobalShortcut.register(\x27Cmd\x2bD\x27, () =\x3e {\n    \/\/ 直接通过mainWindow.webContents发送事件\n    mainWindow.webContents.send(\x27del-tpl\x27)\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建的渲染进程\x3c\/span\x3e\nmainWindow = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e BrowserWindow({\n    \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e560\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eminHeight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e450\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eminWidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e760\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etitleBarStyle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hiddenInset\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eshow\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ebackgroundColor\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27#fff\x27\x3c\/span\x3e\n})\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注册快捷键\x3c\/span\x3e\nglobalShortcut.register(\x3cspan class=\x22hljs-string\x22\x3e\x27Cmd\x2bD\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 直接通过mainWindow.webContents发送事件\x3c\/span\x3e\n    mainWindow.webContents.send(\x3cspan class=\x22hljs-string\x22\x3e\x27del-tpl\x27\x3c\/span\x3e)\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而在对应的render进程，可以通过\x3ccode\x3eipcRenderer\x3c\/code\x3e监听消息：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ipcRenderer.on(\x27del-tpl\x27, () =\x3e {\n  \/\/ 触发modal弹出\n  this.$refs[\x27del-btn\x27].click()\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eipcRenderer.on(\x3cspan class=\x22hljs-string\x22\x3e\x27del-tpl\x27\x3c\/span\x3e, () =\x26gt; {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 触发modal弹出\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs[\x3cspan class=\x22hljs-string\x22\x3e\x27del-btn\x27\x3c\/span\x3e].click()\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e一些简单的优化\x3c\/h2\x3e\n\x3cp\x3e事实上通过一些简单的配置，就可以让你的应用体验更好：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e创建无边框窗口：无边框窗口会让应用整体变得更美观，在创建BrowserWindow时通过\x3ccode\x3etitleBarStyle: \x27hiddenInset\x27\x3c\/code\x3e实现(针对Mac系统)\x3c\/li\x3e\n\x3cli\x3e在创建BrowserWindow时通过\x3ccode\x3eshow: false\x3c\/code\x3e隐藏窗口,在\x3ccode\x3e\x27ready-to-show\x27\x3c\/code\x3e事件触发时手动调用窗口实例的\x3ccode\x3eshow()\x3c\/code\x3e方法，保证窗口渲染完再展示。\x3c\/li\x3e\n\x3cli\x3e通过将窗口背景颜色设置成渲染进程背景一样的颜色，让应用显得更快。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e本次初步的尝试并没有用到太多系统级别的API，基本和开发Web页面体验一样，文中提到的API和优化点都是文档上可以找到的，本次实践只是对Electron的一次涉猎，后续可以考虑将各种操作和提示都迁移到原生的API，或者再加入其它功能，不过用来生成markdown内容“初心”已经达到了~\x3c\/p\x3e\n\x3cp\x3e源码在\x3ca href=\x22https:\/\/github.com\/showonne\/md-table-generator\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGayHub\x3c\/a\x3e上，有兴趣的同学也可以自己安装依赖构建体验一哈，顺便点个star~最后，我们在招前端开发，欢迎投递简历至\x3ca href=\x22mailto:hzchenjinghui@corp.netease.com\x22\x3ehzchenjinghui@corp.netease.com\x3c\/a\x3e!\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Electron开发初体验</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013685320">https://segmentfault.com/a/1190000013685320</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/2vknppsxd7d/" target="_blank">https://alili.tech/archive/2vknppsxd7d/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>