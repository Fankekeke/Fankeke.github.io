<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="基于webpack模仿vue-cli（简略版）工程化"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>基于webpack模仿vue-cli（简略版）工程化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/3fnvum00wb2/",
				"appid": "1613049289050283", 
				"title": "基于webpack模仿vue-cli（简略版）工程化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-15T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/6evszfrp1g/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/yfw1b0q65c/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&text=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&text=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&title=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&is_video=false&description=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&title=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&title=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&title=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f3fnvum00wb2%2f&title=%e5%9f%ba%e4%ba%8ewebpack%e6%a8%a1%e4%bb%bfvue-cli%ef%bc%88%e7%ae%80%e7%95%a5%e7%89%88%ef%bc%89%e5%b7%a5%e7%a8%8b%e5%8c%96"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">基于webpack模仿vue-cli（简略版）工程化</h1><div class="meta"><div class="postdate"><time datetime="2018-12-15" itemprop="datePublished">2018-12-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e从零搭建vue-cli\x3c\/h2\x3e\n\x3cp\x3e\x3cem\x3e原创不易，如需转载请联系作者并注明出处\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3evue-cli的出现为vue工程化前端开发工作流提供了开箱即用的构建配置，减轻了烦人的webpack配置流程。但高度封装的cli带来方便的同时，很多人却很少去关注轮子的内部结构，以至于当使用vue-cli需要手动配置一些东西（如编译less,scss,实现代码压缩，移动端适配等配置）的时候往往无从下手。废话不多说，下面我们来看看如何基于webpack模仿vue-cli实现vue项目工程化。\x3c\/p\x3e\n\x3cblockquote\x3e如果本demo对你学习和理解vue-cli有帮助，请给我个star~~谢谢\x3cbr\x3e本demo github地址: \x3ca\x3e\x3c\/a\x3e\x3ca href=\x22https:\/\/github.com\/hedonghui\/vue-cli-demo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hedonghui\/...\x3c\/a\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e目录\x3c\/h2\x3e\n\x3cp\x3e1.webpack初始化及webpack周边相关配置\x3cbr\x3e2.静态资源加载及css与处理器\x3cbr\x3e3.webpack-dev-server及开发模式相关配置\x3cbr\x3e4.配置vue的jsx写法及postcss相关\x3cbr\x3e5.css单独分离打包\x3cbr\x3e6.代码分离及生产环境浏览器缓存相关\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e通过webpack搭建vue工程\x3c\/h2\x3e\n\x3cp\x3e首先我们来看看本文章demo完成后的整体packgage.json的包依赖结构：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV27UJ?w=1108\x26amp;h=848\x22 src=\x22https:\/\/static.alili.tech\/img\/bV27UJ?w=1108\x26amp;h=848\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e下面我们来对这里面的所有包作用进行大体分析：\x3cbr\x3e(本demo将不同环境webpack相关配置写在同一个config.js，packgage.js里基本不区分dependencies devDependencies，有异与 vue-cli官方将不同环境配置分开不同文件的方式，,读者可以根据webpack官\x3cbr\x3e方文档推荐的\x3ca\x3ewebpack-merge工具\x3c\/a\x3e并参考vue-cli源码进行相关配置。\x3cstrong\x3e对于学习无伤大雅\x3c\/strong\x3e)\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3evue相关初始化\x3c\/h3\x3e\n\x3cp\x3e首先新建一个文件夹，打开命令行窗口进行 npm init 初始化\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV271E?w=554\x26amp;h=52\x22 src=\x22https:\/\/static.alili.tech\/img\/bV271E?w=554\x26amp;h=52\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e先来看看安装的这几个包：\x3c\/p\x3e\n\x3cblockquote\x3e1.webpack---------此处省略200字\x3cbr\x3e2.vue-----------Vue包\x3cbr\x3e3.css-loader--------------处理打包css文件\x3cbr\x3e4.vue-loader---------------处理打包.vue文件(依赖于css-loader, vue-template-compiler)\x3cbr\x3e5.vue-template-compiler ----------------处理vue模板\x26lt;template\x26gt;\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3ewebpack.config.js相关配置\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV276S?w=1447\x26amp;h=802\x22 src=\x22https:\/\/static.alili.tech\/img\/bV276S?w=1447\x26amp;h=802\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e目前我们装了vue相关的几个包，并在webpack.config.js里面配置了打包入口和出口相关的内容，接着我们去配置以下package.json下script脚本以启动我们的webpack打包\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV2779?w=1234\x26amp;h=415\x22 src=\x22https:\/\/static.alili.tech\/img\/bV2779?w=1234\x26amp;h=415\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e细心的朋友应该已经发现了我们配置了build和dev两个选项来区分生产环境和开发环境。其实在vue-cli或者其他的webpack相关搭建的工程中，单纯的将html,css,js代码打包到一起远远不能满足我们的需求，因此，webpack为我们提供了丰富的插件和相关配置来实现\x3cstrong\x3e代码分割\x3c\/strong\x3e、\x3cstrong\x3e类库代码与业务代码分开打包\x3c\/strong\x3e、\x3cstrong\x3e模块热替换\x3c\/strong\x3e、\x3cstrong\x3ebabel转码\x3c\/strong\x3e、\x3cstrong\x3ewebpack-dev-server\x3c\/strong\x3e、\x3cstrong\x3ecss预处理\x3c\/strong\x3e等相关功能。\x3c\/p\x3e\n\x3cp\x3e**\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e下面我们逐一来看这这个东西的配置与实现\x3c\/h2\x3e\n\x3cp\x3e**\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3ecross-env\x3c\/h2\x3e\n\x3cp\x3e由于我们的webpack.config都写在同一个配置文件里面，在实现生产环境和开发环境中针对不同操作系统开发平台的不同，我们引入cross-env来实现同意管理，通过在webpack.config.js中判断是否为开发模式进行不同的配置\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28ch?w=948\x26amp;h=262\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28ch?w=948\x26amp;h=262\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28bp?w=795\x26amp;h=351\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28bp?w=795\x26amp;h=351\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3ewebpack-dev-server 与热更新 (一个微服务)\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28cZ?w=762\x26amp;h=654\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28cZ?w=762\x26amp;h=654\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3ebabel以及postcss相关配置\x3c\/h2\x3e\n\x3cp\x3ebabel是一个能将jsx以及es6等转码成javascript代码的转码工具，vue2后支持jsx写法，我们在webpack中也引入babel babel-loader等相关，使其能将vue中的jsx转码。babel相关配置在babelrc文件中，如下\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28gd?w=939\x26amp;h=628\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28gd?w=939\x26amp;h=628\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在这个demo的babel配置中，我们只配置了两个基本项，可以对比下vue-cli中更多的相关配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n\/\/这里是指明了转码规则env项是借助插件babel-preset-env，下面这个配置说的是babel对es6,es7,es8进行转\n\/\/码，并且设置amd,commonjs这样的模块化文件，不进行转码\n  \x26quot;presets\x26quot;: [\n    [\x26quot;env\x26quot;, {\n      \x26quot;modules\x26quot;: false,\n      \x26quot;targets\x26quot;: {\n        \x26quot;browsers\x26quot;: [\x26quot;\x3e 1%\x26quot;, \x26quot;last 2 versions\x26quot;, \x26quot;not ie \x3c= 8\x26quot;]\n      }\n    }],\n    \x26quot;stage-2\x26quot;\n  ],\n\/\/ 下面这个选项是引用插件来处理代码的转换，transform-runtime用来处理全局函数和优化babel编译\n\/\/transform-vue-jsx 顾名思义是 transform vue-jsx  to javascript\n\/\/至于下面test 是提前设置的环境变量，如果没有设置BABEL_ENV则使用NODE_ENV，如果都没有设置默认\n\/\/就是development,  instanbul是一个用来测试转码后代码的工具\n  \x26quot;plugins\x26quot;: [\x26quot;transform-vue-jsx\x26quot;, \x26quot;transform-runtime\x26quot;],\n  \x26quot;env\x26quot;: {\n    \x26quot;test\x26quot;: {\n      \x26quot;presets\x26quot;: [\x26quot;env\x26quot;, \x26quot;stage-2\x26quot;],\n      \x26quot;plugins\x26quot;: [\x26quot;transform-vue-jsx\x26quot;, \x26quot;transform-es2015-modules-commonjs\x26quot;, \x26quot;dynamic-import-node\x26quot;]\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clojure\x22\x3e\x3ccode\x3e{\n\/\/这里是指明了转码规则env项是借助插件babel-preset-env，下面这个配置说的是babel对es6,es7,es8进行转\n\/\/码，并且设置amd,commonjs这样的模块化文件，不进行转码\n  \x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    [\x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22modules\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x22targets\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-string\x22\x3e\x22browsers\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22\x26gt; 1%\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22last 2 versions\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22not ie \x26lt;= 8\x22\x3c\/span\x3e]\n      }\n    }],\n    \x3cspan class=\x22hljs-string\x22\x3e\x22stage-2\x22\x3c\/span\x3e\n  ],\n\/\/ 下面这个选项是引用插件来处理代码的转换，transform-runtime用来处理全局函数和优化babel编译\n\/\/transform-vue-jsx 顾名思义是 transform vue-jsx  to javascript\n\/\/至于下面test 是提前设置的环境变量，如果没有设置BABEL_ENV则使用NODE_ENV，如果都没有设置默认\n\/\/就是development,  instanbul是一个用来测试转码后代码的工具\n  \x3cspan class=\x22hljs-string\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22transform-vue-jsx\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22transform-runtime\x22\x3c\/span\x3e],\n  \x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22stage-2\x22\x3c\/span\x3e],\n      \x3cspan class=\x22hljs-string\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22transform-vue-jsx\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22transform-es2015-modules-commonjs\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22dynamic-import-node\x22\x3c\/span\x3e]\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3e看晕了没？单单一个babelrc配置文件就有那么多配置\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e不虚！\x3c\/strong\x3e本demo只是配置了基本重要项能实现大部分功能(其实关键在于让你大体理解vue-cli这个轮子是怎么构建起来的)\x3c\/p\x3e\n\x3cblockquote\x3e我们继续往下看\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3epostcss.config.js\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3epostcss.config.js主要用来配置css相关的内容\x3c\/li\x3e\n\x3cli\x3e在vue-cli里面默认有三个插件postcss-import postcss-url autoprefixer（我这里只弄了一个）\x3c\/li\x3e\n\x3cli\x3e在这个文件里我们还可以配置移动端适配相关的东西，通过引入一些插件可以自动化为我们处理屏幕适配\x3c\/li\x3e\n\x3cli\x3e问题，具体内容我就不在这里展开\x3c\/li\x3e\n\x3cli\x3e相关文章可以看看这篇：\x3ca href=\x22https:\/\/www.w3cplus.com\/mobile\/vw-layout-in-vue.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.w3cplus.com\/mobil...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28mT?w=1153\x26amp;h=641\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28mT?w=1153\x26amp;h=641\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e代码分离以及做浏览器缓存\x3c\/h2\x3e\n\x3cp\x3ewebpack是一个一切以js为中心的打包工具，但是在生产模式中将所有东西都打包到bundlejs里面不利于做浏览器\x3cbr\x3e缓存,类库文件都是大牛们造给广大码农的轮子，其稳定性高、可靠，所以在生产环境中可以进行浏览器缓存，不必跟随着业务代码经常更新，减少网络请求资料的消耗，webpack官方为我们提供一个叫extract-text-webpack-plugin插件来分离css样式，同时vue-cli里面还对类库代码（如vue.js），webpack相关代码与我们的业务代码进行分离，这里起作用的是这两个东东：\x3cstrong\x3enew webpack.optimize.CommonsChunkPlugin()\x3c\/strong\x3e \x26nbsp; \x26nbsp; \x3cstrong\x3enew webpack.optimize.CommonsChunkPlugin()\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e我们来看一看本demo中production相关的配置:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28sP?w=1249\x26amp;h=895\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28sP?w=1249\x26amp;h=895\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28ti?w=1034\x26amp;h=457\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28ti?w=1034\x26amp;h=457\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3ch2 id=\x22articleHeader11\x22\x3e最后来总结一下\x3c\/h2\x3e\x3c\/blockquote\x3e\n\x3cp\x3e其实vue-cli总体上来说是为我们配置了\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e开发环境下的 webpack-dev-server及热更新babel、懒加载、样式打包等\x3c\/li\x3e\n\x3cli\x3e生产环境下的分离打包，单独打包，根据chunkhash处理浏览器缓存,代码压缩等\x3c\/li\x3e\n\x3cli\x3e当然在vue-cli中还有关于eslint相关的代码规范配置在本文中没有讲到(其实是不太会)\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e最后本demo还有关于懒加载以及代码压缩部分需要去完善，其实简单的代码压缩也就几行代码\x3cbr\x3e下面附上webpack官方文档的小示例：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV28yc?w=728\x26amp;h=655\x22 src=\x22https:\/\/static.alili.tech\/img\/bV28yc?w=728\x26amp;h=655\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e至于...懒加载..我再琢磨琢磨（逃\x3c\/p\x3e\n\x3cp\x3e本demo源码在这里[  [1]: \x3ca href=\x22https:\/\/github.com\/hedonghui\/vue-cli-demo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hedonghui\/...\x3c\/a\x3e][1]\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>基于webpack模仿vue-cli（简略版）工程化</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013102021">https://segmentfault.com/a/1190000013102021</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/3fnvum00wb2/" target="_blank">https://alili.tech/archive/3fnvum00wb2/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>