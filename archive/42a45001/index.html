<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何在 Ubuntu 18.04 服务器上安装和配置 KVM"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何在 Ubuntu 18.04 服务器上安装和配置 KVM | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/42a45001/",
				"appid": "1613049289050283", 
				"title": "如何在 Ubuntu 18.04 服务器上安装和配置 KVM | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-10-18T00:00:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/6216c0b2/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/d3f22047/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f42a45001%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f42a45001%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%2018.04%20%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae%20KVM"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何在 Ubuntu 18.04 服务器上安装和配置 KVM</h1><div class="meta"><div class="postdate"><time datetime="2018-10-18" itemprop="datePublished">2018-10-18</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#如何在-ubuntu-1804-服务器上安装和配置-kvm\x22\x3e\x3c\/a\x3e如何在 Ubuntu 18.04 服务器上安装和配置 KVM\x3c\/h1\x3e\n\x3cp\x3e\x3cstrong\x3eKVM\x3c\/strong\x3e（基于内核的虚拟机）是一款为类 Linux 系统提供的开源的全虚拟化解决方案，KVM 使用虚拟化扩展（如 \x3cstrong\x3eIntel VT\x3c\/strong\x3e 或 \x3cstrong\x3eAMD-V\x3c\/strong\x3e）提供虚拟化功能。无论何时我们在任何 Linux 机器上安装 KVM，都会通过加载诸如 \x3ccode\x3ekvm-intel.ko\x3c\/code\x3e（基于 Intel 的机器）和 \x3ccode\x3ekvm-amd.ko\x3c\/code\x3e（基于 amd 的机器）的内核模块，使其成为管理程序hyervisor（LCTT 译注：一种监控和管理虚拟机运行的核心软件层）。\x3c\/p\x3e\n\x3cp\x3eKVM 允许我们安装和运行多个虚拟机（Windows 和 Linux）。我们可以通过 \x3ccode\x3evirt-manager\x3c\/code\x3e 的图形用户界面或使用 \x3ccode\x3evirt-install\x3c\/code\x3e 和 \x3ccode\x3evirsh\x3c\/code\x3e 命令在命令行界面来创建和管理基于 KVM 的虚拟机。\x3c\/p\x3e\n\x3cp\x3e在本文中，我们将讨论如何在 Ubuntu 18.04 LTS 服务器上安装和配置 \x3cstrong\x3eKVM 管理程序\x3c\/strong\x3e。我假设你已经在你的服务器上安装了 Ubuntu 18.04 LTS 。接下来登录到您的服务器执行以下步骤。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#第一步确认您的硬件是否支持虚拟化\x22\x3e\x3c\/a\x3e第一步：确认您的硬件是否支持虚拟化\x3c\/h3\x3e\n\x3cp\x3e执行 \x3ccode\x3eegrep\x3c\/code\x3e 命令以验证您的服务器的硬件是否支持虚拟化，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3eegrep -c \x3cspan class=\x22hljs-string\x22\x3e\x27(vmx|svm)\x27\x3c\/span\x3e \/proc\/cpuinfo\n\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果输出结果大于 0，就意味着您的硬件支持虚拟化。重启，进入 BIOS 设置中启用 VT 技术。\x3c\/p\x3e\n\x3cp\x3e现在使用下面的命令安装 \x3ccode\x3ekvm-ok\x3c\/code\x3e 实用程序，该程序用于确定您的服务器是否能够运行硬件加速的 KVM 虚拟机。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo apt install cpu-checker\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e运行 kvm-ok 命令确认输出结果，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo kvm-ok\n\x3cspan class=\x22hljs-symbol\x22\x3eINFO:\x3c\/span\x3e \/dev\/kvm exists\nKVM acceleration can be used\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#第二步安装-kvm-及其依赖包\x22\x3e\x3c\/a\x3e第二步：安装 KVM 及其依赖包\x3c\/h3\x3e\n\x3cp\x3e运行下面的 apt 命令安装 KVM 及其依赖项：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo apt update\nlinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo apt install qemu qemu-kvm libvirt-bin  bridge-utils  virt-manager\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e只要上图相应的软件包安装成功，那么你的本地用户（对于我来说是 \x3ccode\x3elinuxtechi\x3c\/code\x3e）将被自动添加到 \x3ccode\x3elibvirtd\x3c\/code\x3e 群组。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#第三步启动并启用-libvirtd-服务\x22\x3e\x3c\/a\x3e第三步：启动并启用 libvirtd 服务\x3c\/h3\x3e\n\x3cp\x3e我们在 Ubuntu 18.04 服务器上安装 qemu 和 libvirtd 软件包之后，它就会自动启动并启用 \x3ccode\x3elibvirtd\x3c\/code\x3e 服务，如果 \x3ccode\x3elibvirtd\x3c\/code\x3e 服务没有开启，则运行以下命令开启，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3elinuxtechi@kvm-ubuntu18-04:~$ sudo\x3cspan class=\x22hljs-built_in\x22\x3e service \x3c\/span\x3elibvirtd start\nlinuxtechi@kvm-ubuntu18-04:~$ sudo update-rc.d libvirtd \x3cspan class=\x22hljs-builtin-name\x22\x3eenable\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在使用下面的命令确认 libvirtd 服务的状态，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3elinuxtechi@kvm-ubuntu18-04:~$\x3cspan class=\x22hljs-built_in\x22\x3e service \x3c\/span\x3elibvirtd status\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e输出结果如下所示：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/5eed2515142d5155b6da6f9c485b2b645d026a90\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f6c696276697274642d636f6d6d616e642d7562756e747531382d30342e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01817a62ffd5931a33.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#第四步为-kvm-虚拟机配置桥接网络\x22\x3e\x3c\/a\x3e第四步：为 KVM 虚拟机配置桥接网络\x3c\/h3\x3e\n\x3cp\x3e只有通过桥接网络，KVM 虚拟机才能访问外部的 KVM 管理程序或主机。在Ubuntu 18.04中，网络由 \x3ccode\x3enetplan\x3c\/code\x3e 实用程序管理，每当我们新安装一个 Ubuntu 18.04 系统时，会自动创建一个名称为 \x3ccode\x3e\/etc\/netplan\/50-cloud-init.yaml\x3c\/code\x3e 文件，其配置了静态 IP 和桥接网络，\x3ccode\x3enetplan\x3c\/code\x3e 实用工具将引用这个文件。\x3c\/p\x3e\n\x3cp\x3e截至目前，我已经在此文件配置了静态 IP，文件的具体内容如下：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs yaml\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3enetwork:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  ethernets:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    ens33:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      addresses:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[192.168.0.51\/24]\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      gateway4:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e192.168\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      nameservers:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        addresses:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[192.168.0.1]\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      dhcp4:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eno\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      optional:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  version:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e我们在这个文件中添加桥接网络的配置信息，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs yaml\x22\x3e\x3cspan class=\x22hljs-string\x22\x3elinuxtechi@kvm-ubuntu18-04:~$\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3esudo\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3evi\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/etc\/netplan\/50-cloud-init.yaml\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-attr\x22\x3enetwork:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  version:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  ethernets:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    ens33:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      dhcp4:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eno\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      dhcp6:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eno\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-attr\x22\x3e  bridges:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    br0:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      interfaces:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[ens33]\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      dhcp4:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eno\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      addresses:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[192.168.0.51\/24]\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      gateway4:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e192.168\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      nameservers:\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        addresses:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[192.168.0.1]\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e正如你所看到的，我们已经从接口（\x3ccode\x3eens33\x3c\/code\x3e）中删除了 IP 地址，并将该 IP 添加到 \x3ccode\x3ebr0\x3c\/code\x3e 中，并且还将接口（\x3ccode\x3eens33\x3c\/code\x3e）添加到 \x3ccode\x3ebr0\x3c\/code\x3e。使用下面的 \x3ccode\x3enetplan\x3c\/code\x3e 命令使更改生效，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo netplan apply\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果您想查看 debug 日志请使用以下命令，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo netplan --debug  apply\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在使用以下方法确认网络桥接状态：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo networkctl status -a\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/bd0942617b2ae69472f7c6f72a5ea6a3c33748bc\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f6e6574776f726b63746c2d636f6d6d616e642d6f75747075742d7562756e747531382d30342e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t0130efc696d5fc938d.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3eifconfig\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/c1da7f3a64cf806a66dc10e2460483758769819b\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f6966636f6e6669672d636f6d6d616e642d6f75747075742d7562756e747531382d30342e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t012ecc41c4d97b2576.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#第五步创建虚拟机使用-virt-manager-或-virt-install-命令\x22\x3e\x3c\/a\x3e第五步：创建虚拟机（使用 virt-manager 或 virt-install 命令）\x3c\/h3\x3e\n\x3cp\x3e有两种方式创建虚拟机：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ccode\x3evirt-manager\x3c\/code\x3e（图形化工具）\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3evirt-install\x3c\/code\x3e（命令行工具）\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e\x3ca href=\x22#使用-virt-manager-创建虚拟机\x22\x3e\x3c\/a\x3e使用 virt-manager 创建虚拟机\x3c\/h4\x3e\n\x3cp\x3e通过执行下面的命令启动 \x3ccode\x3evirt-manager\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3elinuxtechi\x3cspan class=\x22hljs-variable\x22\x3e@kvm\x3c\/span\x3e-ubuntu18-\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:~\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3esudo virt-manager\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/9ab1267c73269667376a8073203016e1d219f765\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f53746172742d566972742d4d616e616765722d5562756e747531382d30342e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t011dabb74e2da1d7bc.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e创建一个新的虚拟机：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/2c052c748e23ec7a3304f56405d79655df6eb064\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f49534f2d66696c652d566972742d4d616e616765722e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t0156538c452ba96890.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e点击“下一步”然后选择 ISO 镜像文件，我使用的是 RHEL 7.3 iso 镜像。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/04eebcc4ffb07d13e72eee3c2693c77f186890f3\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f53656c6563742d49534f2d66696c652d766972742d6d616e616765722d5562756e747531382d30342d5365727665722e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t010a90999c8ad4c10b.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e点击“下一步”。\x3c\/p\x3e\n\x3cp\x3e在接下来的几个窗口中，系统会提示要求您为 VM 分配内存，处理器数量和磁盘空间。\x3c\/p\x3e\n\x3cp\x3e并指定虚拟机名字和桥接网络名：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/69ced8c4729dd98cd9fced21000c059dd344f791\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f564d2d4e616d652d4e6574776f726b2d566972742d4d616e616765722d5562756e747531382d30342e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01f79dfa34f8fb3ed9.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e点击“结束”。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/f5e7295413f0e10d83b0e0ca03800c2946308e64\/68747470733a2f2f7777772e6c696e757874656368692e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031382f30352f5248454c372d332d496e7374616c6c6174696f6e2d566972742d4d616e616765722e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01267b005da8d9ddf6.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e接下来只需要按照屏幕指示安装系统。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#使用virt-install命令从命令行界面创建虚拟机\x22\x3e\x3c\/a\x3e使用virt-install命令从命令行界面创建虚拟机\x3c\/h4\x3e\n\x3cp\x3e使用下面的 \x3ccode\x3evirt-install\x3c\/code\x3e 命令从终端创建一个虚拟机，它将在命令行界面中开始安装，并根据您对虚拟机的名字，说明，ISO 文件位置和桥接配置的设置创建虚拟机。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3elinuxtechi@kvm-ubuntu18-04:~$ sudo virt-install  -n DB-Server  \x3cspan class=\x22hljs-params\x22\x3e--description\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22Test VM for Database\x22\x3c\/span\x3e  \x3cspan class=\x22hljs-params\x22\x3e--os-type=Linux\x3c\/span\x3e  \x3cspan class=\x22hljs-params\x22\x3e--os-variant=rhel7\x3c\/span\x3e  \x3cspan class=\x22hljs-params\x22\x3e--ram=1096\x3c\/span\x3e  \x3cspan class=\x22hljs-params\x22\x3e--vcpus=1\x3c\/span\x3e  \x3cspan class=\x22hljs-params\x22\x3e--disk\x3c\/span\x3e path=\x3cspan class=\x22hljs-string\x22\x3e\/var\/lib\/libvirt\/images\/dbserver.img\x3c\/span\x3e,bus=virtio,size=10  \x3cspan class=\x22hljs-params\x22\x3e--network\x3c\/span\x3e bridge\x3cspan class=\x22hljs-function\x22\x3e:br0\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--graphics\x3c\/span\x3e none  \x3cspan class=\x22hljs-params\x22\x3e--location\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/home\/linuxtechi\/rhel-server-7.3-x86_64-dvd.iso\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--extra-args\x3c\/span\x3e console=ttyS0\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e本文到此为止，我希望这篇文章能帮助你能够在 Ubuntu 18.04 服务器上成功安装 KVM。 除此之外，KVM 也是 Openstack 默认的管理程序。\x3c\/p\x3e\n\x3cp\x3e阅读更多：“\x3ca href=\x22https:\/\/www.linuxtechi.com\/create-revert-delete-kvm-virtual-machine-snapshot-virsh-command\/\x22\x3e\x3cstrong\x3e如何使用 virsh 命令创建，还原和删除 KVM 虚拟机快照\x3c\/strong\x3e\x3c\/a\x3e”\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/www.linuxtechi.com\/install-configure-kvm-ubuntu-18-04-server\/\x22\x3ehttps:\/\/www.linuxtechi.com\/install-configure-kvm-ubuntu-18-04-server\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22http:\/\/www.linuxtechi.com\/author\/pradeep\/\x22\x3ePradeep Kumar\x3c\/a\x3e 选题：\x3ca href=\x22https:\/\/github.com\/lujun9972\x22\x3elujun9972\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/wyxplus\x22\x3ewyxplus\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>原文链接: <a href="https://www.zcfy.cc/article/how-to-install-and-configure-kvm-on-ubuntu-18-04-lts-server">https://www.zcfy.cc/article/how-to-install-and-configure-kvm-on-ubuntu-18-04-lts-server</a> 原文标题: 如何在 Ubuntu 18.04 服务器上安装和配置 KVM 本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2>本文链接：</h2><a href="https://alili.tech/archive/42a45001/" target="_blank">https://alili.tech/archive/42a45001/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>