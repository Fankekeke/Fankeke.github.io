<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何在 Ubuntu 上安装和优化 Apache"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何在 Ubuntu 上安装和优化 Apache | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/49bec1d6/",
				"appid": "1613049289050283", 
				"title": "如何在 Ubuntu 上安装和优化 Apache | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-10-22T00:00:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/3643cbd8/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/27b45adc/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f49bec1d6%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e5%ae%89%e8%a3%85%e5%92%8c%e4%bc%98%e5%8c%96%20Apache"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文链接">原文链接</a></li><li><a href="#原文标题">原文标题</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何在 Ubuntu 上安装和优化 Apache</h1><div class="meta"><div class="postdate"><time datetime="2018-10-22" itemprop="datePublished">2018-10-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#如何在-ubuntu-上安装和优化-apache\x22\x3e\x3c\/a\x3e如何在 Ubuntu 上安装和优化 Apache\x3c\/h1\x3e\n\x3cp\x3e这是我们的 LAMP 系列教程的开始：如何在 Ubuntu 上安装 Apache web 服务器。\x3c\/p\x3e\n\x3cp\x3e这些说明适用于任何基于 Ubuntu 的发行版，包括 Ubuntu 14.04、 Ubuntu 16.04、 \x3ca href=\x22https:\/\/thishosting.rocks\/ubuntu-18-04-new-features-release-date\/\x22\x3eUbuntu 18.04\x3c\/a\x3e，甚至非 LTS 的 Ubuntu 发行版，例如 Ubuntu 17.10。这些说明经过测试并为 Ubuntu 16.04 编写。\x3c\/p\x3e\n\x3cp\x3eApache (又名 httpd) 是最受欢迎和使用最广泛的 web 服务器，所以这应该对每个人都有用。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#开始安装-apache-之前\x22\x3e\x3c\/a\x3e开始安装 Apache 之前\x3c\/h3\x3e\n\x3cp\x3e在我们开始之前，这里有一些要求和说明：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eApache 可能已经在你的服务器上安装了，所以开始之前首先检查一下。你可以使用 \x3ccode\x3eapachectl -V\x3c\/code\x3e 命令来显示你正在使用的 Apache 的版本和一些其他信息。\x3c\/li\x3e\n\x3cli\x3e你需要一个 Ubuntu 服务器。你可以从 \x3ca href=\x22https:\/\/thishosting.rocks\/go\/vultr\/\x22\x3eVultr\x3c\/a\x3e 购买一个，它们是\x3ca href=\x22https:\/\/thishosting.rocks\/cheap-cloud-hosting-providers-comparison\/\x22\x3e最便宜的云托管服务商\x3c\/a\x3e之一。它们的服务器价格每月 2.5 美元起。（LCTT 译注：广告 ≤_≤ ）\x3c\/li\x3e\n\x3cli\x3e你需要有 root 用户或具有 sudo 访问权限的用户。下面的所有命令都由 root 用户执行，所以我们不必为每个命令都添加 \x3ccode\x3esudo\x3c\/code\x3e。\x3c\/li\x3e\n\x3cli\x3e如果你使用 Ubuntu，则需要\x3ca href=\x22https:\/\/thishosting.rocks\/how-to-enable-ssh-on-ubuntu\/\x22\x3e启用 SSH\x3c\/a\x3e，如果你使用 Windows，则应该使用类似 \x3ca href=\x22https:\/\/mobaxterm.mobatek.net\/\x22\x3eMobaXterm\x3c\/a\x3e 的 SSH 客户端。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这就是全部要求和注释了，让我们进入安装过程。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#在-ubuntu-上安装-apache\x22\x3e\x3c\/a\x3e在 Ubuntu 上安装 Apache\x3c\/h3\x3e\n\x3cp\x3e你需要做的第一件事就是更新 Ubuntu，这是在你做任何事情之前都应该做的。你可以运行：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eapt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e update \x26amp;\x26amp; apt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3e upgrade\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e接下来，安装 Apache，运行以下命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eapt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e install apache2\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果你愿意，你也可以安装 Apache 文档和一些 Apache 实用程序。对于我们稍后将要安装的一些模块，你将需要一些 Apache 实用程序。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eapt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e install apache2-doc apache2-utils\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e就是这样。你已经成功安装了 Apache \x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e你仍然需要配置它。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#在-ubuntu-上配置和优化-apache\x22\x3e\x3c\/a\x3e在 Ubuntu 上配置和优化 Apache\x3c\/h3\x3e\n\x3cp\x3e你可以在 Apache 上做各种各样的配置，但是主要的和最常见的配置将在下面做出解释。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#检查-apache-是否正在运行\x22\x3e\x3c\/a\x3e检查 Apache 是否正在运行\x3c\/h4\x3e\n\x3cp\x3e默认情况下，Apache 设置为在机器启动时自动启动，因此你不必手动启用它。你可以使用以下命令检查它是否正在运行以及其他相关信息：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs fortran\x22\x3esystemctl \x3cspan class=\x22hljs-keyword\x22\x3estatus\x3c\/span\x3e apache2\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3ca href=\x22https:\/\/thishosting.rocks\/wp-content\/uploads\/2018\/01\/apache-running.jpg\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t010f92c9fc14ab1452.jpg\x22 alt=\x22check if apache is running\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e并且你可以检查你正在使用的版本：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ebnf\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3eapachectl -V\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e一种更简单的检查方法时访问服务器的 IP 地址，如果你得到默认的 Apache 页面，那么一切都正常。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#更新你的防火墙\x22\x3e\x3c\/a\x3e更新你的防火墙\x3c\/h4\x3e\n\x3cp\x3e如果你使用防火墙（你应该使用它），则可能需要更新防火墙规则并允许访问默认端口。Ubuntu 上最常用的防火墙是 UFW，因此以下说明使用于 UFW。\x3c\/p\x3e\n\x3cp\x3e要允许通过 80（http）和 443（https）端口的流量，运行以下命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs nginx\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3eufw\x3c\/span\x3e allow \x3cspan class=\x22hljs-string\x22\x3e\x27Apache Full\x27\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#安装常见的-apache-模块\x22\x3e\x3c\/a\x3e安装常见的 Apache 模块\x3c\/h4\x3e\n\x3cp\x3e一些模块经常被建议使用，所以你应该安装它们。我们将包含最常见模块的说明：\x3c\/p\x3e\n\x3ch5\x3e\x3ca href=\x22#使用-pagespeed--加速你的网站\x22\x3e\x3c\/a\x3e使用 PageSpeed 加速你的网站\x3c\/h5\x3e\n\x3cp\x3ePageSpeed 模块将自动优化并加速你的 Apache 服务器。\x3c\/p\x3e\n\x3cp\x3e首先，进入 \x3ca href=\x22https:\/\/www.modpagespeed.com\/doc\/download\x22\x3ePageSpeed 下载页\x3c\/a\x3e并选择你需要的的文件。我们使用的是 64 位 Ubuntu 服务器，所以我们安装最新的稳定版本。使用 \x3ccode\x3ewget\x3c\/code\x3e 下载它：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs vim\x22\x3ewget http\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e\/\/\x3cspan class=\x22hljs-keyword\x22\x3edl\x3c\/span\x3e-ssl.google.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/\x3cspan class=\x22hljs-keyword\x22\x3edl\x3c\/span\x3e\/linux\/direct\/\x3cspan class=\x22hljs-keyword\x22\x3emod\x3c\/span\x3e-pagespeed-stable_current_amd64.\x3cspan class=\x22hljs-keyword\x22\x3edeb\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e然后，使用以下命令安装它：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3edpkg -\x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e mod-pagespeed-stable_current_amd64\x3cspan class=\x22hljs-selector-class\x22\x3e.deb\x3c\/span\x3e\napt-get -f install\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e重启 Apache 以使更改生效：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs maxima\x22\x3esystemctl \x3cspan class=\x22hljs-built_in\x22\x3erestart\x3c\/span\x3e apache2\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch5\x3e\x3ca href=\x22#使用-mod_rewrite-模块启动重写重定向\x22\x3e\x3c\/a\x3e使用 mod_rewrite 模块启动重写\/重定向\x3c\/h5\x3e\n\x3cp\x3e顾名思义，该模块用于重写（重定向）。如果你使用 WordPress 或任何其他 CMS 来处理此问题，你就需要它。要安装它，只需运行：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs coq\x22\x3ea2enmod \x3cspan class=\x22hljs-built_in\x22\x3erewrite\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e然后再次重新启动 Apache。你可能需要一些额外的配置，具体取决于你使用的 CMS，如果有的话。为你的设置 Google 一下得到它的具体说明。\x3c\/p\x3e\n\x3ch5\x3e\x3ca href=\x22#使用-modsecurity-模块保护你的-apache\x22\x3e\x3c\/a\x3e使用 ModSecurity 模块保护你的 Apache\x3c\/h5\x3e\n\x3cp\x3e顾名思义，ModSecurity 是一个用于安全性的模块，它基本上起着防火墙的作用，它可以监控你的流量。要安装它，运行以下命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eapt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e install libapache2-modsecurity\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e再次重启 Apache：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs maxima\x22\x3esystemctl \x3cspan class=\x22hljs-built_in\x22\x3erestart\x3c\/span\x3e apache2\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eModSecurity 自带了一个默认的设置，但如果你想扩展它，你可以使用 \x3ca href=\x22https:\/\/www.owasp.org\/index.php\/Category:OWASP_ModSecurity_Core_Rule_Set_Project\x22\x3eOWASP 规则集\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch5\x3e\x3ca href=\x22#使用-mod_evasive-模块抵御-ddos-攻击\x22\x3e\x3c\/a\x3e使用 mod_evasive 模块抵御 DDoS 攻击\x3c\/h5\x3e\n\x3cp\x3e尽管 mod_evasive 在防止攻击方面有多大用处值得商榷，但是你可以使用它来阻止和防止服务器上的 DDoS 攻击。要安装它，使用以下命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs applescript\x22\x3eapt-\x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e install libapache2-\x3cspan class=\x22hljs-keyword\x22\x3emod\x3c\/span\x3e-evasive\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e默认情况下，mod_evasive 是禁用的，要启用它，编辑以下文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs awk\x22\x3enano \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3eapache2\x3cspan class=\x22hljs-regexp\x22\x3e\/mods-enabled\/\x3c\/span\x3eevasive.conf\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e取消注释所有行（即删除 \x3ccode\x3e#\x3c\/code\x3e），根据你的要求进行配置。如果你不知道要编辑什么，你可以保持原样。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/thishosting.rocks\/wp-content\/uploads\/2018\/01\/mod_evasive.jpg\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t017e4d6c7d8edded59.jpg\x22 alt=\x22mod_evasive\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e创建一个日志文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs maxima\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emkdir\x3c\/span\x3e \/\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e\/\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e\/mod_evasive\nchown -R www-data:www-data \/\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e\/\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e\/mod_evasive\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e就是这样。现在重启 Apache 以使更改生效。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs maxima\x22\x3esystemctl \x3cspan class=\x22hljs-built_in\x22\x3erestart\x3c\/span\x3e apache2\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e你可以安装和配置\x3ca href=\x22https:\/\/httpd.apache.org\/docs\/2.4\/mod\/\x22\x3e附加模块\x3c\/a\x3e，但完全取决于你和你使用的软件。它们通常不是必需的。甚至我们上面包含的 4 个模块也不是必需的。如果特定应用需要模块，那么它们可能会注意到这一点。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#用-apache2buddy-脚本优化-apache\x22\x3e\x3c\/a\x3e用 Apache2Buddy 脚本优化 Apache\x3c\/h4\x3e\n\x3cp\x3eApache2Buddy 是一个可以自动调整 Apache 配置的脚本。你唯一需要做的就是运行下面的命令，脚本会自动完成剩下的工作：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs awk\x22\x3ecurl -sL https:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3eraw.githubusercontent.com\x3cspan class=\x22hljs-regexp\x22\x3e\/richardforth\/\x3c\/span\x3eapache2buddy\x3cspan class=\x22hljs-regexp\x22\x3e\/master\/\x3c\/span\x3eapache2buddy.pl | perl\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果你没有安装 \x3ccode\x3ecurl\x3c\/code\x3e，那么你可能需要安装它。使用以下命令来安装 \x3ccode\x3ecurl\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eapt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e install curl\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#额外配置\x22\x3e\x3c\/a\x3e额外配置\x3c\/h4\x3e\n\x3cp\x3e用 Apache 还可以做一些额外的东西，但我们会留下它们作为另一个教程。像启用 http\/2 支持，关闭（或打开） KeepAlive，调整你的 Apache 甚至更多。这些东西你现在不需要做，但是如果你在网上找到了教程，并且如果你等不及我们的教程，那就去做吧。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#使用-apache-创建你的第一个网站\x22\x3e\x3c\/a\x3e使用 Apache 创建你的第一个网站\x3c\/h3\x3e\n\x3cp\x3e现在我们已经完成了所有的调优工作，让我们开始创建一个实际的网站。按照我们的指示创建一个简单的 HTML 页面和一个在 Apache 上运行的虚拟主机。\x3c\/p\x3e\n\x3cp\x3e你需要做的第一件事是为你的网站创建一个新的目录。运行以下命令来执行此操作：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs maxima\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emkdir\x3c\/span\x3e -p \/\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e\/www\/\x3cspan class=\x22hljs-built_in\x22\x3eexample\x3c\/span\x3e.com\/public_html\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e当然，将 \x3ccode\x3eexample.com\x3c\/code\x3e 替换为你所需的域名。你可以从 \x3ca href=\x22https:\/\/thishosting.rocks\/neamcheap-review-cheap-domains-cool-names\x22\x3eNamecheap\x3c\/a\x3e 获得一个便宜的域名。\x3c\/p\x3e\n\x3cp\x3e不要忘记在下面的所有命令中替换 \x3ccode\x3eexample.com\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e接下来，创建一个简单的静态网页。创建 HTML 文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs delphi\x22\x3enano \/\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e\/www\/example.com\/public_html\/\x3cspan class=\x22hljs-keyword\x22\x3eindex\x3c\/span\x3e.html\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e粘贴这些：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n     \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n       \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eSimple Page\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n     \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n     \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n       \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eIf you\x27re seeing this in your browser then everything works.\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n     \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e保存并关闭文件。\x3c\/p\x3e\n\x3cp\x3e配置目录的权限：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs kotlin\x22\x3echown -R www-\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e:www-\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e \/\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e\/www\/example.com\nchmod -R og-r \/\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e\/www\/example.com\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e为你的网站创建一个新的虚拟主机：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3enano \/etc\/apache2\/sites-available\/example\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.conf\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e粘贴以下内容：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3e\x26lt;VirtualHost *:\x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e\x26gt;\n     ServerAdmin admin@example\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e\n     ServerName example\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e\n     ServerAlias www\x3cspan class=\x22hljs-selector-class\x22\x3e.example\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e\n\n     DocumentRoot \/var\/www\/example.com\/public_html\n\n     ErrorLog ${APACHE_LOG_DIR}\/error\x3cspan class=\x22hljs-selector-class\x22\x3e.log\x3c\/span\x3e\n     CustomLog ${APACHE_LOG_DIR}\/access\x3cspan class=\x22hljs-selector-class\x22\x3e.log\x3c\/span\x3e combined\n\x26lt;\/VirtualHost\x26gt;\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这是一个基础的虚拟主机。根据你的设置，你可能需要更高级的 \x3ccode\x3e.conf\x3c\/code\x3e 文件。\x3c\/p\x3e\n\x3cp\x3e在更新所有内容后保存并关闭文件。\x3c\/p\x3e\n\x3cp\x3e现在，使用以下命令启用虚拟主机：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3ea2ensite example\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.conf\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e最后，重启 Apache 以使更改生效：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs maxima\x22\x3esystemctl \x3cspan class=\x22hljs-built_in\x22\x3erestart\x3c\/span\x3e apache2\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这就是全部了，你做完了。现在你可以访问 example.com 并查看你的页面。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/thishosting.rocks\/how-to-install-optimize-apache-ubuntu\/\x22\x3ehttps:\/\/thishosting.rocks\/how-to-install-optimize-apache-ubuntu\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/thishosting.rocks\x22\x3eThisHosting\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/MjSeven\x22\x3eMjSeven\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/how-to-install-and-optimize-apache-on-ubuntu-thishosting-rocks">https://www.zcfy.cc/article/how-to-install-and-optimize-apache-on-ubuntu-thishosting-rocks</a></p><h2 id="原文标题">原文标题</h2><p>如何在 Ubuntu 上安装和优化 Apache</p><h2>本文链接：</h2><a href="https://alili.tech/archive/49bec1d6/" target="_blank">https://alili.tech/archive/49bec1d6/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>