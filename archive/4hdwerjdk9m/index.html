<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="细说Web API中的Blob"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>细说Web API中的Blob | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/4hdwerjdk9m/",
				"appid": "1613049289050283", 
				"title": "细说Web API中的Blob | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-28T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/lb9efsjz2b8/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/yw9fy3sgrdj/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&text=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&text=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&title=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&is_video=false&description=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&title=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&title=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&title=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4hdwerjdk9m%2f&title=%e7%bb%86%e8%af%b4Web%20API%e4%b8%ad%e7%9a%84Blob"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">细说Web API中的Blob</h1><div class="meta"><div class="postdate"><time datetime="2018-12-28" itemprop="datePublished">2018-12-28</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e在一般的Web开发中，很少会用到Blob，但Blob可以满足一些场景下的特殊需求。Blob，Binary Large Object的缩写，代表二进制类型的大对象。Blob的概念在一些数据库中有使用到，例如，MYSQL中的BLOB类型就表示二进制数据的容器。在Web中，Blob类型的对象表示不可变的类似文件对象的原始数据，通俗点说，就是Blob对象是二进制数据，但它是类似文件对象的二进制数据，因此可以像操作File对象一样操作Blob对象，实际上，File继承自Blob。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eBlob基本用法\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e创建\x3c\/h3\x3e\n\x3cp\x3e可以通过Blob的构造函数创建Blob对象：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Blob(blobParts[, options])\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eBlob\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(blobParts[, options])\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e参数说明：\x3c\/p\x3e\n\x3cp\x3eblobParts：数组类型，数组中的每一项连接起来构成Blob对象的数据，数组中的每项元素可以是\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/ArrayBuffer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eArrayBuffer\x3c\/code\x3e\x3c\/a\x3e, \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/ArrayBufferView\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eArrayBufferView\x3c\/code\x3e\x3c\/a\x3e, \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Blob\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eBlob\x3c\/code\x3e\x3c\/a\x3e, \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/DOMString\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eDOMString\x3c\/code\x3e\x3c\/a\x3e 。\x3c\/p\x3e\n\x3cp\x3eoptions：可选项，字典格式类型，可以指定如下两个属性：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3etype，默认值为 \x3ccode\x3e\x22\x22\x3c\/code\x3e，它代表了将会被放入到blob中的数组内容的MIME类型。\x3c\/li\x3e\n\x3cli\x3eendings，默认值为\x22transparent\x22，用于指定包含行结束符\x3ccode\x3e\\n\x3c\/code\x3e的字符串如何被写入。 它是以下两个值中的一个： \x22native\x22，表示行结束符会被更改为适合宿主操作系统文件系统的换行符； \x22transparent\x22，表示会保持blob中保存的结束符不变。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var data1 = \x26quot;a\x26quot;;\n    var data2 = \x26quot;b\x26quot;;\n    var data3 = \x26quot;\x3cdiv style=\x27color:red;\x27\x3eThis is a blob\x3c\/div\x3e\x26quot;;\n    var data4 = { \x26quot;name\x26quot;: \x26quot;abc\x26quot; };\n\n    var blob1 = new Blob([data1]);\n    var blob2 = new Blob([data1, data2]);\n    var blob3 = new Blob([data3]);\n    var blob4 = new Blob([JSON.stringify(data4)]);\n    var blob5 = new Blob([data4]);\n    var blob6 = new Blob([data3, data4]);\n\n    console.log(blob1);  \/\/输出：Blob {size: 1, type: \x26quot;\x26quot;}\n    console.log(blob2);  \/\/输出：Blob {size: 2, type: \x26quot;\x26quot;}\n    console.log(blob3);  \/\/输出：Blob {size: 44, type: \x26quot;\x26quot;}\n    console.log(blob4);  \/\/输出：Blob {size: 14, type: \x26quot;\x26quot;}\n    console.log(blob5);  \/\/输出：Blob {size: 15, type: \x26quot;\x26quot;}\n    console.log(blob6);  \/\/输出：Blob {size: 59, type: \x26quot;\x26quot;}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e    var data1 = \x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    var data2 = \x3cspan class=\x22hljs-string\x22\x3e\x22b\x22\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    var data3 = \x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;div style=\x27color:red;\x27\x26gt;This is a blob\x26lt;\/div\x26gt;\x22\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    var data4 = { \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22abc\x22\x3c\/span\x3e }\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n    var \x3cspan class=\x22hljs-keyword\x22\x3eblob1 \x3c\/span\x3e= new \x3cspan class=\x22hljs-keyword\x22\x3eBlob([data1]);\n\x3c\/span\x3e    var \x3cspan class=\x22hljs-keyword\x22\x3eblob2 \x3c\/span\x3e= new \x3cspan class=\x22hljs-keyword\x22\x3eBlob([data1, \x3c\/span\x3edata2])\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    var \x3cspan class=\x22hljs-keyword\x22\x3eblob3 \x3c\/span\x3e= new \x3cspan class=\x22hljs-keyword\x22\x3eBlob([data3]);\n\x3c\/span\x3e    var \x3cspan class=\x22hljs-keyword\x22\x3eblob4 \x3c\/span\x3e= new \x3cspan class=\x22hljs-keyword\x22\x3eBlob([JSON.stringify(data4)]);\n\x3c\/span\x3e    var \x3cspan class=\x22hljs-keyword\x22\x3eblob5 \x3c\/span\x3e= new \x3cspan class=\x22hljs-keyword\x22\x3eBlob([data4]);\n\x3c\/span\x3e    var \x3cspan class=\x22hljs-keyword\x22\x3eblob6 \x3c\/span\x3e= new \x3cspan class=\x22hljs-keyword\x22\x3eBlob([data3, \x3c\/span\x3edata4])\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob1); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob2); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob3); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e44\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob4); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob5); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob6); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e59\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3esize代表\x3ccode\x3eBlob\x3c\/code\x3e 对象中所包含数据的字节数。这里要注意，使用字符串和普通对象创建Blob时的不同，blob4使用通过\x3ccode\x3eJSON.stringify\x3c\/code\x3e把data4对象转换成json字符串，blob5则直接使用data4创建，两个对象的size分别为14和15。blob4的size等于14很容易理解，因为JSON.stringify(data4)的结果为：\x3ccode\x3e\x22{\x22name\x22:\x22abc\x22}\x22\x3c\/code\x3e，正好14个字节(不包含最外层的引号)。blob5的size等于15是如何计算而来的呢？实际上，当使用普通对象创建Blob对象时，相当于调用了普通对象的toString()方法得到字符串数据，然后再创建Blob对象。所以，blob5保存的数据是\x3ccode\x3e\x22[object Object]\x22\x3c\/code\x3e，是15个字节(不包含最外层的引号)。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eslice方法\x3c\/h3\x3e\n\x3cp\x3eBlob对象有一个slice方法，返回一个新的 \x3ccode\x3eBlob\x3c\/code\x3e对象，包含了源 \x3ccode\x3eBlob\x3c\/code\x3e对象中指定范围内的数据。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22slice([start[, end[, contentType]]])\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs inform7\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eslice(\x3cspan class=\x22hljs-comment\x22\x3e[start\x3cspan class=\x22hljs-comment\x22\x3e[, end\x3cspan class=\x22hljs-comment\x22\x3e[, contentType]\x3c\/span\x3e]\x3c\/span\x3e]\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e参数说明：\x3c\/p\x3e\n\x3cp\x3estart： 可选，代表 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Blob\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eBlob\x3c\/code\x3e\x3c\/a\x3e 里的下标，表示第一个会被会被拷贝进新的 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Blob\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eBlob\x3c\/code\x3e\x3c\/a\x3e 的字节的起始位置。如果传入的是一个负数，那么这个偏移量将会从数据的末尾从后到前开始计算。\x3c\/p\x3e\n\x3cp\x3eend： 可选，代表的是 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Blob\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eBlob\x3c\/code\x3e\x3c\/a\x3e 的一个下标，这个下标-1的对应的字节将会是被拷贝进新的\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Blob\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eBlob\x3c\/code\x3e\x3c\/a\x3e 的最后一个字节。如果你传入了一个负数，那么这个偏移量将会从数据的末尾从后到前开始计算。\x3c\/p\x3e\n\x3cp\x3econtentType： 可选，给新的 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Blob\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eBlob\x3c\/code\x3e\x3c\/a\x3e 赋予一个新的文档类型。这将会把它的 type 属性设为被传入的值。它的默认值是一个空的字符串。\x3c\/p\x3e\n\x3cp\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var data = \x26quot;abcdef\x26quot;;\n    var blob1 = new Blob([data]);\n    var blob2 = blob1.slice(0,3);\n    \n    console.log(blob1);  \/\/输出：Blob {size: 6, type: \x26quot;\x26quot;}\n    console.log(blob2);  \/\/输出：Blob {size: 3, type: \x26quot;\x26quot;}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e    var \x3cspan class=\x22hljs-meta\x22\x3edata\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22abcdef\x22\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    var \x3cspan class=\x22hljs-keyword\x22\x3eblob1 \x3c\/span\x3e= new \x3cspan class=\x22hljs-keyword\x22\x3eBlob([data]);\n\x3c\/span\x3e    var \x3cspan class=\x22hljs-keyword\x22\x3eblob2 \x3c\/span\x3e= \x3cspan class=\x22hljs-keyword\x22\x3eblob1.slice(0,3);\n\x3c\/span\x3e    \n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob1); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3eblob2); \x3c\/span\x3e \/\/输出：\x3cspan class=\x22hljs-keyword\x22\x3eBlob \x3c\/span\x3e{size: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, type: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过slice方法，从blob1中创建出一个新的blob对象，size等于3。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eBlob使用场景\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e分片上传\x3c\/h3\x3e\n\x3cp\x3e前面已经说过，File继承自Blob，因此我们可以调用slice方法对大文件进行分片长传。代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function uploadFile(file) {\n  var chunkSize = 1024 * 1024;   \/\/ 每片1M大小\n  var totalSize = file.size;\n  var chunkQuantity = Math.ceil(totalSize\/chunkSize);  \/\/分片总数\n  var offset = 0;  \/\/ 偏移量\n  \n  var reader = new FileReader();\n  reader.onload = function(e) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\x26quot;POST\x26quot;,\x26quot;http:\/\/xxxx\/upload?fileName=\x26quot;\x2bfile.name);\n    xhr.overrideMimeType(\x26quot;application\/octet-stream\x26quot;);\n    \n    xhr.onreadystatechange = function() {\n      if(xhr.readyState === XMLHttpRequest.DONE \x26amp;\x26amp; xhr.status === 200) {\n        \x2b\x2boffset;\n        if(offset === chunkQuantity) {\n          alert(\x26quot;上传完成\x26quot;);\n        } else if(offset === chunkQuantity-1){\n          blob = file.slice(offset*chunkSize, totalSize);   \/\/ 上传最后一片\n          reader.readAsBinaryString(blob);\n        } else {\n          blob = file.slice(offset*chunkSize, (offset\x2b1)*chunkSize);   \n          reader.readAsBinaryString(blob);\n        }\n      }else {\n        alert(\x26quot;上传出错\x26quot;);\n      }\n    }\n    \n    if(xhr.sendAsBinary) {\n      xhr.sendAsBinary(e.target.result);   \/\/ e.target.result是此次读取的分片二进制数据\n    } else {\n      xhr.send(e.target.result);\n    }\n  }\n   var blob = file.slice(0, chunkSize);\n   reader.readAsBinaryString(blob);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3euploadFile\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efile\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e chunkSize = \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 每片1M大小\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e totalSize = file.size;\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e chunkQuantity = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.ceil(totalSize\/chunkSize);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/分片总数\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e offset = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 偏移量\x3c\/span\x3e\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e reader = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e FileReader();\n  reader.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e xhr = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e XMLHttpRequest();\n    xhr.open(\x3cspan class=\x22hljs-string\x22\x3e\x22POST\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/xxxx\/upload?fileName=\x22\x3c\/span\x3e\x2bfile.name);\n    xhr.overrideMimeType(\x3cspan class=\x22hljs-string\x22\x3e\x22application\/octet-stream\x22\x3c\/span\x3e);\n    \n    xhr.onreadystatechange = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(xhr.readyState === XMLHttpRequest.DONE \x26amp;\x26amp; xhr.status === \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e) {\n        \x2b\x2boffset;\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(offset === chunkQuantity) {\n          alert(\x3cspan class=\x22hljs-string\x22\x3e\x22上传完成\x22\x3c\/span\x3e);\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(offset === chunkQuantity\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e){\n          blob = file.slice(offset*chunkSize, totalSize);   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 上传最后一片\x3c\/span\x3e\n          reader.readAsBinaryString(blob);\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n          blob = file.slice(offset*chunkSize, (offset\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)*chunkSize);   \n          reader.readAsBinaryString(blob);\n        }\n      }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        alert(\x3cspan class=\x22hljs-string\x22\x3e\x22上传出错\x22\x3c\/span\x3e);\n      }\n    }\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(xhr.sendAsBinary) {\n      xhr.sendAsBinary(e.target.result);   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ e.target.result是此次读取的分片二进制数据\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      xhr.send(e.target.result);\n    }\n  }\n   \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = file.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, chunkSize);\n   reader.readAsBinaryString(blob);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这段代码还可以进一步丰富，比如显示当前的上传进度，使用多个XMLHttpRequest对象并行上传对象（需要传递分片数据的位置参数给服务器端）等。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eBlob URL\x3c\/h3\x3e\n\x3cp\x3eBlob URL是blob协议的URL，它的格式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22blob:http:\/\/XXX\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-string\x22\x3eblob:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/XXX\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eBlob URL可以通过\x3ccode\x3eURL.createObjectURL(blob)\x3c\/code\x3e创建。在绝大部分场景下，我们可以像使用Http协议的URL一样，使用Blob URL。常见的场景有：作为文件的下载地址和作为图片资源地址。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e文件下载地址\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3eBlob Test\x3c\/title\x3e\n    \x3cscript\x3e\n        function createDownloadFile() {\n            var content = \x26quot;Blob Data\x26quot;;\n            var blob = new Blob([content]);\n            var link = document.getElementsByTagName(\x26quot;a\x26quot;)[0];\n            link.download = \x26quot;file\x26quot;;\n            link.href = URL.createObjectURL(blob);\n        }\n        window.onload = createDownloadFile;\n    \x3c\/script\x3e\n\x3c\/head\x3e\n\n\x3cbody\x3e\n    \x3ca\x3e下载\x3c\/a\x3e\n\x3c\/body\x3e\n\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eBlob Test\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreateDownloadFile\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e content = \x3cspan class=\x22hljs-string\x22\x3e\x22Blob Data\x22\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Blob([content]);\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e link = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByTagName(\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n            link.download = \x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e;\n            link.href = URL.createObjectURL(blob);\n        }\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = createDownloadFile;\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e下载\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e点击下载按钮，浏览器将会下载一个名为file的文件，文件的内容是：Blob Data。通过Blob对象，我们在前端代码中就可以动态生成文件，提供给浏览器下载。打开Chrome浏览器调试窗口，在Elements标签下可以看到生成的Blob URL为：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWGkO?w=1854\x26amp;h=482\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWGkO?w=1854\x26amp;h=482\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e图片资源地址\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e为图片文件创建一个Blob URL，赋值给\x26lt;img\x26gt;标签：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3eBlob Test\x3c\/title\x3e\n    \x3cscript\x3e\n        function handleFile(e) {\n            var file = e.files[0];\n            var blob = URL.createObjectURL(file);\n            var img = document.getElementsByTagName(\x26quot;img\x26quot;)[0];\n            img.src = blob;\n            img.onload = function(e) {\n                URL.revokeObjectURL(this.src);  \/\/ 释放createObjectURL创建的对象##\n            }\n        }\n    \x3c\/script\x3e\n\x3c\/head\x3e\n\n\x3cbody\x3e\n    \x3cinput type=\x26quot;file\x26quot; accept=\x26quot;image\/*\x26quot; onchange=\x26quot;handleFile(this)\x26quot; \/\x3e\n    \x3cbr\/\x3e\n    \x3cimg style=\x26quot;width:200px;height:200px\x26quot;\x3e\n\x3c\/body\x3e\n\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eBlob Test\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleFile\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = e.files[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = URL.createObjectURL(file);\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e img = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByTagName(\x3cspan class=\x22hljs-string\x22\x3e\x22img\x22\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n            img.src = blob;\n            img.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n                URL.revokeObjectURL(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.src);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 释放createObjectURL创建的对象##\x3c\/span\x3e\n            }\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eaccept\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22image\/*\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonchange\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22handleFile(this)\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebr\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width:200px;height:200px\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3einput中选择的图片会在\x26lt;img\x26gt;里显示出来，如图所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWGkY?w=1858\x26amp;h=1074\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWGkY?w=1858\x26amp;h=1074\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e同时，可以在Network标签栏，发现这个Blob URL的请求信息：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWGkZ?w=1952\x26amp;h=640\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWGkZ?w=1952\x26amp;h=640\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这个请求信息和平时我们使用的Http URL获取图片几乎完全一样。我们还可以使用Data URL加载图片资源：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3eBlob Test\x3c\/title\x3e\n    \x3cscript\x3e\n        function handleFile(e) {\n            var file = e.files[0];\n            var fileReader = new FileReader();\n            var img = document.getElementsByTagName(\x26quot;img\x26quot;)[0];\n            fileReader.onload = function(e) {\n                img.src = e.target.result;\n            }\n            fileReader.readAsDataURL(file);\n        }\n    \x3c\/script\x3e\n\x3c\/head\x3e\n\n\x3cbody\x3e\n    \x3cinput type=\x26quot;file\x26quot; accept=\x26quot;image\/*\x26quot; onchange=\x26quot;handleFile(this)\x26quot; \/\x3e\n    \x3cbr\/\x3e\n    \x3cimg style=\x26quot;width:200px;height:200px\x26quot;\x3e\n\x3c\/body\x3e\n\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eBlob Test\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleFile\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = e.files[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fileReader = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e FileReader();\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e img = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByTagName(\x3cspan class=\x22hljs-string\x22\x3e\x22img\x22\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n            fileReader.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n                img.src = e.target.result;\n            }\n            fileReader.readAsDataURL(file);\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eaccept\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22image\/*\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonchange\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22handleFile(this)\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebr\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width:200px;height:200px\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eFileReader的\x3ccode\x3ereadAsDataURL\x3c\/code\x3e生成一个Data URL，如图所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWGk3?w=1846\x26amp;h=1004\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWGk3?w=1846\x26amp;h=1004\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eData URL对大家来说应该并不陌生，Web性能优化中有一项措施：把小图片用base64编码直接嵌入到HTML文件中，实际上就是利用了Data URL来获取嵌入的图片数据。\x3c\/p\x3e\n\x3cp\x3e那么Blob URL和Data URL有什么区别呢？\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3eBlob URL的长度一般比较短，但Data URL因为直接存储图片base64编码后的数据，往往很长，如上图所示，浏览器在显示Data URL时使用了省略号（…）。当显式大图片时，使用Blob URL能获取更好的可能性。\x3c\/li\x3e\n\x3cli\x3eBlob URL可以方便的使用XMLHttpRequest获取源数据，例如：\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var blobUrl = URL.createObjectURL(new Blob([\x27Test\x27], {type: \x27text\/plain\x27}));\nvar x = new XMLHttpRequest();\n\/\/ 如果设置x.responseType = \x27blob\x27，将返回一个Blob对象，而不是文本:\n\/\/ x.responseType = \x27blob\x27;\nx.onload = function() {\n    alert(x.responseText);   \/\/ 输出 Test\n};\nx.open(\x27get\x27, blobUrl);\nx.send();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blobUrl = URL.createObjectURL(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Blob([\x3cspan class=\x22hljs-string\x22\x3e\x27Test\x27\x3c\/span\x3e], {type: \x3cspan class=\x22hljs-string\x22\x3e\x27text\/plain\x27\x3c\/span\x3e}));\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e XMLHttpRequest();\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果设置x.responseType = \x27blob\x27，将返回一个Blob对象，而不是文本:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ x.responseType = \x27blob\x27;\x3c\/span\x3e\nx.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n    alert(x.responseText);   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出 Test\x3c\/span\x3e\n};\nx.open(\x3cspan class=\x22hljs-string\x22\x3e\x27get\x27\x3c\/span\x3e, blobUrl);\nx.send();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于Data URL，并不是所有浏览器都支持通过XMLHttpRequest获取源数据的。\x3c\/p\x3e\n\x3cp\x3e3.\x3cstrong\x3eBlob URL 只能在当前应用内部使用\x3c\/strong\x3e，把Blob URL复制到浏览器的地址栏中，是无法获取数据的。Data URL相比之下，就有很好的移植性，你可以在任意浏览器中使用。\x3c\/p\x3e\n\x3cp\x3e除了可以用作图片资源的网络地址，Blob URL也可以用作其他资源的网络地址，例如html文件、json文件等，为了保证浏览器能正确的解析Blob URL返回的文件类型，需要在创建Blob对象时指定相应的type：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 创建HTML文件的Blob URL\nvar data = \x26quot;\x3cdiv style=\x27color:red;\x27\x3eThis is a blob\x3c\/div\x3e\x26quot;;\nvar blob = new Blob([data], { type: \x27text\/html\x27 });\nvar blobURL = URL.createObjectURL(blob);\n\n\/\/ 创建JSON文件的Blob URL\nvar data = { \x26quot;name\x26quot;: \x26quot;abc\x26quot; };\nvar blob = new Blob([JSON.stringify(data)], { type: \x27application\/json\x27 });\nvar blobURL = URL.createObjectURL(blob);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建HTML文件的Blob URL\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e data = \x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;div style=\x27color:red;\x27\x26gt;This is a blob\x26lt;\/div\x26gt;\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eBlob\x3c\/span\x3e([data], { \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e\x3c\/span\x3e: \x3cspan class=\x22hljs-symbol\x22\x3e\x27text\x3c\/span\x3e\/html\x27 });\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blobURL = \x3cspan class=\x22hljs-type\x22\x3eURL\x3c\/span\x3e.createObjectURL(blob);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建JSON文件的Blob URL\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e data = { \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22abc\x22\x3c\/span\x3e };\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eBlob\x3c\/span\x3e([\x3cspan class=\x22hljs-type\x22\x3eJSON\x3c\/span\x3e.stringify(data)], { \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e\x3c\/span\x3e: \x3cspan class=\x22hljs-symbol\x22\x3e\x27application\x3c\/span\x3e\/json\x27 });\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blobURL = \x3cspan class=\x22hljs-type\x22\x3eURL\x3c\/span\x3e.createObjectURL(blob);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cstrong\x3e欢迎关注我的公众号：老干部的大前端，领取21本大前端精选书籍！\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4lGT?w=540\x26amp;h=193\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4lGT?w=540\x26amp;h=193\x22 alt=\x223808299627-5a93ba468b59a\x22 title=\x223808299627-5a93ba468b59a\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>细说Web API中的Blob</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011563430">https://segmentfault.com/a/1190000011563430</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/4hdwerjdk9m/" target="_blank">https://alili.tech/archive/4hdwerjdk9m/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>