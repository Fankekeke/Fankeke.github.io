<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="electron打包：electron-packager及electron-builder两种方式实现（for Windows）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>electron打包：electron-packager及electron-builder两种方式实现（for Windows） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/5070wdvrqd/",
				"appid": "1613049289050283", 
				"title": "electron打包：electron-packager及electron-builder两种方式实现（for Windows） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-09T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/r6zrych78ka/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wc8j3gd6ozn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&text=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&text=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&title=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&is_video=false&description=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&title=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&title=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&title=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5070wdvrqd%2f&title=electron%e6%89%93%e5%8c%85%ef%bc%9aelectron-packager%e5%8f%8aelectron-builder%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%88for%20Windows%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">electron打包：electron-packager及electron-builder两种方式实现（for Windows）</h1><div class="meta"><div class="postdate"><time datetime="2018-12-09" itemprop="datePublished">2018-12-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV6zNn?w=1319\x26amp;h=594\x22 src=\x22https:\/\/static.alili.tech\/img\/bV6zNn?w=1319\x26amp;h=594\x22 alt=\x22electron\x22 title=\x22electron\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e本文主要介绍如何通过electron-packager及electron-builder两种方式，将已有的electron应用打包成msi格式和exe可执行文件。打包是一个成熟的应用程序一个重要的环节，希望这篇文章可以给大家一些参考，最后会讲到打包时遇到的一些坑，与大家分享。\x3c\/p\x3e\n\x3cp\x3e本文适用于有一些electron实践经验的小伙伴，知道如何创建一个简单的electron应用，并且知道electron主进程、渲染进程间如何通信。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eelectron-packager\x3c\/h2\x3e\n\x3cp\x3e使用命令 \x3ccode\x3enpm install electron-packager --save-dev\x3c\/code\x3e 安装好之后会在\x3ccode\x3epackage.json\x3c\/code\x3e中的\x3ccode\x3edevDependencies\x3c\/code\x3e生成代码:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;devDependencies\x26quot;: {\n    \x26quot;electron-packager\x26quot;: \x26quot;^9.1.0\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22devDependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22electron-packager\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^9.1.0\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e注意：\x3cp\x3e1、打包时要分清\x3ccode\x3edevDependencies\x3c\/code\x3e与\x3ccode\x3edependencies\x3c\/code\x3e的区别，文章后会讲。\x3cbr\x3e2、package.json 的额外字段 —— productName、author 和 description，虽然这几个字段并不是打包必备的，但它们会在 Windows 的 Squirrel 安装包（用于自动更新）中使用到，所以请读者根据实际情况添加。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e安装好模块之后，就可以对应用进行打包。electron-packager的打包基本命令是：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22electron-packager \x3csourcedir\x3e \x3cappname\x3e \x3cplatform\x3e \x3carchitecture\x3e \x3celectron version\x3e \x3coptional options\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3eelectron-packager \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3esourcedir\x3c\/span\x3e\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eappname\x3c\/span\x3e\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eplatform\x3c\/span\x3e\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3earchitecture\x3c\/span\x3e\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eelectron\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eversion\x3c\/span\x3e\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eoptional\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e参数说明：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3esourcedir：项目所在路径\x3c\/li\x3e\n\x3cli\x3eappname：应用名称\x3c\/li\x3e\n\x3cli\x3eplatform：确定了你要构建哪个平台的应用（Windows、Mac 还是 Linux）\x3c\/li\x3e\n\x3cli\x3earchitecture：决定了使用 x86 还是 x64 还是两个架构都用\x3c\/li\x3e\n\x3cli\x3eelectron version：electron 的版本\x3c\/li\x3e\n\x3cli\x3eoptional options：可选选项\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e为了方便起见，在\x3ccode\x3epackage.json\x3c\/code\x3e中添加代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;scripts\x26quot;: {\n    \x26quot;package\x26quot;: \x26quot;electron-packager .\/ myapp --out .\/OutApp --version 1.7.9 --overwrite --icon=.\/app\/img\/icon\/icon.ico\x26quot;\n  }\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22package\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22electron-packager .\/ myapp --out .\/OutApp --version 1.7.9 --overwrite --icon=.\/app\/img\/icon\/icon.ico\x22\x3c\/span\x3e\n  }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在命令行中执行\x3ccode\x3enpm run package\x3c\/code\x3e \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV6y4W?w=843\x26amp;h=549\x22 src=\x22https:\/\/static.alili.tech\/img\/bV6y4W?w=843\x26amp;h=549\x22 alt=\x22命令行输出\x22 title=\x22命令行输出\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e打包成功后，会在OutApp目录（此处的目录是在参数中配置的）下生成.exe，运行该文件，并且没有报错，则说明本次打包成功。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV6zDS?w=575\x26amp;h=380\x22 src=\x22https:\/\/static.alili.tech\/img\/bV6zDS?w=575\x26amp;h=380\x22 alt=\x22可执行的exe程序\x22 title=\x22可执行的exe程序\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e特点：\x3cp\x3e1、支持平台有：Windows (32\/64 bit)、OS X (also known as macOS)、Linux (x86\/x86_64);\x3cbr\x3e2、进行应用更新时，使用electron内置的\x3ccode\x3eautoUpdate\x3c\/code\x3e进行更新\x3cbr\x3e3、支持CLI和JS API两种使用方式；\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eelectron-builder\x3c\/h2\x3e\n\x3cp\x3e首先来看看什么是electron-builder，来自官方的解释：\x3c\/p\x3e\n\x3cblockquote\x3eA complete solution to package and build a ready for distribution Electron, Proton Native or Muon app for macOS, Windows and Linux with “auto update” support out of the box.\x3c\/blockquote\x3e\n\x3cp\x3e简单的说，electron-builder就是有比electron-packager有更丰富的的功能，支持更多的平台，同时也支持了自动更新。除了这几点之外，由electron-builder打出的包更为轻量，并且可以打包出不暴露源码的setup安装程序。考虑到以上几点，我果断选择了electron-builder    \x26amp;nbsp\x26amp;nbsp\x26amp;nbsp\x26amp;nbsp\x26amp;nbsp  （微笑\x3c\/p\x3e\n\x3cp\x3e首先，依旧是安装依赖。\x3cbr\x3e\x3cem\x3e（这里官方\x3cstrong\x3e强烈\x3c\/strong\x3e推荐使用yarn安装依赖包，但我使用了npm安装的依赖也可以正常打包，所以至于为什么官方强\x3cstrong\x3e烈推\x3c\/strong\x3e荐用yarn，我还没搞懂其原因，还请了解缘由的大佬们赐教）\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add electron-builder --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3eyarn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eadd \x3c\/span\x3eelectron-\x3cspan class=\x22hljs-keyword\x22\x3ebuilder \x3c\/span\x3e--save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在\x3ccode\x3epackage.json\x3c\/code\x3e中做如下配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;build\x26quot;: {\n    \x26quot;appId\x26quot;: \x26quot;com.xxx.app\x26quot;,\n    \x26quot;mac\x26quot;: {\n      \x26quot;target\x26quot;: [\x26quot;dmg\x26quot;,\x26quot;zip\x26quot;]\n    },\n    \x26quot;win\x26quot;: {\n      \x26quot;target\x26quot;: [\x26quot;nsis\x26quot;,\x26quot;zip\x26quot;]\n    }\n},\n\x26quot;scripts\x26quot;: {\n    \x26quot;dist\x26quot;: \x26quot;electron-builder --win --x64\x26quot;\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22appId\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22com.xxx.app\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22mac\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22target\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22dmg\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22zip\x22\x3c\/span\x3e]\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22win\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22target\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22nsis\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22zip\x22\x3c\/span\x3e]\n    }\n},\n\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22dist\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22electron-builder --win --x64\x22\x3c\/span\x3e\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在命令行中执行\x3ccode\x3enpm run dist\x3c\/code\x3e ，执行结果如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV6AfM?w=843\x26amp;h=549\x22 src=\x22https:\/\/static.alili.tech\/img\/bV6AfM?w=843\x26amp;h=549\x22 alt=\x22使用electron-builder打包\x22 title=\x22使用electron-builder打包\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e打包后在dist目录生成如下文件：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV6Ah7?w=569\x26amp;h=238\x22 src=\x22https:\/\/static.alili.tech\/img\/bV6Ah7?w=569\x26amp;h=238\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e解压zip包或执行setup安装文件，应用启动后且没有报错，则说明本次打包成功。\x3c\/p\x3e\n\x3cblockquote\x3e特点：\x3cp\x3e1、electron-builder 可以打包成msi、exe、dmg文件，macOS系统，只能打包dmg文件，window系统才能打包exe，msi文件；\x3cbr\x3e2、几乎支持了所有平台的所有格式；\x3cbr\x3e3、支持Auto Update；\x3cbr\x3e4、支持CLI和JS API两种使用方式；\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e坑\x3c\/h2\x3e\n\x3cp\x3e研究electron打包的过程中踩了不少坑，打包涉及到不少系统级别的问题，从最初的选型到最后的成功打包，看似是个简单的过程，但其中仍有一些需要注意到的地方，我在这里分两点说明：\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3edevDependencies与dependencies的区别\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3edependencies\x3c\/code\x3e 表示我们要在生产环境下使用该依赖，\x3ccode\x3edevDependencies\x3c\/code\x3e 则表示我们仅在开发环境使用该依赖。在打包时，一定要分清哪些包属于生产依赖，哪些属于开发依赖，尤其是在项目较大，依赖包较多的情况下。若在生产环境下错应或者少引依赖包，即便是成功打包，但在使用应用程序期间也会报错，导致打包好的程序无法正常运行。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3enpm与cnpm的区别\x3c\/h3\x3e\n\x3cp\x3e说到\x3ccode\x3enpm\x3c\/code\x3e与\x3ccode\x3ecnpm\x3c\/code\x3e的区别，可能大家都知道，但大家容易忽视的一点，是\x3ccode\x3ecnpm\x3c\/code\x3e装的各种\x3ccode\x3enode_module\x3c\/code\x3e，这种方式下所有的包都是扁平化的安装。一下子\x3ccode\x3enode_modules\x3c\/code\x3e展开后有非常多的文件。导致了在打包的过程中非常慢。但是如果改用\x3ccode\x3enpm\x3c\/code\x3e来安装\x3ccode\x3enode_modules\x3c\/code\x3e的话，所有的包都是树状结构的，层级变深。\x3c\/p\x3e\n\x3cp\x3e由于这个不同，对一些项目比较大的应用，很容易出现打包过程慢且node内存溢出的问题（这也是在解决electron打包过程中困扰我比较久的问题，最后想到了npm与cnpm的这点不同，解决了node打包内存溢出的问题，从打包一次一小时优化到打包一次一分钟，极大的提高了效率）。\x3c\/p\x3e\n\x3cp\x3e所以建议大家在打包前，讲使用\x3ccode\x3ecnpm\x3c\/code\x3e安装的依赖包删除，替换成\x3ccode\x3enpm\x3c\/code\x3e安装的依赖包。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e写在最后\x3c\/h2\x3e\n\x3cp\x3e本次研究electron的目的是为electron自动更新做前期准备，下篇文章我将分享如何实现electron应用的版本更新。由于是初次接触electron，如读者在文中发现错误，请及时指正。\x3cbr\x3e如有问题，欢迎私信、微信交流，WeChat：zeus9447\x3cbr\x3e(*￣︶￣)\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>electron打包：electron-packager及electron-builder两种方式实现（for Windows）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013924153">https://segmentfault.com/a/1190000013924153</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/5070wdvrqd/" target="_blank">https://alili.tech/archive/5070wdvrqd/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>