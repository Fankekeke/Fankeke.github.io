<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="前端移动端适配总结"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>前端移动端适配总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/6d06t5g3t75/",
				"appid": "1613049289050283", 
				"title": "前端移动端适配总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-28T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/01pro19uo0mo/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/7249mfi8k1b/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&text=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&text=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&title=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&is_video=false&description=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&title=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&title=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&title=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6d06t5g3t75%2f&title=%e5%89%8d%e7%ab%af%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e6%80%bb%e7%bb%93"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">前端移动端适配总结</h1><div class="meta"><div class="postdate"><time datetime="2018-12-28" itemprop="datePublished">2018-12-28</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3emeta标签到底做了什么事情\x3c\/h3\x3e\n\x3cp\x3e做过移动端适配的小伙伴一定有遇到过这行代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width, initial-scale=1.0\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;meta \x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e content=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width, initial-scale=1.0\x22\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是，很多小伙伴只是感性的认识：噢，我加了这行代码，然后页面的宽度就会跟我的设备宽度一致。然而，这种理解是很片面的。那么，这句话的本质到底是什么呢？\x3c\/p\x3e\n\x3cp\x3e不急，我们先往下面看，这里先留个悬念。\x3c\/p\x3e\n\x3ch4\x3e几个专有名词和单位\x3c\/h4\x3e\n\x3cp\x3e这里，我们先来辨析一下在适配的时候经常会遇到的一些名词、数值单位。\x3c\/p\x3e\n\x3cp\x3e首先，先来看一下\x3cstrong\x3e物理像素\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e以iphone6为例，可知道：\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e分辨率\x3c\/strong\x3e：1334pt x 750pt\x3cbr\x3e指的是屏幕上垂直有1334个物理像素，水平有750个物理像素。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e屏幕尺寸\x3c\/strong\x3e：4.7in\x3cbr\x3e注意英寸是长度单位，不是面积单位。4.7英寸指的是屏幕对角线的长度，1英寸等于2.54cm。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e屏幕像素密度\x3c\/strong\x3e：326ppi\x3cbr\x3e指的是每英寸屏幕所拥有的像素数，在显示器中，dpi=ppi。dpi强调的是每英寸多少点。同时，\x3cstrong\x3e屏幕像素密度\x3c\/strong\x3e=\x3cstrong\x3e分辨率\x3c\/strong\x3e\/\x3cstrong\x3e屏幕尺寸\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e接着，我们来看一下其他的单位。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e设备独立像素\x3c\/strong\x3e：设备独立像素，不同于设备像素（物理像素），它是虚拟化的。比如说css像素，我们常说的10px其实指的就是它。需要注意的是，\x3cstrong\x3e物理像素\x3c\/strong\x3e开发者是无法获取的，它是自然存在的一种东西，该是多少就是多少。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e设备像素比\x3c\/strong\x3e：缩写简称\x3cstrong\x3edpr\x3c\/strong\x3e，也就是我们经常在谷歌控制台移动端调试顶端会看到的一个值。\x3cstrong\x3e设备像素比\x3c\/strong\x3e = \x3cstrong\x3e设备像素\x3c\/strong\x3e \/ \x3cstrong\x3ecss像素\x3c\/strong\x3e（垂直方向或水平方向）。可以通过JS来获取：\x3ccode\x3ewindow.devicePixelRatio\x3c\/code\x3e\x3c\/p\x3e\n\x3ch4\x3ePC和移动端不同的视口\x3c\/h4\x3e\n\x3cp\x3e\x3cstrong\x3e注：以下涉及的像素均为CSS像素。并且默认不考虑缩放。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e布局视口\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e写过css的小伙伴应该知道，我们在\x3ccode\x3ehtml\x3c\/code\x3e、\x3ccode\x3ebody\x3c\/code\x3e设置\x3ccode\x3ewidth:100%;height:100%;\x3c\/code\x3e的时候，它并不是无效的。我们都知道\x3ccode\x3e100%\x3c\/code\x3e这种百分数应该是继承父元素而来的。那在这里是继承哪里的呢？\x3c\/p\x3e\n\x3cp\x3e在\x3cstrong\x3ePC浏览器\x3c\/strong\x3e中，有一个用来约束CSS布局视口的东西，又叫做初始包含块。这也就是所有宽高继承的由来。除去\x3ccode\x3emargin\x3c\/code\x3e、\x3ccode\x3epadding\x3c\/code\x3e，布局视口和浏览器可视窗口宽度是一致的，同时也和浏览器本身的宽度一致。\x3c\/p\x3e\n\x3cp\x3e但是在\x3cstrong\x3e移动端\x3c\/strong\x3e，就大不一样了。\x3c\/p\x3e\n\x3cp\x3e以下的例子是在不加\x3ccode\x3emeta\x3c\/code\x3e标签的前提下进行演示的。\x3c\/p\x3e\n\x3cp\x3e假如我们现在做一个二八分的左右布局，那么如果在PC端上面的话，显示的效果非常完美，这没什么好说的。\x3c\/p\x3e\n\x3cp\x3e那如果是在手机端呢，这里以iphone6为例子来讲解：\x3c\/p\x3e\n\x3cp\x3e图例如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589364?w=400\x26amp;h=762\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589364?w=400\x26amp;h=762\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22* {\n    margin: 0;\n    padding: 0;\n}\n\nhtml,\nbody {\n    height: 100%;\n    width: 100%;\n}\n\n.left {\n    float: left;\n    width: 20%;\n    height: 100%;\n    background: red;\n}\n\n.right {\n    float: right;\n    width: 80%;\n    height: 100%;\n    background: green;\n}\n----\n\x3cbody\x3e\n    \x3cdiv class=\x26quot;left\x26quot;\x3e\x3c\/div\x3e\n    \x3cdiv class=\x26quot;right\x26quot;\x3e\x3c\/div\x3e\n\x3c\/body\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e*\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    margin:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    padding:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e;\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3ehtml,\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3ebody\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    height:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e%;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    width:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e%;\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3e.left\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    float:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eleft;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    width:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e%;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    height:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e%;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    background:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ered;\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3e.right\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    float:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eright;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    width:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e%;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    height:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e%;\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    background:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3egreen;\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3cspan class=\x22hljs-bullet\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e---\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x26lt;body\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x26lt;div\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eclass=\x22left\x22\x26gt;\x26lt;\/div\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x26lt;div\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eclass=\x22right\x22\x26gt;\x26lt;\/div\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x26lt;\/body\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里我们会看到，为什么\x3ccode\x3ebody\x3c\/code\x3e的宽度是\x3ccode\x3e980px\x3c\/code\x3e，而浏览器的宽度只有\x3ccode\x3e375px\x3c\/code\x3e，那么这个\x3ccode\x3e980px\x3c\/code\x3e到底是从哪里来的呢？\x3c\/p\x3e\n\x3cp\x3e其实，这里的\x3ccode\x3e980px\x3c\/code\x3e就是移动端所谓的\x3cstrong\x3e布局视口\x3c\/strong\x3e了。\x3c\/p\x3e\n\x3cp\x3e在移动端，默认的情况下，布局视口的宽度是要远远大于浏览器的宽度的。这两个视口不同于PC端，是\x3cstrong\x3e相互独立存在\x3c\/strong\x3e的。为什么呢？试想一下，如果一个网页不对移动端进行适配，用户进行阅读的时候，如果默认情况下布局视口的宽度等于浏览器宽度，那是不是展示起来更加的不友好。也就是说，如果一个\x3ccode\x3ediv\x3c\/code\x3e的宽度为20%，那么它在布局视口宽度为\x3ccode\x3e980px\x3c\/code\x3e的时候，展示给用户的像素还有196px，而如果宽度只有\x3ccode\x3e375px\x3c\/code\x3e的情况下，宽度只有\x3ccode\x3e75px\x3c\/code\x3e，展示的大小相差特别大。\x3c\/p\x3e\n\x3cp\x3e所以，浏览器厂商为了让用户在小屏幕下网页也能够显示地很好，所以把布局视口宽度设置地很大，一般在\x3ccode\x3e768px ~ 1024px\x3c\/code\x3e之间，最常见的宽度是\x3ccode\x3e980px\x3c\/code\x3e。这个宽度可以通过\x3ccode\x3edocument.documentElement.clientWidth\x3c\/code\x3e得到。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e视觉视口\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e对于视觉视口来说，这个东西是呈现给用户的，它是用户看到网页区域内CSS像素的数量。由于用户可以自行进行缩放控制，所以这个视口并不是开发者需要重点关注的。\x3c\/p\x3e\n\x3cp\x3e值得注意的是，在\x3cstrong\x3e移动端\x3c\/strong\x3e缩放不会改变布局视口的宽度，当缩小的时候，屏幕覆盖的css像素变多，视觉视口变大，反之亦然。\x3c\/p\x3e\n\x3cp\x3e而在\x3cstrong\x3ePC端\x3c\/strong\x3e，缩放对应布局宽度和视觉窗口宽度都是\x3cstrong\x3e联动\x3c\/strong\x3e的。而浏览器宽度本身是固定的，无论怎么缩放都不受影响。\x3c\/p\x3e\n\x3cp\x3e如果对上面的宽度还是很乱，那么这里有一个表格可以帮助你理清思路。\x3c\/p\x3e\n\x3cp\x3e以下表格横向都以浏览器窗口的宽度作为基准：\x3c\/p\x3e\n\x3cp\x3e对于PC端来说：  \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589365?w=595\x26amp;h=128\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589365?w=595\x26amp;h=128\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e对于移动端来说：  \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589366?w=596\x26amp;h=121\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589366?w=596\x26amp;h=121\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e理想视口\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e以上，布局视口很明显对用户十分的不友好，完全忽略了手机本来的尺寸。\x3c\/p\x3e\n\x3cp\x3e所以苹果引入了理想视口的概念，它是对设备来说最理想的布局视口尺寸。理想视口中的网页用户最理想的宽度，用户进入页面的时候不需要缩放。\x3c\/p\x3e\n\x3cp\x3e那么很明显，所谓的理想宽度就是浏览器（屏幕）的宽度了。\x3c\/p\x3e\n\x3cp\x3e所以就有了下面的这段代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;meta \x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e content=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width\x22\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然而，这段代码其实也并不完美，在IE浏览器中，由于横屏竖屏的切换会对其造成影响，为了解决这个兼容性的问题，最后再加上一句，就有了现在的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width,initial-scale=1\x26quot;\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e\x26lt;meta \x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e content=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width,initial-scale=1\x22\x3c\/span\x3e\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3ewidth=device-width\x3c\/code\x3e 这句代码可以把布局视口设置成为浏览器（屏幕）的宽度。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3einitial-scale=1\x3c\/code\x3e 的意思是初始缩放的比例是1，使用它的时候，同时也会将布局视口的尺寸设置为缩放后的尺寸。而缩放的尺寸就是基于屏幕的宽度来的，也就起到了和\x3ccode\x3ewidth=device-width\x3c\/code\x3e同样的效果。\x3c\/p\x3e\n\x3cp\x3e另外，值得一提的是，我们在进行媒体查询的时候，查询的宽度值其实也是布局视口的宽度值。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3eRetina屏幕\x26amp;普通屏幕，模糊的由来\x3c\/h3\x3e\n\x3ch4\x3edpr的具体表现\x3c\/h4\x3e\n\x3cp\x3e有时候我们会发现，当我们在适某一机型的时候，显示上没什么问题。但是一旦我换到另外一部手机，发现出现了模糊的情况，尤其以图片更为显著。\x3c\/p\x3e\n\x3cp\x3e其实这个问题，就是涉及到了上面讲到的一个属性：\x3cstrong\x3e设备像素比\x3c\/strong\x3e，即我们经常说的\x3cstrong\x3edpr\x3c\/strong\x3e。下面先来看\x3cstrong\x3edpr\x3c\/strong\x3e的表现：\x3c\/p\x3e\n\x3cp\x3e假设现在有一台iphone6，那么它的设备独立像素是375x667，dpr为2，尺寸是4.7in，那么物理像素就是750x1334。  \x3cbr\x3e同样的我们也有一台不知名的设备，它的设备独立像素刚好也是375x667，尺寸也是4.7in，但是dpr为1，此时的物理像素就是375x667。\x3c\/p\x3e\n\x3cp\x3e于是，它们的屏幕表现如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589367?w=1107\x26amp;h=303\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589367?w=1107\x26amp;h=303\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在不同的屏幕上，无论是普通屏幕还是retina屏幕，\x3cstrong\x3ecss像素所呈现的大小是一致的\x3c\/strong\x3e。（如果不理解这句话，可以写一个2px的正方形使用谷歌控制台移动设备调试，在不同的设备之间来回切换，你会发现大小其实是一样的。一开始我总以为这个css像素的实际宽高因为受到dpr的影响而在不同设备上的长宽是不一致的。）\x3c\/p\x3e\n\x3cp\x3e不同的是，1个css像素对应（覆盖）的物理像素个数。\x3c\/p\x3e\n\x3cp\x3e所以，如果我们想要在这两个屏幕显示这么一个css样式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22width: 2px;\nheigth: 2px;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scss\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2px\x3c\/span\x3e;\nheigth: \x3cspan class=\x22hljs-number\x22\x3e2px\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在普通屏幕下，也就是dpr为1的屏幕中，1个css像素对应（覆盖）的是一个物理像素。在retina屏幕下，1个css像素对应（覆盖）的是4个物理像素。换句话说，就是dpr为2的设备。看下面这张图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589368?w=646\x26amp;h=125\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589368?w=646\x26amp;h=125\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e浅显的理解就是可以看作是2cmx2cm的正方形被切割成四块，然后遇到dpr为2的时候，被切割的四块又被分别切割成四块，但是总面积不变。\x3c\/p\x3e\n\x3ch4\x3e模糊的产生\x3c\/h4\x3e\n\x3cp\x3e知道了1个css像素覆盖的物理像素可能不同，就好理解为什么会出现模糊的情况了。\x3c\/p\x3e\n\x3cp\x3e这里又讲到一个名词：\x3cstrong\x3e位图像素\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e位图像素是栅格图像（如：png,jpg,gif等）最小的数据单元。每一个位图像素都包含着一些自身的显示信息。（如：显示位置，颜色值，透明度等）\x3c\/p\x3e\n\x3cp\x3e理论上来说，\x3cstrong\x3e1个位图像素对应1个物理像素，图片才能达到完美清晰的展示\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e但是上面说过，在retina屏幕上，会出现1个位图像素对应多个物理像素。\x3c\/p\x3e\n\x3cp\x3e还是以iphone6为例，1个位图像素对应4个物理像素。由于单个位图像素已经是最小的数据单位了，它不能再被进行切割。于是为了能够显示出来，就只能就近取色，从而导致所谓的图片模糊问题。如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589369?w=498\x26amp;h=166\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589369?w=498\x26amp;h=166\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e如何解决\x3c\/h4\x3e\n\x3cp\x3e很明显，由于位图像素不够分而产生模糊的情况，解决的办法十分简单，就是使用跟dpr同个倍数大小的图片。比如iphone6，一个200x300的\x3ccode\x3eimg\x3c\/code\x3e标签，原图就要提供400x600的大小。\x3c\/p\x3e\n\x3cp\x3e那么当加载到\x3ccode\x3eimg\x3c\/code\x3e标签中，浏览器会自动对每1px的css像素减半，可以理解为此时还是维持着1:1的css像素:物理像素，不产生模糊。\x3c\/p\x3e\n\x3cp\x3e这个做法其实就是手淘团队在做retina适配的一个重要的原理之一，后面会讲到，这里先放着不说。\x3c\/p\x3e\n\x3ch4\x3e其他\x3c\/h4\x3e\n\x3cp\x3e反向思考一下，如果普通屏幕，也就是dpr为1的屏幕，也使用了两倍的图片，会发生什么样的情况呢？\x3c\/p\x3e\n\x3cp\x3e很明显，在普通屏幕下，200×300的\x3ccode\x3eimg\x3c\/code\x3e标签，所对应的物理像素个数就是200×300个，而两倍图片的位图像素个数则是200x300x4，于是就出现一个物理像素点对应4个位图像素点，所以它的取色也只能通过一定的算法进行缩减，显示结果就是一张只有原图像素总数四分之一，肉眼看上去虽然图片不会模糊，但是会觉得有点色差。（其实就是模糊的逆向过程）\x3c\/p\x3e\n\x3cp\x3e用图片来表示就是：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589370?w=498\x26amp;h=163\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589370?w=498\x26amp;h=163\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这里摘取了网上一篇\x3ca href=\x22http:\/\/mobile.51cto.com\/web-484304.htm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博文\x3c\/a\x3e的demo来阐述上面所说的问题。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011589371?w=600\x26amp;h=341\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011589371?w=600\x26amp;h=341\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e以上是一张100x100的图片，分别放在了100x100，50x50，25x25的容器中，在retina屏幕下面的显示效果。\x3c\/p\x3e\n\x3cp\x3e通过取色器放大镜可以看出边界像素点的差别：\x3c\/p\x3e\n\x3cp\x3e在图一中，边界像素点就近取色，色值介于红白之间，偏淡，图片看上去会模糊(可以理解为图片拉伸)。\x3c\/p\x3e\n\x3cp\x3e在图二中，图片正常，很清晰。\x3c\/p\x3e\n\x3cp\x3e在图三中，边界像素点就近取色，色值介于红白之间，偏浓，图片看上去有色差。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e手淘团队flexible.js布局\x3c\/h3\x3e\n\x3cp\x3e现今，适配手机端的传统rem布局已经逐步被手淘团队的一套flexible布局代替。\x3c\/p\x3e\n\x3cp\x3e具体的实现方式以及细节这里也不铺开来说，具体参考w3cplus的一篇\x3ca href=\x22http:\/\/www.w3cplus.com\/mobile\/lib-flexible-for-html5-layout.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e文章\x3c\/a\x3e，很容易读懂和理解。\x3c\/p\x3e\n\x3cp\x3e这里我更想分析一下flexible.js做法的意义和原因。\x3c\/p\x3e\n\x3cp\x3e读过文章之后，相信大家应该对整个开发适配的流程比较熟悉了。\x3c\/p\x3e\n\x3cp\x3e假设现在要适配一个iphone6的设备。上面已经说过了iphone6的各个参数，这里不再赘述，需要的自行上移查看。\x3c\/p\x3e\n\x3cp\x3e于是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e设计师给了一个750px宽度的设计稿（注意这里是750px而不是375px）\x3c\/li\x3e\n\x3cli\x3e前端工程师用750px的这个比例开始还原\x3c\/li\x3e\n\x3cli\x3e把宽高是px的转换成rem\x3c\/li\x3e\n\x3cli\x3e字体使用px而不使用rem\x3c\/li\x3e\n\x3cli\x3eflexible.js会自动判断dpr进行整个布局视口的放缩\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch4\x3erem布局和字体的处理\x3c\/h4\x3e\n\x3cp\x3e从flexible.js中可见，在宽高中使用的是rem，这是为了保证在不同宽度尺寸的设备中能够保证布局的等比例缩放。\x3c\/p\x3e\n\x3cp\x3e而为什么字体不使用rem而是采用px呢？\x3c\/p\x3e\n\x3cp\x3e首先，用过rem单位的小伙伴都会发现，使用rem后由于不同的尺寸，换算之后出现各种奇奇怪怪的数值，最为明显的就是更多的小数位，比如\x3ccode\x3e13.755px\x3c\/code\x3e之类的数值。在浏览器中，各浏览器中对小数点的计算存在偏差，而且有些带小数的\x3ccode\x3efont-size\x3c\/code\x3e值在特定的浏览器显示并不够清晰。\x3c\/p\x3e\n\x3cp\x3e其次，我们希望在小屏幕下面显示跟大屏幕同等量的字体。并且如果使用rem的话，那么由于等比例的存在，在小屏幕下就会存在小屏幕字体更小的情况，不利于我们更好的去阅读，违背了适配的初衷。所以，对于字体的适配，更好的做法就是使用px和媒体查询来进行适配。\x3c\/p\x3e\n\x3cp\x3e所以，也就不难解释为什么要对\x3ccode\x3efont-size\x3c\/code\x3e进行放大的处理了，如下的sass代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@mixin font-dpr($font-size) {\n    font-size: $font-size;\n    [data-dpr=\x26quot;2\x26quot;] \x26amp; {\n        font-size: $font-size * 2;\n    }\n    [data-dpr=\x26quot;3\x26quot;] \x26amp; {\n        font-size: $font-size * 3;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mel\x22\x3e\x3ccode\x3e@mixin font-dpr($font-\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e) {\n    font-\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e: $font-\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e;\n    [data-dpr=\x3cspan class=\x22hljs-string\x22\x3e\x222\x22\x3c\/span\x3e] \x26amp; {\n        font-\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e: $font-\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n    }\n    [data-dpr=\x3cspan class=\x22hljs-string\x22\x3e\x223\x22\x3c\/span\x3e] \x26amp; {\n        font-\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e: $font-\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于retina屏幕下dpr的不同，我们又想显示的字体一样大，于是就给字体再增大dpr的倍数，这样当缩小dpr倍的时候，那么字体也就和设计稿所示的大小一样大了，在不同的手机中显示的大小也是一致的。\x3c\/p\x3e\n\x3ch4\x3eRetina屏幕下的处理与安卓手机的适配\x3c\/h4\x3e\n\x3cp\x3e从flexible.js的代码中可以知道，flexible布局仅仅只是针对iPhone进行适配，而默认所有的安卓设备都强制性设置dpr为1。\x3c\/p\x3e\n\x3cp\x3e于是，因为这个缘故，很多小伙伴可能就会产生这样的问题：\x3cstrong\x3e为什么安卓不用retina屏幕，安卓下面是不是就不会有模糊的问题？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e其实不然，\x3cstrong\x3e模糊的本质是因为dpr\x3c\/strong\x3e，而安卓手机不同的设备的dpr也是不尽相同的。也就是说，安卓手机下也存在模糊的情况。只不过它的屏幕不叫retina屏幕，没有这个叫法，所以很多小伙伴都误认为安卓手机没有这个毛病。\x3c\/p\x3e\n\x3cp\x3e那么问题又来了？既然也有模糊的毛病，那么为什么安卓手机不进行适配呢？\x3c\/p\x3e\n\x3cp\x3e问题就在这里了，有兴趣的小伙伴可以去看一下大中华的安卓手机，dpr参数五花八门，从1到4，连1.75、2.75这种奇葩的数字也有，所以个人觉得权衡之下，直接简单“粗暴”把安卓手机全部设置为1，是效率和收益更高的做法。\x3c\/p\x3e\n\x3cp\x3e当然，也有人进行了flexible.js的改进，就是对dpr比较正常的安卓手机进行适配，也就是说只适配dpr为整数的安卓设备。对于那些奇葩的dpr为1.75的设备直接忽略。实现这个并不难，有兴趣的小伙伴们可以试下。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e响应式与自适应的选择\x3c\/h3\x3e\n\x3cp\x3e最后，对于响应式和自适应的区别，网上有各种各样的解释。\x3c\/p\x3e\n\x3cp\x3e个人认为，其实没必要把它讲得那么复杂，知乎上有个小伙伴讲我觉得就很白话文：\x3c\/p\x3e\n\x3cblockquote\x3e响应式针对的是不同分辨率设备而进行的适配式设计，以利用@media规则为主要手段，而自适应则忽略@media以比例布局为主，目的是适应不同的浏览器窗口大小。\x3c\/blockquote\x3e\n\x3cp\x3e于是我们会发现，现今大型网站，例如说淘宝网，已经没有做响应式了。什么意思呢？\x3c\/p\x3e\n\x3cp\x3e我们会发现，淘宝网手机端和网页端使用的是两个域名，也就是说，不同的客户端已经不再共用一套dom结构了。而是区分开来做自适应。然后每次用户访问的时候它就根据客户端的类型重定向。\x3c\/p\x3e\n\x3cp\x3e为什么呢？\x3c\/p\x3e\n\x3cp\x3e试想一下淘宝这种大型网站，一个分页下的商品条目特别多，并且每个商品条目的dom结构又十分复杂，而且pc端往往显示的信息是要比手机端更多的。如果不分开做两套，而是直接用响应式的话，那么pc端上显示的很多dom就要在手机端上隐藏，结果这些dom都没有被用到，但是却加载了。在这个流量和速度至上的时代，代码冗余先不说，多加载的这些无用的代码而消耗的流量，从某种意义上来说就已经损失了很多的效益。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e最后\x3c\/h3\x3e\n\x3cp\x3e考虑到兼容性的问题，原先我们在文章头部说到的那段代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width, initial-scale=1.0\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width, initial-scale=1.0\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从\x3ccode\x3eChrome32\x2b\x3c\/code\x3e版本开始是会默认禁用用户缩放的，但是考虑到兼容大部分设备，还是要加上其他设置，让\x3ccode\x3emeta\x3c\/code\x3e标签能够有更好的容错性。也就是下面这段代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, \n user-scalable=no;\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width, initial-scale=1.0, maximum-scale=1.0, \n user-scalable=no;\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e需要注意的是，在\x3ccode\x3eios10\x2b\x3c\/code\x3e以上，尽管开发者设置了\x3ccode\x3euser-scalable=no\x3c\/code\x3e，\x3ccode\x3eSafari\x3c\/code\x3e还是允许用户通过手势来缩放。（安卓手机各大厂商的内置浏览器也逐渐开放用户缩放，即使使用\x3ccode\x3emeta\x3c\/code\x3e标签进行设置）\x3c\/p\x3e\n\x3cp\x3e解决的方法也很简单，只需要检测\x3ccode\x3etouch\x3c\/code\x3e相关事件来阻止事件的触发即可。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.onload = function() {\n    \/\/ 同时按下两个手指\n    document.addEventListener(\x27touchstart\x27, function(event) {\n        if(event.touches.length \x3e 1) {\n            event.preventDefault()\n        }\n    })\n    var lastTouchEnd = 0;\n    \/\/ 特别注意300ms时差的设置\n    document.addEventListener(\x27touchend\x27, function(event) {\n        var now = (new Date()).getTime();\n        if(now-lastTouchEnd \x3c= 300) {\n            event.preventDefault();\n        }\n        lastTouchEnd = now;\n    })\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 同时按下两个手指\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27touchstart\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(event.touches.length \x26gt; \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n            event.preventDefault()\n        }\n    })\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e lastTouchEnd = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 特别注意300ms时差的设置\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27touchend\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e now = (\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e()).getTime();\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(now-lastTouchEnd \x26lt;= \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e) {\n            event.preventDefault();\n        }\n        lastTouchEnd = now;\n    })\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3cp\x3e以上，就是本文的全部啦。\x3c\/p\x3e\n\x3cp\x3e文章有借鉴，借鉴的链接都会在这里放出来。\x3c\/p\x3e\n\x3cp\x3e前辈们的经验和知识很宝贵，我们需要做的，是站在巨人的肩膀上，去提炼这些东西，有自己更好的理解、思考和开拓新知识面。\x3c\/p\x3e\n\x3cp\x3e相关链接：\x3c\/p\x3e\n\x3cp\x3e移动端适配方案（主要讲解的是移动端视口方面的知识）：  \x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000004336869\x22\x3ehttps:\/\/segmentfault.com\/a\/11...\x3c\/a\x3e  \x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000004358316\x22 target=\x22_blank\x22\x3ehttps:\/\/segmentfault.com\/a\/11...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3eRetina屏幕下模糊的由来：  \x3cbr\x3e\x3ca href=\x22http:\/\/mobile.51cto.com\/web-484304.htm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/mobile.51cto.com\/web-4...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e手淘flexible.js布局：  \x3cbr\x3e\x3ca href=\x22http:\/\/www.w3cplus.com\/mobile\/lib-flexible-for-html5-layout.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.w3cplus.com\/mobile...\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>前端移动端适配总结</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011586301">https://segmentfault.com/a/1190000011586301</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/6d06t5g3t75/" target="_blank">https://alili.tech/archive/6d06t5g3t75/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>