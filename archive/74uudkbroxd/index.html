<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="人人都能懂的Vue源码系列—04—resolveConstructorOptions函数-下"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>人人都能懂的Vue源码系列—04—resolveConstructorOptions函数-下 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/74uudkbroxd/",
				"appid": "1613049289050283", 
				"title": "人人都能懂的Vue源码系列—04—resolveConstructorOptions函数-下 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-03T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/lxg0o4ru68m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/19neboq6qs8/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&text=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&text=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&title=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&is_video=false&description=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&title=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&title=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&title=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f74uudkbroxd%2f&title=%e4%ba%ba%e4%ba%ba%e9%83%bd%e8%83%bd%e6%87%82%e7%9a%84Vue%e6%ba%90%e7%a0%81%e7%b3%bb%e5%88%97%e2%80%9404%e2%80%94resolveConstructorOptions%e5%87%bd%e6%95%b0-%e4%b8%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">人人都能懂的Vue源码系列—04—resolveConstructorOptions函数-下</h1><div class="meta"><div class="postdate"><time datetime="2018-12-03" itemprop="datePublished">2018-12-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e上一篇文章中说道，resolveConstructorOptions函数要分两种情况进行说明，第一种是Ctor为基础构造器的情况，这个已经向大家介绍过了，今天这篇文章主要介绍第二种情况，Ctor是Vue.extend创建的\x22子类\x22。\x3c\/p\x3e\n\x3ch2\x3eCtor是Vue.extend创建的\x22子类\x22\x3c\/h2\x3e\n\x3cp\x3eVue.extend方法我们之后的博文再进行详细介绍，这里大家可以先把Vue.extend的功能笼统的理解为继承。我们接下来看resolveConstructorOptions相关的代码，如果Ctor是Vue.extend创建的\x22子类\x22，那么在extend的过程中，Ctor上就会有super属性。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3eVue.extend = function (extendOptions: Object): Function {\n  ...\n  Sub[\x27super\x27] = Super\n  ...\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eCtor上有了super属性，就会去执行if块内的代码\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3e...\nconst superOptions = resolveConstructorOptions(Ctor.super)\nconst cachedSuperOptions = Ctor.superOptions\n...\n\/\/ Vue.extend相关代码\nVue.extend = function (extendOptions: Object): Function {\n  ...\n  Sub.superOptions = Super.options \/\/ Sub.superOptions指向基础构造器的options\n  ...\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e首先递归调用resolveConstructorOptions方法，返回\x22父类\x22上的options并赋值给superOptions变量。然后把\x22自身\x22的options赋值给cachedSuperOptions变量。\x3cbr\x3e然后比较这两个变量的值,当这两个变量值不等时，说明\x22父类\x22的options改变过了。例如执行了Vue.mixin方法，这时候就需要把\x22自身\x22的superOptions属性替换成最新的。然后检查是否\x22自身\x22d的options是否发生变化。resolveModifiedOptions的功能就是这个。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3eif (superOptions !== cachedSuperOptions) {\n      \/\/ super option changed,\n      \/\/ need to resolve new options.\n      Ctor.superOptions = superOptions\n      \/\/ check if there are any late-modified\/attached options (#4976)\n      const modifiedOptions = resolveModifiedOptions(Ctor)\n      ....\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e说了这么多，大家可能还是有点陌生，我们直接举个例子来说明一下。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e  var Profile = Vue.extend({\n     template: \x27\x26lt;p\x26gt;\x22{{\x22firstName\x22}}\x22 \x22{{\x22lastName\x22}}\x22 aka \x22{{\x22alias\x22}}\x22\x26lt;\/p\x26gt;\x27\n  })\n  Vue.mixin({ data: function () {\n    return {\n      firstName: \x27Walter\x27,\n      lastName: \x27White\x27,\n      alias: \x27Heisenberg\x27\n    }\n   \x22}}\x22)\n   new Profile().$mount(\x27#example\x27)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于Vue.mixin改变了\x22父类\x22options。源码中superOptions和cachedSuperOptions就不相等了,大家可以去jsfiddle试试效果。\x3cbr\x3e接下来看看resolveModifiedOptions都干了哪些事情？\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3efunction resolveModifiedOptions (Ctor: Class\x26lt;Component\x26gt;): ?Object {\n  let modified \/\/ 定义modified变量\n  const latest = Ctor.options \/\/ 自身的options\n  const extended = Ctor.extendOptions \/\/ 构造\x22自身\x22时传入的options\n  const sealed = Ctor.sealedOptions \/\/ 执行Vue.extend时封装的\x22自身\x22options，这个属性就是方便检查\x22自身\x22的options有没有变化\n \/\/ 遍历当前构造器上的options属性，如果在\x22自身\x22封装的options里没有，则证明是新添加的。执行if内的语句。调用dedupe方法，最终返回modified变量(即”自身新添加的options“)\n  for (const key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) modified = {}\n      modified[key] = dedupe(latest[key], extended[key], sealed[key])\n    }\n  }\n  return modified\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e那么dedupe方法又干了什么事情呢？\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3efunction dedupe (latest, extended, sealed) {\n  \/\/ compare latest and sealed to ensure lifecycle hooks won\x27t be duplicated\n  \/\/ between merges\n  if (Array.isArray(latest)) {\n    const res = []\n    sealed = Array.isArray(sealed) ? sealed : [sealed]\n    extended = Array.isArray(extended) ? extended : [extended]\n    for (let i = 0; i \x26lt; latest.length; i\x2b\x2b) {\n      \/\/ push original options and not sealed options to exclude duplicated options\n      if (extended.indexOf(latest[i]) \x26gt;= 0 || sealed.indexOf(latest[i]) \x26lt; 0) {\n        res.push(latest[i])\n      }\n    }\n    return res\n  } else {\n    return latest\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从作者的注释可以看到这个方法主要就是防止生命周期构造函数重复。我们再来看该方法传入的3个参数。latest，extended，sealed，lateset表示的是\x22自身\x22新增的options。extended表示的是当前构造器上新增的extended options，sealed表示的是当前构造器上新增的封装options。\x3cbr\x3e回到源码，如果latest不是数组的话(lateset是\x22自身\x22新增的options)，这里不需要去重，直接返回latest。如果传入的latest是数组（如果latest是数组，一般这个新增的options就是生命周期钩子函数），则遍历该数组，如果该数组的某项在extended数组中有或者在sealed数组中没有，则推送到返回数组中从而实现去重。(这个去重逻辑目前自己还不是特别明白，之后如果明白了会在这里更新，有明白的同学们请在评论区留言)\x3cbr\x3e现在我们了解了resolveModifiedOptions和dedupe方法的作用，接下来回到resolveConstructorOptions源码。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3e  if (modifiedOptions) {\n    extend(Ctor.extendOptions, modifiedOptions)\n  }\n  options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions)\n  if (options.name) {\n    options.components[options.name] = Ctor\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果”自身“有新添加的options，则把新添加的options属性添加到Ctor.extendOptions属性上。调用mergeOptions方法合并\x22父类\x22构造器上的options和”自身“上的extendOptions(mergeOptions在下一篇博文中介绍)，最后返回合并后的options。\x3c\/p\x3e\n\x3cp\x3e看到这里，可能会感觉到头晕，为了让大家更好的理解。我们来看下面的流程图。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV9r0S?w=1024\x26amp;h=768\x22 src=\x22https:\/\/static.alili.tech\/img\/bV9r0S?w=1024\x26amp;h=768\x22 alt=\x22resolveConstructorOptions流程图\x22 title=\x22resolveConstructorOptions流程图\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e下篇博客我们主要讲mergeOptions方法，在整个Vue中属于比较核心的一个方法。敬请期待！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>人人都能懂的Vue源码系列—04—resolveConstructorOptions函数-下</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014606817">https://segmentfault.com/a/1190000014606817</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/74uudkbroxd/" target="_blank">https://alili.tech/archive/74uudkbroxd/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>