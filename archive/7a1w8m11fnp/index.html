<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="用Gatsby和Strapi创建一个静态博客(翻译和自己探索过程中的经验总结)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>用Gatsby和Strapi创建一个静态博客(翻译和自己探索过程中的经验总结) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/7a1w8m11fnp/",
				"appid": "1613049289050283", 
				"title": "用Gatsby和Strapi创建一个静态博客(翻译和自己探索过程中的经验总结) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-16T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/8ybwecsg7b3/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/w8acu7sa0dr/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&text=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&text=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&title=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&is_video=false&description=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&title=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&title=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&title=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7a1w8m11fnp%2f&title=%e7%94%a8Gatsby%e5%92%8cStrapi%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e9%9d%99%e6%80%81%e5%8d%9a%e5%ae%a2%28%e7%bf%bb%e8%af%91%e5%92%8c%e8%87%aa%e5%b7%b1%e6%8e%a2%e7%b4%a2%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%bb%8f%e9%aa%8c%e6%80%bb%e7%bb%93%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">用Gatsby和Strapi创建一个静态博客(翻译和自己探索过程中的经验总结)</h1><div class="meta"><div class="postdate"><time datetime="2018-12-16" itemprop="datePublished">2018-12-16</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e用Gatsby和Strapi创建一个静态博客(翻译和自己探索过程中的经验总结)\x3c\/h1\x3e\n\x3cblockquote\x3e原文参阅: \x3ca href=\x22https:\/\/hackernoon.com\/building-a-static-blog-using-gatsby-and-strapi-8b5acfc82ad8\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBuilding a static blog using Gatsby and Strapi\x3c\/a\x3e或\x3ca href=\x22https:\/\/blog.strapi.io\/building-a-static-website-using-gatsby-and-strapi\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.strapi.io\/buildi...\x3c\/a\x3e. 本篇主要是对其精华内容进行翻译, 以及实操过程中遇到的问题解决和探索. 一些具体的操作步骤和细节, 我将忽略, 结合原文一起阅读效果更佳!\x3cp\x3e注: 本文操作环境是Linux VPS, CentOS 6 64bit\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e介绍\x3c\/h2\x3e\n\x3cp\x3e这是一个包含很多静态内容页面的站点, 从技术上来说就如同一系列HTML文件, 展示给访问者. 与动态网站不同的是, 他不需要后端开发或者数据库支撑. 发布静态站点之所以容易, 是因为文件只需要上传到服务器或者存储器. 没有额外的渲染页面的请求, 也没有数据库被黑的风险, 所以它既安全也快速.\x3c\/p\x3e\n\x3cp\x3e为了快速建站, 其实很多开源的静态页面生成框架可用, 比如前阵子我搞的Jekyll, Hugo, 好似国人偏爱的Hexo等等, 他们的工作原理相似, 内容都是通过静态文件(比如Markdown)或者带有内容的API, 通过获取这些内容, 注入到开发者做好的模板, 最后生成一大堆HTML文件.\x3c\/p\x3e\n\x3cp\x3eProgressive Web Apps (PWA)实际上是网页应用, 几乎基于Javascript, 并且可靠, 快速, 有吸引力的. 这几年比较火的Angular, Vue, React都是类似的前端框架.\x3c\/p\x3e\n\x3cblockquote\x3e静态站点遇见了PWA就产生了Gatsby\x3c\/blockquote\x3e\n\x3cp\x3e将这两点组合起来的最佳选择看起来就是Gatsby了, 但是同样需要一个内容接口, 这就是我将要展示的, 通过Strapi创建一个内容API提供给Gatsby, 然后打包发布出一个静态站点.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eGatsby是什么\x3c\/h3\x3e\n\x3cp\x3e这个并不是型男熟知的杰士派, 虽然我也用过这个发泥, 好像不是很好用. \x3cstrong\x3e\x3ca href=\x22https:\/\/www.gatsbyjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGatsby\x3c\/a\x3e是基于React的快速静态网站框架\x3c\/strong\x3e, 有了它, 你就可以感觉飘飘然的开发React网站了.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eStrapi是什么\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/strapi.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eStrapi\x3c\/a\x3e是一个基于高级的Nodejs API内容管理框架. 听起来有点绕口, 通俗来说就是\x3cstrong\x3e让你能简单, 安全, 高效的开发出强大API的开源的内容管理框架\x3c\/strong\x3e. 它是免费的, 人们都爱免费的, 可以随意在你的服务器上使用, 也非常具有可个性化, 可扩展性的玩意.\x3c\/p\x3e\n\x3cblockquote\x3e我真想不到国内几乎没有人用Gatsby和Strapi, 百度上查不到任何资料...\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e创建API\x3c\/h2\x3e\n\x3cp\x3e见证奇迹的时刻即将到来, 我们快创建个Strapi API, 添加点内容吧!\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e创建Strapi项目\x3c\/h3\x3e\n\x3cblockquote\x3eRequirements: please make sure \x3cstrong\x3eNode 8\x3c\/strong\x3e (or higher) and \x3cstrong\x3eMongoDB\x3c\/strong\x3e are installed and running on your machine.\x3c\/blockquote\x3e\n\x3cp\x3e此时, 暗喜前阵子已经琢磨出来了并装好了\x3ccode\x3eNode 8\x3c\/code\x3e, 不过装MongoDB就没有了. 因此这里就要插入一段关于MongoDB的内容了. 如果已经有了请自动跳过此内容.\x3c\/p\x3e\n\x3ch4\x3eMongoDB安装及相关问题\x3c\/h4\x3e\n\x3cp\x3e果断找到文档\x3ca href=\x22https:\/\/docs.mongodb.com\/manual\/tutorial\/install-mongodb-on-red-hat\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eInstall MongoDB Community Edition on Red Hat Enterprise or CentOS Linux\x3c\/a\x3e, 这个redhat和centOS应该是通用的吧- -! 看到\x3ca href=\x22https:\/\/docs.mongodb.com\/manual\/tutorial\/install-mongodb-on-red-hat\/#configure-the-package-management-system-yum\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eConfigure the package management system (yum).\x3c\/a\x3e, 发现原来还有这种操作, 创建repo文件, 来安装对应版本的软件. 闲话少说, 直接上代码:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# cd \/etc\/yum.repos.d\/\n# touch mongodb-org-3.6.repo\n# vi mongodb-org-3.6.repo\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# cd \/etc\/yum.repos.d\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# touch mongodb-org-3.6.repo\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# vi mongodb-org-3.6.repo\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e将以下内容copy进去保存\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[mongodb-org-3.6]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.6\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.6.asc\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ini\x22\x3e\x3ccode class=\x22text\x22\x3e\x3cspan class=\x22hljs-section\x22\x3e[mongodb-org-3.6]\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=MongoDB Repository\n\x3cspan class=\x22hljs-attr\x22\x3ebaseurl\x3c\/span\x3e=https:\/\/repo.mongodb.org\/yum\/redhat\/\x3cspan class=\x22hljs-variable\x22\x3e$releasever\x3c\/span\x3e\/mongodb-org\/\x3cspan class=\x22hljs-number\x22\x3e3.6\x3c\/span\x3e\/x\x3cspan class=\x22hljs-number\x22\x3e86_64\x3c\/span\x3e\/\n\x3cspan class=\x22hljs-attr\x22\x3egpgcheck\x3c\/span\x3e=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eenabled\x3c\/span\x3e=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3egpgkey\x3c\/span\x3e=https:\/\/www.mongodb.org\/static\/pgp\/server-\x3cspan class=\x22hljs-number\x22\x3e3.6\x3c\/span\x3e.asc\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再进行安装\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# sudo yum install -y mongodb-org\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# sudo yum install -y mongodb-org\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e如果有特殊需求, 请参阅上文提到的官方文档, 我这里装的是MongoDB Community Edition\x3c\/blockquote\x3e\n\x3cp\x3e按以上步骤很快就装好了. 接下来启动mongod(如果没有启动的话), 如下命令:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# service mongod start\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# service mongod start\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e完成后, 我们接着\x3cstrong\x3e创建Strapi项目\x3c\/strong\x3e的主题, 推荐安装\x3ccode\x3estrapi@alpha\x3c\/code\x3e版本:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# npm i strapi@alpha -g\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# npm i strapi@alpha -g\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e完成后, 去到你要创建本文项目的目录, 比如我这里的路径是\x3ccode\x3e\/home\/web\/\x3c\/code\x3e, 我在这里创建一个\x3ccode\x3egatsby-strapi-tutorial\x3c\/code\x3e目录:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# mkdir gatsby-strapi-tutorial\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# mkdir gatsby-strapi-tutorial\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这里面搭一个API脚手架\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# cd gatsby-strapi-tutorial\n# strapi new api\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# cd gatsby-strapi-tutorial\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# strapi new api\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e进入项目目录, 并运行Node.js服务器\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# cd api\n# strapi start\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# cd api\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# strapi start\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e遇到了一些小问题\x3c\/h4\x3e\n\x3cp\x3e这里突然时不时卡住了, 如果你很顺利, 那么可以跳过此内容, 频繁报错如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[root@whidy api]# strapi start\nDEBUG (24910 on whidy): Server wasn\x27t able to start properly.\nERROR (24910 on whidy): (hook:mongoose) takes too long to load\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e[root@whidy api]\x3cspan class=\x22hljs-comment\x22\x3e# strapi start\x3c\/span\x3e\nDEBUG (24910 on whidy): Server wasn\x3cspan class=\x22hljs-string\x22\x3e\x27t able to start properly.\nERROR (24910 on whidy): (hook:mongoose) takes too long to load\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e大概是网络原因, 我联通网络出问题, 换了电信几番尝试就好了.\x3c\/p\x3e\n\x3cblockquote\x3e操作过程中频繁出现刚才的问题, 我觉得不是网络问题那么简单, 我打算从数据库方面着手完善一下试试, 当然后来证明, \x3cstrong\x3e一切问题都与MongoDB无关\x3c\/strong\x3e, 所以下面缩进内容可以选择性阅读\x3cp\x3e大多数情况下我是不愿意理睬WARNING信息的, 只要不是ERROR就好, 但是这次我有点不爽, 后来折腾了半天发现有的很难处理, 好吧我错了, 我想我还是不死磕了吧?.\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3esoft rlimits too low\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22WARNING: soft rlimits too low. rlimits set to 1024 processes, 64000 files. Number of processes should be at least 32000 : 0.5 times number of files.\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eWARNING: soft rlimits too low. rlimits \x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e to 1024 processes, 64000 files. Number of processes should be at least 32000 : 0.5 \x3cspan class=\x22hljs-built_in\x22\x3etimes\x3c\/span\x3e number of files.\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e参阅:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/kk185800961\/article\/details\/45613267\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMongDB 启动警告 WARNING: soft rlimits too low\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/serverfault.com\/questions\/591812\/how-to-set-ulimits-for-mongod\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHow to set ulimits for mongod?\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eversions of RHEL older than RHEL6\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22WARNING: You are running in OpenVZ which can cause issues on versions of RHEL older than RHEL6.\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eWARNING: You are running \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e OpenVZ \x3cspan class=\x22hljs-built_in\x22\x3ewhich\x3c\/span\x3e can cause issues on versions of RHEL older than RHEL6.\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e服务器硬件限制? 可以安全忽略.\x3c\/p\x3e\n\x3cp\x3e参阅: \x3ca href=\x22https:\/\/groups.google.com\/forum\/#!msg\/mongodb-user\/61NFaGlyxcs\/YGkIGv5RDgAJ\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWARNING: You are running in OpenVZ which can cause issues on versions of RHEL older than RHEL6.\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eAccess Control\x3cbr\x3e以为要搞账户什么的, 然后运行\x3ccode\x3emongo\x3c\/code\x3e命令, 创建了一个admin账户:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# mango\n\x3e use admin\n\x3e db.createUser(\n    {\n      user: \x26quot;username\x26quot;,\n      pwd: \x26quot;userpassword\x26quot;,\n      roles: [ { role: \x26quot;userAdminAnyDatabase\x26quot;, db: \x26quot;admin\x26quot; } ]\n    }\n  )\n# mongo --port 27017 -u \x26quot;username\x26quot; -p \x26quot;userpassword\x26quot; --authenticationDatabase \x26quot;admin\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# mango\x3c\/span\x3e\n\x26gt; use admin\n\x26gt; db.createUser(\n    {\n      user: \x3cspan class=\x22hljs-string\x22\x3e\x22username\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-built_in\x22\x3epwd\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22userpassword\x22\x3c\/span\x3e,\n      roles: [ { role: \x3cspan class=\x22hljs-string\x22\x3e\x22userAdminAnyDatabase\x22\x3c\/span\x3e, db: \x3cspan class=\x22hljs-string\x22\x3e\x22admin\x22\x3c\/span\x3e } ]\n    }\n  )\n\x3cspan class=\x22hljs-comment\x22\x3e# mongo --port 27017 -u \x22username\x22 -p \x22userpassword\x22 --authenticationDatabase \x22admin\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其实我自己当时也不知道是搞啥, 其实完全没关系的操作. 很多人甚至官方文档\x3ca href=\x22https:\/\/docs.mongodb.com\/master\/tutorial\/enable-authentication\/#start-mongodb-without-access-control\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eStart MongoDB without access control.\x3c\/a\x3e也提到:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22mongod --port 27017 --dbpath \/data\/db1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3emongod --port 27017 --dbpath \/data\/db1\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可是我一直报错, 要么说不存在, 搞半天才明白, \x3cstrong\x3e要手动创建\x3c\/strong\x3e, 创建好了, 又说服务被占用, \x3ccode\x3eservice mongod stop\x3c\/code\x3e停了服务, 连上去了, \x3ccode\x3eshow dbs\x3c\/code\x3e发现跟之前的又不一样, 没有找到我之前看到的\x3ccode\x3estrapi\x3c\/code\x3e库, 才恍然大悟, 原来其实我创建了一个跟之前无关的库...\x3c\/p\x3e\n\x3cp\x3e事实上, 启动mongod服务的时候, 它连接了一个默认配置库, 这个库的路径时早就创建好的, 通过查看\x3ccode\x3e\/etc\/mongod.conf\x3c\/code\x3e这个文件就知道了. 因此删了那个没用的db目录. 接着操作.\x3c\/p\x3e\n\x3cp\x3e后来第二天早上, 再次执行\x3ccode\x3estrapi start\x3c\/code\x3e很顺利. 我也没办法再研究昨天究竟是为什么总是连不上了. 反正就是渣渣网络经常会带来各种坑!?, 这段没什么作用的内容就过去了.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e回到刚才\x3ccode\x3estrapi start\x3c\/code\x3e, 成功之后, 我们如果是本地操作的, 带有界面的操作系统的话就可以直接访问\x3ca href=\x22http:\/\/localhost:1337\/admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:1337\/admin\x3c\/a\x3e了, 如果也是远程操作, 就改成IP就好了.\x3c\/p\x3e\n\x3cblockquote\x3e接下来的操作是创建用户, 原文已经图文并茂, 傻子都能看懂的步骤了, 由于篇幅过大, 我就简单翻译一下, 不详细复述了嘿嘿~\x3c\/blockquote\x3e\n\x3cp\x3e按照原文操作:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e创建管理员账号(Create your first User)\x3c\/li\x3e\n\x3cli\x3e创建内容类型(Create a Content Type)\x3cbr\x3e名为\x3ccode\x3earticle\x3c\/code\x3e的内容类型有三个字段: \x3ccode\x3etitle\x3c\/code\x3e(字符串), \x3ccode\x3econtent\x3c\/code\x3e(文本), \x3ccode\x3eauthor\x3c\/code\x3e(关系, 多文章对应一个用户).\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e添加几项内容到数据库\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e访问文章列表页\x3c\/li\x3e\n\x3cli\x3e点击\x3ccode\x3eAdd New Article\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e插入值, 连接对应的作者并保存\x3c\/li\x3e\n\x3cli\x3e重复以上操作, 创建额外两篇文章\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3cli\x3e允许API权限, 依原文对应勾选保存\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e完成后, 就可以访问\x3ca href=\x22http:\/\/localhost:1337\/article\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:1337\/article\x3c\/a\x3e了.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e创建静态站\x3c\/h2\x3e\n\x3cblockquote\x3e到目前, 你的API搞定了, 我们要搞静态网站啦\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e安装Gatsby\x3c\/h3\x3e\n\x3cp\x3e首先, 全局安装Gatsby CLI:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# npm install --global gatsby-cli\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# npm install --global gatsby-cli\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e生成Gatsby项目\x3c\/h3\x3e\n\x3cp\x3e回到之前提到的\x3ccode\x3egatsby-strapi-tutorial\x3c\/code\x3e目录, 创建一个新博客:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# gatsby new blog\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# gatsby new blog\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e事情总是不是那么顺利.\x3c\/blockquote\x3e\n\x3cp\x3e报错, 需要\x3ccode\x3egit\x3c\/code\x3e. 然而我的这台崭新的服务器还没装, 那就装一个吧.\x3c\/p\x3e\n\x3cblockquote\x3e如果你的git已经部署OK, 并且上面这个操作没有问题, 以下内容可忽略:\x3c\/blockquote\x3e\n\x3cp\x3e参考\x3ca href=\x22https:\/\/git-scm.com\/download\/linux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDownload for Linux and Unix\x3c\/a\x3e执行:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# yum install git\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# yum install git\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再次执行后依旧报错(当前git版本\x3ccode\x3e1.7.1\x3c\/code\x3e)\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22error Command failed: git clone git:\/\/github.com\/gatsbyjs\/gatsby-starter-default.git blog --single-branch\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eerror Command failed: git \x3cspan class=\x22hljs-built_in\x22\x3eclone\x3c\/span\x3e git:\/\/github.com\/gatsbyjs\/gatsby-starter-default.git blog --single-branch\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e推测是版本问题. 只好手动安装了. 于是又找到这个\x3ca href=\x22https:\/\/git-scm.com\/book\/zh\/v1\/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e安装 Git\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel\n# wget https:\/\/www.kernel.org\/pub\/software\/scm\/git\/git-2.16.1.tar.gz\n# tar -zxf git-2.16.1.tar.gz\n# cd git-2.16.1\n# make prefix=\/usr\/local all\n# sudo make prefix=\/usr\/local install\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# wget https:\/\/www.kernel.org\/pub\/software\/scm\/git\/git-2.16.1.tar.gz\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# tar -zxf git-2.16.1.tar.gz\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# cd git-2.16.1\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# make prefix=\/usr\/local all\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# sudo make prefix=\/usr\/local install\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e漫长的\x3ccode\x3emake prefix=\/usr\/local all\x3c\/code\x3e之后, 提示:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    SUBDIR perl\n\/usr\/bin\/perl Makefile.PL PREFIX=\\\x27\/usr\/local\\\x27 INSTALL_BASE=\\\x27\\\x27 --localedir=\\\x27\/usr\/local\/share\/locale\\\x27\nCan\\\x27t locate ExtUtils\/MakeMaker.pm in @INC (@INC contains: \/usr\/local\/lib64\/perl5 \/usr\/local\/share\/perl5 \/usr\/lib64\/perl5\/vendor_perl \/usr\/share\/perl5\/vendor_perl \/usr\/lib64\/perl5 \/usr\/share\/perl5 .) at Makefile.PL line 3.\nBEGIN failed--compilation aborted at Makefile.PL line 3.\nmake[1]: *** [perl.mak] Error 2\nmake: *** [perl\/perl.mak] Error 2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e    SUBDIR perl\n\/usr\/bin\/perl Makefile.PL PREFIX=\\\x3cspan class=\x22hljs-string\x22\x3e\x27\/usr\/local\\\x27\x3c\/span\x3e INSTALL_BASE=\\\x3cspan class=\x22hljs-string\x22\x3e\x27\\\x27\x3c\/span\x3e --localedir=\\\x3cspan class=\x22hljs-string\x22\x3e\x27\/usr\/local\/share\/locale\\\x27\x3c\/span\x3e\nCan\\\x3cspan class=\x22hljs-string\x22\x3e\x27t locate ExtUtils\/MakeMaker.pm in @INC (@INC contains: \/usr\/local\/lib64\/perl5 \/usr\/local\/share\/perl5 \/usr\/lib64\/perl5\/vendor_perl \/usr\/share\/perl5\/vendor_perl \/usr\/lib64\/perl5 \/usr\/share\/perl5 .) at Makefile.PL line 3.\nBEGIN failed--compilation aborted at Makefile.PL line 3.\nmake[1]: *** [perl.mak] Error 2\nmake: *** [perl\/perl.mak] Error 2\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e蛋疼, 等了半天, 又要解决这个问题, 好在看起来比较容易处理, 参考\x3ca href=\x22https:\/\/github.com\/qsnake\/qsnake\/issues\/12\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egit fails to build in Fedora 14\x3c\/a\x3e, 然后继续执行最后两条\x3ccode\x3emake\x3c\/code\x3e命令, 虽然最后出来很多看起来很奇怪的内容, 不过似乎是成功了. 执行:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# git --version\ngit version 2.16.1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# git --version\x3c\/span\x3e\ngit version 2.16.1\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来我们再一次执行\x3ccode\x3egatsby new blog\x3c\/code\x3e, 我擦还提示刚才的\x3ccode\x3e...single-branch\x3c\/code\x3e的error, 这就坑爹了- -. 经过简短的排查. 原来似乎他还是跑的旧版git, 需要删掉之前yum自动安装的\x3ccode\x3egit 1.7.1\x3c\/code\x3e, 我单纯的以为直接自动升级了. 于是:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# yum remove git\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# yum remove git\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e按照提示删除成功后, 再次检测git还是ok的, 这次我第三次执行\x3ccode\x3egatsby new blog\x3c\/code\x3e, 终于成功了!\x3c\/p\x3e\n\x3cblockquote\x3e我这小白也不知道linux软件管理是咋整的. 反正能继续执行卡了我半天的gatsby就好了吧...\x3cp\x3e每次创建速度很慢, 执行\x3ccode\x3egatsby new blog\x3c\/code\x3e完成的时候提示\x3ccode\x3eadded 1398 packages in 137.652s\x3c\/code\x3e, 大概就是2分钟多, 可能是安装依赖包费时吧\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e启动开发模式\x3c\/h3\x3e\n\x3cp\x3e创建成功后, 接着操作, 进入博客目录\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# cd blog\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# cd blog\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e启动服务器\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# gatsby develop\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# gatsby develop\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e理论上你就可以通过\x3ca href=\x22http:\/\/localhost:8000\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:8000\x3c\/a\x3e访问到默认的效果博客站点了.\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e然而又一次出现小插曲, 如果你是和我一样\x3cstrong\x3e远程访问\x3c\/strong\x3e, 也许以下内容对你有用\x3c\/p\x3e\n\x3cp\x3e每次执行\x3ccode\x3egatsby develop\x3c\/code\x3e的时间甚至更长, 完成时提示如下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22info bootstrap finished - 334.876 s\n\nDONE  Compiled successfully in 90373ms 21:15:06\n\n\nYou can now view gatsby-starter-default in the browser.\n\nhttp:\/\/localhost:8000\/\n\nView GraphiQL, an in-browser IDE, to explore your site\x27s data and schema\n\nhttp:\/\/localhost:8000\/___graphql\n\nNote that the development build is not optimized.\nTo create a production build, use gatsby build\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3einfo bootstrap finished - 334.876 s\n\nDONE  Compiled successfully \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e 90373ms 21:15:06\n\n\nYou can now view gatsby-starter-default \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e the browser.\n\nhttp:\/\/localhost:8000\/\n\nView GraphiQL, an \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e-browser IDE, to explore your site\x3cspan class=\x22hljs-string\x22\x3e\x27s data and schema\n\nhttp:\/\/localhost:8000\/___graphql\n\nNote that the development build is not optimized.\nTo create a production build, use gatsby build\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e大概用了6分钟左右, 糟糕的是并不能通过远程\x3cstrong\x3eIP\x3c\/strong\x3e来访问! 查看了目录下的配置文件和官方文档, 也没查到. 绝望之时, 突然在大量资料中看到webpack也有这样的问题, 想起来之前webpack的server默认配置也是无法通过ip访问, 但是webpack的\x3ccode\x3edevServer\x3c\/code\x3e配置\x3ccode\x3ehost: \x220.0.0.0\x22\x3c\/code\x3e即可, 试了下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# gatsby develop --host 0.0.0.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# gatsby develop --host 0.0.0.0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e又经过4分钟左右漫长等待, 这次成功了! 不过我尝试搜索Gatsby究竟用的什么服务器启动, 为何不能像webpack那样加一段配置呢, 却没有找到. 后来凑巧找到了一篇webpack下的issue, \x3ca href=\x22https:\/\/github.com\/webpack\/webpack-dev-server\/issues\/147\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eServer can\x27t be accessed via IP\x3c\/a\x3e, 有人提到过这条命令.\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e因此, 从小插曲中来看, 远程访问控制的开发者, 需要加个参数, 具体命令:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# gatsby develop --host 0.0.0.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# gatsby develop --host 0.0.0.0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样, 至此开发模式服务器搞定.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e安装Strapi插件(Install the Strapi source plugin)\x3c\/h2\x3e\n\x3cblockquote\x3eGatsby understands this pretty well. So its creators decided to build a specific and independent layer: the data layer. This entire system is strongly powered by GraphQL.\x3c\/blockquote\x3e\n\x3cp\x3e前面有一些插件介绍不多说了, 执行安装:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# npm install --save gatsby-source-strapi\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# npm install --save gatsby-source-strapi\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e完成后, 需要做些配置, 修改\x3ccode\x3egatsby-config.js\x3c\/code\x3e文件, 替换成以下内容:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  siteMetadata: {\n    title: `Gatsby Default Starter`,\n  },\n  plugins: [\n    `gatsby-plugin-react-helmet`,\n    {\n      resolve: `gatsby-source-strapi`,\n      options: {\n        apiURL: `http:\/\/localhost:1337`,\n        contentTypes: [ \/\/ List of the Content Types you want to be able to request from Gatsby.\n          `article`,\n          `user`\n        ]\n      },\n    },\n  ],\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3esiteMetadata\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`Gatsby Default Starter`\x3c\/span\x3e,\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e`gatsby-plugin-react-helmet`\x3c\/span\x3e,\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3eresolve\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`gatsby-source-strapi`\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eapiURL\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`http:\/\/localhost:1337`\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3econtentTypes\x3c\/span\x3e: [ \x3cspan class=\x22hljs-comment\x22\x3e\/\/ List of the Content Types you want to be able to request from Gatsby.\x3c\/span\x3e\n          \x3cspan class=\x22hljs-string\x22\x3e`article`\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-string\x22\x3e`user`\x3c\/span\x3e\n        ]\n      },\n    },\n  ],\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e保存后, 重启Gatsby服务器\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e文章列表\x3c\/h3\x3e\n\x3cp\x3e为了在首页显示文章列表, 我们需要修改首页代码如下:\x3c\/p\x3e\n\x3cp\x3e路径: \x3ccode\x3esrc\/pages\/index.js\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nimport Link from \x27gatsby-link\x27\nconst IndexPage = ({ data }) =\x3e (\n  \x3cdiv\x3e\n    \x3ch1\x3eHi people\x3c\/h1\x3e\n    \x3cp\x3eWelcome to your new Gatsby site.\x3c\/p\x3e\n    \x3cp\x3eNow go build something great.\x3c\/p\x3e\n    \x3cul\x3e\n      {data.allStrapiArticle.edges.map(document =\x3e (\n        \x3cli key={document.node.id}\x3e\n          \x3ch2\x3e\n            \x3cLink to={`\/${document.node.id}`}\x3e{document.node.title}\x3c\/Link\x3e\n          \x3c\/h2\x3e\n          \x3cp\x3e{document.node.content}\x3c\/p\x3e\n        \x3c\/li\x3e\n      ))}\n    \x3c\/ul\x3e\n    \x3cLink to=\x26quot;\/page-2\/\x26quot;\x3eGo to page 2\x3c\/Link\x3e\n  \x3c\/div\x3e\n)\nexport default IndexPage\nexport const pageQuery = graphql`\n  query IndexQuery {\n    allStrapiArticle {\n      edges {\n        node {\n          id\n          title\n          content\n        }\n      }\n    }\n  }\n`\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Link \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27gatsby-link\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e IndexPage = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ data }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3eHi people\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eWelcome to your new Gatsby site.\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eNow go build something great.\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      {data.allStrapiArticle.edges.map(document =\x26gt; (\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{document.node.id}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e`\/${\x3cspan class=\x22hljs-attr\x22\x3edocument.node.id\x3c\/span\x3e}`}\x26gt;\x3c\/span\x3e{document.node.title}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e{document.node.content}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      ))}\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/page-2\/\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eGo to page 2\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e IndexPage\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e pageQuery = graphql\x3cspan class=\x22hljs-string\x22\x3e`\n  query IndexQuery {\n    allStrapiArticle {\n      edges {\n        node {\n          id\n          title\n          content\n        }\n      }\n    }\n  }\n`\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里就应用到了GraphQL啦, 好激动呢. 我们导出\x3ccode\x3epageQuery\x3c\/code\x3e, 一个GraphQL查询会请求文章列表, 我们只需要将需要查询的字段添加进去就好了~\x3c\/p\x3e\n\x3cp\x3e然后我们传递\x3ccode\x3e{ data }\x3c\/code\x3e这个结构对象作为\x3ccode\x3eIndexPage\x3c\/code\x3e参数, 遍历它的\x3ccode\x3eallStrapiArticles\x3c\/code\x3e对象, 来展示数据.\x3c\/p\x3e\n\x3cblockquote\x3eGraphQL查询可以快速生成, 你可以尝试在\x3ca href=\x22http:\/\/localhost:8000\/___graphql\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:8000\/___graphql\x3c\/a\x3e修改, 并测试.\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e文章页\x3c\/h3\x3e\n\x3cp\x3e首页有了列表之后, 我们还要访问文章页面呢, 接下来写一个模板:\x3c\/p\x3e\n\x3cp\x3e路径: \x3ccode\x3esrc\/templates\/article.js\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nimport Link from \x27gatsby-link\x27\nconst ArticleTemplate = ({ data }) =\x3e (\n  \x3cdiv\x3e\n    \x3ch1\x3e{data.strapiArticle.title}\x3c\/h1\x3e\n    \x3cp\x3eby \x3cLink to={`\/authors\/${data.strapiArticle.author.id}`}\x3e{data.strapiArticle.author.username}\x3c\/Link\x3e\x3c\/p\x3e\n    \x3cp\x3e{data.strapiArticle.content}\x3c\/p\x3e\n  \x3c\/div\x3e\n)\nexport default ArticleTemplate\nexport const query = graphql`\n  query ArticleTemplate($id: String!) {\n    strapiArticle(id: {eq: $id}) {\n      title\n      content\n      author {\n        id\n        username\n      }\n    }\n  }\n`\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Link \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27gatsby-link\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ArticleTemplate = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ data }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e{data.strapiArticle.title}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eby \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e`\/\x3cspan class=\x22hljs-attr\x22\x3eauthors\x3c\/span\x3e\/${\x3cspan class=\x22hljs-attr\x22\x3edata.strapiArticle.author.id\x3c\/span\x3e}`}\x26gt;\x3c\/span\x3e{data.strapiArticle.author.username}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e{data.strapiArticle.content}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e ArticleTemplate\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e query = graphql\x3cspan class=\x22hljs-string\x22\x3e`\n  query ArticleTemplate($id: String!) {\n    strapiArticle(id: {eq: $id}) {\n      title\n      content\n      author {\n        id\n        username\n      }\n    }\n  }\n`\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你需要手动创建这个目录和文件, 当然Gatsby并不知道模板何时展示. 每篇文章都需要一个特别的URL, 感谢Gatsby提供的\x3ca href=\x22https:\/\/www.gatsbyjs.org\/docs\/creating-and-modifying-pages\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3ecreatePage\x3c\/code\x3e\x3c\/a\x3e函数.\x3c\/p\x3e\n\x3cp\x3e首先, 我们写个\x3ccode\x3emakeRequest\x3c\/code\x3e函数来处理GraphQL请求. 然后通过\x3ccode\x3ecreatePage\x3c\/code\x3e函数使我们在获取的文章列表后为它们创建一个页面, 路径为文章id的URL, 回到\x3ccode\x3eblog\x3c\/code\x3e目录, 修改\x3ccode\x3egatsby-node.js\x3c\/code\x3e文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const path = require(`path`);\nconst makeRequest = (graphql, request) =\x3e new Promise((resolve, reject) =\x3e {\n  \/\/ Query for nodes to use in creating pages.\n  resolve(\n    graphql(request).then(result =\x3e {\n      if (result.errors) {\n        reject(result.errors)\n      }\n      return result;\n    })\n  )\n});\n\/\/ Implement the Gatsby API “createPages”. This is called once the\n\/\/ data layer is bootstrapped to let plugins create pages from data.\nexports.createPages = ({ boundActionCreators, graphql }) =\x3e {\n  const { createPage } = boundActionCreators;\n  const getArticles = makeRequest(graphql, `\n    {\n      allStrapiArticle {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n    `).then(result =\x3e {\n    \/\/ Create pages for each article.\n    result.data.allStrapiArticle.edges.forEach(({ node }) =\x3e {\n      createPage({\n        path: `\/${node.id}`,\n        component: path.resolve(`src\/templates\/article.js`),\n        context: {\n          id: node.id,\n        },\n      })\n    })\n  });\n  \/\/ Query for articles nodes to use in creating pages.\n  return getArticles;\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e`path`\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e makeRequest = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3egraphql, request\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Query for nodes to use in creating pages.\x3c\/span\x3e\n  resolve(\n    graphql(request).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (result.errors) {\n        reject(result.errors)\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result;\n    })\n  )\n});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Implement the Gatsby API “createPages”. This is called once the\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ data layer is bootstrapped to let plugins create pages from data.\x3c\/span\x3e\nexports.createPages = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ boundActionCreators, graphql }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { createPage } = boundActionCreators;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getArticles = makeRequest(graphql, \x3cspan class=\x22hljs-string\x22\x3e`\n    {\n      allStrapiArticle {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n    `\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Create pages for each article.\x3c\/span\x3e\n    result.data.allStrapiArticle.edges.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ node }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      createPage({\n        \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\/\x3cspan class=\x22hljs-subst\x22\x3e${node.id}\x3c\/span\x3e`\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: path.resolve(\x3cspan class=\x22hljs-string\x22\x3e`src\/templates\/article.js`\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-attr\x22\x3econtext\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: node.id,\n        },\n      })\n    })\n  });\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Query for articles nodes to use in creating pages.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e getArticles;\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再次重启Gatsby服务器.\x3c\/p\x3e\n\x3cp\x3e现在你就能通过点击首页的文章进入到文章内容页面了.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e作者页\x3c\/h3\x3e\n\x3cp\x3e虽然这个似乎并不重要, 不过还是加上学习一下吧?\x3c\/p\x3e\n\x3cp\x3e添加作者页和创建文章页很相似, 我们还是先创建个模板:\x3c\/p\x3e\n\x3cp\x3e路径: \x3ccode\x3esrc\/templates\/user.js\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nimport Link from \x27gatsby-link\x27\nconst UserTemplate = ({ data }) =\x3e (\n  \x3cdiv\x3e\n    \x3ch1\x3e{data.strapiUser.username}\x3c\/h1\x3e\n    \x3cul\x3e\n      {data.strapiUser.articles.map(article =\x3e (\n        \x3cli key={article.id}\x3e\n          \x3ch2\x3e\n            \x3cLink to={`\/${article.id}`}\x3e{article.title}\x3c\/Link\x3e\n          \x3c\/h2\x3e\n          \x3cp\x3e{article.content}\x3c\/p\x3e\n        \x3c\/li\x3e\n      ))}\n    \x3c\/ul\x3e\n  \x3c\/div\x3e\n)\nexport default UserTemplate\nexport const query = graphql`\n  query UserTemplate($id: String!) {\n    strapiUser(id: { eq: $id }) {\n      id\n      username\n      articles {\n        id\n        title\n        content\n      }\n    }\n  }\n`\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Link \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27gatsby-link\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e UserTemplate = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ data }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e{data.strapiUser.username}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      {data.strapiUser.articles.map(article =\x26gt; (\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{article.id}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e`\/${\x3cspan class=\x22hljs-attr\x22\x3earticle.id\x3c\/span\x3e}`}\x26gt;\x3c\/span\x3e{article.title}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e{article.content}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      ))}\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e UserTemplate\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e query = graphql\x3cspan class=\x22hljs-string\x22\x3e`\n  query UserTemplate($id: String!) {\n    strapiUser(id: { eq: $id }) {\n      id\n      username\n      articles {\n        id\n        title\n        content\n      }\n    }\n  }\n`\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后再次修改\x3ccode\x3egatsby-node.js\x3c\/code\x3e来创建作者URLs:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const path = require(`path`);\nconst makeRequest = (graphql, request) =\x3e new Promise((resolve, reject) =\x3e {\n  \/\/ Query for article nodes to use in creating pages.\n  resolve(\n    graphql(request).then(result =\x3e {\n      if (result.errors) {\n        reject(result.errors)\n      }\n      return result;\n    })\n  )\n});\n\n\/\/ Implement the Gatsby API “createPages”. This is called once the\n\/\/ data layer is bootstrapped to let plugins create pages from data.\nexports.createPages = ({ boundActionCreators, graphql }) =\x3e {\n  const { createPage } = boundActionCreators;\n  const getArticles = makeRequest(graphql, `\n    {\n      allStrapiArticle {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n    `).then(result =\x3e {\n    \/\/ Create pages for each article.\n    result.data.allStrapiArticle.edges.forEach(({ node }) =\x3e {\n      createPage({\n        path: `\/${node.id}`,\n        component: path.resolve(`src\/templates\/article.js`),\n        context: {\n          id: node.id,\n        },\n      })\n    })\n  });\n  const getAuthors = makeRequest(graphql, `\n    {\n      allStrapiUser {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n    `).then(result =\x3e {\n    \/\/ Create pages for each user.\n    result.data.allStrapiUser.edges.forEach(({ node }) =\x3e {\n      createPage({\n        path: `\/authors\/${node.id}`,\n        component: path.resolve(`src\/templates\/user.js`),\n        context: {\n          id: node.id,\n        },\n      })\n    })\n  });\n  \/\/ Queries for articles and authors nodes to use in creating pages.\n  return Promise.all([\n    getArticles,\n    getAuthors,\n  ])\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e`path`\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e makeRequest = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3egraphql, request\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Query for article nodes to use in creating pages.\x3c\/span\x3e\n  resolve(\n    graphql(request).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (result.errors) {\n        reject(result.errors)\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result;\n    })\n  )\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Implement the Gatsby API “createPages”. This is called once the\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ data layer is bootstrapped to let plugins create pages from data.\x3c\/span\x3e\nexports.createPages = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ boundActionCreators, graphql }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { createPage } = boundActionCreators;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getArticles = makeRequest(graphql, \x3cspan class=\x22hljs-string\x22\x3e`\n    {\n      allStrapiArticle {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n    `\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Create pages for each article.\x3c\/span\x3e\n    result.data.allStrapiArticle.edges.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ node }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      createPage({\n        \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\/\x3cspan class=\x22hljs-subst\x22\x3e${node.id}\x3c\/span\x3e`\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: path.resolve(\x3cspan class=\x22hljs-string\x22\x3e`src\/templates\/article.js`\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-attr\x22\x3econtext\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: node.id,\n        },\n      })\n    })\n  });\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getAuthors = makeRequest(graphql, \x3cspan class=\x22hljs-string\x22\x3e`\n    {\n      allStrapiUser {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n    `\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Create pages for each user.\x3c\/span\x3e\n    result.data.allStrapiUser.edges.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ node }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      createPage({\n        \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\/authors\/\x3cspan class=\x22hljs-subst\x22\x3e${node.id}\x3c\/span\x3e`\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: path.resolve(\x3cspan class=\x22hljs-string\x22\x3e`src\/templates\/user.js`\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-attr\x22\x3econtext\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: node.id,\n        },\n      })\n    })\n  });\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Queries for articles and authors nodes to use in creating pages.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.all([\n    getArticles,\n    getAuthors,\n  ])\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e重启服务器, 刷新页面, Wow! 大功告成! 时不时很酷!!!\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e原文总结\x3c\/h2\x3e\n\x3cp\x3e恭喜, 你成功的创建了一个超快的很好维护的博客! 然后各种夸奖Blabla\x3c\/p\x3e\n\x3cp\x3e接下来做什么呢? 你可以去更多的挖掘Gatsby和Strapi的各种优点, 你可以试着增加这些功能:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e作者列表\x3c\/li\x3e\n\x3cli\x3e文章分类\x3c\/li\x3e\n\x3cli\x3e用Strapi API创建评论系统, 或者直接用Disqus\x3c\/li\x3e\n\x3cli\x3e当然你也可以试着搞其他站点, 例如电商站, 企业站等等\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e当然为了进一步方便开发, 你可能需要一个方便的发布在网上的存储载体, Blablabla...\x3c\/p\x3e\n\x3cp\x3e本教程\x3ca href=\x22https:\/\/github.com\/strapi\/strapi-examples\/tree\/master\/gatsby-strapi-tutorial\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGitHub源码地址\x3c\/a\x3e, 你可以clone下来, 运行\x3ccode\x3enpm run setup\x3c\/code\x3e, blablabla... 我是个爱研究的人, 我要一步步操作, 才不要clone.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e个人总结\x3c\/h2\x3e\n\x3cp\x3e这次通过Gatsby和Strapi搭建一个简单的博客站点, 还是挺不容易的, 总共花了将近两天的时间. 不过个人感觉还是值得的! 其中有很多地方是可以更加深入的学习和了解的, 这也算初步接触了react, mongodb, graphQL等相关知识实操, 同时也可以在后期完善更多的功能, 了解并学习一些ES6, 模板的写法技巧等等. 也希望通过此次研究以后能更进一步熟悉其他框架, 数据库, 后端等思想~\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e相关参阅汇总\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e本文操作参考\x3ca href=\x22https:\/\/hackernoon.com\/building-a-static-blog-using-gatsby-and-strapi-8b5acfc82ad8\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBuilding a static blog using Gatsby and Strapi\x3c\/a\x3e或\x3ca href=\x22https:\/\/blog.strapi.io\/building-a-static-website-using-gatsby-and-strapi\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.strapi.io\/building-a-static-website-using-gatsby-and-strapi\/\x3c\/a\x3e(如果前面的那个无法访问)\x3c\/li\x3e\n\x3cli\x3eGatsby官方\x3ca href=\x22https:\/\/www.gatsbyjs.org\/docs\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e使用手册\x3c\/a\x3e和\x3ca href=\x22https:\/\/www.gatsbyjs.org\/tutorial\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e开发教程\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/strapi.io\/documentation\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eStrapi文档\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/docs.mongodb.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMongoDB 3.6官方手册\x3c\/a\x3e和runoob上的\x3ca href=\x22http:\/\/www.runoob.com\/mongodb\/mongodb-tutorial.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMongoDB 教程\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e最后打个小广告, 我有个GitHub项目, 用于记录我每天学习或者瞎折腾的技术, 范围不限, 有兴趣可以star我的\x3ca href=\x22https:\/\/github.com\/whidy\/daily\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewhidy daily\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>用Gatsby和Strapi创建一个静态博客(翻译和自己探索过程中的经验总结)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012993582">https://segmentfault.com/a/1190000012993582</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/7a1w8m11fnp/" target="_blank">https://alili.tech/archive/7a1w8m11fnp/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>