<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="webpack4 多入口，多页面项目构建案例"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>webpack4 多入口，多页面项目构建案例 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/7ccqwambt8d/",
				"appid": "1613049289050283", 
				"title": "webpack4 多入口，多页面项目构建案例 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-11-29T09:34:56"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/dwajbk6ehhh/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ql2v7ch48j/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&text=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&text=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&title=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&is_video=false&description=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&title=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&title=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&title=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f7ccqwambt8d%2f&title=webpack4%20%e5%a4%9a%e5%85%a5%e5%8f%a3%ef%bc%8c%e5%a4%9a%e9%a1%b5%e9%9d%a2%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e6%a1%88%e4%be%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">webpack4 多入口，多页面项目构建案例</h1><div class="meta"><div class="postdate"><time datetime="2018-11-29" itemprop="datePublished">2018-11-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e趁工作之余从零构建了一个webpack4.x多页面应用程序。过程中也遇到一些坑，就记录下来了。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3ewebpack核心概念\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3eEntry：入口，Webpack 执行构建的第一步将从 Entry 开始。\x3c\/li\x3e\n\x3cli\x3eModule：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。\x3c\/li\x3e\n\x3cli\x3eChunk：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。\x3c\/li\x3e\n\x3cli\x3eLoader：模块转换器，用于把模块原内容按照需求转换成新内容。\x3c\/li\x3e\n\x3cli\x3ePlugin：扩展插件，在 Webpack 构建流程中的特定时机注入扩展逻辑来改变构建结果或做你想要的事情。\x3c\/li\x3e\n\x3cli\x3eOutput：输出结果，在 Webpack 经过一系列处理并得出最终想要的代码后输出结果。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e项目的运行主要围绕的就是这几大块 \x3c\/p\x3e\n\x3cp\x3e首先看一下构建后目录\x3cbr\x3e├── build\x3cbr\x3e│   ├── webpack.base.conf.js\x3cbr\x3e│   ├── webpack.dev.conf.js\x3cbr\x3e│   ├── webpack.prod.conf.js\x3cbr\x3e│   ├── webpack.rules.conf.js\x3cbr\x3e├── src\x3cbr\x3e│   ├── css\x3cbr\x3e│   ├── js\x3cbr\x3e│   ├── images\x3cbr\x3e│   ├── assets\x3cbr\x3e│   ├── pages\x3cbr\x3e│   │   ├── index\x3cbr\x3e│   │   │   ├── index.html\x3cbr\x3e│   │   │   ├── index.js\x3cbr\x3e│   │   │   └── index.scss\x3cbr\x3e│   │   ├── login\x3cbr\x3e│   │   │   ├── index.html\x3cbr\x3e│   │   │   ├── index.js\x3cbr\x3e│   │   │   └── index.scss\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1.多页面的入口文件\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22修改 webpack.base.conf.js代码\nentry: {\n        \/\/ 多入口文件\n        index: [\x27.\/src\/pages\/index\/index.js\x27,],\n        login: \x27.\/src\/pages\/login\/index.js\x27,\n    },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e修改 webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.base\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.conf\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e代码\nentry: {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 多入口文件\x3c\/span\x3e\n        index: [\x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/pages\/index\/index.js\x27\x3c\/span\x3e,],\n        login: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/pages\/login\/index.js\x27\x3c\/span\x3e,\n    },\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2.配置开发服务器\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install webpack-dev-server --save-dev\n\/\/修改 webpack.dev.conf.js代码\n\ndevServer: {\n    contentBase: path.join(__dirname, \x26quot;..\/dist\x26quot;),\n    publicPath:\x27\/\x27,\n    host: \x26quot;127.0.0.1\x26quot;,\n    port: \x26quot;8089\x26quot;,\n    overlay: true, \/\/ 浏览器页面上显示错误\n    \/\/ open: true, \/\/ 开启自动打开浏览器\n    \/\/ stats: \x26quot;errors-only\x26quot;, \/\/stats: \x26quot;errors-only\x26quot;表示只打印错误：\n    hot: true \/\/ 开启热更新\n},\n\/\/修改package.json\nscripts: {\n    \x26quot;dev\x26quot;: \x26quot;cross-env NODE_ENV=development webpack-dev-server  --config build\/webpack.dev.conf.js\x26quot;,\n    \x26quot;build\x26quot;: \x26quot;cross-env NODE_ENV=production webpack --config build\/webpack.prod.conf.js\x26quot;,\n    \x26quot;server\x26quot;: \x26quot;live-server .\/ --port=8888\x26quot;\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3enpm install webpack-dev-server --save-dev\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改 webpack.dev.conf.js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e\ndevServer:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e    contentBase:\x3c\/span\x3e path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x22..\/dist\x22\x3c\/span\x3e),\n\x3cspan class=\x22hljs-symbol\x22\x3e    publicPath:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e    host:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22127.0.0.1\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e    port:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x228089\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e    overlay:\x3c\/span\x3e true, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 浏览器页面上显示错误\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ open: true, \/\/ 开启自动打开浏览器\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ stats: \x22errors-only\x22, \/\/stats: \x22errors-only\x22表示只打印错误：\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e    hot:\x3c\/span\x3e true \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 开启热更新\x3c\/span\x3e\n},\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改package.json\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3escripts:\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22dev\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cross-env NODE_ENV=development webpack-dev-server  --config build\/webpack.dev.conf.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cross-env NODE_ENV=production webpack --config build\/webpack.prod.conf.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22server\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22live-server .\/ --port=8888\x22\x3c\/span\x3e\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e3.配置loader\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    test: \/\\.(css|scss|sass)$\/,\n    \/\/ 不分离的写法\n    \/\/ use: [\x26quot;style-loader\x26quot;, \x26quot;css-loader\x26quot;,sass-loader\x26quot;]\n    \/\/ 使用postcss不分离的写法\n    \/\/ use: [\x26quot;style-loader\x26quot;, \x26quot;css-loader\x26quot;, sass-loader\x26quot;,\x26quot;postcss-loader\x26quot;]\n    \/\/ 此处为分离css的写法\n    \/*use: extractTextPlugin.extract({\n        fallback: \x26quot;style-loader\x26quot;,\n        use: [\x26quot;css-loader\x26quot;, \x26quot;sass-loader\x26quot;],\n        \/\/ css中的基础路径\n        publicPath: \x26quot;..\/\x26quot;\n    })*\/\n    \/\/ 此处为使用postcss分离css的写法\n    use: extractTextPlugin.extract({\n        fallback: \x26quot;style-loader\x26quot;,\n        use: [\x26quot;css-loader\x26quot;, \x26quot;sass-loader\x26quot;, \x26quot;postcss-loader\x26quot;],\n        \/\/ css中的基础路径\n        publicPath: \x26quot;..\/\x26quot;\n\n    })\n},\n{\n    test: \/\\.js$\/,\n    use: [\x26quot;babel-loader\x26quot;],\n    \/\/ 不检查node_modules下的js文件\n    exclude: \x26quot;\/node_modules\/\x26quot;\n}, {\n    test: \/\\.(png|jpg|gif)$\/,\n    use: [{\n        \/\/ 需要下载file-loader和url-loader\n        loader: \x26quot;url-loader\x26quot;,\n        options: {\n            limit: 5 * 1024,\/\/小于这个时将会已base64位图片打包处理\n            \/\/ 图片文件输出的文件夹\n            outputPath: \x26quot;images\x26quot;\n        }\n    }]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs python\x22\x3e\x3ccode\x3e{\n    test: \/\\.(css|scss|sass)$\/,\n    \/\/ 不分离的写法\n    \/\/ use: [\x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e,sass-loade\x3cspan class=\x22hljs-string\x22\x3er\x22]\n    \/\/ 使用postcss不分离的写法\n    \/\/ use: [\x22\x3c\/span\x3estyle-loade\x3cspan class=\x22hljs-string\x22\x3er\x22, \x22\x3c\/span\x3ecss-loade\x3cspan class=\x22hljs-string\x22\x3er\x22, sass-loader\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22postcss-loader\x22\x3c\/span\x3e]\n    \/\/ 此处为分离css的写法\n    \/*use: extractTextPlugin.extract({\n        fallback: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e,\n        use: [\x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22sass-loader\x22\x3c\/span\x3e],\n        \/\/ css中的基础路径\n        publicPath: \x3cspan class=\x22hljs-string\x22\x3e\x22..\/\x22\x3c\/span\x3e\n    })*\/\n    \/\/ 此处为使用postcss分离css的写法\n    use: extractTextPlugin.extract({\n        fallback: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e,\n        use: [\x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22sass-loader\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22postcss-loader\x22\x3c\/span\x3e],\n        \/\/ css中的基础路径\n        publicPath: \x3cspan class=\x22hljs-string\x22\x3e\x22..\/\x22\x3c\/span\x3e\n\n    })\n},\n{\n    test: \/\\.js$\/,\n    use: [\x3cspan class=\x22hljs-string\x22\x3e\x22babel-loader\x22\x3c\/span\x3e],\n    \/\/ 不检查node_modules下的js文件\n    exclude: \x3cspan class=\x22hljs-string\x22\x3e\x22\/node_modules\/\x22\x3c\/span\x3e\n}, {\n    test: \/\\.(png|jpg|gif)$\/,\n    use: [{\n        \/\/ 需要下载file-loader和url-loader\n        loader: \x3cspan class=\x22hljs-string\x22\x3e\x22url-loader\x22\x3c\/span\x3e,\n        options: {\n            limit: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e,\/\/小于这个时将会已base64位图片打包处理\n            \/\/ 图片文件输出的文件夹\n            outputPath: \x3cspan class=\x22hljs-string\x22\x3e\x22images\x22\x3c\/span\x3e\n        }\n    }]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e4.从js中分离css\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install extract-text-webpack-plugin --save-dev \n\/\/这个插件在webpack4.x 运行时会有点问题,后面会提到\n\/\/修改 webpack.base.conf.js代码\n\/\/ 分离css插件参数为提取出去的路径\nnew extractTextPlugin({\n    filename: \x27css\/[name].[hash:8].min.css\x27,\n}),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3enpm install extract-\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e-webpack-plugin --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-dev \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/这个插件在webpack4.x 运行时会有点问题,后面会提到\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改 webpack.base.conf.js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分离css插件参数为提取出去的路径\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e extractTextPlugin({\n    filename: \x3cspan class=\x22hljs-string\x22\x3e\x27css\/[name].[hash:8].min.css\x27\x3c\/span\x3e,\n}),\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e5.处理css3属性前缀，消除冗余的css代码并压缩css\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/属性自动加前缀\nnpm install postcss-loader --save-dev \n\/\/在根目录新建postcss.config.js\nmodule.exports = {\n    plugins: [\n        require(\x27autoprefixer\x27)\/\/自动添加css前缀\n    ]\n};\n\/\/loader里加入postcss\n{\n    test: \/\\.(css|scss|sass)$\/,\n    \/\/ 此处为使用postcss分离css的写法\n    use: extractTextPlugin.extract({\n        fallback: \x26quot;style-loader\x26quot;,\n        use: [\x26quot;css-loader\x26quot;, \x26quot;sass-loader\x26quot;, \x26quot;postcss-loader\x26quot;],\n        \/\/ css中的基础路径\n        publicPath: \x26quot;..\/\x26quot;\n\n    })\n}\n\/\/修改package.json 加入css要兼容浏览器版本的代码\n\x26quot;browserslist\x26quot;: [\n    \x26quot;defaults\x26quot;,\n    \x26quot;not ie \x3c 11\x26quot;,\n    \x26quot;last 2 versions\x26quot;,\n    \x26quot;\x3e 1%\x26quot;,\n    \x26quot;iOS 7\x26quot;,\n    \x26quot;last 3 iOS versions\x26quot;\n]\n\/\/消除冗余css代码 使用glob模块去匹配文件所以还要安装glob模块\nnpm install purifycss-webpack --save-dev \nnew purifyCssWebpack({\n    paths: glob.sync(path.join(__dirname, \x26quot;..\/src\/pages\/*\/*.html\x26quot;))\n}),\n\/\/压缩css\nnpm install optimize-css-assets-webpack-plugin --save-dev \n\/\/压缩css\n\/\/修改 webpack.prod.conf.js代码\nnew OptimizeCSSPlugin({\n    cssProcessorOptions: {\n        safe: true\n    }\n}),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/属性自动加前缀\x3c\/span\x3e\nnpm install postcss-loader --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-dev \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/在根目录新建postcss.config.js\x3c\/span\x3e\nmodule.exports = {\n    plugins: [\n        require(\x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e\/\/自动添加css前缀\x3c\/span\x3e\n    ]\n};\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/loader里加入postcss\x3c\/span\x3e\n{\n    test: \/\\.(css|scss|sass)$\/,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 此处为使用postcss分离css的写法\x3c\/span\x3e\n    use: extractTextPlugin.extract({\n        fallback: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e,\n        use: [\x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22sass-loader\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22postcss-loader\x22\x3c\/span\x3e],\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ css中的基础路径\x3c\/span\x3e\n        publicPath: \x3cspan class=\x22hljs-string\x22\x3e\x22..\/\x22\x3c\/span\x3e\n\n    })\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改package.json 加入css要兼容浏览器版本的代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22browserslist\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22defaults\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22not ie \x26lt; 11\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22last 2 versions\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22\x26gt; 1%\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22iOS 7\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22last 3 iOS versions\x22\x3c\/span\x3e\n]\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/消除冗余css代码 使用glob模块去匹配文件所以还要安装glob模块\x3c\/span\x3e\nnpm install purifycss-webpack --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-dev \n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e purifyCssWebpack({\n    paths: glob.sync(path.\x3cspan class=\x22hljs-built_in\x22\x3ejoin\x3c\/span\x3e(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x22..\/src\/pages\/*\/*.html\x22\x3c\/span\x3e))\n}),\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/压缩css\x3c\/span\x3e\nnpm install optimize-css-assets-webpack-plugin --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-dev \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/压缩css\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改 webpack.prod.conf.js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e OptimizeCSSPlugin({\n    cssProcessorOptions: {\n        safe: \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e\n    }\n}),\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e6.清空打包目录\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install clean-webpack-plugin --save-dev \n\/\/修改 webpack.prod.conf.js代码\n\/\/删除dist目录\nnew cleanWebpackPlugin([\x27dist\x27], {\n    root: path.resolve(__dirname, \x27..\/\x27), \/\/根目录\n    \/\/ verbose Write logs to console.\n    verbose: true, \/\/开启在控制台输出信息\n    \/\/ dry Use boolean \x26quot;true\x26quot; to test\/emulate delete. (will not remove files).\n    \/\/ Default: false - remove files\n    dry: false,\n}),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e clean-webpack-\x3cspan class=\x22hljs-keyword\x22\x3eplugin\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e--save-dev \x3c\/span\x3e\n\/\/修改 webpack.prod.conf.js代码\n\/\/删除dist目录\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e cleanWebpackPlugin([\x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e], {\n    root: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/\x27\x3c\/span\x3e), \/\/根目录\n    \/\/ verbose Write \x3cspan class=\x22hljs-keyword\x22\x3elogs\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e console.\n    verbose: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \/\/开启在控制台输出信息\n    \/\/ dry \x3cspan class=\x22hljs-keyword\x22\x3eUse\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eboolean\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22true\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e\/emulate delete. (will \x3cspan class=\x22hljs-keyword\x22\x3enot\x3c\/span\x3e remove files).\n    \/\/ \x3cspan class=\x22hljs-keyword\x22\x3eDefault\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e - remove files\n    dry: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n}),\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e7. 压缩js\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install uglifyjs-webpack-plugin --save-dev \n\/\/修改 webpack.prod.conf.js代码\n\/\/上线压缩 去除console等信息webpack4.x之后去除了webpack.optimize.UglifyJsPlugin\n\/\/https:\/\/github.com\/mishoo\/UglifyJS2\/tree\/harmony#compress-options\nnew UglifyJSPlugin({\n    uglifyOptions: {\n        compress: {\n            warnings: false,\n            drop_debugger: false,\n            drop_console: true\n        }\n    }\n}),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3enpm\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3einstall\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3euglifyjs-webpack-plugin\x3c\/span\x3e \x3cspan class=\x22hljs-bullet\x22\x3e--save-dev\x3c\/span\x3e \n\x3cspan class=\x22hljs-string\x22\x3e\/\/修改\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ewebpack.prod.conf.js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\/\/上线压缩\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e去除console等信息webpack4.x之后去除了webpack.optimize.UglifyJsPlugin\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\/\/https:\/\/github.com\/mishoo\/UglifyJS2\/tree\/harmony#compress-options\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eUglifyJSPlugin({\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    uglifyOptions:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        compress:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            warnings:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            drop_debugger:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            drop_console:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}),\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e8.提取js公共模块\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack4里面移除了commonChunksPulgin插件，放在了config.optimization里面,提取js， vendor名字可改\noptimization: {\n    splitChunks: {\n        cacheGroups: {\n            vendor: {\n                \/\/ test: \/\\.js$\/,\n                test: \/[\\\\\/]node_modules[\\\\\/]\/,\n                chunks: \x26quot;initial\x26quot;, \/\/表示显示块的范围，有三个可选值：initial(初始块)、async(按需加载块)、all(全部块)，默认为all;\n                name: \x26quot;vendor\x26quot;, \/\/拆分出来块的名字(Chunk Names)，默认由块名和hash值自动生成；\n                enforce: true,\n            }\n        }\n    }\n},\n\/\/项目里配置了自动提取node_modules里用到的模块如jquery，也可以在原模板里面通过第三方cdn引入，又是另一种配置了。在 webpack.base.conf.js利配置externals后webpack就不会去打包配置模块\nexternals: {\n    \x27jquery\x27: \x27window.jQuery\x27\n},\n\/\/externals就是webpack可以不处理应用的某些依赖库，使用externals配置后，依旧可以在代码中通过CMD、AMD或者window\/global全局的方式访问。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack4里面移除了commonChunksPulgin插件，放在了config.optimization里面,提取js， vendor名字可改\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3eoptimization\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attribute\x22\x3esplitChunks\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attribute\x22\x3ecacheGroups\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attribute\x22\x3evendor\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ test: \/\\.js$\/,\x3c\/span\x3e\n                \x3cspan class=\x22hljs-attribute\x22\x3etest\x3c\/span\x3e: \/[\\\\\/]node_modules[\\\\\/]\/,\n                \x3cspan class=\x22hljs-attribute\x22\x3echunks\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22initial\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/表示显示块的范围，有三个可选值：initial(初始块)、async(按需加载块)、all(全部块)，默认为all;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-attribute\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22vendor\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/拆分出来块的名字(Chunk Names)，默认由块名和hash值自动生成；\x3c\/span\x3e\n                \x3cspan class=\x22hljs-attribute\x22\x3eenforce\x3c\/span\x3e: true,\n            }\n        }\n    }\n},\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/项目里配置了自动提取node_modules里用到的模块如jquery，也可以在原模板里面通过第三方cdn引入，又是另一种配置了。在 webpack.base.conf.js利配置externals后webpack就不会去打包配置模块\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3eexternals\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27window.jQuery\x27\x3c\/span\x3e\n},\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/externals就是webpack可以不处理应用的某些依赖库，使用externals配置后，依旧可以在代码中通过CMD、AMD或者window\/global全局的方式访问。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e9.复制静态资源\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install copy-webpack-plugin --save-dev \n\/\/静态资源输出,将src目录下的assets文件夹复制到dist目录下\nnew copyWebpackPlugin([{\n    from: path.resolve(__dirname, \x26quot;..\/src\/assets\x26quot;),\n    to: \x27.\/assets\x27,\n    ignore: [\x27.*\x27]\n}]),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e copy-webpack-\x3cspan class=\x22hljs-keyword\x22\x3eplugin\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e--save-dev \x3c\/span\x3e\n\/\/静态资源输出,将src目录下的assets文件夹复制到dist目录下\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e copyWebpackPlugin([{\n    \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x22..\/src\/assets\x22\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/assets\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-keyword\x22\x3eignore\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27.*\x27\x3c\/span\x3e]\n}]),\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e10.产出html\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install html-webpack-plugin --save-dev \n\/\/修改webpack.base.conf.js代码\n\/\/ 获取html-webpack-plugin参数的方法\nvar getHtmlConfig = function (name, chunks) {\n    return {\n        template: `.\/src\/pages\/${name}\/index.html`,\n        filename: `${name}.html`,\n        \/\/ favicon: \x27.\/favicon.ico\x27,\n        \/\/ title: title,\n        inject: true,\n        hash: true, \/\/开启hash  ?[hash]\n        chunks: chunks,\/\/页面要引入的包\n        minify: process.env.NODE_ENV === \x26quot;development\x26quot; ? false : {\n            removeComments: true, \/\/移除HTML中的注释\n            collapseWhitespace: true, \/\/折叠空白区域 也就是压缩代码\n            removeAttributeQuotes: true, \/\/去除属性引用\n        },\n    };\n};\n\/\/配置页面\nconst htmlArray = [{\n        _html: \x27index\x27,\n        title: \x27首页\x27,\n        chunks: [\x27vendor\x27, \x27index\x27]\/\/页面用到的vendor模块\n    },\n    {\n        _html: \x27login\x27,\n        title: \x27登录\x27,\n        chunks: [\x27login\x27]\n    },\n];\n\/\/自动生成html模板\nhtmlArray.forEach((element) =\x3e {\n    module.exports.plugins.push(new htmlWebpackPlugin(getHtmlConfig(element._html, element.chunks)));\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3enpm install html-webpack-plugin --save-dev \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改webpack.base.conf.js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取html-webpack-plugin参数的方法\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e getHtmlConfig = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ename, chunks\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`.\/src\/pages\/\x3cspan class=\x22hljs-subst\x22\x3e${name}\x3c\/span\x3e\/index.html`\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${name}\x3c\/span\x3e.html`\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ favicon: \x27.\/favicon.ico\x27,\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ title: title,\x3c\/span\x3e\n        inject: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ehash\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/开启hash  ?[hash]\x3c\/span\x3e\n        chunks: chunks,\x3cspan class=\x22hljs-comment\x22\x3e\/\/页面要引入的包\x3c\/span\x3e\n        minify: process.env.NODE_ENV === \x3cspan class=\x22hljs-string\x22\x3e\x22development\x22\x3c\/span\x3e ? \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e : {\n            \x3cspan class=\x22hljs-attr\x22\x3eremoveComments\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/移除HTML中的注释\x3c\/span\x3e\n            collapseWhitespace: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/折叠空白区域 也就是压缩代码\x3c\/span\x3e\n            removeAttributeQuotes: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/去除属性引用\x3c\/span\x3e\n        },\n    };\n};\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/配置页面\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e htmlArray = [{\n        \x3cspan class=\x22hljs-attr\x22\x3e_html\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27index\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27首页\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27vendor\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27index\x27\x3c\/span\x3e]\x3cspan class=\x22hljs-comment\x22\x3e\/\/页面用到的vendor模块\x3c\/span\x3e\n    },\n    {\n        \x3cspan class=\x22hljs-attr\x22\x3e_html\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27login\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27登录\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27login\x27\x3c\/span\x3e]\n    },\n];\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/自动生成html模板\x3c\/span\x3e\nhtmlArray.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eelement\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports.plugins.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e htmlWebpackPlugin(getHtmlConfig(element._html, element.chunks)));\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e11.性能优化 高大上的可视化分析模块\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install webpack-bundle-analyzer --save-dev \n\/\/修改 webpack.prod.conf.js代码\nnew BundleAnalyzerPlugin()\n\/\/npm run build 后会打开一个页面\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gauss\x22\x3e\x3ccode\x3enpm install webpack-bundle-analyzer --\x3cspan class=\x22hljs-keyword\x22\x3esave\x3c\/span\x3e-dev \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改 webpack.prod.conf.js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e BundleAnalyzerPlugin()\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/npm run build 后会打开一个页面\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014984847?w=908\x26amp;h=547\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014984847?w=908\x26amp;h=547\x22 alt=\x22cmd-markdown-logo\x22 title=\x22cmd-markdown-logo\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e通过这个页面可以看到哪些页面是由哪些模块组成的，通过这个可视化页面可以更加方便去定位哪个包臃肿了，然后去优化。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e报错 \x26amp; 解决办法\x3c\/h3\x3e\n\x3cp\x3eError: Chunk.entrypoints: Use Chunks.groupsIterable and filter by instanceof Entrypoint instead \x3cbr\x3e后来发现webpack4不支持extract-text-webpack-plugin 必须下载next版本安装这个插件  \x3cbr\x3enpm install extract-text-webpack-plugin@next\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/webpack-contrib\/extract-text-webpack-plugin\/issues\/701\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/webpack-contrib\/extract-text-webpack-plugin\/issues\/701\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e\x3ca href=\x22https:\/\/github.com\/zhouyupeng\/webpack4.x_demo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cstrong\x3e项目源码\x3c\/strong\x3e\x3c\/a\x3e\x3c\/h3\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>webpack4 多入口，多页面项目构建案例</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014984842">https://segmentfault.com/a/1190000014984842</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/7ccqwambt8d/" target="_blank">https://alili.tech/archive/7ccqwambt8d/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>