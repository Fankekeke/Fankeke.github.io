<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="解析 Webpack中import、require、按需加载的执行过程"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>解析 Webpack中import、require、按需加载的执行过程 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/805le58v8gi/",
				"appid": "1613049289050283", 
				"title": "解析 Webpack中import、require、按需加载的执行过程 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-11T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/q5urp95b7n/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xmcvkc33zd/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&text=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&text=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&title=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&is_video=false&description=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&title=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&title=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&title=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f805le58v8gi%2f&title=%e8%a7%a3%e6%9e%90%20Webpack%e4%b8%adimport%e3%80%81require%e3%80%81%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">解析 Webpack中import、require、按需加载的执行过程</h1><div class="meta"><div class="postdate"><time datetime="2018-12-11" itemprop="datePublished">2018-12-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e最近由于一篇\x3ca href=\x22https:\/\/www.w3cplus.com\/css\/taobao-2018-year.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e分享手淘过年项目中采用到的前端技术\x3c\/a\x3e的影响,重新研究了一下项目中\x3ccode\x3eCSS的架构\x3c\/code\x3e.本来打算写一篇文章,但是写到一半突然发现自己像在写文档介绍一样,所以后来就放弃了。但是觉得过程中研究的 \x3ccode\x3eWebpack\x3c\/code\x3e 倒是可以单独拿出来讲一讲\x3c\/p\x3e\n\x3cblockquote\x3e在这里非常感谢\x3ca href=\x22https:\/\/docschina.org\/home\/about\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e印记中文\x3c\/a\x3e 团队翻译的 \x3ca href=\x22https:\/\/doc.webpack-china.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWebpack 文档\x3c\/a\x3e.\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e搭建一个简单环境\x3c\/h3\x3e\n\x3col\x3e\n\x3cli\x3enpm init\x3c\/li\x3e\n\x3cli\x3enpm install css-loader html-webpack-plugin style-loader webpack webpack-cli\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Webpack 4.0\nconst htmlPlugin = require(\x26quot;html-webpack-plugin\x26quot;);\n\nmodule.exports = {\n  mode: \x26quot;development\x26quot;,\n  entry: \x26quot;.\/src\/index.js\x26quot;,\n  output: {\n    filename: \x26quot;[name].js\x26quot;,\n    path: __dirname \x2b \x26quot;\/dist\x26quot;\n  },\n  module: {\n    rules: [\n      {\n        test: \/\\.css$\/,\n        use: [\n          {\n            loader: \x26quot;style-loader\x26quot;\n          },\n          {\n            loader: \x26quot;css-loader\x26quot;,\n          },\n        ]\n      }\n    ]\n  },\n  plugins: [\n    new htmlPlugin({\n      title: \x26quot;Test Webpack\x26quot;,\n      filename: \x26quot;index.html\x26quot;\n    })\n  ]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JS\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Webpack 4.0\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e htmlPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22html-webpack-plugin\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3emode\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22development\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/index.js\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22[name].js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: __dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22\/dist\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emodule\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.css$\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [\n          {\n            \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e\n          },\n          {\n            \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e,\n          },\n        ]\n      }\n    ]\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e htmlPlugin({\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Test Webpack\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22index.html\x22\x3c\/span\x3e\n    })\n  ]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e一个基本的配置就搭建好了,详细的配置内容我就不介绍了, 然后我们在 \x3ccode\x3esrc\/index.js\x3c\/code\x3e 上面写我们的测试代码, 在 \x3ccode\x3edist\/main.js\x3c\/code\x3e 看一下 \x3ccode\x3ewebpack\x3c\/code\x3e 实现的原理,那么目前我们的项目结构是这样子的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22|-- project\n    |-- dist\n    |-- src\n        |-- index.js\n    |-- node_modules\n    |-- webpack.config.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e|-- project\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e|-- dist\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e|-- src\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|-- index.js\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e|-- node_modules\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e|-- webpack.config.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3ewebpack 中 require 和 import 的执行过程\x3c\/h3\x3e\n\x3cp\x3e在进入按需加载的讲解之前,我们需要看一个问题 \x3ccode\x3erequire\x3c\/code\x3e 和 \x3ccode\x3eimport\x3c\/code\x3e在 \x3ccode\x3ewebpack\x3c\/code\x3e 的执行过程是怎样的呢 ？现在我们在 \x3ccode\x3esrc\x3c\/code\x3e建立两个文件 \x3ccode\x3eindex.js\x3c\/code\x3e、\x3ccode\x3emodule-es6.js\x3c\/code\x3e 和 \x3ccode\x3emodule-commonjs.js\x3c\/code\x3e。我们通过这三个文件解析 \x3ccode\x3erequire\x3c\/code\x3e 和 \x3ccode\x3eimport\x3c\/code\x3e 的执行过程\x3c\/p\x3e\n\x3cp\x3e首先我们要区分的是 \x3ccode\x3eCommonJS\x3c\/code\x3e 和 \x3ccode\x3eES6\x3c\/code\x3e 模块导出之间的区别,在 \x3ccode\x3eCommonJS\x3c\/code\x3e 中你导出模块方式是改变 \x3ccode\x3emodule.exports\x3c\/code\x3e,但是对于 \x3ccode\x3eES6\x3c\/code\x3e 来说并不存在 \x3ccode\x3emodule\x3c\/code\x3e 这个变量,他的导出方式是通过一个关键词 \x3ccode\x3eexport\x3c\/code\x3e来实现的。在我们书写 \x3ccode\x3eJS\x3c\/code\x3e文件的时候,我们发现无论是以 \x3ccode\x3eCommomJS\x3c\/code\x3e 还是 \x3ccode\x3eES6\x3c\/code\x3e 的形式导出都可以实现,这是因为 \x3ccode\x3eWebpack\x3c\/code\x3e做了一个兼容处理\x3c\/p\x3e\n\x3cp\x3e我们建立一个小 DEMO 来查看一下,我们现在上面建立的三个文件的代码如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.js\n\/\/ import moduleDefault, { moduleValue } from \x26quot;.\/module-es6.js\x26quot;;\n\/\/ import moduleDefault, { moduleValue1, moduleValue2 } from \x26quot;.\/module-commanjs.js\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JS\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ import moduleDefault, { moduleValue } from \x22.\/module-es6.js\x22;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ import moduleDefault, { moduleValue1, moduleValue2 } from \x22.\/module-commanjs.js\x22;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ module-es6.js\nexport let moduleValue = \x26quot;moduleValue\x26quot; \/\/ES6模块导出\nexport default \x26quot;ModuleDefaultValue\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JS\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ module-es6.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e moduleValue = \x3cspan class=\x22hljs-string\x22\x3e\x22moduleValue\x22\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ES6模块导出\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22ModuleDefaultValue\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ module-commonjs.js\nexports.moduleValue1 = \x26quot;moduleValue1\x26quot;\nexports.moduleValue2 = \x26quot;moduleValue2\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JS\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ module-commonjs.js\x3c\/span\x3e\nexports.moduleValue1 = \x3cspan class=\x22hljs-string\x22\x3e\x22moduleValue1\x22\x3c\/span\x3e\nexports.moduleValue2 = \x3cspan class=\x22hljs-string\x22\x3e\x22moduleValue2\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们打开 \x3ccode\x3eindex.js\x3c\/code\x3e 中加载 \x3ccode\x3emodule-commonjs.js\x3c\/code\x3e 的代码,首先会先给当前模块打上 \x3ccode\x3eES6\x3c\/code\x3e模块的标识符,在 \x3ccode\x3eindex\x3c\/code\x3e 则会产生两个变量 \x3ccode\x3eA\x3c\/code\x3e 和 \x3ccode\x3eB\x3c\/code\x3e. \x3ccode\x3eA\x3c\/code\x3e 保存 \x3ccode\x3emodule-commonjs\x3c\/code\x3e 的导出的结果,\x3ccode\x3eB\x3c\/code\x3e 则是兼容 \x3ccode\x3eCommonJs\x3c\/code\x3e中没有 \x3ccode\x3eES6\x3c\/code\x3e通过 \x3ccode\x3eexport default\x3c\/code\x3e导出的结果，其值跟 \x3ccode\x3eA\x3c\/code\x3e一样. 用\x3ccode\x3eB\x3c\/code\x3e来兼容 \x3ccode\x3eexport default\x3c\/code\x3e 的结果\x3c\/p\x3e\n\x3cp\x3e然后我们重新注释代码,再打开 \x3ccode\x3eindex.js\x3c\/code\x3e 中加载 \x3ccode\x3emodule-es6.js\x3c\/code\x3e 的代码\x3c\/p\x3e\n\x3cp\x3e这次和上面一样会先给当前模块打上 \x3ccode\x3eES6\x3c\/code\x3e模块的标识符,然后去加载 \x3ccode\x3emodule-es6\x3c\/code\x3e,获取他的导出值。但是浏览器是不识别 \x3ccode\x3eexport\x3c\/code\x3e 这个关键词的所以 \x3ccode\x3eWebpack\x3c\/code\x3e 会对的代码进行解释,首先给 \x3ccode\x3emodule.exports\x3c\/code\x3e 设定导出的值,如果是 \x3ccode\x3eexport default\x3c\/code\x3e 会直接赋值给 \x3ccode\x3emodule.exports\x3c\/code\x3e,如果是其他形式,则给\x3ccode\x3emodule.exports\x3c\/code\x3e的导出的\x3ccode\x3ekey\x3c\/code\x3e设定一个 \x3ccode\x3egetter\x3c\/code\x3e,该 \x3ccode\x3egetter\x3c\/code\x3e 的返回值就是导出的结果\x3c\/p\x3e\n\x3cp\x3e而对于\x3ccode\x3erequire\x3c\/code\x3e来说整个执行过程其实过程和\x3ccode\x3eimport\x3c\/code\x3e是一样的。\x3c\/p\x3e\n\x3cp\x3e对于 \x3ccode\x3ewebpack\x3c\/code\x3e 来说只要你使用了 \x3ccode\x3eimport\x3c\/code\x3e 或者 \x3ccode\x3eexport\x3c\/code\x3e等关键字, 他就会给 \x3ccode\x3emodule.exports\x3c\/code\x3e添加一个\x3ccode\x3e__esModule : true\x3c\/code\x3e 来识别这是一个 \x3ccode\x3eES6\x3c\/code\x3e的模块,通过这个值来做一些特殊处理\x3c\/p\x3e\n\x3cp\x3e如果觉得我上面讲的不太明白 那可以看看下面这些代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let commonjs = {\n  \x26quot;.\/src\/index.js\x26quot;: function(module, __webpack_exports__, __webpack_require__) {\n    \x26quot;use strict\x26quot;;\n    \/\/给当前模块打上 `ES6`模块的标识符\n    __webpack_require__.r(__webpack_exports__); \/\/给当前模块打上 `ES6`模块的标识符\n\n    \/\/ 执行 .\/src\/module-commonjs.js 的代码 获取导出值\n    var A = __webpack_require__(\x26quot;.\/src\/module-commonjs.js\x26quot;);\n\n    \/\/ 根据 .\/src\/module-commonjs.js 是否为ES6模块 给返回值增加不同的 getter函数\n    var B = __webpack_require__.n(A);\n  },\n  \x26quot;.\/src\/module-commonjs.js\x26quot;: function(module, exports) {\n    exports.moduleValue1 = \x26quot;moduleValue1\x26quot;;\n    exports.moduleValue2 = \x26quot;moduleValue2\x26quot;;\n  }\n};\n\nlet es6 = {\n  \x26quot;.\/src\/index.js\x26quot;: function(module, __webpack_exports__, __webpack_require__) {\n    \x26quot;use strict\x26quot;;\n    \/\/给当前模块打上 `ES6`模块的标识符\n    __webpack_require__.r(__webpack_exports__);\n\n    \/\/ 执行 .\/src\/module-commonjs.js 的代码 获取导出值\n    var A = __webpack_require__(\x26quot;.\/src\/module-es6.js\x26quot;);\n  },\n\n  \x26quot;.\/src\/module-es6.js\x26quot;: function(module, __webpack_exports__, __webpack_require__) {\n    \/\/给当前模块打上 `ES6`模块的标识符\n    __webpack_require__.r(__webpack_exports__);\n\n    \/\/ 设置 __webpack_exports__.moduleValue 的 getter\n    __webpack_require__.d(__webpack_exports__, \x26quot;moduleValue\x26quot;, function() {\n      return moduleValue;z\n    });\n\n    __webpack_exports__[\x26quot;default\x26quot;] = \x26quot;ModuleDefaultValue\x26quot;;\n\n    let moduleValue = \x26quot;moduleValue\x26quot;;\n  }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JS\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e commonjs = {\n  \x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/index.js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emodule, __webpack_exports__, __webpack_require__\x3c\/span\x3e) \x3c\/span\x3e{\n\x3cspan class=\x22hljs-meta\x22\x3e    \x22use strict\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/给当前模块打上 `ES6`模块的标识符\x3c\/span\x3e\n    __webpack_require__.r(__webpack_exports__); \x3cspan class=\x22hljs-comment\x22\x3e\/\/给当前模块打上 `ES6`模块的标识符\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 执行 .\/src\/module-commonjs.js 的代码 获取导出值\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e A = __webpack_require__(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/module-commonjs.js\x22\x3c\/span\x3e);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 根据 .\/src\/module-commonjs.js 是否为ES6模块 给返回值增加不同的 getter函数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e B = __webpack_require__.n(A);\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/module-commonjs.js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emodule, exports\x3c\/span\x3e) \x3c\/span\x3e{\n    exports.moduleValue1 = \x3cspan class=\x22hljs-string\x22\x3e\x22moduleValue1\x22\x3c\/span\x3e;\n    exports.moduleValue2 = \x3cspan class=\x22hljs-string\x22\x3e\x22moduleValue2\x22\x3c\/span\x3e;\n  }\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e es6 = {\n  \x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/index.js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emodule, __webpack_exports__, __webpack_require__\x3c\/span\x3e) \x3c\/span\x3e{\n\x3cspan class=\x22hljs-meta\x22\x3e    \x22use strict\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/给当前模块打上 `ES6`模块的标识符\x3c\/span\x3e\n    __webpack_require__.r(__webpack_exports__);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 执行 .\/src\/module-commonjs.js 的代码 获取导出值\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e A = __webpack_require__(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/module-es6.js\x22\x3c\/span\x3e);\n  },\n\n  \x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/module-es6.js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emodule, __webpack_exports__, __webpack_require__\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/给当前模块打上 `ES6`模块的标识符\x3c\/span\x3e\n    __webpack_require__.r(__webpack_exports__);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 设置 __webpack_exports__.moduleValue 的 getter\x3c\/span\x3e\n    __webpack_require__.d(__webpack_exports__, \x3cspan class=\x22hljs-string\x22\x3e\x22moduleValue\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e moduleValue;z\n    });\n\n    __webpack_exports__[\x3cspan class=\x22hljs-string\x22\x3e\x22default\x22\x3c\/span\x3e] = \x3cspan class=\x22hljs-string\x22\x3e\x22ModuleDefaultValue\x22\x3c\/span\x3e;\n\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e moduleValue = \x3cspan class=\x22hljs-string\x22\x3e\x22moduleValue\x22\x3c\/span\x3e;\n  }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e按需加载的执行过程\x3c\/h3\x3e\n\x3cp\x3e看完上面的 \x3ccode\x3erequire\x3c\/code\x3e 和 \x3ccode\x3eimport\x3c\/code\x3e,我们回到 \x3ccode\x3e按需加载\x3c\/code\x3e 这个执行过程. \x3ccode\x3ewebpack\x3c\/code\x3e 的按需加载是通过 \x3ccode\x3eimport()\x3c\/code\x3e 或者 \x3ccode\x3erequire.ensure()\x3c\/code\x3e来实现的,有些读者可能对于 \x3ccode\x3erequire.ensure\x3c\/code\x3e 比较熟悉,所以我们先看看 \x3ccode\x3erequire.ensure\x3c\/code\x3e 的执行过程,\x3cbr\x3e现在我们修改建立一个 \x3ccode\x3emodule-dynamic.js\x3c\/code\x3e文件,然后修改 \x3ccode\x3eindex.js\x3c\/code\x3e文件\x3c\/p\x3e\n\x3cblockquote\x3e这里吐槽一个问题,require.ensure 第一个参数是一个尴尬的存在,写和不写根本没差,如果你填了的这个参数,webpack 会帮你把文件加载近来,但是不执行。一堆不执行的代码是没有意义的,你想让他执行就必须 require() 一遍,但是执行力 require 也会帮你加载文件。所以根本没差\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.js\nsetTimeout(function() {\n  require.ensure([], function() {\n    let d = require(\x26quot;.\/module2\x26quot;)\n  });\n}, 1000);\n\n\/\/ module2.js\nmodule.exports = {\n  name : \x26quot;Jason\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JS\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.ensure([], \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e d = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/module2\x22\x3c\/span\x3e)\n  });\n}, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ module2.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x22Jason\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行 \x3ccode\x3erequire.ensure(dependencies,callback,errorCallback,chunkName)\x3c\/code\x3e 实际上会返回一个 \x3ccode\x3epromise\x3c\/code\x3e , 里面的实现逻辑是 先判断 \x3ccode\x3edependencies\x3c\/code\x3e 是否已经被加载过,如果加载过则取缓存值的 \x3ccode\x3epromise\x3c\/code\x3e, 如果没有被加载过 则生成一个 \x3ccode\x3epromise\x3c\/code\x3e 并将 \x3ccode\x3epromise\x3c\/code\x3e 里面的 \x3ccode\x3eresolve\x3c\/code\x3e,\x3ccode\x3ereject\x3c\/code\x3e 和 \x3ccode\x3epromise\x3c\/code\x3e本身 存入一个数组,然后缓存起来.接着生成一个 \x3ccode\x3escript\x3c\/code\x3e 标签,填充完信息之后添加到\x3ccode\x3eHTML\x3c\/code\x3e文件上,其中的 \x3ccode\x3escript\x3c\/code\x3e 的 \x3ccode\x3esrc\x3c\/code\x3e属性 就是我们按需加载的文件(\x3ccode\x3emodule2\x3c\/code\x3e),\x3ccode\x3ewebpack\x3c\/code\x3e 会对这个 \x3ccode\x3escript\x3c\/code\x3e 标签监听 \x3ccode\x3eerror\x3c\/code\x3e 和 \x3ccode\x3eload\x3c\/code\x3e时间,从而做相应的处理。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ewebpack\x3c\/code\x3e打包过程中会给 \x3ccode\x3emodule2\x3c\/code\x3e 添加一些代码,主要就是主动触发 \x3ccode\x3ewindow[\x22webpackJsonp\x22].push\x3c\/code\x3e这个函数,这个函数会传递\x3cbr\x3e两个参数 \x3ccode\x3e文件ID\x3c\/code\x3e 和 \x3ccode\x3e文件内容对象\x3c\/code\x3e,其中 \x3ccode\x3e文件标示\x3c\/code\x3e如果没有配置的话,会按载入序号自动增长,\x3ccode\x3e文件内容对象\x3c\/code\x3e实际上就是上文说的 \x3ccode\x3erequire.ensure\x3c\/code\x3e第一个参数\x3ccode\x3edependencies\x3c\/code\x3e的文件内容,或者是 \x3ccode\x3ecallback\x3c\/code\x3e,\x3ccode\x3eerrorCallback\x3c\/code\x3e里面需要加载的文件,以 \x3ccode\x3ekey(文件路径) --- value(文件内容)\x3c\/code\x3e的形式出现.里面执行的事情其实就是执行上面创建的\x3ccode\x3epromise\x3c\/code\x3e的\x3ccode\x3eresolve\x3c\/code\x3e函数,让\x3ccode\x3erequire.ensure\x3c\/code\x3e里面的\x3ccode\x3ecallback\x3c\/code\x3e执行,之后的执行情况就跟我上面将 \x3ccode\x3erequir\x3c\/code\x3e 和 \x3ccode\x3eimport\x3c\/code\x3e 一样了\x3c\/p\x3e\n\x3cp\x3e当然其实讲了那么长的 \x3ccode\x3erequire.ensure\x3c\/code\x3e并没有什么用,因为这个函数已经被 \x3ccode\x3eimport()\x3c\/code\x3e 取代了,但是考虑到之前的版本应该有很多人都是用 \x3ccode\x3erequire.ensure\x3c\/code\x3e 方法去加载的,所以还是讲一下,而且其实 \x3ccode\x3eimport\x3c\/code\x3e 的执行过程跟 \x3ccode\x3erequire.ensure\x3c\/code\x3e 是一样的,只不过用了更友好的语法而已,所以关于 \x3ccode\x3eimport\x3c\/code\x3e 的执行流程我也没啥好讲的了,感兴趣的人看一下两者的 \x3ccode\x3eAPI\x3c\/code\x3e介绍就好了。\x3c\/p\x3e\n\x3cp\x3e到这里就正式讲完了,如果有大牛路过看到有不对的地方,希望能帮我指出来.非常谢谢!!!\x3c\/p\x3e\n\x3cp\x3e然后再次感谢\x3ca href=\x22https:\/\/docschina.org\/home\/about\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e印记中文\x3c\/a\x3e 团队翻译的 \x3ca href=\x22https:\/\/doc.webpack-china.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWebpack 文档\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>解析 Webpack中import、require、按需加载的执行过程</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013630936">https://segmentfault.com/a/1190000013630936</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/805le58v8gi/" target="_blank">https://alili.tech/archive/805le58v8gi/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>