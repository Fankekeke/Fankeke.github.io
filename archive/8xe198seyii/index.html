<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="简述网页版微信扫码登录的过程"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>简述网页版微信扫码登录的过程 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/8xe198seyii/",
				"appid": "1613049289050283", 
				"title": "简述网页版微信扫码登录的过程 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-26T02:30:13"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ijfdh4ry66c/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/vlgf76dm01/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&text=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&text=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&title=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&is_video=false&description=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&title=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&title=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&title=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8xe198seyii%2f&title=%e7%ae%80%e8%bf%b0%e7%bd%91%e9%a1%b5%e7%89%88%e5%be%ae%e4%bf%a1%e6%89%ab%e7%a0%81%e7%99%bb%e5%bd%95%e7%9a%84%e8%bf%87%e7%a8%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">简述网页版微信扫码登录的过程</h1><div class="meta"><div class="postdate"><time datetime="2018-12-26" itemprop="datePublished">2018-12-26</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3ca href=\x22http:\/\/followtry.cn\/2017-09-01\/web-weixin-login.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我的小站\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e网页版微信扫码登录流程\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1. 请求页面\x3c\/h3\x3e\n\x3cp\x3e先打开\x3ca href=\x22https:\/\/wx.qq.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/wx.qq.com\/\x3c\/a\x3e显示出页面，这时候会加载一堆的html，js等资源。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2. 获取会话UUID\x3c\/h3\x3e\n\x3cp\x3e微信Web版本不使用用户名和密码登录，而是采用扫描二维码登录，所以服务器需要首先分配一个唯一的会话ID，用来标识当前的一次登录。\x3c\/p\x3e\n\x3cp\x3e使用get方法，通过请求地址：\x3ca href=\x22https:\/\/login.weixin.qq.com\/jslogin?appid=wx782c26e4c19acffb\x26amp;fun=new\x26amp;lang=zh_CN\x26amp;_=%E6%97%B6%E9%97%B4%E6%88%B3\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/login.weixin.qq.com\/j...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e其中，时间戳这个值是当前距离林威治标准时间的毫秒。\x3c\/p\x3e\n\x3cp\x3eget成功，则返回：window.QRLogin.code = 200; window.QRLogin.uuid = \x22AAAAAAAA\x22\x3cbr\x3e其中的AAAAAAAA就是我们需要的uuid\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996730?w=2476\x26amp;h=670\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996730?w=2476\x26amp;h=670\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e3. 获取登录二维码\x3c\/h3\x3e\n\x3cp\x3e访问网址：\x3ca href=\x22https:\/\/login.weixin.qq.com\/qrcode\/XXXXXX\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/login.weixin.qq.com\/q...\x3c\/a\x3e\x3cbr\x3e这里的XXXXXXX就是我们刚才获取的uuid，这个网址直接显示的就是二维码,该二维码是有有效期的，有效期时长由微信服务端决定。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e4. 查询是否扫描二维码登录\x3c\/h3\x3e\n\x3cp\x3e显示了二维码以后，用户必须用手机微信扫描这个二维码才能登录。（微信为啥要这么设计？很奇怪的思维。。。我用电脑很多情况不就是因为手机没在旁边吗。。。）\x3c\/p\x3e\n\x3cp\x3e使用get方法，查询地址：\x3ca href=\x22https:\/\/login.weixin.qq.com\/cgi-bin\/mmwebwx-bin\/login?loginicon=true\x26amp;uuid=AAAAAAAA\x26amp;tip=1\x26amp;r=-921646107\x26amp;_=%E6%97%B6%E9%97%B4%E6%88%B3\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/login.weixin.qq.com\/c...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e这里的AAAAAAAA是我们刚才获取的uuid，时间戳同上。tip在第一次获取时应为1，其他次时为0.\x3c\/p\x3e\n\x3cp\x3e如果服务器返回：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.code=201，\nwindow.userAvatar = base64:img\/bbb\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gauss\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3ecode\x3c\/span\x3e=\x3cspan class=\x22hljs-number\x22\x3e201\x3c\/span\x3e，\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.userAvatar = base64:img\/bbb\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996731?w=2494\x26amp;h=688\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996731?w=2494\x26amp;h=688\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e则说明此时用户在手机端已经完成扫描，并在网页端显示扫描人的头像。但还没有点击登录，继续使用上面的地址查询。\x3c\/p\x3e\n\x3cp\x3e点击登录后，如果服务器返回：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.code=200;\nwindow.redirect_uri=\x26quot;https:\/\/wx.qq.com\/cgi-bin\/mmwebwx-bin\/webwxnewloginpage?ticket=AZBAkjuOKc-2GAHcRBsKNuOt@qrticket_0\x26amp;uuid=YbHBoVi8_w==\x26amp;lang=zh_CN\x26amp;scan=1504160545\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gauss\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3ecode\x3c\/span\x3e=\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.redirect_uri=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/wx.qq.com\/cgi-bin\/mmwebwx-bin\/webwxnewloginpage?ticket=AZBAkjuOKc-2GAHcRBsKNuOt@qrticket_0\x26amp;uuid=YbHBoVi8_w==\x26amp;lang=zh_CN\x26amp;scan=1504160545\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996732\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996732\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e则说明此时用户在手机端已经确认登录，\x3ccode\x3ewindow.redirect_uri=\x3c\/code\x3e后面的这个网址（暂称为BB）要记下来，接着要访问这个地址。\x3c\/p\x3e\n\x3cp\x3e如果服务器返回：window.code=408，则说明等待超时，继续使用上面的地址查询。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996733?w=2018\x26amp;h=610\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996733?w=2018\x26amp;h=610\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e5. 访问登录地址BB，获得uin、sid、pass_ticket、skey\x3c\/h3\x3e\n\x3cp\x3e用get方法，访问在上一步骤获得访问地址BB，并在参数后面加上：\x26amp;fun=new，会返回一个xml格式的文本，类似这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \x3cerror\x3e\n    \x3cret\x3e0\x3c\/ret\x3e\n    \x3cmessage\x3e\x3c\/message\x3e\n    \x3cskey\x3e@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x3c\/skey\x3e\n    \x3cwxsid\x3en\/5yTn844\x2bkHkU66\x3c\/wxsid\x3e\n    \x3cwxuin\x3e2799942121\x3c\/wxuin\x3e\n    \x3cpass_ticket\x3eJOkd35AoEoi8MVx34qKT6xJVeaS8tT7mo8BFdGlKRfDGRCWKkKLW9DsrA%2BEJ34WM\x3c\/pass_ticket\x3e\n    \x3cisgrayscale\x3e1\x3c\/isgrayscale\x3e\n    \x3c\/error\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22xml\x22\x3e    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eerror\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eret\x3c\/span\x3e\x26gt;\x3c\/span\x3e0\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eret\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emessage\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3emessage\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eskey\x3c\/span\x3e\x26gt;\x3c\/span\x3e@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eskey\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ewxsid\x3c\/span\x3e\x26gt;\x3c\/span\x3en\/5yTn844\x2bkHkU66\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ewxsid\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ewxuin\x3c\/span\x3e\x26gt;\x3c\/span\x3e2799942121\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ewxuin\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3epass_ticket\x3c\/span\x3e\x26gt;\x3c\/span\x3eJOkd35AoEoi8MVx34qKT6xJVeaS8tT7mo8BFdGlKRfDGRCWKkKLW9DsrA%2BEJ34WM\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3epass_ticket\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eisgrayscale\x3c\/span\x3e\x26gt;\x3c\/span\x3e1\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eisgrayscale\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eerror\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996734?w=2878\x26amp;h=536\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996734?w=2878\x26amp;h=536\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eskey是获取联系人信息的关键信息(比如获取好友（包括订阅的公众号）头像信息），标识当前人的身份。还是检查web端微信心跳的标识。发消息时也会使用。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3epass_ticket是在授权成功后进行初始化和收发消息使用的。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ewxsid在收发消息会子啊url后或请求体中使用。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ewxuin在发消息时使用\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996735?w=1884\x26amp;h=914\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996735?w=1884\x26amp;h=914\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e把这里的wxuin，wxsid，skey，pass_ticket都记下来，这是重要数据。\x3c\/p\x3e\n\x3cp\x3e该结果中包含的信息就是用来在接下来的请求中校验用户用的。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e到这里已经表明当前用户已经扫码登录成功了，而且可以看到只是通过ticket方式确认web端登录成功，而不经过用户名密码方式的登录，其实个人感觉就是移动端微信扫码给web端发送了一个授权而已。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e6. 微信初始化\x3c\/h3\x3e\n\x3cp\x3e这个是很重要的一步，我在这个步骤折腾了很久。。。\x3c\/p\x3e\n\x3cp\x3e要使用POST方法，访问地址：\x3ccode\x3ehttps:\/\/wx.qq.com\/cgi-bin\/mmwebwx-bin\/webwxinit?r=-918790895\x26amp;pass_ticket=JOkd35AoEoi8MVx34qKT6xJVeaS8tT7mo8BFdGlKRfDGRCWKkKLW9DsrA%252BEJ34WM\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e其中，时间戳不用解释，pass_ticket是我们在上面获取的一长串字符。\x3c\/p\x3e\n\x3cp\x3ePOST的内容是个json串，{\x22BaseRequest\x22:{\x22Uin\x22:\x22XXXXXXXX\x22,\x22Sid\x22:\x22XXXXXXXX\x22,\x22Skey\x22:XXXXXXXXXXXXX\x22,\x22DeviceID\x22:\x22e123456789012345\x22\x22}}\x22\x3c\/p\x3e\n\x3cp\x3euin、sid、skey分别对应上面步骤4获取的字符串，DeviceID是e后面跟着一个15字节的随机数。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996736?w=2878\x26amp;h=842\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996736?w=2878\x26amp;h=842\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e程序里面要注意使用UTF8编码方式。\x3cbr\x3ePOST成功，则服务器返回一个很长的JSON串，格式是这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;BaseResponse\x26quot;:{\n        \x26quot;Ret\x26quot;:0,\n        \x26quot;ErrMsg\x26quot;:\x26quot;\x26quot;\n    },\n    \x26quot;Count\x26quot;:11,\n    \x26quot;ContactList\x26quot;:[\n        {\/\/公众号或文件助手信息\n            \x26quot;Uin\x26quot;:0,\n            \x26quot;UserName\x26quot;:\x26quot;filehelper\x26quot;,\n            \x26quot;NickName\x26quot;:\x26quot;æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹\x26quot;,\n            \x26quot;HeadImgUrl\x26quot;:\x26quot;\/cgi-bin\/mmwebwx-bin\/webwxgeticon?seq=660589401\x26amp;username=filehelper\x26amp;skey=@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x26quot;,\n            \x26quot;ContactFlag\x26quot;:1,\n            \x26quot;MemberCount\x26quot;:0,\n            \x26quot;MemberList\x26quot;:[],\n            \x26quot;RemarkName\x26quot;:\x26quot;\x26quot;,\n            \x26quot;HideInputBarFlag\x26quot;:0,\n            \x26quot;Sex\x26quot;:0,\n            \x26quot;Signature\x26quot;:\x26quot;\x26quot;,\n            \x26quot;VerifyFlag\x26quot;:0,\n            \x26quot;OwnerUin\x26quot;:0,\n            \x26quot;PYInitial\x26quot;:\x26quot;WJCSZS\x26quot;,\n            \x26quot;PYQuanPin\x26quot;:\x26quot;wenjianchuanshuzhushou\x26quot;,\n            \x26quot;RemarkPYInitial\x26quot;:\x26quot;\x26quot;,\n            \x26quot;RemarkPYQuanPin\x26quot;:\x26quot;\x26quot;,\n            \x26quot;StarFriend\x26quot;:0,\n            \x26quot;AppAccountFlag\x26quot;:0,\n            \x26quot;Statues\x26quot;:0,\n            \x26quot;AttrStatus\x26quot;:0,\n            \x26quot;Province\x26quot;:\x26quot;\x26quot;,\n            \x26quot;City\x26quot;:\x26quot;\x26quot;,\n            \x26quot;Alias\x26quot;:\x26quot;\x26quot;,\n            \x26quot;SnsFlag\x26quot;:0,\n            \x26quot;UniFriend\x26quot;:0,\n            \x26quot;DisplayName\x26quot;:\x26quot;\x26quot;,\n            \x26quot;ChatRoomId\x26quot;:0,\n            \x26quot;KeyWord\x26quot;:\x26quot;fil\x26quot;,\n            \x26quot;EncryChatRoomId\x26quot;:\x26quot;\x26quot;,\n            \x26quot;IsOwner\x26quot;:0\n        },\n        {\n            \x26quot;Uin\x26quot;:0,\n            \x26quot;UserName\x26quot;:\x26quot;@@ed82e31e61783c765723eb8574831ae0be272bbb6b02f7280e442b0d274e8cb9\x26quot;,\n            \x26quot;NickName\x26quot;:\x26quot;è¯—é…’è¶å¹´åŽ\x26quot;,\n            \x26quot;HeadImgUrl\x26quot;:\x26quot;\/cgi-bin\/mmwebwx-bin\/webwxgetheadimg?seq=660624044\x26amp;username=@@ed82e31e61783c765723eb8574831ae0be272bbb6b02f7280e442b0d274e8cb9\x26amp;skey=@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x26quot;,\n            \x26quot;ContactFlag\x26quot;:2051,\n            \x26quot;MemberCount\x26quot;:13,\n            \x26quot;MemberList\x26quot;:[\/\/用户信息\n                {\n                    \x26quot;Uin\x26quot;:0,\n                    \x26quot;UserName\x26quot;:\x26quot;@4dae6aa0756bd9899b68d0b2e60f109d\x26quot;,\n                    \x26quot;NickName\x26quot;:\x26quot;\x26quot;,\n                    \x26quot;AttrStatus\x26quot;:0,\n                    \x26quot;PYInitial\x26quot;:\x26quot;\x26quot;,\n                    \x26quot;PYQuanPin\x26quot;:\x26quot;\x26quot;,\n                    \x26quot;RemarkPYInitial\x26quot;:\x26quot;\x26quot;,\n                    \x26quot;RemarkPYQuanPin\x26quot;:\x26quot;\x26quot;,\n                    \x26quot;MemberStatus\x26quot;:0,\n                    \x26quot;DisplayName\x26quot;:\x26quot;\x26quot;,\n                    \x26quot;KeyWord\x26quot;:\x26quot;cha\x26quot;\n                }\n            ],\n            \x26quot;RemarkName\x26quot;:\x26quot;\x26quot;,\n            \x26quot;HideInputBarFlag\x26quot;:0,\n            \x26quot;Sex\x26quot;:0,\n            \x26quot;Signature\x26quot;:\x26quot;\x26quot;,\n            \x26quot;VerifyFlag\x26quot;:0,\n            \x26quot;OwnerUin\x26quot;:0,\n            \x26quot;PYInitial\x26quot;:\x26quot;\x26quot;,\n            \x26quot;PYQuanPin\x26quot;:\x26quot;\x26quot;,\n            \x26quot;RemarkPYInitial\x26quot;:\x26quot;\x26quot;,\n            \x26quot;RemarkPYQuanPin\x26quot;:\x26quot;\x26quot;,\n            \x26quot;StarFriend\x26quot;:0,\n            \x26quot;AppAccountFlag\x26quot;:0,\n            \x26quot;Statues\x26quot;:1,\n            \x26quot;AttrStatus\x26quot;:0,\n            \x26quot;Province\x26quot;:\x26quot;\x26quot;,\n            \x26quot;City\x26quot;:\x26quot;\x26quot;,\n            \x26quot;Alias\x26quot;:\x26quot;\x26quot;,\n            \x26quot;SnsFlag\x26quot;:0,\n            \x26quot;UniFriend\x26quot;:0,\n            \x26quot;DisplayName\x26quot;:\x26quot;\x26quot;,\n            \x26quot;ChatRoomId\x26quot;:0,\n            \x26quot;KeyWord\x26quot;:\x26quot;\x26quot;,\n            \x26quot;EncryChatRoomId\x26quot;:\x26quot;\x26quot;,\n            \x26quot;IsOwner\x26quot;:0\n        }\n    ],\n    \x26quot;SyncKey\x26quot;:{\n        \x26quot;Count\x26quot;:4,\n        \x26quot;List\x26quot;:[\n            {\n                \x26quot;Key\x26quot;:1,\n                \x26quot;Val\x26quot;:660633313\n            },\n            {\n                \x26quot;Key\x26quot;:2,\n                \x26quot;Val\x26quot;:660633314\n            },\n            {\n                \x26quot;Key\x26quot;:3,\n                \x26quot;Val\x26quot;:660633176\n            },\n            {\n                \x26quot;Key\x26quot;:1000,\n                \x26quot;Val\x26quot;:1504141382\n            }\n        ]\n    },\n    \x26quot;User\x26quot;:{\/\/当前用户信息\n        \x26quot;Uin\x26quot;:2799942121,\n        \x26quot;UserName\x26quot;:\x26quot;@cee283ef70f5473680a467d23da14918888aa5771f1b08c7410b2ca3d685dd6a\x26quot;,\n        \x26quot;NickName\x26quot;:\x26quot;followtry\x26quot;,\n        \x26quot;HeadImgUrl\x26quot;:\x26quot;\/cgi-bin\/mmwebwx-bin\/webwxgeticon?seq=842975299\x26amp;username=@cee283ef70f5473680a467d23da14918888aa5771f1b08c7410b2ca3d685dd6a\x26amp;skey=@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x26quot;,\n        \x26quot;RemarkName\x26quot;:\x26quot;\x26quot;,\n        \x26quot;PYInitial\x26quot;:\x26quot;\x26quot;,\n        \x26quot;PYQuanPin\x26quot;:\x26quot;\x26quot;,\n        \x26quot;RemarkPYInitial\x26quot;:\x26quot;\x26quot;,\n        \x26quot;RemarkPYQuanPin\x26quot;:\x26quot;\x26quot;,\n        \x26quot;HideInputBarFlag\x26quot;:0,\n        \x26quot;StarFriend\x26quot;:0,\n        \x26quot;Sex\x26quot;:1,\n        \x26quot;Signature\x26quot;:\x26quot;\x26quot;,\n        \x26quot;AppAccountFlag\x26quot;:0,\n        \x26quot;VerifyFlag\x26quot;:0,\n        \x26quot;ContactFlag\x26quot;:0,\n        \x26quot;WebWxPluginSwitch\x26quot;:0,\n        \x26quot;HeadImgFlag\x26quot;:1,\n        \x26quot;SnsFlag\x26quot;:17\n    },\n    \x26quot;ChatSet\x26quot;:\x26quot;filehelper,weixin,@@ed82e31e61783c765723eb8574831ae0be272bbb6b02f7280e442b0d274e8cb9,\x26quot;,\n    \x26quot;SKey\x26quot;:\x26quot;@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x26quot;,\/\/我的skey，也就是个人标识\n    \x26quot;ClientVersion\x26quot;:637865269,\n    \x26quot;SystemTime\x26quot;:1504157627,\n    \x26quot;GrayScale\x26quot;:1,\n    \x26quot;InviteStartCount\x26quot;:40,\n    \x26quot;MPSubscribeMsgCount\x26quot;:22,\n    \x26quot;MPSubscribeMsgList\x26quot;:[\/\/订阅信息列表\n        {\n            \x26quot;UserName\x26quot;:\x26quot;@d532ab26f3404fdc3a95bc7a7d3ae368\x26quot;,\n            \x26quot;MPArticleCount\x26quot;:4,\/\/拉取四篇文章\n            \x26quot;MPArticleList\x26quot;:[\/\/文章列表信息\n                {\n                    \x26quot;Title\x26quot;:\x26quot;Ubuntu Linux\x26quot;,\n                    \x26quot;Cover\x26quot;:\x26quot;http:\/\/mmbiz.qpic.cn\/mmbiz_jpg\/W9DqKgFsc6icYW9UsESlGZ2r3SEOjIwqeToauxczCXYPLW63YtYmCcK2mxTaRjH7XibemZZOcVXknLFsPnhSLyeg\/640?wxtype=jpeg\x26amp;wxfrom=0\x26quot;,\n                    \x26quot;Url\x26quot;:\x26quot;http:\/\/mp.weixin.qq.com\/s?__biz=MjM5NjQ4MjYwMQ==\x26amp;mid=2664609333\x26amp;idx=1\x26amp;sn=9eec4c182757edc5d2e98b2dfa5752b1\x26amp;chksm=bdce8d738ab904653e64f18e23a8ffe8634fc1547edc05e2dad547de69894d5df572cc4f2b12\x26amp;scene=0#rd\x26quot;\n                }\n            ],\n            \x26quot;Time\x26quot;:1504153992,\n            \x26quot;NickName\x26quot;:\x26quot;Linuxä¸­å›½\x26quot;\n        }\n    ],\n    \x26quot;ClickReportInterval\x26quot;:600000\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22BaseResponse\x22\x3c\/span\x3e:{\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22Ret\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22ErrMsg\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22Count\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22ContactList\x22\x3c\/span\x3e:[\n        {\/\/公众号或文件助手信息\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Uin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22UserName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22filehelper\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22NickName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22HeadImgUrl\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\/cgi-bin\/mmwebwx-bin\/webwxgeticon?seq=660589401\x26amp;username=filehelper\x26amp;skey=@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22ContactFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberList\x22\x3c\/span\x3e:[],\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22HideInputBarFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Sex\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Signature\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22VerifyFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22OwnerUin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22PYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22WJCSZS\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22PYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22wenjianchuanshuzhushou\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22StarFriend\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22AppAccountFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Statues\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22AttrStatus\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Province\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22City\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Alias\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22SnsFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22UniFriend\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22DisplayName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22ChatRoomId\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22KeyWord\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22fil\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22EncryChatRoomId\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22IsOwner\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n        },\n        {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Uin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22UserName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22@@ed82e31e61783c765723eb8574831ae0be272bbb6b02f7280e442b0d274e8cb9\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22NickName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22è¯—é…’è¶å¹´åŽ\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22HeadImgUrl\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\/cgi-bin\/mmwebwx-bin\/webwxgetheadimg?seq=660624044\x26amp;username=@@ed82e31e61783c765723eb8574831ae0be272bbb6b02f7280e442b0d274e8cb9\x26amp;skey=@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22ContactFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2051\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberList\x22\x3c\/span\x3e:[\/\/用户信息\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22Uin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22UserName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22@4dae6aa0756bd9899b68d0b2e60f109d\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22NickName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22AttrStatus\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22PYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22PYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberStatus\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22DisplayName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22KeyWord\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22cha\x22\x3c\/span\x3e\n                }\n            ],\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22HideInputBarFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Sex\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Signature\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22VerifyFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22OwnerUin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22PYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22PYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22StarFriend\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22AppAccountFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Statues\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22AttrStatus\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Province\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22City\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Alias\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22SnsFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22UniFriend\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22DisplayName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22ChatRoomId\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22KeyWord\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22EncryChatRoomId\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22IsOwner\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n        }\n    ],\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22SyncKey\x22\x3c\/span\x3e:{\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22Count\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22List\x22\x3c\/span\x3e:[\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Key\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Val\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e660633313\x3c\/span\x3e\n            },\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Key\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Val\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e660633314\x3c\/span\x3e\n            },\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Key\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Val\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e660633176\x3c\/span\x3e\n            },\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Key\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22Val\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1504141382\x3c\/span\x3e\n            }\n        ]\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22User\x22\x3c\/span\x3e:{\/\/当前用户信息\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22Uin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2799942121\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22UserName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22@cee283ef70f5473680a467d23da14918888aa5771f1b08c7410b2ca3d685dd6a\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22NickName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22followtry\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22HeadImgUrl\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\/cgi-bin\/mmwebwx-bin\/webwxgeticon?seq=842975299\x26amp;username=@cee283ef70f5473680a467d23da14918888aa5771f1b08c7410b2ca3d685dd6a\x26amp;skey=@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22PYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22PYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYInitial\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYQuanPin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22HideInputBarFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22StarFriend\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22Sex\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22Signature\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22AppAccountFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22VerifyFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22ContactFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22WebWxPluginSwitch\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22HeadImgFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22SnsFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e17\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22ChatSet\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22filehelper,weixin,@@ed82e31e61783c765723eb8574831ae0be272bbb6b02f7280e442b0d274e8cb9,\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22SKey\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22@crypt_d6549c5a_37242e82c0913b75e5d3ad5ef2c7bdba\x22\x3c\/span\x3e,\/\/我的skey，也就是个人标识\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22ClientVersion\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e637865269\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22SystemTime\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1504157627\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22GrayScale\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22InviteStartCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22MPSubscribeMsgCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22MPSubscribeMsgList\x22\x3c\/span\x3e:[\/\/订阅信息列表\n        {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22UserName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22@d532ab26f3404fdc3a95bc7a7d3ae368\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MPArticleCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\/\/拉取四篇文章\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MPArticleList\x22\x3c\/span\x3e:[\/\/文章列表信息\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22Title\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22Ubuntu Linux\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22Cover\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/mmbiz.qpic.cn\/mmbiz_jpg\/W9DqKgFsc6icYW9UsESlGZ2r3SEOjIwqeToauxczCXYPLW63YtYmCcK2mxTaRjH7XibemZZOcVXknLFsPnhSLyeg\/640?wxtype=jpeg\x26amp;wxfrom=0\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22Url\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/mp.weixin.qq.com\/s?__biz=MjM5NjQ4MjYwMQ==\x26amp;mid=2664609333\x26amp;idx=1\x26amp;sn=9eec4c182757edc5d2e98b2dfa5752b1\x26amp;chksm=bdce8d738ab904653e64f18e23a8ffe8634fc1547edc05e2dad547de69894d5df572cc4f2b12\x26amp;scene=0#rd\x22\x3c\/span\x3e\n                }\n            ],\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Time\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1504153992\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22NickName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22Linuxä¸­å›½\x22\x3c\/span\x3e\n        }\n    ],\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22ClickReportInterval\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e600000\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996737?w=2878\x26amp;h=388\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996737?w=2878\x26amp;h=388\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996738?w=2872\x26amp;h=418\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996738?w=2872\x26amp;h=418\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e拿到该结果后，浏览器会渲染最近联系人，各个订阅的公众号的最近几篇文章。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e7. 获取好友列表\x3c\/h3\x3e\n\x3cp\x3e使用POST方法，访问：\x3ca href=\x22https:\/\/wx2.qq.com\/cgi-bin\/mmwebwx-bin\/webwxgetcontact?r=%E6%97%B6%E9%97%B4%E6%88%B3\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/wx2.qq.com\/cgi-bin\/mm...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3ePOST的内容为空。成功则以JSON格式返回所有联系人的信息。格式类似：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;BaseResponse\x26quot;: {\n        \x26quot;Ret\x26quot;: 0,\n        \x26quot;ErrMsg\x26quot;: \x26quot;\x26quot;\n    },\n    \x26quot;MemberCount\x26quot;: 21,\n    \x26quot;MemberList\x26quot;: [\n        {\n            \x26quot;Uin\x26quot;: 0,\n            \x26quot;UserName\x26quot;: xxx,\n            \x26quot;NickName\x26quot;: \x26quot;Urinx\x26quot;,\n            \x26quot;HeadImgUrl\x26quot;: xxx,\n            \x26quot;ContactFlag\x26quot;: 3,\n            \x26quot;MemberCount\x26quot;: 0,\n            \x26quot;MemberList\x26quot;: [],\n            \x26quot;RemarkName\x26quot;: \x26quot;\x26quot;,\n            \x26quot;HideInputBarFlag\x26quot;: 0,\n            \x26quot;Sex\x26quot;: 0,\n            \x26quot;Signature\x26quot;: \x26quot;xxxx\x26quot;,\n            \x26quot;VerifyFlag\x26quot;: 8,\n            \x26quot;OwnerUin\x26quot;: 0,\n            \x26quot;PYInitial\x26quot;: \x26quot;URINX\x26quot;,\n            \x26quot;PYQuanPin\x26quot;: \x26quot;Urinx\x26quot;,\n            \x26quot;RemarkPYInitial\x26quot;: \x26quot;\x26quot;,\n            \x26quot;RemarkPYQuanPin\x26quot;: \x26quot;\x26quot;,\n            \x26quot;StarFriend\x26quot;: 0,\n            \x26quot;AppAccountFlag\x26quot;: 0,\n            \x26quot;Statues\x26quot;: 0,\n            \x26quot;AttrStatus\x26quot;: 0,\n            \x26quot;Province\x26quot;: \x26quot;\x26quot;,\n            \x26quot;City\x26quot;: \x26quot;\x26quot;,\n            \x26quot;Alias\x26quot;: \x26quot;Urinxs\x26quot;,\n            \x26quot;SnsFlag\x26quot;: 0,\n            \x26quot;UniFriend\x26quot;: 0,\n            \x26quot;DisplayName\x26quot;: \x26quot;\x26quot;,\n            \x26quot;ChatRoomId\x26quot;: 0,\n            \x26quot;KeyWord\x26quot;: \x26quot;gh_\x26quot;,\n            \x26quot;EncryChatRoomId\x26quot;: \x26quot;\x26quot;\n        },\n        ...\n    ],\n    \x26quot;Seq\x26quot;: 0\n}\n其中，MemberCount表示总共有多少联系人，里面的内容都比较清晰。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22BaseResponse\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22Ret\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22ErrMsg\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberCount\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e21\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberList\x22\x3c\/span\x3e: [\n        {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Uin\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22UserName\x22\x3c\/span\x3e: xxx,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22NickName\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Urinx\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22HeadImgUrl\x22\x3c\/span\x3e: xxx,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22ContactFlag\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberCount\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22MemberList\x22\x3c\/span\x3e: [],\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkName\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22HideInputBarFlag\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Sex\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Signature\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22xxxx\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22VerifyFlag\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22OwnerUin\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22PYInitial\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22URINX\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22PYQuanPin\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Urinx\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYInitial\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22RemarkPYQuanPin\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22StarFriend\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22AppAccountFlag\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Statues\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22AttrStatus\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Province\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22City\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22Alias\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Urinxs\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22SnsFlag\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22UniFriend\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22DisplayName\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22ChatRoomId\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22KeyWord\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22gh_\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22EncryChatRoomId\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n        },\n        ...\n    ],\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22Seq\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n}\n其中，MemberCount表示总共有多少联系人，里面的内容都比较清晰。\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e8. 开启微信状态通知\x3c\/h3\x3e\n\x3cp\x3e用POST方法，访问：\x3ca href=\x22https:\/\/wx.qq.com\/cgi-bin\/mmwebwx-bin\/webwxstatusnotify\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/wx.qq.com\/cgi-bin\/mmw...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3ePOST的内容是JSON串，格式：\x3c\/p\x3e\n\x3cp\x3e{\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 BaseRequest: { Uin: xxx, Sid: xxx, Skey: xxx, DeviceID: xxx }, \n Code: 3, \n FromUserName: 自己ID, \n ToUserName: 自己ID, \n ClientMsgId: 时间戳 \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-attribute\x22\x3eBaseRequest\x3c\/span\x3e: { \x3cspan class=\x22hljs-attribute\x22\x3eUin\x3c\/span\x3e: xxx, \x3cspan class=\x22hljs-attribute\x22\x3eSid\x3c\/span\x3e: xxx, \x3cspan class=\x22hljs-attribute\x22\x3eSkey\x3c\/span\x3e: xxx, \x3cspan class=\x22hljs-attribute\x22\x3eDeviceID\x3c\/span\x3e: xxx }, \n \x3cspan class=\x22hljs-attribute\x22\x3eCode\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \n \x3cspan class=\x22hljs-attribute\x22\x3eFromUserName\x3c\/span\x3e: 自己ID, \n \x3cspan class=\x22hljs-attribute\x22\x3eToUserName\x3c\/span\x3e: 自己ID, \n \x3cspan class=\x22hljs-attribute\x22\x3eClientMsgId\x3c\/span\x3e: 时间戳 \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e}\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996739?w=2870\x26amp;h=816\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996739?w=2870\x26amp;h=816\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e9. 心跳包，与服务器同步并获取状态\x3c\/h3\x3e\n\x3cp\x3e以上步骤完成以后，就可以进入收发微信的循环了，可以用线程方式发送心跳包。\x3c\/p\x3e\n\x3cp\x3e使用get方法，设置超时为60秒，访问：\x3ca href=\x22https:\/\/webpush.wx2.qq.com\/cgi-bin\/mmwebwx-bin\/synccheck?sid=XXXXXX\x26amp;uin=XXXXXX\x26amp;synckey=XXXXXX\x26amp;r=%E6%97%B6%E9%97%B4%E6%88%B3\x26amp;skey=XXXXXX\x26amp;deviceid=XXXXXX\x26amp;_=%E6%97%B6%E9%97%B4%E6%88%B3\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/webpush.wx2.qq.com\/cg...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e其他几个参数不用解释，这里的synckey需要说一下，前面的步骤获取的json串中有多个key信息，需要把这些信息拼起来，key_val，中间用|分割，类似这样：\x3c\/p\x3e\n\x3cp\x3e1_652651920|2_652651939|3_652651904|1000_0\x3cbr\x3e服务器返回：window.synccheck={retcode:”0”,selector:”0”}\x3c\/p\x3e\n\x3cp\x3eretcode为0表示成功，selector为2和6表示有新信息。4表示公众号新信息。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996740?w=2412\x26amp;h=656\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996740?w=2412\x26amp;h=656\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e10. 接收新信息\x3c\/h3\x3e\n\x3cp\x3e检测到有新的消息以后，用POST方法，访问：\x3ca href=\x22https:\/\/wx2.qq.com\/cgi-bin\/mmwebwx-bin\/webwxsync?sid=XXXXXX\x26amp;skey=XXXXXX\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/wx2.qq.com\/cgi-bin\/mm...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996741?w=2636\x26amp;h=714\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996741?w=2636\x26amp;h=714\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996742?w=2878\x26amp;h=584\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996742?w=2878\x26amp;h=584\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3ePOST的内容：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n   \x26quot;BaseResponse\x26quot;:{\n       \x26quot;Ret\x26quot;:0,\n       \x26quot;ErrMsg\x26quot;:\x26quot;\x26quot;\n   },\n   \x26quot;AddMsgCount\x26quot;:0,\n   \x26quot;AddMsgList\x26quot;:[\n\n   ],\n   \x26quot;ModContactCount\x26quot;:0,\n   \x26quot;ModContactList\x26quot;:[\n\n   ],\n   \x26quot;DelContactCount\x26quot;:0,\n   \x26quot;DelContactList\x26quot;:[\n\n   ],\n   \x26quot;ModChatRoomMemberCount\x26quot;:0,\n   \x26quot;ModChatRoomMemberList\x26quot;:[\n\n   ],\n   \x26quot;Profile\x26quot;:{\n       \x26quot;BitFlag\x26quot;:0,\n       \x26quot;UserName\x26quot;:{\n           \x26quot;Buff\x26quot;:\x26quot;\x26quot;\n       },\n       \x26quot;NickName\x26quot;:{\n           \x26quot;Buff\x26quot;:\x26quot;\x26quot;\n       },\n       \x26quot;BindUin\x26quot;:0,\n       \x26quot;BindEmail\x26quot;:{\n           \x26quot;Buff\x26quot;:\x26quot;\x26quot;\n       },\n       \x26quot;BindMobile\x26quot;:{\n           \x26quot;Buff\x26quot;:\x26quot;\x26quot;\n       },\n       \x26quot;Status\x26quot;:0,\n       \x26quot;Sex\x26quot;:0,\n       \x26quot;PersonalCard\x26quot;:0,\n       \x26quot;Alias\x26quot;:\x26quot;\x26quot;,\n       \x26quot;HeadImgUpdateFlag\x26quot;:0,\n       \x26quot;HeadImgUrl\x26quot;:\x26quot;\x26quot;,\n       \x26quot;Signature\x26quot;:\x26quot;\x26quot;\n   },\n   \x26quot;ContinueFlag\x26quot;:0,\n   \x26quot;SyncKey\x26quot;:{\n       \x26quot;Count\x26quot;:7,\n       \x26quot;List\x26quot;:[\n           {\n               \x26quot;Key\x26quot;:1,\n               \x26quot;Val\x26quot;:660633324\n           }\n       ]\n   },\n   \x26quot;SKey\x26quot;:\x26quot;\x26quot;,\n   \x26quot;SyncCheckKey\x26quot;:{\n       \x26quot;Count\x26quot;:7,\n       \x26quot;List\x26quot;:[\n           {\n               \x26quot;Key\x26quot;:1,\n               \x26quot;Val\x26quot;:660633324\n           }\n       ]\n   }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22BaseResponse\x22\x3c\/span\x3e:{\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Ret\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22ErrMsg\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n   },\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22AddMsgCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22AddMsgList\x22\x3c\/span\x3e:[\n\n   ],\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22ModContactCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22ModContactList\x22\x3c\/span\x3e:[\n\n   ],\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22DelContactCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22DelContactList\x22\x3c\/span\x3e:[\n\n   ],\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22ModChatRoomMemberCount\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22ModChatRoomMemberList\x22\x3c\/span\x3e:[\n\n   ],\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22Profile\x22\x3c\/span\x3e:{\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22BitFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22UserName\x22\x3c\/span\x3e:{\n           \x3cspan class=\x22hljs-attr\x22\x3e\x22Buff\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n       },\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22NickName\x22\x3c\/span\x3e:{\n           \x3cspan class=\x22hljs-attr\x22\x3e\x22Buff\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n       },\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22BindUin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22BindEmail\x22\x3c\/span\x3e:{\n           \x3cspan class=\x22hljs-attr\x22\x3e\x22Buff\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n       },\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22BindMobile\x22\x3c\/span\x3e:{\n           \x3cspan class=\x22hljs-attr\x22\x3e\x22Buff\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n       },\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Status\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Sex\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22PersonalCard\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Alias\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22HeadImgUpdateFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22HeadImgUrl\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Signature\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n   },\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22ContinueFlag\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22SyncKey\x22\x3c\/span\x3e:{\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Count\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22List\x22\x3c\/span\x3e:[\n           {\n               \x3cspan class=\x22hljs-attr\x22\x3e\x22Key\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n               \x3cspan class=\x22hljs-attr\x22\x3e\x22Val\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e660633324\x3c\/span\x3e\n           }\n       ]\n   },\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22SKey\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22SyncCheckKey\x22\x3c\/span\x3e:{\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Count\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22List\x22\x3c\/span\x3e:[\n           {\n               \x3cspan class=\x22hljs-attr\x22\x3e\x22Key\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n               \x3cspan class=\x22hljs-attr\x22\x3e\x22Val\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e660633324\x3c\/span\x3e\n           }\n       ]\n   }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意这里的SyncKey格式，参考前面的说明。\x3c\/p\x3e\n\x3cp\x3e请求成功之后服务器会返回一个JSON串，其中AddMsgCount表示有多少信息，AddMsgList中是一个数组，包含了所有新消息，里面的MsgType表示信息类型，Content就是信息内容。\x3cbr\x3e注意again，返回的信息中，会有新的synckey，要更新这个内容，下次获取信息访问要用这个新的key。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e11. 发送信息\x3c\/h3\x3e\n\x3cp\x3e这个比较简单，用POST方法，访问：\x3ca href=\x22https:\/\/wx2.qq.com\/cgi-bin\/mmwebwx-bin\/webwxsendmsg\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/wx2.qq.com\/cgi-bin\/mm...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3ePOST的还是json格式，类似这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n   \x26quot;Msg\x26quot;:{\n       \x26quot;Type\x26quot;:1,\n       \x26quot;Content\x26quot;:\x26quot;测试信息\x26quot;,\n       \x26quot;FromUserName\x26quot;:\x26quot;XXXXXX\x26quot;,\n       \x26quot;ToUserName\x26quot;:\x26quot;XXXXXX\x26quot;,\n       \x26quot;LocalID\x26quot;:\x26quot;时间戳\x26quot;,\n       \x26quot;ClientMsgId\x26quot;:\x26quot;时间戳\x26quot;\n   },\n   \x26quot;BaseRequest\x26quot;:{\n       \x26quot;Uin\x26quot;:\x26quot;XXXXXX\x26quot;,\n       \x26quot;Sid\x26quot;:\x26quot;XXXXXX\x26quot;,\n       \x26quot;Skey\x26quot;:\x26quot;XXXXXX\x26quot;,\n       \x26quot;DeviceID\x26quot;:\x26quot;XXXXXX\x26quot;\n   }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22Msg\x22\x3c\/span\x3e:{\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Type\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Content\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22测试信息\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22FromUserName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22XXXXXX\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22ToUserName\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22XXXXXX\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22LocalID\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22时间戳\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22ClientMsgId\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22时间戳\x22\x3c\/span\x3e\n   },\n   \x3cspan class=\x22hljs-attr\x22\x3e\x22BaseRequest\x22\x3c\/span\x3e:{\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Uin\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22XXXXXX\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Sid\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22XXXXXX\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22Skey\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22XXXXXX\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-attr\x22\x3e\x22DeviceID\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22XXXXXX\x22\x3c\/span\x3e\n   }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的Content是信息内容，LocalID和ClientMsgId都用当前时间戳。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011996735?w=1884\x26amp;h=914\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011996735?w=1884\x26amp;h=914\x22 alt=\x22web端微信登录\x22 title=\x22web端微信登录\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e以上就是基本的web端微信授权登录以及收发消息的过程了，个人见解，有理解有偏差的地方还期待您的批评指正。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e参考文章  \x3cbr\x3e\x3ca href=\x22http:\/\/www.oicqzone.com\/qqjiqiao\/2017032723731.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e微信网页web版通信协议分析 实现微信登录发送接收消息\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>简述网页版微信扫码登录的过程</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011996725">https://segmentfault.com/a/1190000011996725</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/8xe198seyii/" target="_blank">https://alili.tech/archive/8xe198seyii/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>