<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="驳《我不是很懂 Node.js 社区的 DRY 文化》"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>驳《我不是很懂 Node.js 社区的 DRY 文化》 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/9owegk001xd/",
				"appid": "1613049289050283", 
				"title": "驳《我不是很懂 Node.js 社区的 DRY 文化》 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-04T02:30:05"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/i9t0x2tvleo/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/fhn0cp4hzsq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&text=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&text=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&title=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&is_video=false&description=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&title=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&title=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&title=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9owegk001xd%2f&title=%e9%a9%b3%e3%80%8a%e6%88%91%e4%b8%8d%e6%98%af%e5%be%88%e6%87%82%20Node.js%20%e7%a4%be%e5%8c%ba%e7%9a%84%20DRY%20%e6%96%87%e5%8c%96%e3%80%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">驳《我不是很懂 Node.js 社区的 DRY 文化》</h1><div class="meta"><div class="postdate"><time datetime="2018-12-04" itemprop="datePublished">2018-12-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e今天在群里有人讨论方老师的文章\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/35848291\x22 rel=\x22nofollow noreferrer\x22\x3e《我不是很懂 Node.js 社区的 DRY 文化》\x3c\/a\x3e，我也看了一遍，槽点太多，不知道如何下笔。\x3c\/p\x3e\n\x3cp\x3e方老师分析了几个依赖最多的 npm 包，每个都只有不到百行代码。\x3c\/p\x3e\n\x3cp\x3e比如 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/is-odd\x22 rel=\x22nofollow noreferrer\x22\x3eis-odd\x3c\/a\x3e，每周下载 300 万次，但是只有核心 5 行代码。而且依赖了每周下载 1000 万次的 \x3ca href=\x22https:\/\/github.com\/jonschlinkert\/is-number\x22 rel=\x22nofollow noreferrer\x22\x3eis-number\x3c\/a\x3e 库。\x3c\/p\x3e\n\x3cp\x3e得出了一个结论：\x3c\/p\x3e\n\x3cblockquote\x3e\x3col\x3e\n\x3cli\x3e原来有这么多 JS 程序员不会判断奇数\x3c\/li\x3e\n\x3cli\x3e只要 markdown 写得漂亮，就能迷倒 JS 程序员\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e1 \x2b \x271\x27\x3c\/code\x3e 的问题一直在困扰 JS 程序员，我要不要写一个 \x3ccode\x3eadd()\x3c\/code\x3e 库解决这个问题呢\x3c\/li\x3e\n\x3c\/ol\x3e\x3c\/blockquote\x3e\n\x3cp\x3e首先第一条:\x3c\/p\x3e\n\x3cblockquote\x3e原来有这么多 JS 程序员不会判断奇数。\x3c\/blockquote\x3e\n\x3cp\x3e其实不仅仅是 JS 程序员，大部分程序员都不会准确的判断奇数。\x3c\/p\x3e\n\x3cp\x3e你写\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3econst isOdd = x =\x26gt; x % 2 === 1;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是小学的知识，除以 2，如果除不尽（有余数）那么就是奇数。正因为知识点很简单，所以给人一种随便一个程序员都会判断的错觉。\x3c\/p\x3e\n\x3cp\x3e现在我们假设用户传入的参数一定是数字。\x3c\/p\x3e\n\x3cp\x3e即便如此，这个函数依然不能正确判断奇数。因为\x3ccode\x3e -3 % 2\x3c\/code\x3e 的结果是 \x3ccode\x3e-1\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e有人说那就这么写：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3econst isOdd = x =\x26gt; x % 2 !== 0;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e随便一个小数就被判断为奇数了。更不用说浮点数中的妖怪 \x3ccode\x3eNaN\x3c\/code\x3e 和 \x3ccode\x3eInfinity\x3c\/code\x3e 了。\x3c\/p\x3e\n\x3cp\x3e那么是不是对 \x3ccode\x3eNaN\x3c\/code\x3e 和 \x3ccode\x3eInfinity\x3c\/code\x3e 直接返回 falst，然后把 \x3ccode\x3e-1\x3c\/code\x3e 的判断也加上去就行了：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3econst isOdd = x =\x26gt; x % 2 === 1 || x % 2 === -1;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e也是图样\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3e9007199254740991 % 2 === 1\n9007199254740992 % 2 === 0\n9007199254740993 % 2 === 0\n9007199254740994 % 2 === 0\n9007199254740995 % 2 === 0\n\/\/ 后面的都是 0\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为什么从 \x3ccode\x3e9007199254740991\x3c\/code\x3e 开始呢？因为这个值是 \x3ccode\x3eNumber.MAX_SAFE_INTEGER\x3c\/code\x3e，是 \x3ccode\x3e2 ** 53 - 1\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e那回过头来看看 is-odd 库是怎么实现的呢？\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3e!!(~~i \x26amp; 1)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e~~i\x3c\/code\x3e 用于把字符串转换为整数，和 \x3ccode\x3e1\x3c\/code\x3e 进行\x3cstrong\x3e按位与\x3c\/strong\x3e运算判断最后一位是 \x3ccode\x3e1\x3c\/code\x3e 还是 \x3ccode\x3e0\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e很遗憾，也有问题。😔 因为在字符串转整数的时候精度就丢失了。\x3c\/p\x3e\n\x3cp\x3e如果有谁想造轮子，可以写一个 better-is-odd，可以把字符串 \x3ccode\x3e\x279007199254740995\x27\x3c\/code\x3e 判断为奇数，但是对于数字 \x3ccode\x3e9007199254740995\x3c\/code\x3e 也是无能为力。等着 \x3ca href=\x22https:\/\/github.com\/tc39\/proposal-bigint\x22 rel=\x22nofollow noreferrer\x22\x3eproposal-bigint\x3c\/a\x3e 提案吧。\x3c\/p\x3e\n\x3cp\x3e不仅仅是判断奇数，单纯的判断一个字符串是不是数字就可以难倒一大片 JS 程序员（其它语言程序员也一样）。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/jonschlinkert\/is-number\x22 rel=\x22nofollow noreferrer\x22\x3eis-number\x3c\/a\x3e 库核心代码不到 10 行。方老师只关注了库的源代码，但是我们如果看一看他的 \x3ca href=\x22https:\/\/github.com\/jonschlinkert\/is-number\/blob\/master\/test.js\x22 rel=\x22nofollow noreferrer\x22\x3etest case\x3c\/a\x3e，就决定要使用这个库了。\x3c\/p\x3e\n\x3cp\x3e作者为这 10 行代码写了 108 行的测试用例，来保证这个函数的功能是正确的。\x3c\/p\x3e\n\x3cp\x3e我在之前的文章\x3cstrong\x3e百行代码，千行测试\x3c\/strong\x3e里面曾写过：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e不要重复发明轮子。\x3c\/p\x3e\n\x3cp\x3e很多大牛推荐我们“造轮子”，但是造轮子的目的是为了学习，而不是使用，尤其不要用在生产环境。\x3c\/p\x3e\n\x3cp\x3e造个轮子很简单，但是你非要把自己的轮子安在汽车上，开上路，那肯定是一个安全隐患。\x3c\/p\x3e\n\x3cp\x3e有很多人会说，“既然自己可以写一个，为什么非要用别人的？” 还有人觉得，有些非常小的功能不需要使用别人的。\x3c\/p\x3e\n\x3cp\x3e很多人还会借此吐槽 leftpad 模块，但是平心而论，你自己能徒手这一个没有 bug 且高性能的 leftpad 函数吗？\x3c\/p\x3e\n\x3cp\x3e前几天我们项目组就遇到了一次，其实功能很简单，一个页面分享出去，并使用 url 携带参数。比如：\x3c\/p\x3e\n\x3cp\x3eaaa.html?id=123456\x3c\/p\x3e\n\x3cp\x3e看似很简单的一个需求，但是真正自己写一个却不简单。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e查找“=”字符，然后截取后面的？\x3c\/li\x3e\n\x3cli\x3esplit(\x22=\x22)，然后去第二个\x3c\/li\x3e\n\x3cli\x3e……\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e不到 10 行代码就写完了。\x3c\/p\x3e\n\x3cp\x3e第一次分享到微信是正常，把分享出去的页面再次转发分享，页面错误。\x3c\/p\x3e\n\x3cp\x3e因为微信会在 URL 后面添加一些额外的参数，同样，不同的平台都会有不同形式的添加参数方式，有的加 \x3ccode\x3e\x26amp;\x3c\/code\x3e，有的加 \x3ccode\x3e#\x3c\/code\x3e，不论加什么都会导致解析的失败。\x3c\/p\x3e\n\x3cp\x3e归根结底是我们写的解析函数有 bug，我们重新造了一个有 bug 的轮子。\x3c\/p\x3e\n\x3cp\x3e解决方式就是:\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3enpm i qs\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e麻雀虽小，五脏俱全。看看 github 源码，“\x3cstrong\x3e百行代码，千行测试\x3c\/strong\x3e”。绝对比自己写的代码靠谱。\x3c\/p\x3e\n\x3cp\x3e我写这篇文章不是为了推荐这个 qs 库，而是告诉大家不要重复造轮子用在生产环境，平时大家多造轮子用来学习。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e在回过头来看看 is-number 库，不仅仅有 100 多行的 test case，还有一个目录 benchmark。这里面的代码我没有数，但是光看文件数量就有 10 个以上。也就是说作者不仅仅保证了这个函数的运行结果没有问题，更保证了这个函数的性能。\x3c\/p\x3e\n\x3cp\x3e我们为什么要使用这个库，因为作者为了他的 10 行代码，写了几百行的其它代码来保证质量。\x3c\/p\x3e\n\x3cp\x3e作者 9 天前还发布了新版，20 天前还优化了字符串转数字的性能。\x3c\/p\x3e\n\x3cp\x3e再看看方老师说的第二条：\x3c\/p\x3e\n\x3cblockquote\x3e只要 markdown 写得漂亮，就能迷倒 JS 程序员。\x3cbr\x3e这些包的 markdown 代码远远多于 JS 代码，可能它们的 markdown 更值得我们学习\x3c\/blockquote\x3e\n\x3cp\x3eRedux 号称\x3cstrong\x3e百行代码，千行文档\x3c\/strong\x3e，一共就导出了 5 个函数。\x3c\/p\x3e\n\x3cp\x3e而且 markdown 写的漂亮也是很有必要的，否则你不知道下面的代码到底输出什么\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3eisOdd(\x27 12\x27)\nisOdd(\x27一\x27)\nisOdd(\x27①\x27)\nisOdd(\x27Odd\x27)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e第三条：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3ccode\x3e1 \x2b \x271\x27\x3c\/code\x3e 的问题一直在困扰 JS 程序员，我要不要写一个 \x3ccode\x3eadd()\x3c\/code\x3e 库解决这个问题呢\x3c\/blockquote\x3e\n\x3cp\x3e不能。\x3c\/p\x3e\n\x3cp\x3e我是认真的！因为 npm 已经有一个 \x3ccode\x3eadd\x3c\/code\x3e 库了，名字被别人占用了，所以你只能叫别的名字了。\x3c\/p\x3e\n\x3cp\x3e虽然是一个小众的库，但是每周也有近一万的下载量。这个库实现了 JavaScript 中的浮点数加法的 Rump-Ogita-Oishi 算法。\x3c\/p\x3e\n\x3cp\x3e比如有如下浮点数：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3econst nums = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e把这些数累加\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3enums.reduce((a,b) =\x26gt; a\x2bb);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e结果是：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e15.299999999999999\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而使用 Rump-Ogita-Oishi 算法：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3eadd(nums) === 15.3\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再看看 benchmark (OS X 10.9.4, 2 GHz Core i7, 8GB DDR3 1600Mhz RAM)：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eadd-precise x 1,400,712 ops\/sec ±3.31% (89 runs sampled)\nadd-dumb x 24,268,034 ops\/sec ±3.96% (80 runs sampled)\nnative x 94,957,251 ops\/sec ±2.94% (85 runs sampled)\nnative is ~67.8 times faster than add-precise\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后再重申一般：\x3cstrong\x3eDon\x27t Repeat Yourself\x3c\/strong\x3e。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>驳《我不是很懂 Node.js 社区的 DRY 文化》</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014480379">https://segmentfault.com/a/1190000014480379</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/9owegk001xd/" target="_blank">https://alili.tech/archive/9owegk001xd/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>