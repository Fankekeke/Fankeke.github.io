<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="前端基础进阶（十一）：详细图解jQuery对象，以及如何扩展jQuery插件"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>前端基础进阶（十一）：详细图解jQuery对象，以及如何扩展jQuery插件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/aiff4ut7rhf/",
				"appid": "1613049289050283", 
				"title": "前端基础进阶（十一）：详细图解jQuery对象，以及如何扩展jQuery插件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-19T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/xbyfgz1o1z8/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wqz8mzmdu1d/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&text=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&text=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&title=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&is_video=false&description=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&title=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&title=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&title=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faiff4ut7rhf%2f&title=%e5%89%8d%e7%ab%af%e5%9f%ba%e7%a1%80%e8%bf%9b%e9%98%b6%ef%bc%88%e5%8d%81%e4%b8%80%ef%bc%89%ef%bc%9a%e8%af%a6%e7%bb%86%e5%9b%be%e8%a7%a3jQuery%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%a6%82%e4%bd%95%e6%89%a9%e5%b1%95jQuery%e6%8f%92%e4%bb%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">前端基础进阶（十一）：详细图解jQuery对象，以及如何扩展jQuery插件</h1><div class="meta"><div class="postdate"><time datetime="2018-12-19" itemprop="datePublished">2018-12-19</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008749398\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008749398\x22 alt=\x22配图与本文无关\x22 title=\x22配图与本文无关\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e早几年学习前端，大家都非常热衷于研究jQuery源码。我还记得当初从jQuery源码中学到一星半点应用技巧的时候常会有一种发自内心的惊叹，“原来JavaScript居然可以这样用！”\x3c\/p\x3e\n\x3cp\x3e虽然随着前端的发展，另外几种前端框架的崛起，jQuery慢慢变得不再是必须。因此大家对于jQuery的热情低了很多。但是许多从jQuery中学到的技巧用在实际开发中仍然非常好用。简单的了解它也有助于我们更加深入的理解JavaScript。\x3c\/p\x3e\n\x3cp\x3e这篇文章的主要目的就是跟大家分享一下，jquery对象是如何封装的。算是对于大家进一步学习jQuery源码的一个抛砖引玉。\x3c\/p\x3e\n\x3cp\x3e使用jQuery对象时，我们这样写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 声明一个jQuery对象\n$(\x27.target\x27)\n\n\/\/ 获取元素的css属性\n$(\x27.target\x27).css(\x27width\x27)\n\n\/\/ 获取元素的位置信息\n$(\x27.target\x27).offset()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 声明一个jQuery对象\x3c\/span\x3e\n$(\x3cspan class=\x22hljs-string\x22\x3e\x27.target\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取元素的css属性\x3c\/span\x3e\n$(\x3cspan class=\x22hljs-string\x22\x3e\x27.target\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27width\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取元素的位置信息\x3c\/span\x3e\n$(\x3cspan class=\x22hljs-string\x22\x3e\x27.target\x27\x3c\/span\x3e).offset()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在使用之初可能会有许多疑问，比如$是怎么回事？为什么不用new就可以直接声明一个对象等等。后来了解之后，才知道原来这正是jQuery对象创建的巧妙之处。\x3c\/p\x3e\n\x3cp\x3e先直接用代码展示出来，再用图跟大家解释是怎么回事。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22;\n(function(ROOT) {\n\n    \/\/ 构造函数\n    var jQuery = function(selector) {\n\n        \/\/ 在jQuery中直接返回new过的实例，这里的init是jQuery的真正构造函数\n        return new jQuery.fn.init(selector)\n    }\n\n    jQuery.fn = jQuery.prototype = {\n        constructor: jQuery,\n\n        version: \x271.0.0\x27,\n\n        init: function(selector) {\n            \/\/ 在jquery中这里有一个复杂的判断，但是这里我做了简化\n            var elem, selector;\n             elem = document.querySelector(selector);\n            this[0] = elem;\n\n            \/\/ 在jquery中返回一个由所有原型属性方法组成的数组，我们这里简化，直接返回this即可\n            \/\/ return jQuery.makeArray(selector, this);\n            return this;\n        },\n\n        \/\/ 在原型上添加一堆方法\n        toArray: function() {},\n        get: function() {},\n        each: function() {},\n        ready: function() {},\n        first: function() {},\n        slice: function() {}\n        \/\/ ... ...\n    }\n\n    jQuery.fn.init.prototype = jQuery.fn;\n\n    \/\/ 实现jQuery的两种扩展方式\n    jQuery.extend = jQuery.fn.extend = function(options) {\n\n        \/\/ 在jquery源码中会根据参数不同进行很多判断，我们这里就直接走一种方式，所以就不用判断了\n        var target = this;\n        var copy;\n\n        for(name in options) {\n            copy = options[name];\n            target[name] = copy;\n        }\n        return target;\n    }\n\n    \/\/ jQuery中利用上面实现的扩展机制，添加了许多方法，其中\n\n    \/\/ 直接添加在构造函数上，被称为工具方法\n    jQuery.extend({\n        isFunction: function() {},\n        type: function() {},\n        parseHTML: function() {},\n        parseJSON: function() {},\n        ajax: function() {}\n        \/\/ ...\n    })\n\n    \/\/ 添加到原型上\n    jQuery.fn.extend({\n        queue: function() {},\n        promise: function() {},\n        attr: function() {},\n        prop: function() {},\n        addClass: function() {},\n        removeClass: function() {},\n        val: function() {},\n        css: function() {}\n        \/\/ ...\n    })\n\n    \/\/ $符号的由来，实际上它就是jQuery，一个简化的写法，在这里我们还可以替换成其他可用字符\n    ROOT.jQuery = ROOT.$ = jQuery;\n\n})(window);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e;\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eROOT\x3c\/span\x3e) \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 构造函数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e jQuery = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eselector\x3c\/span\x3e) \x3c\/span\x3e{\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在jQuery中直接返回new过的实例，这里的init是jQuery的真正构造函数\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e jQuery.fn.init(selector)\n    }\n\n    jQuery.fn = jQuery.prototype = {\n        \x3cspan class=\x22hljs-attr\x22\x3econstructor\x3c\/span\x3e: jQuery,\n\n        \x3cspan class=\x22hljs-attr\x22\x3eversion\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x271.0.0\x27\x3c\/span\x3e,\n\n        \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eselector\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在jquery中这里有一个复杂的判断，但是这里我做了简化\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e elem, selector;\n             elem = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(selector);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] = elem;\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在jquery中返回一个由所有原型属性方法组成的数组，我们这里简化，直接返回this即可\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ return jQuery.makeArray(selector, this);\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n        },\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在原型上添加一堆方法\x3c\/span\x3e\n        toArray: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eget\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eeach\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eready\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3efirst\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eslice\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ... ...\x3c\/span\x3e\n    }\n\n    jQuery.fn.init.prototype = jQuery.fn;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 实现jQuery的两种扩展方式\x3c\/span\x3e\n    jQuery.extend = jQuery.fn.extend = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eoptions\x3c\/span\x3e) \x3c\/span\x3e{\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在jquery源码中会根据参数不同进行很多判断，我们这里就直接走一种方式，所以就不用判断了\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e target = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e copy;\n\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(name \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e options) {\n            copy = options[name];\n            target[name] = copy;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e target;\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ jQuery中利用上面实现的扩展机制，添加了许多方法，其中\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 直接添加在构造函数上，被称为工具方法\x3c\/span\x3e\n    jQuery.extend({\n        \x3cspan class=\x22hljs-attr\x22\x3eisFunction\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eparseHTML\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eparseJSON\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eajax\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n    })\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 添加到原型上\x3c\/span\x3e\n    jQuery.fn.extend({\n        \x3cspan class=\x22hljs-attr\x22\x3equeue\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3epromise\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eattr\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eaddClass\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eremoveClass\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3eval\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n        \x3cspan class=\x22hljs-attr\x22\x3ecss\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n    })\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ $符号的由来，实际上它就是jQuery，一个简化的写法，在这里我们还可以替换成其他可用字符\x3c\/span\x3e\n    ROOT.jQuery = ROOT.$ = jQuery;\n\n})(\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在上面的代码中，我封装了一个简化版的jQuery对象。它向大家简单展示了jQuery的整体框架情况。如果了解了整体框架，那么大家去读jQuery源码，就会变得非常轻松。\x3c\/p\x3e\n\x3cp\x3e我们在代码中可以看到，jQuery自身对于原型的处理使用了一些巧妙的语法，比如\x3ccode\x3ejQuery.fn = jQuery.prototype\x3c\/code\x3e，\x3ccode\x3ejQuery.fn.init.prototype = jQuery.fn;\x3c\/code\x3e等，这几句正式jQuery对象的关键所在，下面我用图给大家展示一下这中间的逻辑是怎么回事。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008749399\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008749399\x22 alt=\x22jQuery对象核心图\x22 title=\x22jQuery对象核心图\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e 对象封装分析 \x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e在上面的实现中，代码首先在jQuery构造函数中声明了一个fn属性，并将其指向了原型\x3ccode\x3ejQuery.prototype\x3c\/code\x3e。并在原型中添加了init方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22jQuery.fn = jQuery.prototype = {\n    init: {}\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3ejQuery.fn = jQuery.prototype = {\n    \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: {}\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e之后又将init的原型，指向了jQuery.prototype。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22jQuery.fn.init.prototype = jQuery.fn;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ejQuery.fn.init.prototype = jQuery.fn;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而在构造函数jQuery中，返回了init的实例对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var jQuery = function(selector) {\n\n    \/\/ 在jQuery中直接返回new过的实例，这里的init是jQuery的真正构造函数\n    return new jQuery.fn.init(selector)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e jQuery = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eselector\x3c\/span\x3e) \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在jQuery中直接返回new过的实例，这里的init是jQuery的真正构造函数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e jQuery.fn.init(selector)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后对外暴露入口时，将字符\x3ccode\x3e$\x3c\/code\x3e与\x3ccode\x3ejQuery\x3c\/code\x3e对等起来。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ROOT.jQuery = ROOT.$ = jQuery;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eROOT.jQuery = ROOT.$ = jQuery;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因此当我们直接使用\x3ccode\x3e$(\x27#test\x27)\x3c\/code\x3e创建一个对象时，实际上是创建了一个init的实例，这里的正真构造函数是原型中的init方法。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e注意：\x3c\/strong\x3e许多对jQuery内部实现不太了解的盆友，在使用jQuery时常常会毫无节制使用\x3ccode\x3e$()\x3c\/code\x3e，比如对于同一个元素的不同操作：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var width = parseInt($(\x27#test\x27).css(\x27width\x27));\nif(width \x3e 20) {\n    $(\x27#test\x27).css(\x27backgroundColor\x27, \x27red\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e width = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27#test\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27width\x27\x3c\/span\x3e));\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(width \x26gt; \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e) {\n    $(\x3cspan class=\x22hljs-string\x22\x3e\x27#test\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27backgroundColor\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27red\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过我们上面的一系列分析，我们知道每当我们执行\x3ccode\x3e$()\x3c\/code\x3e时，就会重新生成一个init的实例对象，因此当我们这样没有节制的使用jQuery时是非常不正确的，虽然看上去方便了一些，但是对于内存的消耗是非常大的。正确的做法是既然是同一个对象，那么就用一个变量保存起来后续使用即可。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var $test = $(\x27#test\x27);\nvar width = parseInt($test.css(\x27width\x27));\nif(width \x3e 20) {\n    $test.css(\x27backgroundColor\x27, \x27red\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e $test = $(\x3cspan class=\x22hljs-string\x22\x3e\x27#test\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e width = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e($test.css(\x3cspan class=\x22hljs-string\x22\x3e\x27width\x27\x3c\/span\x3e));\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(width \x26gt; \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e) {\n    $test.css(\x3cspan class=\x22hljs-string\x22\x3e\x27backgroundColor\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27red\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e扩展方法分析\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e在上面的代码实现中，我还简单实现了两个扩展方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22jQuery.extend = jQuery.fn.extend = function(options) {\n\n    \/\/ 在jquery源码中会根据参数不同进行很多判断，我们这里就直接走一种方式，所以就不用判断了\n    var target = this;\n    var copy;\n\n    for(name in options) {\n        copy = options[name];\n        target[name] = copy;\n    }\n    return target;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3ejQuery.extend = jQuery.fn.extend = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eoptions\x3c\/span\x3e) \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在jquery源码中会根据参数不同进行很多判断，我们这里就直接走一种方式，所以就不用判断了\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e target = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e copy;\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(name \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e options) {\n        copy = options[name];\n        target[name] = copy;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e target;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e要理解它的实现，我们首先要明确的知道this的指向。如果你搞不清楚，可以回头去看看我们之前关于this指向的讲解。传入的参数options对象为一个\x3ccode\x3ekey: value\x3c\/code\x3e模式的对象，我通过\x3ccode\x3efor in\x3c\/code\x3e遍历options，将key作为jQuery的新属性，value作为该新属性所对应的新方法，分别添加到jQuery方法和jQuery.fn中。\x3c\/p\x3e\n\x3cp\x3e也就是说，当我们通过\x3ccode\x3ejQuery.extend\x3c\/code\x3e扩展jQuery时，方法被添加到了jQuery构造函数中，而当我们通过\x3ccode\x3ejQuery.fn.extend\x3c\/code\x3e扩展jQuery时，方法被添加到了jQuery原型中。\x3c\/p\x3e\n\x3cp\x3e上面的例子中，我也简单展示了在jQuery内部，许多方法的实现都是通过这两个扩展方法来完成的。\x3c\/p\x3e\n\x3cblockquote\x3e当我们通过上面的知识了解了jQuery的大体框架之后，那么我们对于jQuery的学习就可以具体到诸如css\/val\/attr等方法是如何实现这样的程度，那么源码学习起来就会轻松很多，也会节约更多的时间。也给一些对于源码敬而远之的朋友提供了一个学习的可能。\x3c\/blockquote\x3e\n\x3cp\x3e有一个朋友留言给我，说她被静态方法，工具方法和实例方法这几个概念困扰了很久，到底他们有什么区别？\x3c\/p\x3e\n\x3cp\x3e其实在上一篇文章中，关于封装一个对象，我跟大家分享了一个非常非常干货，但是却只有少数几个读者老爷get到的知识，那就是在封装对象时，属性和方法可以具体放置的三个位置，并且对于这三个位置的不同做了一个详细的解读。\x3c\/p\x3e\n\x3cp\x3e而在实现jQuery扩展方法的想法中，一部分方法需要扩展到jQuery构造函数中，一部分方法需要扩展到原型中，当我们通读jQuery源码，还发现有一些方法放在了模块作用域中，至于为什么会有这样的区别，建议大家回过头去读读前一篇文章。\x3c\/p\x3e\n\x3cp\x3e而放在构造函数中的方法，因为我们在使用时，不需要声明一个实例对象就可以直接使用，因此这样的方法常常被叫做工具方法，或者所谓的静态方法。工具方法在使用时因为不用创建新的实例，因此相对而言效率会高很多，但是并不节省内存。\x3c\/p\x3e\n\x3cp\x3e而工具方法的特性也和工具一词非常贴近，他们与实例的自身属性毫无关联，仅仅只是实现一些通用的功能，我们可以通过\x3ccode\x3e$.each\x3c\/code\x3e与\x3ccode\x3e$(\x27div\x27).each\x3c\/code\x3e这2个方法来体会工具方法与实例方法的不同之处。\x3c\/p\x3e\n\x3cp\x3e在实际开发中，我们运用得非常多的一个工具库就是\x3ccode\x3elodash.js\x3c\/code\x3e，大家如果时间充裕一定要去学习一下他的使用。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$.ajax()\n$.isFunction()\n$.each()\n... ...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e$.ajax()\n$.isFunction()\n$.each()\n... ...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而放在原型中的方法，在使用时必须创建了一个新的实例对象才能访问，因此这样的方法叫做实例方法。也正是由于必须创建了一个实例之后才能访问，所以他的使用成本会比工具方法高很多。但是节省了内存。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$(\x27#test\x27).css()\n$(\x27#test\x27).attr()\n$(\x27div\x27).each()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e$(\x3cspan class=\x22hljs-string\x22\x3e\x27#test\x27\x3c\/span\x3e).css()\n$(\x3cspan class=\x22hljs-string\x22\x3e\x27#test\x27\x3c\/span\x3e).attr()\n$(\x3cspan class=\x22hljs-string\x22\x3e\x27div\x27\x3c\/span\x3e).each()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样，那位同学的疑问就很简单的被搞定了。我们在学习的时候，一定不要过分去纠结一些概念，而要明白具体怎么回事儿，那么学习这件事情就不会在一些奇奇怪怪的地方卡住了。\x3c\/p\x3e\n\x3cp\x3e所以通过\x3ccode\x3e$.extend\x3c\/code\x3e扩展的方法，其实就是对工具方法的扩展，而通过\x3ccode\x3e$.fn.extend\x3c\/code\x3e扩展的方法，就是对于实例方法的扩展。那么我们在使用的时候就知道如何准确的去使用自己扩展的方法了。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3ejQuery插件的实现\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e我在初级阶段的时候，觉得要自己编写一个jQuery插件是一件高大上的事情，可望不可即。但是通过对于上面的理解，我就知道扩展jQuery插件其实是一件我们自己也可以完成的事情。\x3c\/p\x3e\n\x3cp\x3e在前面我跟大家分享了jQuery如何实现，以及他们的方法如何扩展，并且前一篇文章分享了拖拽对象的具体实现。所以建议大家暂时不要阅读下去，自己动手尝试将拖拽扩展成为jQuery的一个实例方法，那么这就是一个jQuery插件了。\x3c\/p\x3e\n\x3cp\x3e具体也没有什么可多说的了，大家看了代码就可以明白一切。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Drag对象简化代码，完整源码可在上一篇文章中查看\n;\n(function() {\n\n    \/\/ 构造\n    function Drag(selector) {}\n\n\n    \/\/ 原型\n    Drag.prototype = {\n        constructor: Drag,\n\n        init: function() {\n            \/\/ 初始时需要做些什么事情\n            this.setDrag();\n        },\n\n        \/\/ 稍作改造，仅用于获取当前元素的属性，类似于getName\n        getStyle: function(property) {},\n\n        \/\/ 用来获取当前元素的位置信息，注意与之前的不同之处\n        getPosition: function() {},\n\n        \/\/ 用来设置当前元素的位置\n        setPostion: function(pos) {},\n\n        \/\/ 该方法用来绑定事件\n        setDrag: function() {}\n    }\n\n    \/\/ 一种对外暴露的方式\n    window.Drag = Drag;\n})();\n\n\/\/ 通过扩展方法将拖拽扩展为jQuery的一个实例方法\n(function ($) {\n  $.fn.extend({\n    becomeDrag: function () {\n      new Drag(this[0]);\n      return this;   \/\/ 注意：为了保证jQuery所有的方法都能够链式访问，每一个方法的最后都需要返回this，即返回jQuery实例\n    }\n  })\n})(jQuery);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Drag对象简化代码，完整源码可在上一篇文章中查看\x3c\/span\x3e\n;\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 构造\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDrag\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eselector\x3c\/span\x3e) \x3c\/span\x3e{}\n\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 原型\x3c\/span\x3e\n    Drag.prototype = {\n        \x3cspan class=\x22hljs-attr\x22\x3econstructor\x3c\/span\x3e: Drag,\n\n        \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始时需要做些什么事情\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setDrag();\n        },\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 稍作改造，仅用于获取当前元素的属性，类似于getName\x3c\/span\x3e\n        getStyle: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eproperty\x3c\/span\x3e) \x3c\/span\x3e{},\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用来获取当前元素的位置信息，注意与之前的不同之处\x3c\/span\x3e\n        getPosition: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用来设置当前元素的位置\x3c\/span\x3e\n        setPostion: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3epos\x3c\/span\x3e) \x3c\/span\x3e{},\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 该方法用来绑定事件\x3c\/span\x3e\n        setDrag: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一种对外暴露的方式\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.Drag = Drag;\n})();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过扩展方法将拖拽扩展为jQuery的一个实例方法\x3c\/span\x3e\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e$\x3c\/span\x3e) \x3c\/span\x3e{\n  $.fn.extend({\n    \x3cspan class=\x22hljs-attr\x22\x3ebecomeDrag\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Drag(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注意：为了保证jQuery所有的方法都能够链式访问，每一个方法的最后都需要返回this，即返回jQuery实例\x3c\/span\x3e\n    }\n  })\n})(jQuery);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e后续文章内容一个大概预想\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e去年年末的时候就有了想要将JavaScript基础知识总结一下的这样一个想法，可是JavaScript基础知识确实并非全部是层层递进的关系，有很多碎片化的东西，所以之前一直没有找到一个合适的整理方法。\x3c\/p\x3e\n\x3cp\x3e直到在segmentfault中我在给题主建议如何快速学习一门诸如react\/vue这样的流行框架时，找到了一个好一点的思路，于是就有了这样一系列文章，虽然它并不全面，很多知识没有涉及到，但是其实我是围绕最终通过模块化来构建自己代码这样一个思路来总结的，因此这系列文章能够解决大家最核心的问题。\x3c\/p\x3e\n\x3cp\x3e这系列文章，算是对于大家学习方向的一个具体的，切实可行的一个指引，而非简单的通过鸡汤的方式告诉你应该如何学习。所以，想要学习这些知识的朋友，赶紧来公众号关注我吧！！！！\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000012646488\x22\x3e前端基础进阶系列目录\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV0emY?w=800\x26amp;h=300\x22 src=\x22https:\/\/static.alili.tech\/img\/bV0emY?w=800\x26amp;h=300\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>前端基础进阶（十一）：详细图解jQuery对象，以及如何扩展jQuery插件</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012646349">https://segmentfault.com/a/1190000012646349</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/aiff4ut7rhf/" target="_blank">https://alili.tech/archive/aiff4ut7rhf/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>