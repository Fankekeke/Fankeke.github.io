<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="从ES6重新认识JavaScript设计模式(一): 单例模式"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>从ES6重新认识JavaScript设计模式(一): 单例模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ar5tdqnfyvi/",
				"appid": "1613049289050283", 
				"title": "从ES6重新认识JavaScript设计模式(一): 单例模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-09T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4iohpu2gu79/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/bj0a74inyou/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&text=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&text=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&title=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&is_video=false&description=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&title=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&title=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&title=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2far5tdqnfyvi%2f&title=%e4%bb%8eES6%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86JavaScript%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%28%e4%b8%80%29%3a%20%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">从ES6重新认识JavaScript设计模式(一): 单例模式</h1><div class="meta"><div class="postdate"><time datetime="2018-12-09" itemprop="datePublished">2018-12-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e1. 什么是单例模式?\x3c\/h2\x3e\n\x3cp\x3e单例模式是一种十分常用但却相对而言比较简单的单例模式。它是指在一个类只能有一个实例，即使多次实例化该类，也只返回第一次实例化后的实例对象。单例模式不仅能减少不必要的内存开销, 并且在减少全局的函数和变量冲突也具有重要的意义。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1.1 最简单的单例模式\x3c\/h3\x3e\n\x3cp\x3e就算你对于单例模式的概念还比较模糊，但是我相信你肯定已经使用过单例模式了。我们来看一下下面的一段代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let timeTool = {\n  name: \x27处理时间工具库\x27,\n  getISODate: function() {},\n  getUTCDate: function() {}\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e timeTool = {\n  \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27处理时间工具库\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3egetISODate\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{},\n  \x3cspan class=\x22hljs-attr\x22\x3egetUTCDate\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e以对象字面量创建对象的方式在JS开发中很常见。上面的对象是一个处理时间的工具库, 以对象字面量的方式来封装了一些方法处理时间格式。全局只暴露了一个\x3ccode\x3etimeTool\x3c\/code\x3e对象, 在需要使用时, 只需要采用\x3ccode\x3etimeTool.getISODate()\x3c\/code\x3e调用即可。\x3ccode\x3etimeTool\x3c\/code\x3e对象就是单例模式的体现。在JavaScript创建对象的方式十分灵活, 可以直接通过对象字面量的方式实例化一个对象, 而其他面向对象的语言必须使用类进行实例化。所以，这里的\x3ccode\x3etimeTool\x3c\/code\x3e就已经是一个实例， 且ES6中\x3ccode\x3elet\x3c\/code\x3e和\x3ccode\x3econst\x3c\/code\x3e不允许重复声明的特性，确保了\x3ccode\x3etimeTool\x3c\/code\x3e不能被重新覆盖。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e1.2 惰性单例\x3c\/h3\x3e\n\x3cp\x3e采用对象字面量创建单例只能适用于简单的应用场景，一旦该对象十分复杂，那么创建对象本身就需要一定的耗时，且该对象可能需要有一些私有变量和私有方法。此时使用对象字面创建单例就不再行得通了，我们还是需要采用构造函数的方式实例化对象。下面就是使用立即执行函数和构造函数的方式改造上面的\x3ccode\x3etimeTool\x3c\/code\x3e工具库。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let timeTool = (function() {\n  let _instance = null;\n  \n  function init() {\n    \/\/私有变量\n    let now = new Date();\n    \/\/公用属性和方法\n    this.name = \x27处理时间工具库\x27,\n    this.getISODate = function() {\n      return now.toISOString();\n    }\n    this.getUTCDate = function() {\n      return now.toUTCString();\n    }\n  }\n  \n  return function() {\n    if(!_instance) {\n      _instance = new init();\n    }\n    return _instance;\n  }\n})()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e timeTool = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e _instance = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n  \n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3einit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/私有变量\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e now = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e();\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/公用属性和方法\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = \x3cspan class=\x22hljs-string\x22\x3e\x27处理时间工具库\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getISODate = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e now.toISOString();\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getUTCDate = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e now.toUTCString();\n    }\n  }\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!_instance) {\n      _instance = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e init();\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _instance;\n  }\n})()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的\x3ccode\x3etimeTool\x3c\/code\x3e实际上是一个函数，\x3ccode\x3e_instance\x3c\/code\x3e作为实例对象最开始赋值为\x3ccode\x3enull\x3c\/code\x3e，\x3ccode\x3einit\x3c\/code\x3e函数是其构造函数，用于实例化对象，立即执行函数返回的是匿名函数用于判断实例是否创建，只有当调用\x3ccode\x3etimeTool()\x3c\/code\x3e时进行实例的实例化，这就是惰性单例的应用，不在js加载时就进行实例化创建， 而是在需要的时候再进行单例的创建。 如果再次调用， 那么返回的永远是第一次实例化后的实例对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let instance1 = timeTool();\nlet instance2 = timeTool();\nconsole.log(instance1 === instance2); \/\/true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e instance1 = timeTool();\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e instance2 = timeTool();\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(instance1 === instance2); \x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e2. 单例模式的应用场景\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e2.1 命名空间\x3c\/h3\x3e\n\x3cp\x3e一个项目常常不只一个程序员进行开发和维护, 然后一个程序员很难去弄清楚另一个程序员暴露在的项目中的全局变量和方法。如果将变量和方法都暴露在全局中, 变量冲突是在所难免的。就想下面的故事一样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/开发者A写了一大段js代码\nfunction addNumber () {}\n\n\n\/\/开发者B开始写js代码\nvar addNumber = \x27\x27;\n\n\/\/A重新维护该js代码\naddNumber(); \/\/Uncaught TypeError: addNumber is not a function\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/开发者A写了一大段js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaddNumber\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/开发者B开始写js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e addNumber = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/A重新维护该js代码\x3c\/span\x3e\naddNumber(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/Uncaught TypeError: addNumber is not a function\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e命名空间就是用来解决全局变量冲突的问题，我们完全可以只暴露一个对象名，将变量作为该对象的属性，将方法作为该对象的方法，这样就能大大减少全局变量的个数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/开发者A写了一大段js代码\nlet devA = {\n  addNumber() { }\n}\n\n\/\/开发者B开始写js代码\nlet devB = {\n  add: \x27\x27\n}\n\n\/\/A重新维护该js代码\ndevA.addNumber();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/开发者A写了一大段js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e devA = {\n  addNumber() { }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/开发者B开始写js代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e devB = {\n  \x3cspan class=\x22hljs-attr\x22\x3eadd\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/A重新维护该js代码\x3c\/span\x3e\ndevA.addNumber();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面代码中，\x3ccode\x3edevA\x3c\/code\x3e和\x3ccode\x3edevB\x3c\/code\x3e就是两个命名空间，采用命名空间可以有效减少全局变量的数量，以此解决变量冲突的发生。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e2.2 管理模块\x3c\/h3\x3e\n\x3cp\x3e上面说到的\x3ccode\x3etimeTool\x3c\/code\x3e对象是一个只用来处理时间的工具库，但是实际开发过程中的库可能会有多种多样的功能，例如处理ajax请求,操作dom或者处理事件。这个时候单例模式还可以用来管理代码库中的各个模块，例如下面的代码所示。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var devA = (function(){\n  \/\/ajax模块\n  var ajax = {\n    get: function(api, obj) {console.log(\x27ajax get调用\x27)},\n    post: function(api, obj) {}\n  }\n\n  \/\/dom模块\n  var dom = {\n    get: function() {},\n    create: function() {}\n  }\n  \n  \/\/event模块\n  var event = {\n    add: function() {},\n    remove: function() {}\n  }\n\n  return {\n    ajax: ajax,\n    dom: dom,\n    event: event\n  }\n})()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e devA = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ajax模块\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ajax = {\n    \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(api, obj)\x3c\/span\x3e \x3c\/span\x3e{console.log(\x3cspan class=\x22hljs-string\x22\x3e\x27ajax get调用\x27\x3c\/span\x3e)},\n    post: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(api, obj)\x3c\/span\x3e \x3c\/span\x3e{}\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/dom模块\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dom = {\n    \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{},\n    create: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{}\n  }\n  \n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/event模块\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e event = {\n    add: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{},\n    remove: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{}\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    ajax: ajax,\n    dom: dom,\n    event: event\n  }\n})()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的代码库中有\x3ccode\x3eajax\x3c\/code\x3e,\x3ccode\x3edom\x3c\/code\x3e和\x3ccode\x3eevent\x3c\/code\x3e三个模块，用同一个命名空间\x3ccode\x3edevA\x3c\/code\x3e来管理。在进行相应操作的时候，只需要\x3ccode\x3edevA.ajax.get()\x3c\/code\x3e进行调用即可。这样可以让库的功能更加清晰。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e3. ES6中的单例模式\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e3.1 ES6创建对象\x3c\/h3\x3e\n\x3cp\x3eES6中创建对象时引入了\x3ccode\x3eclass\x3c\/code\x3e和\x3ccode\x3econstructor\x3c\/code\x3e用来创建对象。下面我们来使用ES6的语法实例化苹果公司\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Apple {\n  constructor(name, creator, products) {\n    this.name = name;\n    this.creator = creator;\n    this.products = products;\n  }\n}\n\nlet appleCompany = new Apple(\x27苹果公司\x27, \x27乔布斯\x27, [\x27iPhone\x27, \x27iMac\x27, \x27iPad\x27, \x27iPod\x27]);\nlet copyApple = new Apple(\x27苹果公司\x27, \x27阿辉\x27, [\x27iPhone\x27, \x27iMac\x27, \x27iPad\x27, \x27iPod\x27]);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eApple\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(name, creator, products) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.creator = creator;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.products = products;\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e appleCompany = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Apple(\x3cspan class=\x22hljs-string\x22\x3e\x27苹果公司\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27乔布斯\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27iPhone\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iMac\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPad\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPod\x27\x3c\/span\x3e]);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e copyApple = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Apple(\x3cspan class=\x22hljs-string\x22\x3e\x27苹果公司\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27阿辉\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27iPhone\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iMac\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPad\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPod\x27\x3c\/span\x3e]);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e3.2 ES6中创建单例模式\x3c\/h3\x3e\n\x3cp\x3e苹果这么伟大的公司明显有且只有一个, 就是乔爷爷创建的那个, 哪能容别人进行复制？所以\x3ccode\x3eappleCompany\x3c\/code\x3e应该是一个单例, 现在我们使用ES6的语法将\x3ccode\x3econstructor\x3c\/code\x3e改写为单例模式的构造器。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class SingletonApple {\n  constructor(name, creator, products) {\n    \/\/首次使用构造器实例\n    if (!SingletonApple.instance) {\n      this.name = name;\n      this.creator = creator;\n      this.products = products;\n      \/\/将this挂载到SingletonApple这个类的instance属性上\n      SingletonApple.instance = this;\n    }\n    return SingletonApple.instance;\n  }\n}\n\nlet appleCompany = new SingletonApple(\x27苹果公司\x27, \x27乔布斯\x27, [\x27iPhone\x27, \x27iMac\x27, \x27iPad\x27, \x27iPod\x27]);\nlet copyApple = new SingletonApple(\x27苹果公司\x27, \x27阿辉\x27, [\x27iPhone\x27, \x27iMac\x27, \x27iPad\x27, \x27iPod\x27]);\n\nconsole.log(appleCompany === copyApple);  \/\/true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSingletonApple\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(name, creator, products) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/首次使用构造器实例\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!SingletonApple.instance) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.creator = creator;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.products = products;\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/将this挂载到SingletonApple这个类的instance属性上\x3c\/span\x3e\n      SingletonApple.instance = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e SingletonApple.instance;\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e appleCompany = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e SingletonApple(\x3cspan class=\x22hljs-string\x22\x3e\x27苹果公司\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27乔布斯\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27iPhone\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iMac\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPad\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPod\x27\x3c\/span\x3e]);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e copyApple = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e SingletonApple(\x3cspan class=\x22hljs-string\x22\x3e\x27苹果公司\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27阿辉\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27iPhone\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iMac\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPad\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPod\x27\x3c\/span\x3e]);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(appleCompany === copyApple);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e3.3 ES6的静态方法优化代码\x3c\/h3\x3e\n\x3cp\x3eES6中提供了为\x3ccode\x3eclass\x3c\/code\x3e提供了\x3ccode\x3estatic\x3c\/code\x3e关键字定义静态方法， 我们可以将\x3ccode\x3econstructor\x3c\/code\x3e中判断是否实例化的逻辑放入一个静态方法\x3ccode\x3egetInstance\x3c\/code\x3e中，调用该静态方法获取实例， \x3ccode\x3econstructor\x3c\/code\x3e中只包需含实例化所需的代码，这样能增强代码的可读性、结构更加优化。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class SingletonApple {\n  constructor(name, creator, products) {\n      this.name = name;\n      this.creator = creator;\n      this.products = products;\n  }\n  \/\/静态方法\n  static getInstance(name, creator, products) {\n    if(!this.instance) {\n      this.instance = new SingletonApple(name, creator, products);\n    }\n    return this.instance;\n  }\n}\n\nlet appleCompany = SingletonApple.getInstance(\x27苹果公司\x27, \x27乔布斯\x27, [\x27iPhone\x27, \x27iMac\x27, \x27iPad\x27, \x27iPod\x27]);\nlet copyApple = SingletonApple.getInstance(\x27苹果公司\x27, \x27阿辉\x27, [\x27iPhone\x27, \x27iMac\x27, \x27iPad\x27, \x27iPod\x27])\n\nconsole.log(appleCompany === copyApple); \/\/true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSingletonApple\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(name, creator, products) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.creator = creator;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.products = products;\n  }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/静态方法\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e getInstance(name, creator, products) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e SingletonApple(name, creator, products);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance;\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e appleCompany = SingletonApple.getInstance(\x3cspan class=\x22hljs-string\x22\x3e\x27苹果公司\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27乔布斯\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27iPhone\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iMac\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPad\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPod\x27\x3c\/span\x3e]);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e copyApple = SingletonApple.getInstance(\x3cspan class=\x22hljs-string\x22\x3e\x27苹果公司\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27阿辉\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27iPhone\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iMac\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPad\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27iPod\x27\x3c\/span\x3e])\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(appleCompany === copyApple); \x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e4. 单例模式的项目实战应用\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e4.1 实现登陆弹框\x3c\/h3\x3e\n\x3cp\x3e登陆弹框在项目中是一个比较经典的单例模式，因为对于大部分网站不需要用户必须登陆才能浏览，所以登陆操作的弹框可以在用户点击登陆按钮后再进行创建。而且登陆框永远只有一个，不会出现多个登陆弹框的情况，也就意味着再次点击登陆按钮后返回的永远是一个登录框的实例。\x3c\/p\x3e\n\x3cp\x3e现在来梳理一下我登陆弹框的流程，在来进行代码的实现：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e给顶部导航模块的登陆按钮注册点击事件\x3c\/li\x3e\n\x3cli\x3e登陆按钮点击后JS动态创建遮罩层和登陆弹框\x3c\/li\x3e\n\x3cli\x3e遮罩层和登陆弹框插入到页面中\x3c\/li\x3e\n\x3cli\x3e给登陆框中的关闭按钮注册事件, 用于关闭遮罩层和弹框\x3c\/li\x3e\n\x3cli\x3e给登陆框中的输入框添加校验(此步骤略)\x3c\/li\x3e\n\x3cli\x3e给登陆框中的确定按钮添加事件,用于Ajax请求(此步骤略)\x3c\/li\x3e\n\x3cli\x3e给登陆框中的清空按钮添加事件，用于清空输入框（此步骤略）\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e因为5，6是登陆框的实际项目逻辑， 和单例模式关系不大。下面的项目实战代码只实现1 - 4步，其余步骤读者可自行进行扩展练习。完整的代码可在 \x3ca href=\x22https:\/\/codepen.io\/LITANGHUI\/project\/editor\/Axbnbb\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCodePen\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22LITANGHUI\/project\/editor\/Axbnbb\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e中进行查看。\x3c\/p\x3e\n\x3ch4\x3e4.1.1 给页面添加顶部导航栏的HTML代码\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \x3cnav class=\x26quot;top-bar\x26quot;\x3e\n    \x3cdiv class=\x26quot;top-bar_left\x26quot;\x3e\n      LTH BLOG\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;top-bar_right\x26quot;\x3e\n      \x3cdiv class=\x26quot;login-btn\x26quot;\x3e登陆\x3c\/div\x3e\n      \x3cdiv class=\x26quot;signin-btn\x26quot;\x3e注册\x3c\/div\x3e\n    \x3c\/div\x3e\n  \x3c\/nav\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22HTML\x22\x3e  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3enav\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22top-bar\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22top-bar_left\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      LTH BLOG\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22top-bar_right\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22login-btn\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e登陆\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22signin-btn\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e注册\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3enav\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e4.1.2 使用ES6的语法创建Login类\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Login {\n\n  \/\/构造器\n  constructor() {\n    this.init();\n  }\n\n  \/\/初始化方法\n  init() {\n    \/\/新建div\n    let mask = document.createElement(\x27div\x27);\n    \/\/添加样式\n    mask.classList.add(\x27mask-layer\x27);\n    \/\/添加模板字符串\n    mask.innerHTML = \n    `\n    \x3cdiv class=\x26quot;login-wrapper\x26quot;\x3e\n      \x3cdiv class=\x26quot;login-title\x26quot;\x3e\n        \x3cdiv class=\x26quot;title-text\x26quot;\x3e登录框\x3c\/div\x3e\n        \x3cdiv class=\x26quot;close-btn\x26quot;\x3e×\x3c\/div\x3e\n      \x3c\/div\x3e\n      \x3cdiv class=\x26quot;username-input user-input\x26quot;\x3e\n        \x3cspan class=\x26quot;login-text\x26quot;\x3e用户名:\x3c\/span\x3e\n        \x3cinput type=\x26quot;text\x26quot;\x3e\n      \x3c\/div\x3e\n      \x3cdiv class=\x26quot;pwd-input user-input\x26quot;\x3e\n        \x3cspan class=\x26quot;login-text\x26quot;\x3e密码:\x3c\/span\x3e\n        \x3cinput type=\x26quot;password\x26quot;\x3e\n      \x3c\/div\x3e\n      \x3cdiv class=\x26quot;btn-wrapper\x26quot;\x3e\n        \x3cbutton class=\x26quot;confrim-btn\x26quot;\x3e确定\x3c\/button\x3e\n        \x3cbutton class=\x26quot;clear-btn\x26quot;\x3e清空\x3c\/button\x3e\n      \x3c\/div\x3e\n    \x3c\/div\x3e\n    `;\n    \/\/插入元素\n    document.body.insertBefore(mask, document.body.childNodes[0]);\n\n    \/\/注册关闭登录框事件\n    Login.addCloseLoginEvent();\n  }\n\n  \/\/静态方法: 获取元素\n  static getLoginDom(cls) {\n    return  document.querySelector(cls);\n  }\n\n  \/\/静态方法: 注册关闭登录框事件\n  static addCloseLoginEvent() {\n    this.getLoginDom(\x27.close-btn\x27).addEventListener(\x27click\x27, () =\x3e {\n      \/\/给遮罩层添加style, 用于隐藏遮罩层\n      this.getLoginDom(\x27.mask-layer\x27).style = \x26quot;display: none\x26quot;;\n    })\n  }\n\n  \/\/静态方法: 获取实例(单例)\n  static getInstance() {\n    if(!this.instance) {\n      this.instance = new Login();\n    } else {\n      \/\/移除遮罩层style, 用于显示遮罩层\n      this.getLoginDom(\x27.mask-layer\x27).removeAttribute(\x27style\x27);\n    }\n    return this.instance;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eLogin\x3c\/span\x3e \x3c\/span\x3e{\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/构造器\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.init();\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/初始化方法\x3c\/span\x3e\n  init() {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/新建div\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e mask = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27div\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加样式\x3c\/span\x3e\n    mask.classList.add(\x3cspan class=\x22hljs-string\x22\x3e\x27mask-layer\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加模板字符串\x3c\/span\x3e\n    mask.innerHTML = \n    \x3cspan class=\x22hljs-string\x22\x3e`\n    \x26lt;div class=\x22login-wrapper\x22\x26gt;\n      \x26lt;div class=\x22login-title\x22\x26gt;\n        \x26lt;div class=\x22title-text\x22\x26gt;登录框\x26lt;\/div\x26gt;\n        \x26lt;div class=\x22close-btn\x22\x26gt;×\x26lt;\/div\x26gt;\n      \x26lt;\/div\x26gt;\n      \x26lt;div class=\x22username-input user-input\x22\x26gt;\n        \x26lt;span class=\x22login-text\x22\x26gt;用户名:\x26lt;\/span\x26gt;\n        \x26lt;input type=\x22text\x22\x26gt;\n      \x26lt;\/div\x26gt;\n      \x26lt;div class=\x22pwd-input user-input\x22\x26gt;\n        \x26lt;span class=\x22login-text\x22\x26gt;密码:\x26lt;\/span\x26gt;\n        \x26lt;input type=\x22password\x22\x26gt;\n      \x26lt;\/div\x26gt;\n      \x26lt;div class=\x22btn-wrapper\x22\x26gt;\n        \x26lt;button class=\x22confrim-btn\x22\x26gt;确定\x26lt;\/button\x26gt;\n        \x26lt;button class=\x22clear-btn\x22\x26gt;清空\x26lt;\/button\x26gt;\n      \x26lt;\/div\x26gt;\n    \x26lt;\/div\x26gt;\n    `\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/插入元素\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.insertBefore(mask, \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.childNodes[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/注册关闭登录框事件\x3c\/span\x3e\n    Login.addCloseLoginEvent();\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/静态方法: 获取元素\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e getLoginDom(cls) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e  \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(cls);\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/静态方法: 注册关闭登录框事件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e addCloseLoginEvent() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getLoginDom(\x3cspan class=\x22hljs-string\x22\x3e\x27.close-btn\x27\x3c\/span\x3e).addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, () =\x26gt; {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/给遮罩层添加style, 用于隐藏遮罩层\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getLoginDom(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask-layer\x27\x3c\/span\x3e).style = \x3cspan class=\x22hljs-string\x22\x3e\x22display: none\x22\x3c\/span\x3e;\n    })\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/静态方法: 获取实例(单例)\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e getInstance() {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Login();\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/移除遮罩层style, 用于显示遮罩层\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getLoginDom(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask-layer\x27\x3c\/span\x3e).removeAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27style\x27\x3c\/span\x3e);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance;\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e4.1.3 给登陆按钮添加注册点击事件\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/注册点击事件\nLogin.getLoginDom(\x27.login-btn\x27).addEventListener(\x27click\x27, () =\x3e {\n  Login.getInstance();\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/注册点击事件\x3c\/span\x3e\nLogin.getLoginDom(\x3cspan class=\x22hljs-string\x22\x3e\x27.login-btn\x27\x3c\/span\x3e).addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, () =\x26gt; {\n  Login.getInstance();\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e4.1.4 效果演示\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013864949\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013864949\x22 alt=\x22单例效果展示.gif-36.8kB\x22 title=\x22单例效果展示.gif-36.8kB\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e完整的项目代码见: \x3ca href=\x22https:\/\/codepen.io\/LITANGHUI\/project\/editor\/Axbnbb\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCodePen(单例模式案例——登录框)\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22LITANGHUI\/project\/editor\/Axbnbb\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e上面的登陆框的实现中，我们只创建了一个\x3ccode\x3eLogin\x3c\/code\x3e的类, 但是却实现了一个并不简单的登陆功能。在第一次点击登陆按钮的时候，我们调用\x3ccode\x3eLogin.getInstance()\x3c\/code\x3e实例化了一个登陆框，且在之后的点击中，并没有重新创建新的登陆框，只是移除掉了\x3ccode\x3e\x22display: none\x22\x3c\/code\x3e这个样式来显示登陆框，节省了内存开销。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e单例模式虽然简单，但是在项目中的应用场景却是相当多的，单例模式的核心是\x3cstrong\x3e确保只有一个实例， 并提供全局访问。\x3c\/strong\x3e就像我们只需要一个浏览器的\x3ccode\x3ewindow\x3c\/code\x3e对象, jQuery的\x3ccode\x3e$\x3c\/code\x3e对象而不再需要第二个。 由于JavaScript代码书写方式十分灵活, 这也导致了如果没有严格的规范的情况下，大型的项目中JavaScript不利于多人协同开发， 使用单例模式进行命名空间，管理模块是一个很好的开发习惯，能够有效的解决协同开发变量冲突的问题。灵活使用单例模式，也能够减少不必要的内存开销，提高用于体验。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>从ES6重新认识JavaScript设计模式(一): 单例模式</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013864944">https://segmentfault.com/a/1190000013864944</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ar5tdqnfyvi/" target="_blank">https://alili.tech/archive/ar5tdqnfyvi/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>