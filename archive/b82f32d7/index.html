<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="手摸手，带你用vue撸后台 系列三(实战篇)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>手摸手，带你用vue撸后台 系列三(实战篇) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/b82f32d7/",
				"appid": "1613049289050283", 
				"title": "手摸手，带你用vue撸后台 系列三(实战篇) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-10-23T00:00:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/469e6b78/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/1e5cc6f0/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&text=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&text=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&is_video=false&description=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fb82f32d7%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%89%28%e5%ae%9e%e6%88%98%e7%af%87%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文链接">原文链接</a></li><li><a href="#原文标题">原文标题</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">手摸手，带你用vue撸后台 系列三(实战篇)</h1><div class="meta"><div class="postdate"><time datetime="2018-10-23" itemprop="datePublished">2018-10-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e完整项目地址：\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-element-admin\x3c\/a\x3e  \x3cbr\x3e系类文章一：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009275424\x22\x3e手摸手，带你用vue撸后台 系列一(基础篇)\x3c\/a\x3e\x3cbr\x3e系类文章二：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009506097\x22 target=\x22_blank\x22\x3e手摸手，带你用vue撸后台 系列二(登录权限篇)\x3c\/a\x3e\x3cbr\x3e系类文章三：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009762198\x22\x3e手摸手，带你用vue撸后台 系列三(实战篇）\x3c\/a\x3e\x3cbr\x3e系类文章四：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010043013\x22 target=\x22_blank\x22\x3e手摸手，带你用vue撸后台 系列四(vueAdmin 一个极简的后台基础模板)\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000012213278\x22\x3e手摸手，带你优雅的使用 icon\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009090836\x22 target=\x22_blank\x22\x3e手摸手，带你封装一个vue component\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e在前面两篇文章中已经把基础工作环境构建完成，也已经把后台核心的登录和权限问题完成了，现在手摸手，一起进入实操。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eElement\x3c\/h2\x3e\n\x3cp\x3e去年十月份开始用 vue 做管理后台的时候毫不犹豫的就选择了 \x3ca href=\x22https:\/\/github.com\/ElemeFE\/element\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eelement-ui\x3c\/a\x3e，那时候 vue2.0 刚发布也没多久，市面上也没有很多其它的 vue2.0 的 ui 框架可供选择。虽然 \x3ccode\x3eelement-ui\x3c\/code\x3e 也有很多的不足，前期的bug也不少，但我还是选择了它，简单说一下我选择\x3ccode\x3eelement-ui\x3c\/code\x3e的原因吧：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e有大厂背书 : 虽然核心开发只有两三个人，但至少不用担心哪天就不维护，带着小姨子跑路了\x3c\/li\x3e\n\x3cli\x3e持续迭代 : \x3ccode\x3eelement-ui\x3c\/code\x3e发版至今release了四十多个版本，之前平均都是一周一个小版本更新(是不是不小心暴露了它bug多的问题\/(ㄒoㄒ)\/~~)(ps: 至2017.12.4 已经迭代了74个版本，还保持着较高更新频率)。\x3c\/li\x3e\n\x3cli\x3e生态圈优异，社区活跃 ：其 contributors已经有250多人(前期我有饶有兴致的贡献过几个pr，参与过七八十个issue)，社区里也有很多基于\x3ccode\x3eelement-ui\x3c\/code\x3e 的拓展组件，也有很多相关的 qq 讨论群或者 \x3ca href=\x22https:\/\/gitter.im\/ElemeFE\/element\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egitter\x3c\/a\x3e。\x3c\/li\x3e\n\x3cli\x3e社区的认可:目前Element已经是vue相关最多star的开源项目了，体现出了社区对其的认可。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e说了这么多优点，作为一个资深\x3ccode\x3eelement-ui\x3c\/code\x3e用户还是有些要抱怨的~和react老大哥 \x3cstrong\x3e\x3ca href=\x22https:\/\/ant.design\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAnt Design\x3c\/a\x3e\x3c\/strong\x3e 相比还是有一定的差距的，不管是组件的丰富性，参数的可配性还是文档的完整性，亦或是UI的交互和美观度。不过 ant 也是经过了近9k次commit的不断打磨，才有了今天。我也相信 \x3ccode\x3eelement-ui\x3c\/code\x3e也会越来越好的。\x3c\/p\x3e\n\x3cp\x3e这里还有一些其它的框架(只讨论pc端的框架)大家可以自行选择：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/iview\/iview\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eivew\x3c\/a\x3e\x3c\/strong\x3e 一国人个人写的框架，美观度和交互性都不错，有种介于Element和Ant之间的感觉，之前和element团队小小的撕了一下，有兴趣的自己去\x3ca href=\x22https:\/\/www.zhihu.com\/question\/57118065\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e围观\x3c\/a\x3e吧，框架还是很不做的，一个人能做出这样，也是很不容易的。\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/25893972\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e作者公开信件\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/vue-bulma\/vue-admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-admin\x3c\/a\x3e\x3c\/strong\x3e 也是一个不错的选择，代码写的和不错，官方也出了一个admin的架子，也很值得借鉴\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/vuematerial\/vue-material\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-material\x3c\/a\x3e\x3c\/strong\x3e 一个material design vue框架库\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/vuetifyjs\/vuetify\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evuetify\x3c\/a\x3e\x3c\/strong\x3e 又是一个material design vue框架库\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/JosephusPaye\/Keen-UI\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eKeen-UI\x3c\/a\x3e\x3c\/strong\x3e 又又是一个material design vue框架库\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/mrholek\/CoreUI-Free-Bootstrap-Admin-Template\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCoreUI-Free-Bootstrap-Admin-Template\x3c\/a\x3e\x3c\/strong\x3e 和以前的Bootstrap一样，搭好了一个完整的架子，大家可以进行二次拓展，它有vue,react,angular多个版本\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/framework7io\/Framework7-Vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFramework7-Vue\x3c\/a\x3e\x3c\/strong\x3e 个人感觉这是本人体验到现在移动端体验最好的框架。不过\x3ccode\x3eFramework7-Vue\x3c\/code\x3e感觉还不是很完善，还需要观望一段时间。而且它有自己的路由规则，所以不能使用 \x3ccode\x3evue-router\x3c\/code\x3e，这点还是很不方便的。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e简单列举了一些主流的框架，不得不感慨现在vue的生态圈真是太繁荣了，上述框架楼主并没有深入使用过，不好发表太多建议，大家自行甄别适合自己业务的框架吧。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cstrong\x3e这里开始我们会开始介绍一些结合Element的开发经验。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e基于Element的动态换肤\x3c\/h2\x3e\n\x3cp\x3e有些产品就是这么残忍，能完成需求就不错了，还要让我们做动态换肤。Element官网上也提供了自定义主题的\x3ca href=\x22http:\/\/element.eleme.io\/#\/zh-CN\/component\/custom-theme\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e方案\x3c\/a\x3e\x3cbr\x3e同时也提供了一个在线自定义主题的\x3ca href=\x22https:\/\/elementui.github.io\/theme-preview\/#\/zh-CN\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762203?w=1195\x26amp;h=431\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e是不是很酷，作者也说明了实现的方案 \x3ca href=\x22https:\/\/github.com\/ElemeFE\/element\/issues\/3054\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e地址\x3c\/a\x3e,大概思路:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e先把默认主题文件中涉及到颜色的 CSS 值替换成关键词\x3c\/li\x3e\n\x3cli\x3e根据用户选择的主题色生成一系列对应的颜色值\x3c\/li\x3e\n\x3cli\x3e把关键词再换回刚刚生成的相应的颜色值\x3c\/li\x3e\n\x3cli\x3e直接在页面上加 style 标签，把生成的样式填进去\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e我看完觉得真的还是有点复杂的。有没有简单的方案呢？\x3cbr\x3e让我们思考一下，让我们自己写动态换肤该怎么写呢？最常见的方法就是写两套主题，一套叫\x3ccode\x3eday theme\x3c\/code\x3e ，一套叫\x3ccode\x3enight theme\x3c\/code\x3e，\x3ccode\x3enight theme\x3c\/code\x3e主题 都在一个\x3ccode\x3e.night-theme\x3c\/code\x3e的命名空间下，我们动态的在\x3ccode\x3ebody\x3c\/code\x3e上\x3ccode\x3eadd .night-theme\x3c\/code\x3e ， \x3ccode\x3eremove .night-theme\x3c\/code\x3e。这就是最简单的动态换肤。所以我们也能不能顺着这个思路，基于 element-ui 实现动态换肤呢？\x3c\/p\x3e\n\x3cp\x3e首先我们下载官方通过的 \x3ca href=\x22https:\/\/github.com\/ElementUI\/element-theme\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTheme generator\x3c\/a\x3e ,一个专门用来生成Element主题的工具。按照文档，我们生成了需要的主题。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762204?w=716\x26amp;h=342\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e之后就是我们要做的事情了，将这个主题的每个元素外面包裹一个class 来做命名空间。\x3cbr\x3e我们这里用到了\x3ccode\x3egulp-css-wrap\x3c\/code\x3e这个神器，轻轻松松就完成了我们想要的结果\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var path = require(\x27path\x27)\nvar gulp = require(\x27gulp\x27)\nvar cleanCSS = require(\x27gulp-clean-css\x27);\nvar cssWrap = require(\x27gulp-css-wrap\x27);\n\nvar customThemeName=\x27.custom-theme\x27\n\ngulp.task(\x27css-wrap\x27, function() {\n  return gulp.src( path.resolve(\x27.\/theme\/index.css\x27))\n    .pipe(cssWrap({selector:customThemeName}))\n    .pipe(cleanCSS())\n    .pipe(gulp.dest(\x27dist\x27));\n});\n\ngulp.task(\x27move-font\x27, function() {\n  return gulp.src([\x27.\/theme\/fonts\/**\x27]).pipe(gulp.dest(\x27dist\/fonts\x27));\n});\n\ngulp.task(\x27default\x27,[\x27css-wrap\x27,\x27move-font\x27]);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e gulp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cleanCSS = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-clean-css\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cssWrap = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-css-wrap\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e customThemeName=\x3cspan class=\x22hljs-string\x22\x3e\x27.custom-theme\x27\x3c\/span\x3e\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27css-wrap\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src( path.resolve(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/theme\/index.css\x27\x3c\/span\x3e))\n    .pipe(cssWrap({\x3cspan class=\x22hljs-attr\x22\x3eselector\x3c\/span\x3e:customThemeName}))\n    .pipe(cleanCSS())\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e));\n});\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27move-font\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src([\x3cspan class=\x22hljs-string\x22\x3e\x27.\/theme\/fonts\/**\x27\x3c\/span\x3e]).pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27dist\/fonts\x27\x3c\/span\x3e));\n});\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e,[\x3cspan class=\x22hljs-string\x22\x3e\x27css-wrap\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27move-font\x27\x3c\/span\x3e]);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样就得到了一个以.custom-theme为命名空间的自定义主题了，之后我们在项目中引入主题\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/main.js\nimport \x27assets\/custom-theme\/index.css\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xl\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/main.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x27assets\/custom-\x3cspan class=\x22hljs-built_in\x22\x3etheme\x3c\/span\x3e\/index.css\x27\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们在换肤的地方\x3ccode\x3etoggleClass(document.body, \x27custom-theme\x27)\x3c\/code\x3e一直toggle body 的 class就可以了。我们就简单实现了动态换肤效果。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762205?w=1216\x26amp;h=562\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762205?w=1216\x26amp;h=562\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e不过这种模式实现换肤也是有一个弊端的，它等于把这两个主题都打包在了项目里，如果你的项目主题需要七八种，这种模式就不适合了。我们就需要动态的加载css，下面就是最简单的动态添加css的例子，当然你可以封装一下，增加成功或者失败回调，判断是否加载过改资源等等就不展开了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var head = document.getElementsByTagName(\x27HEAD\x27).item(0);\nvar style = document.createElement(\x27link\x27);\nstyle.href = \x27style.css\x27;\nstyle.rel = \x27stylesheet\x27;\nstyle.type = \x27text\/css\x27;\nhead.appendChild(style);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e head = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByTagName(\x3cspan class=\x22hljs-string\x22\x3e\x27HEAD\x27\x3c\/span\x3e).item(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e style = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27link\x27\x3c\/span\x3e);\nstyle.href = \x3cspan class=\x22hljs-string\x22\x3e\x27style.css\x27\x3c\/span\x3e;\nstyle.rel = \x3cspan class=\x22hljs-string\x22\x3e\x27stylesheet\x27\x3c\/span\x3e;\nstyle.type = \x3cspan class=\x22hljs-string\x22\x3e\x27text\/css\x27\x3c\/span\x3e;\nhead.appendChild(style);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e更新(2017.12)\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eelement-ui\x3c\/code\x3e 官方更新了2.0版本，同时也提供了一个新的换肤思路。\x3cbr\x3e\x3ca href=\x22https:\/\/panjiachen.github.io\/vue-element-admin-site\/#\/theme\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e文档\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e侧边栏\x3c\/h2\x3e\n\x3cp\x3e这里又有谈一下导航栏的问题，本项目里的侧边栏是根据 router.js 配置的路由并且根据权限动态生成的，这样就省去了写一遍路由还要手动再写一次侧边栏这种麻烦事，但也遇到了一个问题，路由可能会有多层嵌套，很多人反馈自己的侧边栏会有三级，甚至还有五级的。所以重构了一下侧边栏，使用了递归组件，这样不管你多少级，都能愉快的显示了。\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/tree\/master\/src\/views\/layout\/components\/Sidebar\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e代码\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762206?w=173\x26amp;h=373\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cstrong\x3e侧边栏高亮问题:\x3c\/strong\x3e 很多人在群里问为什么自己的侧边栏不能跟着自己的路由高亮，其实很简单，element-ui官方已经给了default-active所以我们只要\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22:default-active=\x26quot;$route.path\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:default-active=\x3cspan class=\x22hljs-string\x22\x3e\x22$route.path\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e将\x3ccode\x3edefault-active\x3c\/code\x3e一直指向当前路由就可以了，就是这么简单。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e点击侧边栏 刷新当前路由\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e在用 spa(单页面开发) 这种开发模式之前，大部分都是多页面后台，用户每次点击侧边栏都会重新请求这个页面，用户渐渐养成了点击侧边栏当前路由来刷新页面的习惯。但现在 spa 就不一样了，用户点击当前高亮的路由并不会刷新view，因为\x3ccode\x3evue-router\x3c\/code\x3e会拦截你的路由，它判断你\x3ccode\x3e的url\x3c\/code\x3e并没有任何变化，所以它不会触发任何钩子或者是\x3ccode\x3eview\x3c\/code\x3e的变化。\x3ca href=\x22https:\/\/github.com\/vuejs\/vue-router\/issues\/296\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eissue地址\x3c\/a\x3e，社区也对该问题展开了激烈讨论。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762207?w=795\x26amp;h=329\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e尤大本来也说要增加一个方法来强刷view，但后来他又改变了心意\/(ㄒoㄒ)\/~~。但需要就摆在这里，我们该怎么办呢？他说了不改变\x3ccode\x3ecurrent URL\x3c\/code\x3e 就不会触发任何东西，那我可不可以强行触发东西你？上有政策， 下有对策我们变着花来hack。方法也很简单，通过不断改变\x3ccode\x3eurl\x3c\/code\x3e的\x3ccode\x3equery\x3c\/code\x3e来触发view的变化。我们监听侧边栏每个link 的 click事件，每次点击都给router push 一个不一样的query 来确保会重新刷新view。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22clickLink(path) {\n  this.$router.push({\n    path,\n    query: {\n      t: \x2bnew Date() \/\/保证每次点击路由的query项都是不一样的，确保会重新刷新view\n    }\n  })\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eclickLink\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(path)\x3c\/span\x3e\x3c\/span\x3e {\n  this.\x3cspan class=\x22hljs-variable\x22\x3e$router\x3c\/span\x3e.push({\n    path,\n    query: {\n      t: \x2bnew Date() \x3cspan class=\x22hljs-comment\x22\x3e\/\/保证每次点击路由的query项都是不一样的，确保会重新刷新view\x3c\/span\x3e\n    }\n  })\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但这也有一个弊端就是 url 后面有一个很难看的 query 后缀如 \x3ccode\x3exxx.com\/article\/list?t=1496832345025\x3c\/code\x3e，但我司用户们表示能接受。。。只能暂时这样hack了，不知道大家有没有更好的方法，学习学习。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3eTable\x3c\/h2\x3e\n\x3cp\x3e经过好几个版本的迭代，element-ui 的table组件已经能满足大部分业务需求了。不过rowSpan colSpan表格行\/列合并现在并不是支持(element-ui2.0版本之后开始支持)。官方对此功能的更新情况可以关注这个\x3ca href=\x22https:\/\/github.com\/ElemeFE\/element\/issues\/670\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eissue\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e这里我着重讲一下table表格几个常用的业务形态。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eTable 拖拽排序\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762208?w=1067\x26amp;h=530\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e这里主要是基于\x3ca href=\x22https:\/\/github.com\/RubaXa\/Sortable\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSortable\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Sortable from \x27sortablejs\x27\nlet el = document.querySelectorAll(\x27.el-table__body-wrapper \x3e table \x3e tbody\x27)[0]\nlet sortable = Sortable.create(el)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Sortable \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27sortablejs\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e el = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x27.el-table__body-wrapper \x26gt; table \x26gt; tbody\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e sortable = Sortable.create(el)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在table mounted之后申明\x3ccode\x3eSortable.create(el)\x3c\/code\x3e table的每行tr就可以随意拖拽了，麻烦的目前我们的排序都是基于dom的，我们的数据层list并没有随之改变。所以我们就要手动的来管理我们的列表。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.sortable = Sortable.create(el, {\n  onEnd: evt =\x3e { \/\/监听end事件 手动维护列表\n    const tempIndex = this.newList.splice(evt.oldIndex, 1)[0];\n    this.newList.splice(evt.newIndex, 0, tempIndex);\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haxe\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ethis\x3c\/span\x3e.sortable = Sortable.create(el, {\n  onEnd: \x3cspan class=\x22hljs-type\x22\x3eevt \x3c\/span\x3e=\x26gt; { \x3cspan class=\x22hljs-comment\x22\x3e\/\/监听end事件 手动维护列表\x3c\/span\x3e\n    const tempIndex = \x3cspan class=\x22hljs-built_in\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eList\x3c\/span\x3e.splice(evt.oldIndex, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-built_in\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eList\x3c\/span\x3e.splice(evt.\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eIndex\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, tempIndex);\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样我们就简单的完成了 table 拖拽排序。这里如果不是基于 dom 的排序推荐使用\x3ca href=\x22https:\/\/github.com\/SortableJS\/Vue.Draggable\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue.Draggable\x3c\/a\x3e。\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/src\/views\/example\/table\/dragTable.vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e完整代码\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3eTable 内联编辑\x3c\/h3\x3e\n\x3cp\x3etable内联编辑也是一个常见的需求。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762209?w=1055\x26amp;h=193\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762209?w=1055\x26amp;h=193\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e其实也很简单，当我们拿到 list 数据之后先洗一下数据，每一条数据里面插入一个edit[ true or false ]判断符，来表示当前行是否处于编辑状态。之后就是通过v-show动态切换不同的相应view就可以了。\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/src\/views\/example\/table\/inlineEditTable.vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e完整代码\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cel-table-column min-width=\x26quot;300px\x26quot; label=\x26quot;标题\x26quot;\x3e\n  \x3ctemplate scope=\x26quot;scope\x26quot;\x3e\n    \x3cel-input v-show=\x26quot;scope.row.edit\x26quot; size=\x26quot;small\x26quot; v-model=\x26quot;scope.row.title\x26quot;\x3e\x3c\/el-input\x3e\n    \x3cspan v-show=\x26quot;!scope.row.edit\x26quot;\x3e\x22{{\x22 scope.row.title \x22}}\x22\x3c\/span\x3e\n  \x3c\/template\x3e\n\x3c\/el-table-column\x3e\n\x3cel-table-column align=\x26quot;center\x26quot; label=\x26quot;编辑\x26quot; width=\x26quot;120\x26quot;\x3e\n  \x3ctemplate scope=\x26quot;scope\x26quot;\x3e\n    \x3cel-button v-show=\x27!scope.row.edit\x27 type=\x26quot;primary\x26quot; @click=\x27scope.row.edit=true\x27 size=\x26quot;small\x26quot; icon=\x26quot;edit\x26quot;\x3e编辑\x3c\/el-button\x3e\n    \x3cel-button v-show=\x27scope.row.edit\x27 type=\x26quot;success\x26quot; @click=\x27scope.row.edit=false\x27 size=\x26quot;small\x26quot; icon=\x26quot;check\x26quot;\x3e完成\x3c\/el-button\x3e\n  \x3c\/template\x3e\n\x3c\/el-table-column\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-table-column\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emin-width\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22300px\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elabel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22标题\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3escope\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22scope\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22scope.row.edit\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22small\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-model\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22scope.row.title\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22!scope.row.edit\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22 scope.row.title \x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-table-column\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-table-column\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ealign\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22center\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elabel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22编辑\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22120\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3escope\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22scope\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27!scope.row.edit\x27\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22primary\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27scope.row.edit=true\x27\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22small\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eicon\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22edit\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e编辑\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27scope.row.edit\x27\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22success\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27scope.row.edit=false\x27\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22small\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eicon\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22check\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e完成\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-table-column\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eTable 常见坑\x3c\/h3\x3e\n\x3cp\x3e通过dialog来编辑，新建，删除table的元素这种业务场景相对于前面说的两种更加的常见。而且也有不少的小坑。\x3cbr\x3e首先我们要明确一个点 vue 是一个MVVM框架，我们传统写代码是命令式编程，拿到table这个dom之后就是命令式对dom增删改。而我们现在用声明式编程，只用关注data的变化就好了，所以我们这里的增删改都是基于list这个数组来的。这里我们还要明确一点\x3ca href=\x22https:\/\/cn.vuejs.org\/v2\/guide\/list.html#\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue 列表渲染注意事项\x3c\/a\x3e\x3c\/p\x3e\n\x3cblockquote\x3e由于 JavaScript 的限制， Vue 不能检测以下变动的数组：\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22* 当你利用索引直接设置一个项时，例如： vm.items[indexOfItem] = newValue\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haxe\x22\x3e\x3ccode\x3e* 当你利用索引直接设置一个项时，例如： vm.items[indexOfItem] = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eValue\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以我们想改变table中第一条数据的值，通过\x3ccode\x3ethis.list[0]=newValue\x3c\/code\x3e这样是不会生效的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22解决方案：\n\/\/ Array.prototype.splice`\nexample1.items.splice(indexOfItem, 1, newValue)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e解决方案：\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Array.prototype.splice`\x3c\/span\x3e\nexample1\x3cspan class=\x22hljs-selector-class\x22\x3e.items\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.splice\x3c\/span\x3e(indexOfItem, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, newValue)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以我们可以通过\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/添加数据\nthis.list.unshift(this.temp);\n\n\/\/删除数据 \nconst index = this.list.indexOf(row); \/\/找到要删除数据在list中的位置\nthis.list.splice(index, 1); \/\/通过splice 删除数据\n\n\/\/修改数据\nconst index = this.list.indexOf(row); \/\/找到修改的数据在list中的位置\nthis.list.splice(index, 1,this.updatedData); \/\/通过splice 替换数据 触发视图更新\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cpp\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/添加数据\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3elist\x3c\/span\x3e.unshift(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.temp);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/删除数据 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e index = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3elist\x3c\/span\x3e.indexOf(row); \x3cspan class=\x22hljs-comment\x22\x3e\/\/找到要删除数据在list中的位置\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3elist\x3c\/span\x3e.splice(index, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/通过splice 删除数据\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改数据\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e index = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3elist\x3c\/span\x3e.indexOf(row); \x3cspan class=\x22hljs-comment\x22\x3e\/\/找到修改的数据在list中的位置\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3elist\x3c\/span\x3e.splice(index, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.updatedData); \x3cspan class=\x22hljs-comment\x22\x3e\/\/通过splice 替换数据 触发视图更新\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样我们就完成了对table的增删改操作，列表view也自动响应发生了变化。这里在修改数据的时候还有一个小坑\x3cstrong\x3e需要主要\x3c\/strong\x3e。\x3cbr\x3e 当我们拿到需要修改行的数据时候不能直接将它直接赋值给dialog，不然会发生下面的问题。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762210?w=1120\x26amp;h=516\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e如上图所示，我们在dialog里面改变状态的时候，遮罩下面的table里面该行的状态也在那里跟着一只变化着。原因想必大家都猜到了。赋值的数据是一个objec引用类型共享一个内存区域的。所以我们就不能直接连等复制，需要重新指向一个新的引用，方案如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/赋值对象是一个obj\nthis.objData=Object.assign({}, row) \/\/这样就不会共用同一个对象\n\n\/\/数组我们也有一个巧妙的防范\nnewArray = oldArray.slice(); \/\/slice会clone返回一个新数组\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haxe\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/赋值对象是一个obj\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3ethis\x3c\/span\x3e.objData=Object.assign({}, row) \x3cspan class=\x22hljs-comment\x22\x3e\/\/这样就不会共用同一个对象\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/数组我们也有一个巧妙的防范\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eArray\x3c\/span\x3e = oldArray.slice(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/slice会clone返回一个新数组\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3eTabs\x3c\/h3\x3e\n\x3cp\x3etab在后台项目中也比较常用的。假设我们有四个tab选项，每个tab都会向后端请求数据，但我们希望一开始只会请求当前的tab数据，而且tab来回切换的时候不会重复请求，只会实例化一次。首先我们想到的就是用\x3ccode\x3ev-if\x3c\/code\x3e 这样的确能做到一开始不会挂载后面的tab，但有一个问题，每次点击这个tab组件都会重新挂载一次，这是我们不想看到的，这时候我们就可以用到\x3ccode\x3e\x26lt;keep-alive\x26gt;\x3c\/code\x3e了。\x3c\/p\x3e\n\x3cblockquote\x3ekeep-alive 包裹动态组件时，会缓存不活动的组件实例，而不是销毁它们。 它是一个抽象组件：它自身不会渲染一个 DOM 元素，也不会出现在父组件链中。\x3c\/blockquote\x3e\n\x3cp\x3e所以我们就可以这样写tabs了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cel-tabs v-model=\x26quot;activeTab\x26quot;\x3e\n  \x3cel-tab-pane label=\x26quot;简介及公告\x26quot; name=\x26quot;announcement\x26quot;\x3e\n    \x3cannouncement \/\x3e\n  \x3c\/el-tab-pane\x3e\n  \x3cel-tab-pane label=\x26quot;资讯\x26quot; name=\x26quot;information\x26quot;\x3e\n    \x3ckeep-alive\x3e\n      \x3cinformation v-if=\x26quot;activeTab==\x27information\x27\x26quot; \/\x3e\n    \x3c\/keep-alive\x3e\n  \x3c\/el-tab-pane\x3e\n  \x3cel-tab-pane label=\x26quot;直播流配置\x26quot; name=\x26quot;stream\x26quot;\x3e\n    \x3ckeep-alive\x3e\n      \x3cstream v-if=\x26quot;activeTab==\x27stream\x27\x26quot; \/\x3e\n    \x3c\/keep-alive\x3e\n  \x3c\/el-tab-pane\x3e\n\x3c\/el-tabs\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etabs\x3c\/span\x3e v-model=\x3cspan class=\x22hljs-string\x22\x3e\x22activeTab\x22\x3c\/span\x3e\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etab\x3c\/span\x3e-pane label=\x3cspan class=\x22hljs-string\x22\x3e\x22简介及公告\x22\x3c\/span\x3e name=\x3cspan class=\x22hljs-string\x22\x3e\x22announcement\x22\x3c\/span\x3e\x26gt;\n    \x26lt;announcement \/\x26gt;\n  \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etab\x3c\/span\x3e-pane\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etab\x3c\/span\x3e-pane label=\x3cspan class=\x22hljs-string\x22\x3e\x22资讯\x22\x3c\/span\x3e name=\x3cspan class=\x22hljs-string\x22\x3e\x22information\x22\x3c\/span\x3e\x26gt;\n    \x3cspan class=\x22hljs-symbol\x22\x3e\x26lt;keep-alive\x26gt;\x3c\/span\x3e\n      \x26lt;information v-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22activeTab==\x27information\x27\x22\x3c\/span\x3e \/\x26gt;\n    \x26lt;\/keep-alive\x26gt;\n  \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etab\x3c\/span\x3e-pane\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etab\x3c\/span\x3e-pane label=\x3cspan class=\x22hljs-string\x22\x3e\x22直播流配置\x22\x3c\/span\x3e name=\x3cspan class=\x22hljs-string\x22\x3e\x22stream\x22\x3c\/span\x3e\x26gt;\n    \x3cspan class=\x22hljs-symbol\x22\x3e\x26lt;keep-alive\x26gt;\x3c\/span\x3e\n      \x26lt;stream v-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22activeTab==\x27stream\x27\x22\x3c\/span\x3e \/\x26gt;\n    \x26lt;\/keep-alive\x26gt;\n  \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etab\x3c\/span\x3e-pane\x26gt;\n\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3etabs\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3eSelect 选择器\x3c\/h2\x3e\n\x3cp\x3eSelect 选择器直接使用没有什么太多问题，但很多时候我们需要通过Select来回显一些数据，当我们\x3ccode\x3e\x26lt;el-select v-model=\x22objValue\x22\x26gt;\x3c\/code\x3e select 绑定一个obj value回显就会很蛋疼了，它要求必须保持同一个引用\x3ca href=\x22https:\/\/github.com\/ElemeFE\/element\/issues\/1780\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eissue\x3c\/a\x3e。这就意味着，我们回显数据的时候想先要找到该数据在arr中的位置，再回塞：\x3ca href=\x22https:\/\/github.com\/ElemeFE\/element\/issues\/2479\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo\x3c\/a\x3e。这还不是在远程搜索的情况下，如果是远程搜索的情况还要当疼。\x3cbr\x3e这里推荐一下\x3ca href=\x22https:\/\/github.com\/monterail\/vue-multiselect\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-multiselect\x3c\/a\x3e 它能完美的解决前面Element select的问题。目前也是vue component 中比较好用的一个，ui也非常的好看，建议大家可以尝试性用一下，真的非常的不错。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3eUpload 上传\x3c\/h2\x3e\n\x3cp\x3eUpload本身没什么好说的，文档写的蛮清楚了。这里主要说一下怎么将Upload组件和七牛直传结合在一起。\x3c\/p\x3e\n\x3cp\x3e这里我们选择api直传的方式，就是我们首先要通过后端(go,node,php都可以)\x3ca href=\x22https:\/\/developer.qiniu.com\/sdk#official-sdk\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e文档\x3c\/a\x3e生成七牛上传必要的token(上传凭证)和key(资源的最终名称)。\x3cbr\x3e所以现在只要想办法讲token和key塞进post请求里面就可以了，好在官方也提供了这个方法。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762211?w=836\x26amp;h=38\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e。但怎么才能先异步的拿到token再将它塞入请求里呢？\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762212?w=855\x26amp;h=77\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e这时候我们又发现了before-upload    这个钩子还支持promise简直合我们的心意。\x3cbr\x3e但我们写着写着怎样才能动态的改变之前的dataObj呢？通过看源码发现我们可以_self._data这样子拿到我们想要的数据。\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/src\/views\/qiniu\/upload.vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e线上代码\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cel-upload\n      action=\x26quot;https:\/\/upload.qbox.me\x26quot;\n      :data=\x26quot;dataObj\x26quot;\n      drag\n      :multiple=\x26quot;true\x26quot;\n      :before-upload=\x26quot;beforeUpload\x26quot;\x3e\n    \x3ci class=\x26quot;el-icon-upload\x26quot;\x3e\x3c\/i\x3e\n    \x3cdiv class=\x26quot;el-upload__text\x26quot;\x3e将文件拖到此处，或\x3cem\x3e点击上传\x3c\/em\x3e\x3c\/div\x3e\n  \x3c\/el-upload\x3e\n\x3c\/template\x3e\n\x3cscript\x3e\n    import { getToken } from \x27api\/qiniu\x27; \/\/ 获取七牛token 后端通过Access Key,Secret Key,bucket等生成token\n    \/\/ 七牛官方sdk https:\/\/developer.qiniu.com\/sdk#official-sdk\n    export default{\n      data() {\n        return {\n          dataObj: { token: \x27\x27, key: \x27\x27 },\n          image_uri: [],\n          fileList: []\n        }\n      },\n      methods: {\n        beforeUpload() {\n          const _self = this;\n          return new Promise((resolve, reject) =\x3e {\n            getToken().then(response =\x3e {\n              const key = response.data.qiniu_key;\n              const token = response.data.qiniu_token;\n              _self._data.dataObj.token = token;\n              _self._data.dataObj.key = key;\n              resolve(true);\n            }).catch(err =\x3e {\n              console.log(err)\n              reject(false)\n            });\n          });\n        }\n      }\n    }\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-upload\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eaction\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/upload.qbox.me\x22\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3e:data\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dataObj\x22\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3edrag\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3e:multiple\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22true\x22\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3e:before-upload\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22beforeUpload\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-upload\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-upload__text\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e将文件拖到此处，或\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eem\x3c\/span\x3e\x26gt;\x3c\/span\x3e点击上传\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eem\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-upload\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { getToken } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27api\/qiniu\x27\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取七牛token 后端通过Access Key,Secret Key,bucket等生成token\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 七牛官方sdk https:\/\/developer.qiniu.com\/sdk#official-sdk\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e{\n      data() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-attr\x22\x3edataObj\x3c\/span\x3e: { \x3cspan class=\x22hljs-attr\x22\x3etoken\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e },\n          \x3cspan class=\x22hljs-attr\x22\x3eimage_uri\x3c\/span\x3e: [],\n          \x3cspan class=\x22hljs-attr\x22\x3efileList\x3c\/span\x3e: []\n        }\n      },\n      \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n        beforeUpload() {\n          \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e _self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n            getToken().then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n              \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e key = response.data.qiniu_key;\n              \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e token = response.data.qiniu_token;\n              _self._data.dataObj.token = token;\n              _self._data.dataObj.key = key;\n              resolve(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n            }).catch(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n              \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(err)\n              reject(\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e)\n            });\n          });\n        }\n      }\n    }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3ejsx\x3c\/h3\x3e\n\x3cp\x3e在使用Element的时候，官方提供了很多可以自己写render function的地方，但由于Element内部都是用jsx 写render function的，所以demo也都是jsx，但很多人自己项目中其实是没有安装的，导致报错。但说真的用createElement裸写render 函数还是有些蛋疼。我们要用jsx，首先要安装 \x3ca href=\x22https:\/\/github.com\/vuejs\/babel-plugin-transform-vue-jsx\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-plugin-transform-vue-jsx\x3c\/a\x3e 安装方法如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install\\\n  babel-plugin-syntax-jsx\\\n  babel-plugin-transform-vue-jsx\\\n  babel-helper-vue-jsx-merge-props\\\n  babel-preset-es2015\\\n  --save-dev\n  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e install\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  babel-plugin-syntax-jsx\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  babel-plugin-transform-vue-jsx\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  babel-helper-vue-jsx-merge-props\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  babel-preset-es2015\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  --save-dev\n  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e.babelrc:文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;presets\x26quot;: [\x26quot;es2015\x26quot;],\n  \x26quot;plugins\x26quot;: [\x26quot;transform-vue-jsx\x26quot;]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e],\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22transform-vue-jsx\x22\x3c\/span\x3e]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样我们就可以愉快的使用 jsx 写render function了。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3eelement 常见问题\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3eclick事件不触发问题：\x3c\/strong\x3e一直有人在群里问\x3ccode\x3e\x26lt;el-input @click=\x22handlenClick\x22\x26gt;Click Me\x26lt;\/el-input\x26gt;\x3c\/code\x3e怎么不触发click事件，虽然element文档还有完善的空间但这种问题大家还真要自己好好认真看一下官方的\x3ca href=\x22https:\/\/github.com\/ElemeFE\/element\/blob\/dev\/FAQ.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFAQ\x3c\/a\x3e了。\x3c\/p\x3e\n\x3cblockquote\x3e官方说明了所有的原生事件必须添加 .native 修饰符。\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e修改element样式问题：\x3c\/strong\x3e 用ui组件总免不了需要对它做一些个性化定制的需求，所以我们就要覆盖element的一些样式。\x3cbr\x3e首先我们要了解一下vue scoped是什么，很多人非常喜欢用scoped，妈妈再也不用担心样式冲突问题了，其实scoped也没有很神秘的，它就是基于PostCss的，加了一个作用局的概念。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/编译前\n.example {\n  color: red;\n}\n\/\/编译后\n.example[_v-f3f3eg9] {\n  color: red;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/编译前\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.example\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: red;\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/编译后\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.example\x3c\/span\x3e[_v-f3f3eg9] {\n  \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: red;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e它和我们传统的命名空间的方法避免css冲突没有什么本质性的区别。\x3cbr\x3e现在我们来说说怎么覆盖element-ui样式。由于element-ui的样式我们是在全局引入的，所以你想在某个view里面覆盖它的样式就不能加scoped，但你又想只覆盖这个页面的element样式，你就可在它的父级加一个class，以用命名空间来解决问题。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.aritle-page{ \/\/你的命名空间\n    .el-tag { \/\/element-ui 元素\n      margin-right: 0px;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e.aritle-page{ \x3cspan class=\x22hljs-comment\x22\x3e\/\/你的命名空间\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.el-tag\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/element-ui 元素\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attribute\x22\x3emargin-right\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e建议向楼主一样专门建一个scss文件里专门自定义element-ui的各种样式。\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/src\/styles\/element-ui.scss\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e线上代码\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e其它关于element相关的东西真的没有什么好说的了，人家文档和源码就放在那里，有问题就去看文档，再去issue里找找，再去看看源码，大部分问题都能解决了。给一个诀窍其实大部分诡异的问题都可以通过加一个key或者\x3cbr\x3eVue.nextTick来解决。。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e富文本\x3c\/h2\x3e\n\x3cp\x3e管理后台富文本也是一个非常重要的功能，楼主在这里也踩了不少的坑。楼主在项目里最终选择了 \x3ca href=\x22https:\/\/github.com\/tinymce\/tinymce\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etinymce\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e这里在简述一下推荐使用tinymce的原因：tinymce 是一家老牌做富文本的公司(这里也推荐 ckeditor，也是一家一直做富文本的公司，新版本很不错)，它的产品经受了市场的认可，不管是文档还是配置的自由度都很好。在使用富文本的时候有一点也很关键就是复制格式化，之前在用一款韩国人做的富文本summernote被它的格式化坑的死去活来，但 tinymce 的去格式化相当的好，它还有一个增值项目就是powerpaste,那是无比的强大，支持从word里面复制各种东西，都不会有问题。富文本还有一点也很关键，就是拓展性。楼主用tinymce写了好几个插件，学习成本和容易度都不错，很方便拓展。最后一点就是文档很完善，基本你想得到的配置项，它都有。tinymce也支持按需加载，你可以通过它官方的build页定制自己需要的plugins。\x3cbr\x3e我再来分析一下市面上其它的一些富文本：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/summernote\/summernote\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esummernote\x3c\/a\x3e\x3c\/strong\x3e 先来说一个我绝对不推荐的富文本。这是一个韩国人开源的富文本(当然不推荐的理由不是因为这个)，它对很多富文本业界公认的默认行为理解是反起到而行的，而且只为用了一个dialog的功能，引入了boostrap，一堆人抗议就是不改。格式化也是差劲。。反正不要用！不要用！不要用！\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/galetahub\/ckeditor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eckeditor\x3c\/a\x3e\x3c\/strong\x3e ckeditor也是一家老牌做富文本的公司，楼主旧版后台用的就是这个，今年也出了5.0版本，ui也变美观了不少，相当的不错，而且它号称是插件最丰富的富文本了。推荐大家也可以试用一下。\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/quilljs\/quill\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3equill\x3c\/a\x3e\x3c\/strong\x3e 也是一个非常火的富文本，长相很不错。基于它写插件也很简单，api设计也很简单。楼主不选择它的原因是它对图片的各种操作不友善，而且很难改。如果对图片没什么操作的用户，推荐使用。\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/yabwe\/medium-editor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emedium-\x3cem\x3eeditor\x3c\/em\x3e\x3c\/a\x3e\x3c\/strong\x3e 大名鼎鼎的medium的富文本(非官方出品)，但完成度还是不很不错，拓展性也不错。不过我觉得大部分用户还是会不习惯medium这种写作方式的。\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/neilj\/Squire\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSquire\x3c\/a\x3e\x3c\/strong\x3e 一个比较轻量的富文本，压缩完才11.5kb，相对于其它的富文本来说是非常的小了，推荐功能不复杂的建议使用。\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/wangfupeng1988\/wangEditor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewangEditor\x3c\/a\x3e\x3c\/strong\x3e 一个国人写的富文本，用过感觉还是不错的。不过毕竟是个人的，不像专门公司做富文本的，配置型和丰富性不足。前端几大禁忌就有富文本 \x3ca href=\x22https:\/\/www.zhihu.com\/question\/38699645\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e为什么都说富文本编辑器是天坑?\x3c\/a\x3e，不过个人能做成这样子很不容易了。\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e\x3ca href=\x22http:\/\/ueditor.baidu.com\/website\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e百度UEditor\x3c\/a\x3e\x3c\/strong\x3e 没有深入使用过，只在一个angular1X的项目简单用过，不过说着的ui真的不好看，不符合当今审美了，官方也已经很久没跟新过了。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e楼主列举了很多富文本但并没有列举任何 vue 相关的富文本，主要是因为富文本真的比想象中复杂，在前面的文章里也说过了，其实用 vue 封装组件很方便的，没必要去用人家封装的东西什么vue-quill vue-editor这种都只是简单包了一层，没什么难度的。还不如自己来封装，灵活性可控性更强一点。还有一点基于 vue 真没什么好的富文本，不像 react 有 facebook 出的 \x3ca href=\x22https:\/\/github.com\/facebook\/draft-js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edraft-js\x3c\/a\x3e，ory 出的 \x3ca href=\x22https:\/\/github.com\/ory\/editor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eeditor\x3c\/a\x3e，这种大厂出的产品。\x3c\/p\x3e\n\x3cp\x3e当然你也可以选择一些付费的富文本编辑器，作者自己公司里面有一个项目就使用了 \x3ca href=\x22https:\/\/www.froala.com\/wysiwyg-editor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efroala-editor\x3c\/a\x3e 这款编辑器。不管是美观和易用性都是不错的，公司买的是专业版，一年也就 \x3ccode\x3e$349\x3c\/code\x3e ，价格也是很合理的，但其实省去的程序员开发陈本可能远不止这个价钱。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3eTinymce\x3c\/h2\x3e\n\x3cp\x3e这里来简单讲一下在自己项目中使用 \x3ccode\x3eTinymce\x3c\/code\x3e 的方法。\x3c\/p\x3e\n\x3cblockquote\x3e由于目前使用 npm 安装 \x3ccode\x3eTinymce\x3c\/code\x3e 方法比较负责复杂而且还有一些问题(日后可能会采用该模式)。\x3cimg src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/emojis\/space_invader.png\x22 class=\x22emoji\x22 alt=\x22space_invader\x22 title=\x22space_invader\x22\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e目前采用全局引用的方式。代码地址：\x3ccode\x3estatic\/tinymce\x3c\/code\x3e static目录下的文件不会被打包, 在 index.html 中引入。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e使用\x3c\/strong\x3e\x3cbr\x3e由于富文本不适合双向数据流，所以只会 watch 传入富文本的内容一次变化，只会就不会再监听了，如果之后还有改变富文本内容的需求。\x3cbr\x3e可以通过 \x3ccode\x3ethis.refs.xxx.setContent()\x3c\/code\x3e 来设置\x3c\/p\x3e\n\x3cp\x3e源码也很简单，有任何别的需求都可以在 \x3ccode\x3e@\/components\/Tinymce\/index.vue\x3c\/code\x3e 中自行修改。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3eMarkdown\x3c\/h2\x3e\n\x3cp\x3emarkdown 我们这里选用了 \x3ca href=\x22https:\/\/github.com\/sparksuite\/simplemde-markdown-editor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esimplemde-markdown-editor\x3c\/a\x3e ，简单的用vue封装了一下\x3ca href=\x22https:\/\/github.com\/F-loat\/vue-simplemde\/blob\/master\/markdown-editor.vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e地址\x3c\/a\x3e,如果需求方能接受 markdown 就一定要用 markdown，坑真心会比富文本少很多。这里我们用markdown做了编辑器，还需要一个能解析的的东西。可以你传给后端让后端帮你转化，也可以前端自己来，这里推荐一个转化库\x3ca href=\x22https:\/\/github.com\/showdownjs\/showdown\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eshowdown\x3c\/a\x3e。使用方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import(\x27showdown\x27).then(showdown =\x3e { \/\/用了 Dynamic import\n  const converter = new showdown.Converter();\/\/初始化\n  this.html = converter.makeHtml(this.content)\/\/转化\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27showdown\x27\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eshowdown\x3c\/span\x3e =\x26gt;\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/用了 Dynamic import\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e converter = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e showdown.Converter();\x3cspan class=\x22hljs-comment\x22\x3e\/\/初始化\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.html = converter.makeHtml(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.content)\x3cspan class=\x22hljs-comment\x22\x3e\/\/转化\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用法也很简单两行代码就完成了markdown to html，当然它还有很多个性画的配置，大家有需求自行研究吧。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762213?w=1040\x26amp;h=585\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3e导出excel\x3c\/h2\x3e\n\x3cp\x3e这里先明确一点，如果你的业务需求对导出文件的格式没有什么要求，不建议导出成xlsx格式的，直接导出成csv的就好了，真的会简单很多。创建一个a标签，写上\x3ccode\x3edata:text\/csv;charset=utf-8\x3c\/code\x3e头，再把数据塞进去，\x3ccode\x3eencodeURI(csvContent)\x3c\/code\x3e一下就好了，详情就不展开了，大家可以借鉴这个\x3ca href=\x22https:\/\/stackoverflow.com\/questions\/14964035\/how-to-export-javascript-array-info-to-csv-on-client-side\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estackoverflow回答\x3c\/a\x3e。\x3cbr\x3e我们重点说一下转xlsx，我们这里用到了\x3ca href=\x22https:\/\/github.com\/SheetJS\/js-xlsx\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ejs-xlsx\x3c\/a\x3e，一个功能很强大excel处理库，只是下载各种格式excel，还支持读取excel，但上手难度也非常大，相当的复杂，其中涉及不少二进制相关的东西。不过好在官方给了我们一个\x3ca href=\x22http:\/\/sheetjs.com\/demos\/writexlsx.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo例子\x3c\/a\x3e,我们写不来还抄不来么，于是我们就借鉴官方的例子来改造了一下，具体原理就不详细说了，真的很复杂。。。\x3cbr\x3e重点是我们怎么使用！首先我们封装一个\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/src\/vendor\/Export2Excel.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eExport2Excel.js\x3c\/a\x3e，\x3cbr\x3e它又依赖三个库\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22require(\x27script-loader!file-saver\x27); \/\/保存文件用\nrequire(\x27script-loader!vendor\/Blob\x27); \/\/转二进制用\nrequire(\x27script-loader!xlsx\/dist\/xlsx.core.min\x27); \/\/xlsx核心\n\n由于这几个文件不支持import引入，所以我们需要`script-loader`来将他们挂载到全局环境下。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27script-loader!file-saver\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/保存文件用\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27script-loader!vendor\/Blob\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/转二进制用\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27script-loader!xlsx\/dist\/xlsx.core.min\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/xlsx核心\x3c\/span\x3e\n\n由于这几个文件不支持\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e引入，所以我们需要\x3cspan class=\x22hljs-string\x22\x3e`script-loader`\x3c\/span\x3e来将他们挂载到全局环境下。\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e它暴露了两个接口\x3ccode\x3eexport_table_to_excel\x3c\/code\x3e和\x3ccode\x3eexport_json_to_excel\x3c\/code\x3e,我们常用\x3ccode\x3eexport_json_to_excel\x3c\/code\x3e因为更加的可控一点，我们可以自由的洗数据。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22handleDownload() {\n  require.ensure([], () =\x3e { \/\/ 用 webpack Code Splitting xlsl还是很大的\n    const { export_json_to_excel } = require(\x27vendor\/Export2Excel\x27);\n    const tHeader = [\x27序号\x27, \x27文章标题\x27, \x27作者\x27, \x27阅读数\x27, \x27发布时间\x27]; \/\/ excel 表格头\n    const filterVal = [\x27id\x27, \x27title\x27, \x27author\x27, \x27pageviews\x27, \x27display_time\x27];\n    const list = this.list;\n    const data = this.formatJson(filterVal, list); \/\/ 自行洗数据 按序排序的一个array数组\n    export_json_to_excel(tHeader, data, \x27列表excel\x27);\n  })\n}，\nformatJson(filterVal, jsonData) {\n  return jsonData.map(v =\x3e filterVal.map(j =\x3e v[j]))\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3ehandleDownload() {\n  \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.ensure([], \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用 webpack Code Splitting xlsl还是很大的\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { export_json_to_excel } = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27vendor\/Export2Excel\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e tHeader = [\x3cspan class=\x22hljs-string\x22\x3e\x27序号\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27文章标题\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27作者\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27阅读数\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27发布时间\x27\x3c\/span\x3e]; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ excel 表格头\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e filterVal = [\x3cspan class=\x22hljs-string\x22\x3e\x27id\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27title\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27author\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27pageviews\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27display_time\x27\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e list = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.list;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e data = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.formatJson(filterVal, list); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 自行洗数据 按序排序的一个array数组\x3c\/span\x3e\n    export_json_to_excel(tHeader, data, \x3cspan class=\x22hljs-string\x22\x3e\x27列表excel\x27\x3c\/span\x3e);\n  })\n}，\nformatJson(filterVal, jsonData) {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e jsonData.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e =\x26gt;\x3c\/span\x3e filterVal.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ej\x3c\/span\x3e =\x26gt;\x3c\/span\x3e v[j]))\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/src\/views\/excel\/index.vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e完整显示线上代码\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3eECharts\x3c\/h2\x3e\n\x3cp\x3e管理后台图表也是常见得需求。这里图表就只推荐ECharts，功能齐全，社区demo也丰富\x3ca href=\x22http:\/\/gallery.echartsjs.com\/explore.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egallery\x3c\/a\x3e。我还是那个观点，大部分插件建议大家还是自己用vue来包装就好了，真的很简单。ECharts支持webpack引入，图省事可以将ECharts整个引入\x3ccode\x3evar echarts = require(\x27echarts\x27);\x3c\/code\x3e不过ECharts还是不小的，我们大部分情况只是用到很少一部分功能，我平时习惯于按需引入的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 引入 ECharts 主模块\nvar echarts = require(\x27echarts\/lib\/echarts\x27);\n\/\/ 引入柱状图\nrequire(\x27echarts\/lib\/chart\/bar\x27);\n\/\/ 引入提示框和标题组件\nrequire(\x27echarts\/lib\/component\/tooltip\x27);\nrequire(\x27echarts\/lib\/component\/title\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crystal\x22\x3e\x3ccode\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/ 引入 ECharts 主模块\nvar echarts = require(\x27echarts\/lib\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/echarts\x27);\n\/\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/ 引入柱状图\nrequire(\x27echarts\/lib\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/chart\/bar\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27);\n\/\/ 引入提示框和标题组件\nrequire(\x27\x3c\/span\x3eecharts\/\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elib\x3c\/span\x3e\/\x3cspan class=\x22hljs-title\x22\x3ecomponent\x3c\/span\x3e\/\x3cspan class=\x22hljs-title\x22\x3etooltip\x3c\/span\x3e\x27);\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27echarts\/lib\/component\/title\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/echarts.baidu.com\/tutorial.html#%E5%9C%A8%20webpack%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20ECharts\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack中使用ECharts文档\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/ecomfe\/echarts\/blob\/master\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eECharts按需引入模块文档\x3c\/a\x3e\x3cbr\x3e接下来我们就要在vue中声明初始化ECharts了。因为ECharts初始化必须绑定dom，所以我们只能在vue的mounted生命周期里初始化。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22mounted() {\n  this.initCharts();\n},\nmethods: {\n  this.initCharts() {\n    this.chart = echarts.init(this.$el);\n    this.setOptions();\n  },\n  setOptions() {\n    this.chart.setOption({\n      title: {\n        text: \x27ECharts 入门示例\x27\n      },\n      tooltip: {},\n      xAxis: {\n        data: [\x26quot;衬衫\x26quot;, \x26quot;羊毛衫\x26quot;, \x26quot;雪纺衫\x26quot;, \x26quot;裤子\x26quot;, \x26quot;高跟鞋\x26quot;, \x26quot;袜子\x26quot;]\n      },\n      yAxis: {},\n      series: [{\n        name: \x27销量\x27,\n        type: \x27bar\x27,\n        data: [5, 20, 36, 10, 10, 20]\n      }]\n    })\n  }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3emounted() {\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.initCharts();\n},\nmethods: {\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.initCharts() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.chart = echarts.init(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setOptions();\n  },\n  setOptions() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.chart.setOption({\n      title: {\n        text: \x3cspan class=\x22hljs-string\x22\x3e\x27ECharts 入门示例\x27\x3c\/span\x3e\n      },\n      tooltip: {},\n      xAxis: {\n        \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22衬衫\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22羊毛衫\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22雪纺衫\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22裤子\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22高跟鞋\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22袜子\x22\x3c\/span\x3e]\n      },\n      yAxis: {},\n      series: [{\n        name: \x3cspan class=\x22hljs-string\x22\x3e\x27销量\x27\x3c\/span\x3e,\n        type: \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e]\n      }]\n    })\n  }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就这样简单，ECharts就配置完成了，这时候你想说我的data是远程获取的，或者说我动态改变ECharts的配置该怎么办呢？我们可以通过watch来触发setOptions方法\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/第一种 watch options变化 利用vue的深度 watcher，options一有变化就重新setOption\nwatch: {\n  options: {\n    handler(options) {\n      this.chart.setOption(this.options)\n    },\n    deep: true\n  },\n}\n\/\/第二种 只watch 数据的变化 只有数据变化时触发ECharts\nwatch: {\n  seriesData(val) {\n    this.setOptions({series:val})\n  }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/第一种 watch options变化 利用vue的深度 watcher，options一有变化就重新setOption\x3c\/span\x3e\nwatch: {\n  options: {\n    handler(options) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.chart.setOption(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.options)\n    },\n    deep: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  },\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/第二种 只watch 数据的变化 只有数据变化时触发ECharts\x3c\/span\x3e\nwatch: {\n  seriesData(\x3cspan class=\x22hljs-keyword\x22\x3eval\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setOptions({series:\x3cspan class=\x22hljs-keyword\x22\x3eval\x3c\/span\x3e})\n  }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其实都差不多，还是要结合自己业务来封装。后面就和平时使用ECharts没有什么区别了。题外话ECharts的可配置项真心多，大家使用的时候可能要花一点时间了解它的api的。知乎有个问题：百度还有什么比较良心的产品？答案：ECharts，可见ECharts的强大与好用。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3e相同component 不同参数\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e创建与编辑\x3c\/strong\x3e\x3cbr\x3e其实后台创建与编辑功能是最常见的了，它区别去前台项目多了改的需求，但大部分创建页面与编辑页面字段和ui几乎是一样的，所以我们准备公用一个component来对应不同的页面。有两种常见的方法，来区别创建与编辑。\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e通过路由path的方式\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e这种方式最简单暴力，我自己的项目中使用这种方式，通过约定路径中出现\x27edit\x27就判断为编辑模式。比较省力和方便，不过这是要在大家写路径的时候都按照规范来写的前提下。\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e通过meta来区分\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e比较推荐这种方式来区分。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009762214?w=1192\x26amp;h=86\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22computed: {\n  isEdit() {\n    return this.$route.meta.isEdit \/\/ 根据meta判断\n    \/\/ return this.$route.path.indexOf(\x27edit\x27) !== -1 \/\/ 根据路由判断\n  }\n}，\ncreated() {\n  if (this.isEdit) { \n    this.fetchData();\n  }\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3ecomputed: {\n  isEdit() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$route.meta.isEdit \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 根据meta判断\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ return this.$route.path.indexOf(\x27edit\x27) !== -1 \/\/ 根据路由判断\x3c\/span\x3e\n  }\n}，\ncreated() {\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isEdit) { \n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fetchData();\n  }\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就这样简单的实现了多路由复用了一个component，其实不只是创建和编辑可以这样用，如两个列表的一模一样，只是一个是内部文章另一个是调取外部文章都能复用组件，通过meta的方式来判断调取不同的接口。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader19\x22\x3e占坑\x3c\/h2\x3e\n\x3cp\x3e常规占坑，这里是手摸手，带你用vue撸后台系列。   \x3cbr\x3e完整项目地址：\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-element-admin\x3c\/a\x3e  \x3cbr\x3e系类文章一：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009275424\x22\x3e手摸手，带你用vue撸后台 系列一(基础篇)\x3c\/a\x3e\x3cbr\x3e系类文章二：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009506097\x22 target=\x22_blank\x22\x3e手摸手，带你用vue撸后台 系列二(登录权限篇)\x3c\/a\x3e\x3cbr\x3e系类文章三：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009762198\x22\x3e手摸手，带你用vue撸后台 系列三(实战篇）\x3c\/a\x3e\x3cbr\x3e系类文章四：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010043013\x22 target=\x22_blank\x22\x3e手摸手，带你用vue撸后台 系列四(vueAdmin 一个极简的后台基础模板)\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000012213278\x22\x3e手摸手，带你优雅的使用 icon\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009090836\x22 target=\x22_blank\x22\x3e手摸手，带你封装一个vue component\x3c\/a\x3e  \x3cbr\x3e楼主个人免费\x3ca href=\x22https:\/\/jianshiapp.com\/circles\/1209\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e圈子\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009762198">https://segmentfault.com/a/1190000009762198</a></p><h2 id="原文标题">原文标题</h2><p>手摸手，带你用vue撸后台 系列三(实战篇)</p><h2>本文链接：</h2><a href="https://alili.tech/archive/b82f32d7/" target="_blank">https://alili.tech/archive/b82f32d7/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>