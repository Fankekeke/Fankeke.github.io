<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="移动端采用Flexible将PX转换REM适配及开发中Retina屏1px边框的两种解决方案"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>移动端采用Flexible将PX转换REM适配及开发中Retina屏1px边框的两种解决方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/bco2cesvug9/",
				"appid": "1613049289050283", 
				"title": "移动端采用Flexible将PX转换REM适配及开发中Retina屏1px边框的两种解决方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/wi59thasg1m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ch23j8xi886/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&text=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&text=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&title=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&is_video=false&description=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&title=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&title=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&title=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbco2cesvug9%2f&title=%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%87%87%e7%94%a8Flexible%e5%b0%86PX%e8%bd%ac%e6%8d%a2REM%e9%80%82%e9%85%8d%e5%8f%8a%e5%bc%80%e5%8f%91%e4%b8%adRetina%e5%b1%8f1px%e8%be%b9%e6%a1%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">移动端采用Flexible将PX转换REM适配及开发中Retina屏1px边框的两种解决方案</h1><div class="meta"><div class="postdate"><time datetime="2018-12-29" itemprop="datePublished">2018-12-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e移动端采用Flexible将PX转换REM适配及开发中Retina屏1px边框的两种解决方案\x3c\/h1\x3e\n\x3cblockquote\x3e\x3cp\x3e说明：两个方案均基于Webpack构建。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e\n\x3ca href=\x22https:\/\/github.com\/whidy\/mobileweb2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e方案一\x3c\/a\x3e：\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e搭建环境及相关配置\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3ewebpack 3，需要loader及说明\x3c\/li\x3e\n\x3cli\x3ecss-loader, style-loader 加载css文件\x3c\/li\x3e\n\x3cli\x3eexpose-loader 暴露全局例如jquery\x3c\/li\x3e\n\x3cli\x3eurl-loader 样式文件内的图片等资源\x3c\/li\x3e\n\x3cli\x3efile-loader 字体等资源\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e使用库和主要插件\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3ejquery\x3c\/li\x3e\n\x3cli\x3enormalize\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/amfe\/lib-flexible\/tree\/master\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elib-flexible 0.3.2\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/songsiqi\/px2rem\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epx2rem\x3c\/a\x3e \x2b \x3ca href=\x22https:\/\/github.com\/Jinjiang\/px2rem-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epx2rem-loader\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e要解决一些问题\x3c\/h3\x3e\n\x3cp\x3e自适应这里采用了旧版的\x3ca href=\x22https:\/\/github.com\/whidy\/mobileweb2\/blob\/master\/src\/script\/flexible.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eflexible\x3c\/a\x3e，并通过px2rem来进行单位转换，关于样式中的px值是否转换为rem或者输出多种对应不同dpr的px值，请查看插件说明进行对应的注释，例如\x3ccode\x3e\/*no*\/\x3c\/code\x3e和\x3ccode\x3e\/*px*\/\x3c\/code\x3e。这里有一点需要说明的是，与\x3cstrong\x3e\x3ca href=\x22https:\/\/github.com\/whidy\/mobileweb\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emobileweb\x3c\/a\x3e\x3c\/strong\x3e不同的是，旧版的flexible具有最大宽度1080(540*dpr)的问题？也就是说当屏幕宽度大于1080的时候，两边会留出空白，而无法占满屏幕？如有错误，望指正截取一段\x3ca href=\x22https:\/\/github.com\/whidy\/mobileweb2\/blob\/master\/src\/script\/flexible.js#L69\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eflexible\x3c\/a\x3e代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function refreshRem() {\n  var width = docEl.getBoundingClientRect().width;\n  if (width \/ dpr \x3e 540) {\n    width = 540 * dpr;\n  }\n  var rem = width \/ 10;\n  docEl.style.fontSize = rem \x2b \x27px\x27;\n  flexible.rem = win.rem = rem;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erefreshRem\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e width = docEl.getBoundingClientRect().width;\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (width \/ dpr \x26gt; \x3cspan class=\x22hljs-number\x22\x3e540\x3c\/span\x3e) {\n    width = \x3cspan class=\x22hljs-number\x22\x3e540\x3c\/span\x3e * dpr;\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e rem = width \/ \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n  docEl.style.fontSize = rem \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n  flexible.rem = win.rem = rem;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里有个小小的建议就是给\x3ca href=\x22https:\/\/github.com\/whidy\/mobileweb2\/blob\/a1faf0ac6dcb5b96130669b5c9e236a68b7d38ab\/src\/style\/index.scss#L5\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebody\x3c\/a\x3e加上一段居中样式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22body {\n  max-width: 750px; \/* 设计稿最大宽度 *\/\n  margin: 0 auto;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3emax-width\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e750px\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/* 设计稿最大宽度 *\/\x3c\/span\x3e\n  \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e auto;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样当设备宽度大于设计稿的宽度时，则整体页面居中，更加美观。（再次强调mobileweb中用的最新的flexible会自动扩展到满屏，不存在该问题。）\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e附加：关于\x3ca href=\x22https:\/\/github.com\/whidy\/mobileweb2\/blob\/master\/webpack.dev.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack配置\x3c\/a\x3e写法参考\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module: {\n  rules: [{\n      test: \/\\.css$\/,\n      use: [\x27style-loader\x27, \x27css-loader\x27]\n    },\n    {\n      test: \/\\.scss$\/,\n      use: ExtractTextPlugin.extract({\n        fallback: \x26quot;style-loader\x26quot;,\n        use: [{\n          loader: \x26quot;css-loader\x26quot;\n        }, {\n          loader: \x26quot;px2rem-loader\x26quot;,\n          options: {\n            remUnit: 75,\n            threeVersion: true\n          }\n        }, {\n          loader: \x27postcss-loader\x27\n        }, {\n          loader: \x26quot;sass-loader\x26quot;\n        }, ]\n      })\n    },\n    {\n      test: \/\\.(png|svg|jpg|gif)$\/,\n      use: [{\n        loader: \x27url-loader\x27,\n        options: {\n          limit: 4096\n        }\n      }]\n    },\n    {\n      test: \/\\.(woff|woff2|eot|ttf|otf)$\/,\n      use: [\n        \x27file-loader\x27\n      ]\n    },\n    {\n      test: require.resolve(\x27jquery\x27),\n      use: [{\n        loader: \x27expose-loader\x27,\n        options: \x27jQuery\x27\n      }, {\n        loader: \x27expose-loader\x27,\n        options: \x27$\x27\n      }]\n    }\n  ]\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e: {\n  \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [{\n      \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.css$\/\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27style-loader\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27css-loader\x27\x3c\/span\x3e]\n    },\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.scss$\/\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: ExtractTextPlugin.extract({\n        \x3cspan class=\x22hljs-attr\x22\x3efallback\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [{\n          \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e\n        }, {\n          \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22px2rem-loader\x22\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3eremUnit\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e75\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3ethreeVersion\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n          }\n        }, {\n          \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27postcss-loader\x27\x3c\/span\x3e\n        }, {\n          \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22sass-loader\x22\x3c\/span\x3e\n        }, ]\n      })\n    },\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(png|svg|jpg|gif)$\/\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [{\n        \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27url-loader\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3elimit\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4096\x3c\/span\x3e\n        }\n      }]\n    },\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(woff|woff2|eot|ttf|otf)$\/\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [\n        \x3cspan class=\x22hljs-string\x22\x3e\x27file-loader\x27\x3c\/span\x3e\n      ]\n    },\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.resolve(\x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e),\n      \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [{\n        \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27expose-loader\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27jQuery\x27\x3c\/span\x3e\n      }, {\n        \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27expose-loader\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27$\x27\x3c\/span\x3e\n      }]\n    }\n  ]\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e主要是px2rem-loader这里的对px2rem的相关配置，我这里设计稿750，因此设定75，其他参数可自行\x3ca href=\x22https:\/\/github.com\/songsiqi\/px2rem\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e参考文档\x3c\/a\x3e。\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e\x3cstrong\x3e注1：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e这个demo依然有引入PostCSS，因为webpack下没有一个很好autoprefixer的loader（其实有一个\x3ca href=\x22https:\/\/www.npmjs.com\/package\/autoprefixer-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eautoprefixer-loader\x3c\/a\x3e，该loader也提示了autoprefixer官方推荐使用postcss-loader替代），因此依然加入了PostCSS混合SASS开发。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e注2：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e不太确定如果单位写成PX是否会存在兼容性问题，不过在高级浏览器和我测试的几部手机观察来看未发生异常。\x3c\/p\x3e\n\x3cp\x3e假设通过将单位故意大写为\x3ccode\x3ePX\x3c\/code\x3e而避免转换的话，是不是相对尾部写\x3ccode\x3e\/*no*\/\x3c\/code\x3e来进行过滤更为方便？\x3c\/p\x3e\n\x3cp\x3e发现这个特征的是在学习postcss的时候用到\x3ca href=\x22https:\/\/github.com\/cuth\/postcss-pxtorem\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epostcss-pxtorem\x3c\/a\x3e插件，碰巧测试出来的。\x3c\/p\x3e\n\x3cp\x3e当然个人倒的确倾向于写\x3ccode\x3ePX\x3c\/code\x3e，如果不存在兼容性问题。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e示例：\x3c\/strong\x3e\x3cbr\x3e转换前：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.pic-txts {\n  text-align: left;\n  border:1px solid #ddd; \/*px*\/\n  border-radius: 5PX;\n  width:690px;\n  display: block;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22scss hljs\x22\x3e\x3ccode class=\x22scss\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.pic-txts\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e: left;\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#ddd\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/*px*\/\x3c\/span\x3e\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder-radius\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5PX\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e690px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e转换后：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.pic-txts {\n  text-align: left;\n  border-radius: 5PX;\n  width: 9.2rem;\n  display: block;\n}\n\n[data-dpr=\x26quot;1\x26quot;] .pic-txts {\n  border: 0.5px solid #ddd;\n}\n\n[data-dpr=\x26quot;2\x26quot;] .pic-txts {\n  border: 1px solid #ddd;\n}\n\n[data-dpr=\x26quot;3\x26quot;] .pic-txts {\n  border: 1.5px solid #ddd;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.pic-txts\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e: left;\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder-radius\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5PX\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e9.2rem\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n}\n\n\x3cspan class=\x22hljs-selector-attr\x22\x3e[data-dpr=\x221\x22]\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.pic-txts\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0.5px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#ddd\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-attr\x22\x3e[data-dpr=\x222\x22]\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.pic-txts\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#ddd\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-attr\x22\x3e[data-dpr=\x223\x22]\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.pic-txts\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1.5px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#ddd\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e\n\x3ca href=\x22https:\/\/github.com\/whidy\/mobileweb\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e方案二\x3c\/a\x3e（之前\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010947054\x22\x3eSF笔记\x3c\/a\x3e上有，此处有更新）：\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e搭建环境及相关配置\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3ewebpack 3，需要loader及说明\x3c\/li\x3e\n\x3cli\x3ecss-loader, style-loader 加载css文件\x3c\/li\x3e\n\x3cli\x3epostcss-loader 对css进行转换处理\x3c\/li\x3e\n\x3cli\x3eexpose-loader 暴露全局例如jquery\x3c\/li\x3e\n\x3cli\x3eurl-loader 样式文件内的图片等资源\x3c\/li\x3e\n\x3cli\x3efile-loader 字体等资源\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e使用库\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3ejquery\x3c\/li\x3e\n\x3cli\x3enormalize\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/amfe\/lib-flexible\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eamfe-flexible\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3ePostCSS相关的插件\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3eautoprefixer\x3c\/li\x3e\n\x3cli\x3epostcss-advanced-variables\x3c\/li\x3e\n\x3cli\x3epostcss-nested\x3c\/li\x3e\n\x3cli\x3epostcss-partial-import\x3c\/li\x3e\n\x3cli\x3epostcss-pxtorem\x3c\/li\x3e\n\x3cli\x3epostcss-scss\x3c\/li\x3e\n\x3cli\x3epostcss-sorting\x3c\/li\x3e\n\x3cli\x3ecssnano\x3c\/li\x3e\n\x3cli\x3epostcss-property-lookup\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/songsiqi\/postcss-adaptive\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epostcss-adaptive\x3c\/a\x3e（该插件实际上与pxtorem功能相似，似乎是px2rem的改进版，需配合\x3ca href=\x22https:\/\/github.com\/amfe\/lib-flexible\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elib-flexible\x3c\/a\x3e该插件为了解决1px边框问题而生，其实是配合类名对dpr2进行px\/2的处理。如果需求不高可以直接采用该插件，而放弃同时使用postcss-pxtorem和postcss-adaptive，我之所以同时使用主要是因为postcss-pxtorem的\x3ccode\x3eminPixelValue: 6\x3c\/code\x3e比较方便，以及对于不想转换的px处理的规则使用非常便捷！）\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e要解决一些问题\x3c\/h3\x3e\n\x3cp\x3e快速开发自适应的移动端专题站点或简单页面\x3c\/p\x3e\n\x3cp\x3e解决\x3cdel\x3e字体和\x3c\/del\x3e边框不进行rem转换（根据考究并未找到合理有效的证据证明font-size建议使用px，个人认为如果rem计算合理不应该存在明显的重大问题。自然就不需要用到px2rem的dpr扩展转换功能了）\x3c\/p\x3e\n\x3cp\x3e该分支采用\x3ca href=\x22https:\/\/github.com\/cuth\/postcss-pxtorem\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epostcss-pxtorem\x3c\/a\x3e避免了postcss-nested注释问题,具体配置大致如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22require(\x27postcss-pxtorem\x27)({\n  rootValue: 75,\n  unitPrecision: 5,\n  propList: [\x27*\x27],\n  selectorBlackList: [],\n  replace: true,\n  mediaQuery: false,\n  minPixelValue: 12\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27postcss-pxtorem\x27\x3c\/span\x3e)({\n  \x3cspan class=\x22hljs-attr\x22\x3erootValue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e75\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eunitPrecision\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3epropList\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e],\n  \x3cspan class=\x22hljs-attr\x22\x3eselectorBlackList\x3c\/span\x3e: [],\n  \x3cspan class=\x22hljs-attr\x22\x3ereplace\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3emediaQuery\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eminPixelValue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e假设设计稿750宽，这里设置简单说明一下（没说的是我还没弄明白或者是不重要的?）：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3erootValue为75，说是对根元素大小进行设置。可能类似\x3ca href=\x22https:\/\/www.npmjs.com\/package\/px2rem\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epx2rem\x3c\/a\x3e中的remUnit参数吧\x3c\/li\x3e\n\x3cli\x3eunitPrecision为5，起初我真不知道这个官方说的\x3cem\x3eThe decimal numbers to allow the REM units to grow to.\x3c\/em\x3e是啥意思，搞了半天才观察出来，原来是\x3cstrong\x3e转换成rem后保留的小数点位数\x3c\/strong\x3e。。。\x3c\/li\x3e\n\x3cli\x3epropList是一个存储哪些将被转换的属性列表，这里设置为\x3ccode\x3e[\x27*\x27]\x3c\/code\x3e全部，假设需要仅对边框进行设置，可以写\x3ccode\x3e[\x27*\x27, \x27!border*\x27]\x3c\/code\x3e意思是排除带有border的属性，当然这里会有一个问题，也许有时候不想对border其他样式处理例如\x3ccode\x3eborder-radius\x3c\/code\x3e所以也不是很好。\x3c\/li\x3e\n\x3cli\x3eselectorBlackList则是一个对css选择器进行过滤的数组，比如你设置为\x3ccode\x3e[\x27fs\x27]\x3c\/code\x3e，那例如\x3ccode\x3efs-xl\x3c\/code\x3e类名，里面有关px的样式将不被转换，这里也支持正则写法。\x3c\/li\x3e\n\x3cli\x3eminPixelValue是一个非常不错的选项，我设置了12，意思是所有小于12px的样式都不被转换，那么border之类的属性自然会保留px值了。而刚才提到的border-radius如果为了创造圆形等特殊较大圆弧时则还是会转换成rem，来配合对应的width和height（当然，你也可以用继承width或者height的变量来设置radius）。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\n\x3cp\x3e需要注意的是，以下情况并不会保留为px！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.test-radius {\n  width:20px;\n  height:20px;\n  border-radius: calc(@width \/ 2);\n  background-color:#ccc;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.test-radius\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder-radius\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3ecalc\x3c\/span\x3e(@width \/ 2);\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e#ccc\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e根据反复测试，calc运算是来自cssnano插件，然而\x3ca href=\x22http:\/\/cssnano.co\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecssnano\x3c\/a\x3e有必要放在最后执行，所以无法满足计算后的10px在进行pxtorem转换，不过这种情况也是比较合理的。假设width和height转换为rem，而圆角是px，个人感觉不可避免的会造成圆形错误的情况（是否有可能改圆角px值实际上永远大于转换后的rem的50%？有待考究！），所以这种情况暂时就不考虑了，让其单位均保持一致即可。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e写到这里我又陷入了沉思，因为有个问题不明白了。根据postcss.config.js配置cssnano是在最后面，pxtorem是在其前面，那么如何做到对此段样式转换的顺序。\x3c\/p\x3e\n\x3cp\x3e这段代码应该先是postcss-property-lookup对@width进行处理，然后进行calc(@width \/ 2)计算，最后对px检测转换，再进行cssnano压缩。而实际上有点诡异。\x3cstrong\x3e难道postcss.config.js中插件的执行顺序并非单纯的从上而下！\x3c\/strong\x3e希望不久的将来这个疑问将被解决，或者我也怀疑postcss官方文档实际有指出，只是个人英文能力较差被我忽略掉了?。\x3c\/p\x3e\n\x3cp\x3e另一方面，关于此段CSS在画圆上有一些需要注意的，其实这里如果写圆用50%即可，我发现某些情况下（可能是圆形很小）如果按照除以2的写法转换成rem似乎不圆，所以在现代开发来看移动端画圆就50%了！所以上例仅做测试好了~\x3c\/p\x3e\n\x3cp\x3e额外阅读，关于\x3ca href=\x22https:\/\/caniuse.com\/#search=border-radius\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eborder-radius\x3c\/a\x3e的一些事项。\x3c\/p\x3e\n\x3cp\x3e对了忘了说了，css样式代码中将px写成\x3ccode\x3ePx\x3c\/code\x3e或者\x3ccode\x3ePX\x3c\/code\x3e他也不会转换成rem的~\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e附加：前文提到了一个插件postcss-adaptive说明\x3c\/h3\x3e\n\x3cp\x3e在PostCSS的配置文件中，我加入了这个插件并放在了postcss-pxtorem的后面引入，这样在第一次转换后，postcss-adaptive的默认参数就不会影响到上一个插件的配置而造成的混乱情况。实际上前面也提到过，这个插件的大部分功能和postcss-pxtorem相似，区别在于对于转换规则的条件过滤，而postcss-pxtorem这点有极大的优势，使用这个插件主要是解决retina屏（iPhone4以上？）需要对1px边框处理为0.5px。具体测试可以看一下DEMO中的\x3cem\x3epic-txts结构\x3c\/em\x3e，以下是该结构部分说明：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e这是一个pic-txts结构的wrap，展示小圆角边框在两个rem \x26gt; px 转换插件的作用下的影响因为在postcss-pxtorem配置中的minPixelValue设置为6，当圆角为5px时，他不进行转换，而postcss-adaptive却要对px属性进行操作，这是我们不希望的，合理的操作有两种：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e将圆角值按照设计稿（假设设计稿时10px）设定，并重新调整postcss-pxtorem配置中的minPixelValue为两倍安全值，例如12\x3c\/li\x3e\n\x3cli\x3e将圆角5px值改成postcss-pxtorem不处理的规则例如5PX，通过实验，发现postcss-adaptive并不会处理该属性\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e总结：\x3c\/h2\x3e\n\x3cp\x3e当然如果项目容易改造的话，还是建议使用方案二，在适配上面已经做得非常完善了，方案二中1px的问题通过类名提高CSS优先级非常方便，也不需要更复杂的操作。PostCSS在这两年来依旧是发展趋势，在新的项目中可以大胆尝试。\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e方案三：\x3c\/p\x3e\n\x3cp\x3e其实关于1px适配的问题，我想到了一个特别的方法，那就是在媒体查询中，声明一个变量例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$borderWidth: 1px;\n@media (max-resolution: 2dppx) {\n  $borderWidth: 0.5px;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22scss hljs\x22\x3e\x3ccode class=\x22scss\x22\x3e\x3cspan class=\x22hljs-variable\x22\x3e$borderWidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e;\n@\x3cspan class=\x22hljs-keyword\x22\x3emedia\x3c\/span\x3e (max-resolution: 2dppx) {\n  \x3cspan class=\x22hljs-variable\x22\x3e$borderWidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0.5px\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我希望css变量能在符合该媒体查询规则的情况下覆盖之前声明的变量，然而这种操作是无法实现的！！！\x3c\/p\x3e\n\x3cp\x3e当然，我后来只有这样写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.test {\n  border:1px solid #ccc;\n  @media (max-resolution: 2dppx) {\n    border-width:0.5px;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22scss hljs\x22\x3e\x3ccode class=\x22scss\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.test\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#ccc\x3c\/span\x3e;\n  @\x3cspan class=\x22hljs-keyword\x22\x3emedia\x3c\/span\x3e (max-resolution: 2dppx) {\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder-width\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0.5px\x3c\/span\x3e;\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可是你知道这样写有多么麻烦吗，大型项目中大量的代码需要批量处理的时候，这是不可能实现的，虽然我当时的确在项目里手动替换了超过50个地方。。。然后过了几天思考，又全部还原了采用了方案一（因为项目不方便转换为方案二）。\x3c\/p\x3e\n\x3cp\x3e因此，方案三只是留给大家思考一下，也就没有什么实际的使用价值了。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>移动端采用Flexible将PX转换REM适配及开发中Retina屏1px边框的两种解决方案</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011492987">https://segmentfault.com/a/1190000011492987</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/bco2cesvug9/" target="_blank">https://alili.tech/archive/bco2cesvug9/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>