<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Rxjs入门实践-各种排序算法排序过程的可视化展示"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Rxjs入门实践-各种排序算法排序过程的可视化展示 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/bnj8muu0xhh/",
				"appid": "1613049289050283", 
				"title": "Rxjs入门实践-各种排序算法排序过程的可视化展示 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-28T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/wzfgkdp4qh/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/6wsuvyo9yt8/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&text=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&text=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&title=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&is_video=false&description=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&title=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&title=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&title=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbnj8muu0xhh%2f&title=Rxjs%e5%85%a5%e9%97%a8%e5%ae%9e%e8%b7%b5-%e5%90%84%e7%a7%8d%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%e6%8e%92%e5%ba%8f%e8%bf%87%e7%a8%8b%e7%9a%84%e5%8f%af%e8%a7%86%e5%8c%96%e5%b1%95%e7%a4%ba"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Rxjs入门实践-各种排序算法排序过程的可视化展示</h1><div class="meta"><div class="postdate"><time datetime="2018-12-28" itemprop="datePublished">2018-12-28</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3eRxjs入门实践-各种排序算法排序过程的可视化展示\x3c\/h2\x3e\n\x3cblockquote\x3e这几天学习下《算法》的排序章节，\x3ca href=\x22https:\/\/github.com\/xiyuyizhi\/notes\/blob\/master\/data_structure\/algo2\/algorithms2.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e具体见对排序的总结\x3c\/a\x3e,想着做点东西，能将各种排序算法的排序过程使用Rxjs通过可视化的方式展示出来，正好练系一下Rxjs的使用\x3cp\x3e本文不会太多介绍Rxjs的基本概念，重点介绍如何用响应式编程的思想来实现功能\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/xiyuyizhi.github.io\/rxjs-sort-visualization\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在线演示地址\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/xiyuyizhi\/rxjs-sort-visualization\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源码\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e效果图\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011666029?w=300\x26amp;h=189\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011666029?w=300\x26amp;h=189\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e需求\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011666030?w=600\x26amp;h=320\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011666030?w=600\x26amp;h=320\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e页面中包括一个随机生成300个数字的按钮和、一个选择不同排序算法的下拉列表和一个echart渲染的容器元素\x3c\/p\x3e\n\x3cp\x3e点击按钮会随机生成300个随机数，同时页面渲染出300个数的柱状图，然后选择一种排序算法后，页面开始展示排序过程，在排序过程中如果我们切换成另一种排序算法，会停止当前算法的可视化展示，转而开始新的排序算法的可视化展示\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e思路\x3c\/h3\x3e\n\x3cp\x3e要展示出排序算法在排序过程中数组中数据的变化，我们要\x3ccode\x3e定期保存一下排序过程中当前数组的快照\x3c\/code\x3e，然后通过echart展示当前数组的数据,重复这个过程直到排序完成，我们也就有了表示排序过程的一个动画展示\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e具体实现\x3c\/h3\x3e\n\x3cp\x3e在Rxjs中，一切皆是流，要实现这个功能，重要的是确定好数据流，以及数据流在未来一段时间内的变化过程\x3c\/p\x3e\n\x3cp\x3e根据页面，可以清晰的确定几个数据流\x3c\/p\x3e\n\x3cp\x3e按钮点击操作生成的数据流\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const createNumber$ = Rx.Observable.fromEvent(query(\x27.numberCreator\x27), \x27click\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3econst createNumber$ = Rx\x3cspan class=\x22hljs-selector-class\x22\x3e.Observable\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.fromEvent\x3c\/span\x3e(query(\x3cspan class=\x22hljs-string\x22\x3e\x27.numberCreator\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e切换下拉列表生成的数据流\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const select$ = Rx.Observable.fromEvent(query(\x27.sortTypes\x27), \x27change\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3econst select$ = Rx\x3cspan class=\x22hljs-selector-class\x22\x3e.Observable\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.fromEvent\x3c\/span\x3e(query(\x3cspan class=\x22hljs-string\x22\x3e\x27.sortTypes\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-string\x22\x3e\x27change\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e点击按钮生成随机数组并渲染echart图表很显然就用到map和do这两个operator\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    createNumber$\n    .map(e =\x3e {\n        return numberCreator()\n    })\n    .do(nums =\x3e {\n        const option = getOption(nums)\n        echartInstance.setOption(option)\n    })\n    \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e    createNumber$\n    .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e numberCreator()\n    })\n    .do(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3enums\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e option = getOption(nums)\n        echartInstance.setOption(option)\n    })\n    \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e切换下拉列表时我们要得到当前选择的排序算法的一个标识\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let currentType\nselect$\n    .map(e =\x3e e.target)\n    .map(x =\x3e x.options[x.selectedIndex].value)\n    .map(type =\x3e {\n        return {\n            type,\n            timer:1\n        }\n    })\n    .do(x =\x3e {\n        currentType = x.type\n    })\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs n1ql\x22\x3e\x3ccode\x3elet currentType\n\x3cspan class=\x22hljs-keyword\x22\x3eselect\x3c\/span\x3e$\n    .\x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3ee\x3c\/span\x3e =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3ee\x3c\/span\x3e.target)\n    .\x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e(x =\x26gt; x.options[x.selectedIndex].\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e)\n    .\x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3etype\x3c\/span\x3e =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-built_in\x22\x3etype\x3c\/span\x3e,\n            timer:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n        }\n    })\n    .\x3cspan class=\x22hljs-keyword\x22\x3edo\x3c\/span\x3e(x =\x26gt; {\n        currentType = x.\x3cspan class=\x22hljs-built_in\x22\x3etype\x3c\/span\x3e\n    })\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e下面是重点\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e只点击按钮或者只切换下拉页面都不应该展示排序过程，只有当两个事件流都触发了，并且之后某一个再次触发的时候才会渲染排序过程的动画，所以我们需要\x3ccode\x3ecombineLatest\x3c\/code\x3e操作符,将两个数据流合并成一个\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const combine$=Rx.Observable.combineLatest(\n    createNumber$,\n    select$\n)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3econst combine\x3cspan class=\x22hljs-variable\x22\x3e$=\x3c\/span\x3eRx.Observable.combineLatest(\n    createNumber\x3cspan class=\x22hljs-variable\x22\x3e$,\x3c\/span\x3e\n    select\x3cspan class=\x22hljs-variable\x22\x3e$\n\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在在combine$数据流中我们就有个随机数组和排序类型\x3c\/p\x3e\n\x3cp\x3e[Array[300],\x271\x27]\x3c\/p\x3e\n\x3cp\x3e然后就应该排序算法进行工作了，这里思考一下\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e[] 怎样来生成我们排序算法排序过程中数据的快照？\x3c\/li\x3e\n\x3cli\x3e[] 生成的数据快照什么时候让echart来渲染？\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e对于第一点，我们需要将\x3ccode\x3e排序算法封装成一个自定义的operator\x3c\/code\x3e,在排序过程中不断next() 数据快照,\x3cbr\x3e到这里我们的数据流就变成能在\x3ccode\x3e未来一段时间内不断生成新Value的一个数据流\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nRx.Observable.prototype.sort = function () {\n    const input = this\n    return Rx.Observable.create((observer) =\x3e {\n        input.subscribe((arr) =\x3e {\n            const nums = clone(arr[0])\n            const select = arr[1]\n            const sortMethod = sortTypes[select.type]\n            sortMethod(nums, function (arr) {\n                observer.next({\n                    nums: JSON.parse(JSON.stringify(arr)),\n                    select\n                })\n            }, error =\x3e {\n                observer.error(error)\n            })\n        }, )\n\n    })\n}\n\ncombine$.sort()\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\nRx.Observable.prototype.sort = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e input = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        input.subscribe(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3earr\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nums = clone(arr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e])\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e select = arr[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e sortMethod = sortTypes[select.type]\n            sortMethod(nums, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3earr\x3c\/span\x3e) \x3c\/span\x3e{\n                observer.next({\n                    \x3cspan class=\x22hljs-attr\x22\x3enums\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(\x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(arr)),\n                    select\n                })\n            }, error =\x26gt; {\n                observer.error(error)\n            })\n        }, )\n\n    })\n}\n\ncombine$.sort()\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于第二点，因为排序算法是非常快的，如果我们subscibe sort()操作符产生的新值就开始渲染echart,页面上是看不出动画效果的，所以，我们需要\x3ccode\x3e延迟echart渲染图表的过程\x3c\/code\x3e,我们需要将sort()触发的值\x3ccode\x3e转变成一个异步的新事件流并打平到原数据流中\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22combine$\n    .sort()\n    .flatMap(obj =\x3e {\n        return Rx.Observable.of(obj).delay(100 * obj.select.timer\x2b\x2b)\n    })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ecombine\x3c\/span\x3e$\n    .\x3cspan class=\x22hljs-built_in\x22\x3esort\x3c\/span\x3e()\n    .flatMap(obj =\x26gt; {\n        \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e Rx.Observable.of(obj).\x3cspan class=\x22hljs-built_in\x22\x3edelay\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e * obj.select.\x3cspan class=\x22hljs-built_in\x22\x3etimer\x3c\/span\x3e\x2b\x2b)\n    })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e注意obj.select.timer\x2b\x2b\x3c\/code\x3e，对于sort()前后触发的两个值，为了展示出echart渲染的动画，我们要给它们渲染的时间依次递增\x3c\/p\x3e\n\x3cp\x3e到这一步，我们的单次功能就能正常进行了，但如果\x3ccode\x3e在一个排序动画过程还没有结束，我们又点击了一个新的排序类型\x3c\/code\x3e，则新旧两次的还在\x3ccode\x3e序列\x3c\/code\x3e中没进行的渲染都会依次进行，干扰echart渲染的效果，所以在切换到新的类型时，我们要过滤序列中的值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22combine$\n    .sort()\n    .flatMap(obj =\x3e {\n        return Rx.Observable.of(obj).delay(100 * obj.select.timer\x2b\x2b)\n    })\n    .filter(x =\x3e {\n        return x.select.type == currentType\n    })\n    .do(x =\x3e {\n        const option = getOption(x.nums)\n        echartInstance.setOption(option)\n    })\n    .subscribe(() =\x3e { }, null, () =\x3e {\n        console.log(\x27complete\x27)\n    })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3ecombine$\n    .sort()\n    .flatMap(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Rx.Observable.of(obj).delay(\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e * obj.select.timer\x2b\x2b)\n    })\n    .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e x.select.type == currentType\n    })\n    .do(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e option = getOption(x.nums)\n        echartInstance.setOption(option)\n    })\n    .subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e { }, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27complete\x27\x3c\/span\x3e)\n    })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e整个数据流序列\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22   -createNumber$---------------------------------------------------------------------------------\n \n   ---------------select$-------------------------------------------------------------------------\n                             combineLatest()\n   ---------------------------combine$------------------------------------------------------------\n                              sort()\n   ---------------------------v1       v2       v3       v4 .......v11      v22      v33----------\n                                flatMap()\n   ---------------------------delay1  delay2  delay3  delay4 ....delay11  delay22  delay33--------\n                                 filter(currentType==type)\n   ---------------------------delay1  delay2  delay11  delay22  delay33--------------------------\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haml\x22\x3e\x3ccode\x3e   -\x3cspan class=\x22ruby\x22\x3ecreateNumber$---------------------------------------------------------------------------------\n\x3c\/span\x3e \n   -\x3cspan class=\x22ruby\x22\x3e--------------select$-------------------------------------------------------------------------\n\x3c\/span\x3e                             combineLatest()\n   -\x3cspan class=\x22ruby\x22\x3e--------------------------combine$------------------------------------------------------------\n\x3c\/span\x3e                              sort()\n   -\x3cspan class=\x22ruby\x22\x3e--------------------------v1       v2       v3       v4 .......v11      v22      v33----------\n\x3c\/span\x3e                                flatMap()\n   -\x3cspan class=\x22ruby\x22\x3e--------------------------delay1  delay2  delay3  delay4 ....delay11  delay22  delay33--------\n\x3c\/span\x3e                                 filter(currentType==type)\n   -\x3cspan class=\x22ruby\x22\x3e--------------------------delay1  delay2  delay11  delay22  delay33--------------------------\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Rxjs入门实践-各种排序算法排序过程的可视化展示</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011665982">https://segmentfault.com/a/1190000011665982</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/bnj8muu0xhh/" target="_blank">https://alili.tech/archive/bnj8muu0xhh/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>