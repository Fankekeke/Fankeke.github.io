<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="常见的web网络攻击处理方案"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>常见的web网络攻击处理方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/c0blklc2oh/",
				"appid": "1613049289050283", 
				"title": "常见的web网络攻击处理方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-30T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/rvr6wzop5af/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/gj5oro3w0ca/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&text=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&text=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&title=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&is_video=false&description=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&title=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&title=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&title=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fc0blklc2oh%2f&title=%e5%b8%b8%e8%a7%81%e7%9a%84web%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">常见的web网络攻击处理方案</h1><div class="meta"><div class="postdate"><time datetime="2018-12-30" itemprop="datePublished">2018-12-30</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e来到新公司以后，还蛮大的公司，前段后端同事也大都是3年左右工作经验的，但是在遇到被刷手机验证码接口的时候却给出了一些“奇怪”的对策，比如验证手机格式，IOS，Android那边说验证手机机器码。。。\x3cbr\x3e人家都是直接用脚本直接随机生成手机号，机器码什么的好伐。。。\x3cbr\x3e感觉可能是和很多同学平时基本遇不到这样的情况有关吧，我以前的项目的话也有几百万的用户，东西做大了，攻击者就会天天来光顾了，遇到的也就多了。。。所以，我就来做做总结。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e分类\x3c\/h2\x3e\n\x3cp\x3e本文将介绍一下三种网络攻击的解决方案：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3eXSS\x3c\/li\x3e\n\x3cli\x3eCSRF\x3c\/li\x3e\n\x3cli\x3e脚本刷接口\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eXSS\x3c\/h2\x3e\n\x3cp\x3eXSS全称是Cross-site scripting，有点前端安全基础的同学应该都知道。就是通过一些用户可以输入的界面，比如评论，填入一些非法字符，如\x3ccode\x3e\x26gt;\x26lt;script\x26gt;alert(document.cookie)\x26lt;\/script\x26gt;\x3c\/code\x3e等类似的方式，导致网页做些这个“史壳郎”想要的一些操作。\x3cbr\x3e怎么防御呢？这种现象的产生原因无非是，前端模板或者后端模板在渲染的时候没有进行字符转译，导致\x3ccode\x3e\x26lt;\x26gt;\x3c\/code\x3e这样的字符直接就渲染到了页面上。\x3cbr\x3e所以，我们只需要在渲染前做一次转译，将这些符号转为字符实体就好了。幸运的是，现在的前端库，如vue，react，前端模板ejs，juicer，后端模板smarty，blade等，都已经内部做了转译了，开发者愉快的使用就好了。所以，其实我们完全不用做任何额外的工作。但是，还是理解内部机制比较好。\x3cbr\x3e详细的可以看\x3ca href=\x22https:\/\/github.com\/CodeLittlePrince\/blog\/issues\/2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我在github写的文章\x3c\/a\x3e，字数不多，但是言简意赅，因为并不喜欢长篇大论的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eCSRF\x3c\/h2\x3e\n\x3cp\x3eCSRF全称是Cross-site request forgery。这个的话其实很多公司都不太做这个防御，我问过挺多朋友，他们公司的确并不关心这个。\x3cbr\x3e好吧，，，不过其实，这种攻击的确在如今，对用户或者公司的危害非常小，不过还是要做的，因为，对于网络安全，我们是认真的！\x3cbr\x3e攻击场景的话，比如：网页有一个对作品点赞的功能，点赞提交地址为\x3ccode\x3ehttp:\/\/csrf.com\/api.like?id=777\x3c\/code\x3e，然后另外一个网站放了这样一个元素\x3ccode\x3e\x26lt;img src=\x22http:\/\/csrf.com\/api.like?id=888\x22\x26gt;\x3c\/code\x3e，这样的话，一旦用户进入这个bbb.com页面，就会请求csrf.com\/api.like这个接口，因为用户的登录信息尚未过期，那就等于给id为888这个作品点赞了。\x3cbr\x3e防御方式：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e后端判断referer是否合法（不推荐）\x3c\/li\x3e\n\x3cli\x3e每次请求都要带上token，token是csrf.com页面渲染时一起带过来的，这样的话，如果不在csrf.com页面发起这个点赞请求，token是不存在的，因为就能做到防御了。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e这里只简单的介绍了一下，\x3ca href=\x22https:\/\/github.com\/CodeLittlePrince\/blog\/issues\/6\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e详细的可以看我在github写的文章\x26gt;\x26gt;\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e脚本刷接口\x3c\/h2\x3e\n\x3cp\x3e这种攻击方式很简单，最傻瓜的就是在chrome打开控制面板，到console里这么做\x3ccode\x3e$.get(\x27\/getPhoneVerifyCode\x27)\x3c\/code\x3e。\x3cbr\x3e最常见的场景就是，也不知道“史壳郎”目的是什么，总会刷网站的手机验证码接口，导致公司在短信接口上话费更多的费用，估计是短信验证码的公司的人干的。。。\x3cbr\x3e防御方式：\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e目前公认的解决方案，就一种，验证码验证\x3c\/li\x3e\x3c\/ol\x3e\n\x3ch4\x3e可是提供验证码的公司那么多，怎么选呢？\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVVCr2?w=796\x26amp;h=406\x22 src=\x22https:\/\/static.alili.tech\/img\/bVVCr2?w=796\x26amp;h=406\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e还在用这样的验证码吗？\x3cbr\x3e那只要想，分分钟就能被刷爆。这样图片文字识别的算法早烂大街了。\x3c\/p\x3e\n\x3cp\x3e介绍几种比较新型的验证码：\x3c\/p\x3e\n\x3cp\x3e1、\x3cstrong\x3e智能无感知型\x3c\/strong\x3e：比如谷歌智能验证\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVVCth?w=616\x26amp;h=164\x22 src=\x22https:\/\/static.alili.tech\/img\/bVVCth?w=616\x26amp;h=164\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e2、\x3cstrong\x3e滑块型\x3c\/strong\x3e：比如极验的滑块\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVVCut?w=624\x26amp;h=498\x22 src=\x22https:\/\/static.alili.tech\/img\/bVVCut?w=624\x26amp;h=498\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e3、\x3cstrong\x3e图片位置点击型\x3c\/strong\x3e：比如网易云易盾的图中点选\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVVCvW?w=628\x26amp;h=426\x22 src=\x22https:\/\/static.alili.tech\/img\/bVVCvW?w=628\x26amp;h=426\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们以前公司用的是\x3ca href=\x22http:\/\/www.geetest.com\/exp.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e极验验证\x3c\/a\x3e。用的是它的第二代验证，然后最近发现它居然出了第三代认证，就是“智能无感知型”的认证。\x3c\/p\x3e\n\x3cp\x3e最后，我想说，我真的不是极验公司的码农0 0\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>常见的web网络攻击处理方案</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011310463">https://segmentfault.com/a/1190000011310463</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/c0blklc2oh/" target="_blank">https://alili.tech/archive/c0blklc2oh/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>