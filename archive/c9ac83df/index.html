<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="我的源码阅读之路：redux源码剖析"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>我的源码阅读之路：redux源码剖析 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/c9ac83df/",
				"appid": "1613049289050283", 
				"title": "我的源码阅读之路：redux源码剖析 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-11-03T02:30:13"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/462a2d7d/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/c67cad32/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&text=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&text=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&title=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&is_video=false&description=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&title=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&title=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&title=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fc9ac83df%2f&title=%e6%88%91%e7%9a%84%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%e4%b9%8b%e8%b7%af%ef%bc%9aredux%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">我的源码阅读之路：redux源码剖析</h1><div class="meta"><div class="postdate"><time datetime="2018-11-03" itemprop="datePublished">2018-11-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\x3ch1 id=\x22articleHeader0\x22\x3e\x26#x524D;\x26#x8A00;\x3c\/h1\x3e\x3cp\x3e\x26#x7528;\x26#x8FC7;react\x26#x7684;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x5BF9;redux\x26#x5176;\x26#x5B9E;\x26#x5E76;\x26#x4E0D;\x26#x964C;\x26#x751F;\x26#xFF0C;\x26#x57FA;\x26#x672C;\x26#x5927;\x26#x591A;\x26#x6570;\x26#x7684;React\x26#x5E94;\x26#x7528;\x26#x7528;\x26#x5230;\x26#x5B83;\x26#x3002;\x26#x4E00;\x26#x822C;\x26#x5927;\x26#x5BB6;\x26#x7528;redux\x26#x7684;\x26#x65F6;\x26#x5019;\x26#x57FA;\x26#x672C;\x26#x90FD;\x26#x4E0D;\x26#x4F1A;\x26#x5355;\x26#x72EC;\x26#x53BB;\x26#x4F7F;\x26#x7528;\x26#x5B83;\x26#xFF0C;\x26#x800C;\x26#x662F;\x26#x914D;\x26#x5408;react-redux\x26#x4E00;\x26#x8D77;\x26#x53BB;\x26#x4F7F;\x26#x7528;\x26#x3002;\x26#x521A;\x26#x5B66;\x26#x4E60;redux\x26#x7684;\x26#x65F6;\x26#x5019;\x26#x5F88;\x26#x5BB9;\x26#x6613;\x26#x5F04;\x26#x6DF7;\x26#x6DC6;redux\x26#x548C;react-redux\x26#xFF0C;\x26#x4EE5;\x26#x4E3A;\x26#x4ED6;\x26#x4FE9;\x26#x662F;\x26#x540C;\x26#x4E00;\x26#x4E2A;\x26#x4E1C;\x26#x897F;\x26#x3002;\x26#x5176;\x26#x5B9E;\x26#x4E0D;\x26#x7136;\x26#xFF0C;redux\x26#x662F;javascript\x26#x5E94;\x26#x7528;\x26#x7A0B;\x26#x5E8F;\x26#x7684;\x26#x53EF;\x26#x9884;\x26#x6D4B;\x26#x72B6;\x26#x6001;\x26#x5BB9;\x26#x5668;,\x26#x800C;react-redux\x26#x5219;\x26#x662F;\x26#x7528;\x26#x6765;\x26#x8FDE;\x26#x63A5;\x26#x8FD9;\x26#x4E2A;\x26#x72B6;\x26#x6001;\x26#x5BB9;\x26#x5668;\x26#x4E0E;react\x26#x7EC4;\x26#x4EF6;\x26#x3002;\x26#x53EF;\x26#x80FD;\x26#x524D;\x26#x7AEF;\x26#x65B0;\x26#x4EBA;\x26#x5BF9;\x26#x8FD9;\x26#x4E24;\x26#x8005;\x26#x8FD8;\x26#x662F;\x26#x89C9;\x26#x5F97;\x26#x5F88;\x26#x62BD;\x26#x8C61;\x26#xFF0C;\x26#x6253;\x26#x4E2A;\x26#x6BD4;\x26#x65B9;\x26#x8BF4;\x26#xFF0C;\x26#x5728;\x26#x4E00;\x26#x4E2A;\x26#x666E;\x26#x901A;\x26#x5BB6;\x26#x5EAD;\x26#x4E2D;\x26#xFF0C;\x26#x5988;\x26#x5988;\x26#x5728;\x26#x5BB6;\x26#x91CC;\x26#x90FD;\x26#x662F;\x26#x81F3;\x26#x9AD8;\x26#x65E0;\x26#x4E0A;\x26#x7684;\x26#x5730;\x26#x4F4D;\x26#xFF0C;\x26#x638C;\x26#x63E1;\x26#x5BB6;\x26#x4E2D;\x26#x7ECF;\x26#x6D4E;\x26#x5927;\x26#x6743;\x26#xFF0C;\x26#x5BB6;\x26#x91CC;\x26#x7684;\x26#x7ECF;\x26#x6D4E;\x26#x6D41;\x26#x6C34;\x26#x90FD;\x26#x8981;\x26#x7ECF;\x26#x8FC7;\x26#x4F60;\x26#x7684;\x26#x5988;\x26#x5988;\x26#xFF0C;\x26#x800C;\x26#x4F60;\x26#x7684;\x26#x7238;\x26#x7238;\x26#x5219;\x26#x8D1F;\x26#x8D23;\x26#x4ECE;\x26#x5916;\x26#x9762;\x26#x8D5A;\x26#x94B1;\x26#x7136;\x26#x540E;\x26#x4EA4;\x26#x7ED9;\x26#x4F60;\x26#x7684;\x26#x5988;\x26#x5988;\x26#x3002;\x26#x8FD9;\x26#x91CC;\x26#x628A;\x26#x4F60;\x26#x7684;\x26#x5988;\x26#x5988;\x26#x7C7B;\x26#x6BD4;\x26#x6210;redux\x26#xFF0C;\x26#x800C;\x26#x4F60;\x26#x7684;\x26#x7238;\x26#x7238;\x26#x53EF;\x26#x4EE5;\x26#x7C7B;\x26#x6BD4;\x26#x6210;react-redux,\x26#x800C;\x26#x5916;\x26#x9762;\x26#x7684;\x26#x5927;\x26#x5343;\x26#x4E16;\x26#x754C;\x26#x5219;\x26#x662F;react\x26#x7EC4;\x26#x4EF6;\x26#x3002;\x26#x76F8;\x26#x4FE1;\x26#x8FD9;\x26#x6837;\x26#x7684;\x26#x7C7B;\x26#x6BD4;\x26#xFF0C;\x26#x5927;\x26#x5BB6;\x26#x5BF9;\x26#x8FD9;react\x26#x548C;react-redux\x26#x7684;\x26#x6709;\x26#x4E86;\x26#x4E00;\x26#x4E2A;\x26#x521D;\x26#x6B65;\x26#x8BA4;\x26#x8BC6;\x26#x3002;\x26#x672C;\x26#x7BC7;\x26#x6587;\x26#x7AE0;\x26#x4ECB;\x26#x7ECD;\x26#x7684;\x26#x4E3B;\x26#x8981;\x26#x5185;\x26#x5BB9;\x26#x662F;\x26#x5BF9;redux\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x7684;\x26#x5206;\x26#x6790;\x26#xFF0C;react-redux\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x5206;\x26#x6790;\x26#x5C06;\x26#x4F1A;\x26#x5728;\x26#x6211;\x26#x7684;\x26#x4E0B;\x26#x4E00;\x26#x7BC7;\x26#x6587;\x26#x7AE0;\x26#x4E2D;\x26#xFF0C;\x26#x656C;\x26#x8BF7;\x26#x671F;\x26#x5F85;\x26#xFF01;\x26#x5404;\x26#x4F4D;\x26#x5C0F;\x26#x4F19;\x26#x4EEC;\x26#x5982;\x26#x679C;\x26#x89C9;\x26#x5F97;\x26#x5199;\x26#x7684;\x26#x4E0D;\x26#x9519;\x26#x7684;\x26#x8BDD;\x26#xFF0C;\x26#x9EBB;\x26#x70E6;\x26#x591A;\x26#x591A;\x26#x70B9;\x26#x8D5E;\x26#x6536;\x26#x85CF;\x26#x5173;\x26#x6CE8;\x26#x54E6;\x26#xFF01;\x3c\/p\x3e\x3ch1 id=\x22articleHeader1\x22\x3eredux\x26#x7684;\x26#x4F7F;\x26#x7528;\x3c\/h1\x3e\x3cp\x3e\x26#x5728;\x26#x8BB2;redux\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x4E4B;\x26#x524D;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x5148;\x26#x56DE;\x26#x987E;\x26#x4E00;\x26#x4E0B;redux\x26#x662F;\x26#x5982;\x26#x4F55;\x26#x4F7F;\x26#x7528;\x26#x7684;\x26#xFF0C;\x26#x7136;\x26#x540E;\x26#x6211;\x26#x4EEC;\x26#x518D;\x26#x5BF9;\x26#x7167;\x26#x7740;redux\x26#x7684;\x26#x4F7F;\x26#x7528;\x26#x53BB;\x26#x9605;\x26#x8BFB;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x8FD9;\x26#x6837;\x26#x5927;\x26#x5BB6;\x26#x7684;\x26#x5370;\x26#x8C61;\x26#x53EF;\x26#x80FD;\x26#x4F1A;\x26#x66F4;\x26#x52A0;\x26#x6DF1;\x26#x523B;\x26#x70B9;\x26#x3002;\x26#x5148;\x26#x8D34;\x26#x4E0A;\x26#x4E00;\x26#x6BB5;demo\x26#x4EE3;\x26#x7801;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const initialState={\n  cash:200,\n\n}\nconst reducer=(state=initialState,action)=\x26gt;{\n  const {type,payload} = action;\n  switch(type){\n    case \x26apos;INCREMENT\x26apos;:\n      return Object.assign({},state,{\n        cash:state.cash\x2bpayload\n      });\n    case \x26apos;DECREMENT\x26apos;:\n      return Object.assign({},state,{\n        cash:state.cash-payload\n      });\n    default :\n      return state;\n  }\n}\n\nconst reducers=Redux.combineReducers({treasury:reducer});\n\n\/\/\x26#x521B;\x26#x5EFA;\x26#x5C0F;\x26#x91D1;\x26#x5E93;\nconst store=Redux.createStore(reducers);\n\n\/\/\x26#x5F53;\x26#x5C0F;\x26#x91D1;\x26#x5E93;\x26#x7684;\x26#x73B0;\x26#x91D1;\x26#x53D1;\x26#x751F;\x26#x53D8;\x26#x5316;\x26#x65F6;\x26#xFF0C;\x26#x6253;\x26#x5370;\x26#x5F53;\x26#x524D;\x26#x7684;\x26#x91D1;\x26#x989D;\nstore.subscribe(()=\x26gt;{\n  console.log(`\x26#x4F59;\x26#x989D;\x26#xFF1A;${store.getState().treasury.cash}`);\n});\n\n\/\/\x26#x5C0F;\x26#x660E;\x26#x7238;\x26#x7238;\x26#x53D1;\x26#x4E86;\x26#x5DE5;\x26#x8D44;300\x26#x5757;\x26#x4E0A;\x26#x4EA4;\nstore.dispatch({\n  type:\x26apos;INCREMENT\x26apos;,\n  payload:300\n});\n\/\/\x26#x5C0F;\x26#x660E;\x26#x62FF;\x26#x7740;\x26#x6C34;\x26#x7535;\x26#x8D39;\x26#x5355;\x26#x4EA4;100\x26#x5757;\x26#x6C34;\x26#x7535;\x26#x8D39;\nstore.dispatch({\n  type:\x26apos;DECREMENT\x26apos;,\n  payload:100\n});\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e initialState={\n  cash:\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e,\n\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducer=\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3estate=initialState,action\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e {\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e,payload} = action;\n  \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e){\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;INCREMENT\x26apos;\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({},state,{\n        cash:state.cash\x2bpayload\n      });\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;DECREMENT\x26apos;\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({},state,{\n        cash:state.cash-payload\n      });\n    \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e :\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state;\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducers=Redux.combineReducers({treasury:reducer});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x521B;\x26#x5EFA;\x26#x5C0F;\x26#x91D1;\x26#x5E93;\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store=Redux.createStore(reducers);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x5F53;\x26#x5C0F;\x26#x91D1;\x26#x5E93;\x26#x7684;\x26#x73B0;\x26#x91D1;\x26#x53D1;\x26#x751F;\x26#x53D8;\x26#x5316;\x26#x65F6;\x26#xFF0C;\x26#x6253;\x26#x5370;\x26#x5F53;\x26#x524D;\x26#x7684;\x26#x91D1;\x26#x989D;\x3c\/span\x3e\nstore.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`\x26#x4F59;\x26#x989D;\x26#xFF1A;\x3cspan class=\x22hljs-subst\x22\x3e${store.getState().treasury.cash}\x3c\/span\x3e`\x3c\/span\x3e);\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x5C0F;\x26#x660E;\x26#x7238;\x26#x7238;\x26#x53D1;\x26#x4E86;\x26#x5DE5;\x26#x8D44;300\x26#x5757;\x26#x4E0A;\x26#x4EA4;\x3c\/span\x3e\nstore.dispatch({\n  \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x26apos;INCREMENT\x26apos;\x3c\/span\x3e,\n  payload:\x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e\n});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x5C0F;\x26#x660E;\x26#x62FF;\x26#x7740;\x26#x6C34;\x26#x7535;\x26#x8D39;\x26#x5355;\x26#x4EA4;100\x26#x5757;\x26#x6C34;\x26#x7535;\x26#x8D39;\x3c\/span\x3e\nstore.dispatch({\n  \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x26apos;DECREMENT\x26apos;\x3c\/span\x3e,\n  payload:\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x4E0A;\x26#x9762;\x26#x8FD9;\x26#x6BB5;\x26#x4EE3;\x26#x7801;\x26#x662F;\x26#x4E00;\x26#x4E2A;\x26#x975E;\x26#x5E38;\x26#x5178;\x26#x578B;\x26#x7684;redux\x26#x7684;\x26#x4F7F;\x26#x7528;\x26#xFF0C;\x26#x8DDF;\x26#x5927;\x26#x5BB6;\x26#x5E73;\x26#x65F6;\x26#x5728;\x26#x9879;\x26#x76EE;\x26#x91CC;\x26#x7528;\x26#x7684;\x26#x4E0D;\x26#x592A;\x26#x4E00;\x26#x6837;\x26#xFF0C;\x26#x53EF;\x26#x80FD;\x26#x6709;\x26#x4E9B;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x4E0D;\x26#x80FD;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x5176;\x26#x5B9E;react-redux\x26#x53EA;\x26#x4E0D;\x26#x8FC7;\x26#x5728;\x26#x8FD9;\x26#x79CD;\x26#x4F7F;\x26#x7528;\x26#x65B9;\x26#x6CD5;\x26#x4E0A;\x26#x505A;\x26#x4E86;\x26#x4E00;\x26#x5C42;\x26#x5C01;\x26#x88C5;\x26#x3002;\x26#x7B49;\x26#x5F53;\x26#x6211;\x26#x4EEC;\x26#x5F04;\x26#x6E05;\x26#x695A;redux\x26#x7684;\x26#x4F7F;\x26#x7528;\x26#xFF0C;\x26#x518D;\x26#x53BB;\x26#x770B;react-redux\x26#x6E90;\x26#x7801;\x26#x4FBF;\x26#x4F1A;\x26#x660E;\x26#x767D;\x26#x4E86;\x26#x6211;\x26#x4EEC;\x26#x5728;\x26#x9879;\x26#x76EE;\x26#x91CC;\x26#x4E3A;\x26#x4F55;\x26#x662F;\x26#x90A3;\x26#x79CD;\x26#x5199;\x26#x6CD5;\x26#x800C;\x26#x4E0D;\x26#x662F;\x26#x8FD9;\x26#x79CD;\x26#x5199;\x26#x6CD5;\x26#x3002;\x3c\/p\x3e\x3cp\x3e\x26#x8BF4;\x26#x5230;redux\x26#x7684;\x26#x4F7F;\x26#x7528;\x26#xFF0C;\x26#x4E0D;\x26#x514D;\x26#x8981;\x26#x8BF4;\x26#x4E00;\x26#x4E0B;action\x26#x3001;reducer\x26#x548C;store\x26#x4E09;\x26#x8005;\x26#x7684;\x26#x5173;\x26#x7CFB;\x26#x3002;\x26#x8BB0;\x26#x5F97;\x26#x5F53;\x26#x521D;\x26#x7B2C;\x26#x4E00;\x26#x6B21;\x26#x4F7F;\x26#x7528;redux\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x4E00;\x26#x76F4;\x26#x5206;\x26#x4E0D;\x26#x6E05;\x26#x8FD9;\x26#x4E09;\x26#x8005;\x26#x7684;\x26#x5173;\x26#x7CFB;\x26#xFF0C;\x26#x611F;\x26#x89C9;\x26#x8FD9;\x26#x4E09;\x26#x4E2A;\x26#x5F88;\x26#x62BD;\x26#x8C61;\x26#x5F88;\x26#x7384;\x26#x5B66;\x26#xFF0C;\x26#x76F8;\x26#x4FE1;\x26#x4E0D;\x26#x5C11;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x8DDF;\x26#x6211;\x26#x4E00;\x26#x6837;\x26#x9047;\x26#x5230;\x26#x8FC7;\x26#x540C;\x26#x6837;\x26#x7684;\x26#x60C5;\x26#x51B5;\x26#x3002;\x26#x5176;\x26#x5B9E;\x26#x5E76;\x26#x4E0D;\x26#x96BE;\x26#xFF0C;\x26#x6211;\x26#x8FD8;\x26#x662F;\x26#x7528;\x26#x6587;\x26#x7AE0;\x26#x5F00;\x26#x5934;\x26#x6253;\x26#x7684;\x26#x6BD4;\x26#x65B9;\x26#x8FD8;\x26#x89E3;\x26#x91CA;\x26#x8FD9;\x26#x4E09;\x26#x8005;\x26#x7684;\x26#x5173;\x26#x7CFB;\x26#x3002;\x3c\/p\x3e\x3cblockquote\x3e\x26#x73B0;\x26#x5728;\x26#x4FDD;\x26#x9669;\x26#x7BB1;\x26#xFF08;store\x26#xFF09;\x26#x91CC;\x26#x5B58;\x26#x653E;200\x26#x5757;\x26#x5927;\x26#x6D0B;\x26#x3002;\x26#x5230;\x26#x6708;\x26#x5E95;\x26#x4E86;\x26#xFF0C;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x7238;\x26#x7238;\x26#x7684;\x26#x5355;\x26#x4F4D;\x26#x53D1;\x26#x4E86;\x26#x5DE5;\x26#x8D44;\x26#x603B;\x26#x8BA1;300\x26#x5757;\x26#x5927;\x26#x6D0B;\x26#xFF0C;\x26#x62FF;\x26#x5230;\x26#x5DE5;\x26#x8D44;\x26#x4E4B;\x26#x540E;\x26#x7B2C;\x26#x4E00;\x26#x4EF6;\x26#x7684;\x26#x4E8B;\x26#x60C5;\x26#x5C31;\x26#x662F;\x26#x4E0A;\x26#x4EA4;\x26#xFF0C;\x26#x6BEB;\x26#x65E0;\x26#x7591;\x26#x95EE;\x26#x7684;\x26#xFF0C;\x26#x9664;\x26#x975E;\x26#x5C0F;\x26#x660E;\x26#x7238;\x26#x7238;\x26#x4E0D;\x26#x8981;\x26#x547D;\x26#x4E86;\x26#x3002;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x7238;\x26#x7238;\x26#x53EF;\x26#x4EE5;\x26#x76F4;\x26#x63A5;\x26#x5C06;\x26#x8FD9;300\x26#x5757;\x26#x5927;\x26#x6D0B;\x26#x653E;\x26#x5230;\x26#x5BB6;\x26#x91CC;\x26#x7684;\x26#x4FDD;\x26#x9669;\x26#x7BB1;\x26#x91CC;\x26#x9762;\x26#x5417;\x26#xFF1F;\x26#x663E;\x26#x7136;\x26#x662F;\x26#x4E0D;\x26#x53EF;\x26#x4EE5;\x26#x7684;\x26#xFF0C;\x26#x6240;\x26#x4EE5;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x7238;\x26#x7238;\x26#x5F97;\x26#x5411;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x7238;\x26#x7238;\x26#x63D0;\x26#x4EA4;\x26#x7533;\x26#x8BF7;\x26#xFF0C;\x26#x800C;\x26#x8FD9;\x26#x4E2A;\x26#x7533;\x26#x8BF7;\x26#x4E5F;\x26#x5C31;\x26#x662F;\x26#x6211;\x26#x4EEC;\x26#x6240;\x26#x8BF4;\x26#x7684;action\x26#x3002;\x26#x8FD9;\x26#x4E2A;\x26#x7533;\x26#x8BF7;\x26#xFF08;action\x26#xFF09;\x26#x5305;\x26#x62EC;\x26#x64CD;\x26#x4F5C;\x26#x7C7B;\x26#x578B;\x26#x548C;\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x4E1C;\x26#x897F;\x26#xFF0C;\x26#x7533;\x26#x8BF7;\x26#x7C7B;\x26#x578B;\x26#x5C31;\x26#x662F;\x26#x5B58;\x26#x94B1;\x26#xFF08;INCREMENT\x26#xFF09;,\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x4E1C;\x26#x897F;\x26#x5C31;\x26#x662F;300\x26#x5757;\x26#x5927;\x26#x6D0B;\x26#xFF08;payload\x26#xFF09;\x26#x3002;\x26#x6B64;\x26#x65F6;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x5988;\x26#x5988;\x26#x62FF;\x26#x5230;\x26#x8FD9;\x26#x4E2A;\x26#x7533;\x26#x8BF7;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x5C06;\x26#x6839;\x26#x636E;\x26#x8FD9;\x26#x4E2A;\x26#x7533;\x26#x8BF7;\x26#x6267;\x26#x884C;\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x64CD;\x26#x4F5C;\x26#xFF0C;\x26#x8FD9;\x26#x91CC;\x26#x5C31;\x26#x662F;\x26#x5F80;\x26#x4FDD;\x26#x9669;\x26#x7BB1;\x26#x91CC;\x26#x7684;\x26#x73B0;\x26#x91D1;\x26#x91CC;\x26#x653E;300\x26#x5757;\x26#x5927;\x26#x6D0B;\x26#x8FDB;\x26#x53BB;\x26#xFF0C;\x26#x6B64;\x26#x65F6;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x5988;\x26#x5988;\x26#x5E72;\x26#x7684;\x26#x4E8B;\x26#x60C5;\x26#x5C31;\x26#x662F;reducer\x26#x5E72;\x26#x7684;\x26#x4E8B;\x26#x60C5;\x26#x3002;\x26#x5F53;300\x26#x5757;\x26#x5927;\x26#x6D0B;\x26#x653E;\x26#x5B8C;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x5988;\x26#x5988;\x26#x5C31;\x26#x901A;\x26#x77E5;\x26#x5BB6;\x26#x91CC;\x26#x7684;\x26#x6240;\x26#x6709;\x26#x4EBA;\x26#x73B0;\x26#x5728;\x26#x7684;\x26#x5C0F;\x26#x91D1;\x26#x5E93;\x26#x7684;\x26#x91D1;\x26#x989D;\x26#x5DF2;\x26#x7ECF;\x26#x53D1;\x26#x751F;\x26#x4E86;\x26#x53D8;\x26#x5316;\x26#xFF0C;\x26#x73B0;\x26#x5728;\x26#x7684;\x26#x4F59;\x26#x989D;\x26#x662F;500\x26#x5757;\x26#x3002;\x26#x5F53;\x26#x5C0F;\x26#x660E;\x26#x7684;\x26#x7238;\x26#x7238;\x26#x6536;\x26#x5230;\x26#x8FD9;\x26#x4E2A;\x26#x901A;\x26#x77E5;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x5FC3;\x26#x7684;\x26#x4E00;\x26#x5757;\x26#x5927;\x26#x77F3;\x26#x5934;\x26#x4E5F;\x26#x5C31;\x26#x653E;\x26#x4E0B;\x26#x6765;\x26#x4E86;\x26#x3002;\x26#x8FC7;\x26#x4E86;\x26#x4E00;\x26#x4F1A;\x26#xFF0C;\x26#x5C0F;\x26#x660E;\x26#x56DE;\x26#x6765;\x26#x4E86;\x26#xFF0C;\x26#x5E76;\x26#x4E14;\x26#x62FF;\x26#x7740;\x26#x4E00;\x26#x5F20;\x26#x4EF7;\x26#x503C;100\x26#x5757;\x26#x7684;\x26#x6C34;\x26#x7535;\x26#x8D39;\x26#x7684;\x26#x50AC;\x26#x6536;\x26#x5355;\x26#x3002;\x26#x4E8E;\x26#x662F;\x26#xFF0C;\x26#x5C0F;\x26#x660E;\x26#x60F3;\x26#x5C0F;\x26#x660E;\x26#x5988;\x26#x5988;\x26#x7533;\x26#x8BF7;\x26#x4EA4;\x26#x6C34;\x26#x7535;\x26#x8D39;\x26#xFF0C;\x26#x5C0F;\x26#x660E;\x26#x5988;\x26#x5988;\x26#x4ECE;\x26#x4FDD;\x26#x9669;\x26#x5E93;\x26#x4E2D;\x26#x53D6;\x26#x51FA;\x26#x6765;100\x26#x5757;\x26#x7ED9;\x26#x4E86;\x26#x5C0F;\x26#x660E;\x26#xFF0C;\x26#x5E76;\x26#x901A;\x26#x77E5;\x26#x4E86;\x26#x5BB6;\x26#x91CC;\x26#x6240;\x26#x6709;\x26#x4EBA;\x26#x5C0F;\x26#x91D1;\x26#x5E93;\x26#x7684;\x26#x91D1;\x26#x989D;\x26#x53C8;\x26#x53D1;\x26#x751F;\x26#x4E86;\x26#x53D8;\x26#x5316;\x26#xFF0C;\x26#x73B0;\x26#x5728;\x26#x4F59;\x26#x989D;400\x26#x5757;\x26#x3002;\x3c\/blockquote\x3e\x3cp\x3e\x26#x901A;\x26#x8FC7;\x26#x4E0A;\x26#x9762;\x26#x7684;\x26#x4F8B;\x26#x5B50;\x26#xFF0C;\x26#x76F8;\x26#x4FE1;\x26#x5C0F;\x26#x4F19;\x26#x4EEC;\x26#x5BF9;\x26#x4E09;\x26#x8005;\x26#x7684;\x26#x5173;\x26#x7CFB;\x26#x6709;\x26#x4E86;\x26#x4E00;\x26#x4E2A;\x26#x6BD4;\x26#x8F83;\x26#x6E05;\x26#x6670;\x26#x7684;\x26#x8BA4;\x26#x8BC6;\x26#x3002;\x26#x73B0;\x26#x5728;\x26#x6211;\x26#x4EEC;\x26#x5DF2;\x26#x7ECF;\x26#x7406;\x26#x6E05;\x26#x695A;\x26#x4E86;action\x26#x3001;reducer\x26#x548C;store\x26#x4E09;\x26#x8005;\x26#x7684;\x26#x5173;\x26#x7CFB;\x26#xFF0C;\x26#x5E76;\x26#x4E14;\x26#x4E5F;\x26#x77E5;\x26#x9053;\x26#x4E86;redux\x26#x662F;\x26#x5982;\x26#x4F55;\x26#x4F7F;\x26#x7528;\x26#x7684;\x26#x4E86;\x26#xFF0C;\x26#x73B0;\x26#x5728;\x26#x5C06;\x26#x5F00;\x26#x59CB;\x26#x6211;\x26#x4EEC;\x26#x5F97;\x26#x6E90;\x26#x7801;\x26#x9605;\x26#x8BFB;\x26#x4E4B;\x26#x65C5;\x26#x3002;\x3c\/p\x3e\x3ch1 id=\x22articleHeader2\x22\x3eredux\x26#x9879;\x26#x76EE;\x26#x7ED3;\x26#x6784;\x3c\/h1\x3e\x3cp\x3e\x26#x672C;\x26#x7BC7;\x26#x6587;\x26#x7AE0;\x26#x662F;\x26#x57FA;\x26#x4E8E;redux\x26#x7684;4.0.0\x26#x7248;\x26#x672C;\x26#x505A;\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x5206;\x26#x6790;\x26#xFF0C;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x5728;\x26#x5BF9;\x26#x7167;\x26#x6E90;\x26#x7801;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x5343;\x26#x4E07;\x26#x522B;\x26#x5F04;\x26#x9519;\x26#x4E86;\x26#x3002;\x26#x6574;\x26#x4E2A;redux\x26#x9879;\x26#x76EE;\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x7684;\x26#x9605;\x26#x8BFB;\x26#x6211;\x26#x4EEC;\x26#x53EA;\x26#x9700;\x26#x8981;\x26#x5173;\x26#x6CE8;src\x26#x7684;\x26#x76EE;\x26#x5F55;\x26#x5373;\x26#x53EF;\x26#x3002;\x3c\/p\x3e\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbg72D?w=548\x26amp;h=494\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbg72D?w=548\x26amp;h=494\x22 alt=\x22\x26#x56FE;\x26#x7247;\x26#x63CF;\x26#x8FF0;\x22 title=\x22\x26#x56FE;\x26#x7247;\x26#x63CF;\x26#x8FF0;\x22 style=\x22cursor:pointer\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3cp\x3e\x26#x8FD9;\x26#x91CC;\x26#x4E3B;\x26#x8981;\x26#x5206;\x26#x4E3A;\x26#x4E24;\x26#x5927;\x26#x5757;\x26#xFF0C;\x26#x4E00;\x26#x5757;\x26#x4E3A;\x26#x81EA;\x26#x5B9A;\x26#x4E49;\x26#x7684;\x26#x5DE5;\x26#x5177;\x26#x5E93;\x26#xFF0C;\x26#x53E6;\x26#x4E00;\x26#x5757;\x26#x5219;\x26#x662F;redux\x26#x7684;\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\x26#x3002;\x26#x5148;\x26#x4ECE;\x26#x54EA;\x26#x5757;\x26#x5F00;\x26#x59CB;\x26#x9605;\x26#x8BFB;\x26#x5462;\x26#xFF1F;\x26#x6211;\x26#x4E2A;\x26#x4EBA;\x26#x5EFA;\x26#x8BAE;\x26#x5148;\x26#x9605;\x26#x8BFB;\x26#x81EA;\x26#x5B9A;\x26#x4E49;\x26#x7684;\x26#x5DE5;\x26#x5177;\x26#x5E93;\x26#x8FD9;\x26#x5757;\x26#x3002;\x26#x4E3B;\x26#x8981;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E24;\x26#x4E2A;\x26#x539F;\x26#x56E0;\x26#xFF1A;\x26#x7B2C;\x26#x4E00;\x26#x4E2A;\x26#xFF0C;\x26#x8FD9;\x26#x5757;\x26#x4EE3;\x26#x7801;\x26#x6BD4;\x26#x8F83;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x5BB9;\x26#x6613;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x5927;\x26#x5BB6;\x26#x66F4;\x26#x80FD;\x26#x8FDB;\x26#x5165;\x26#x9605;\x26#x8BFB;\x26#x7684;\x26#x72B6;\x26#x6001;\x26#xFF1B;\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;\x26#xFF0C;redux\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\x26#x4F1A;\x26#x7528;\x26#x5230;\x26#x8FD9;\x26#x4E9B;\x26#x81EA;\x26#x5B9A;\x26#x4E49;\x26#x5DE5;\x26#x5177;\x26#xFF0C;\x26#x5148;\x26#x641E;\x26#x61C2;\x26#x8FD9;\x26#x4E9B;\x26#xFF0C;\x26#x5BF9;\x26#x540E;\x26#x7EED;\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\x26#x7684;\x26#x9605;\x26#x8BFB;\x26#x505A;\x26#x4E86;\x26#x4E00;\x26#x4E2A;\x26#x5F88;\x26#x597D;\x26#x7684;\x26#x94FA;\x26#x57AB;\x26#x3002;\x26#x4E0B;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x6B63;\x26#x5F0F;\x26#x5F00;\x26#x59CB;\x26#x6211;\x26#x4EEC;\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x9605;\x26#x8BFB;\x26#x4E4B;\x26#x65C5;\x26#x3002;\x3c\/p\x3e\x3ch1 id=\x22articleHeader3\x22\x3eutils\x3c\/h1\x3e\x3ch2 id=\x22articleHeader4\x22\x3eactionTypes.js\x3c\/h2\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const ActionTypes = {\n  INIT:\n    \x26apos;@@redux\/INIT\x26apos; \x2b\n    Math.random()\n      .toString(36)\n      .substring(7)\n      .split(\x26apos;\x26apos;)\n      .join(\x26apos;.\x26apos;),\n  REPLACE:\n    \x26apos;@@redux\/REPLACE\x26apos; \x2b\n    Math.random()\n      .toString(36)\n      .substring(7)\n      .split(\x26apos;\x26apos;)\n      .join(\x26apos;.\x26apos;)\n}\n\nexport default ActionTypes\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ActionTypes = {\n  INIT:\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;@@redux\/INIT\x26apos;\x3c\/span\x3e \x2b\n    Math.\x3cspan class=\x22hljs-built_in\x22\x3erandom\x3c\/span\x3e()\n      .toString(\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e)\n      .substring(\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e)\n      .\x3cspan class=\x22hljs-built_in\x22\x3esplit\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26apos;\x3c\/span\x3e)\n      .\x3cspan class=\x22hljs-built_in\x22\x3ejoin\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\x26apos;\x3c\/span\x3e),\n  REPLACE:\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;@@redux\/REPLACE\x26apos;\x3c\/span\x3e \x2b\n    Math.\x3cspan class=\x22hljs-built_in\x22\x3erandom\x3c\/span\x3e()\n      .toString(\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e)\n      .substring(\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e)\n      .\x3cspan class=\x22hljs-built_in\x22\x3esplit\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26apos;\x3c\/span\x3e)\n      .\x3cspan class=\x22hljs-built_in\x22\x3ejoin\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\x26apos;\x3c\/span\x3e)\n}\n\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e ActionTypes\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x6BB5;\x26#x4EE3;\x26#x7801;\x26#x5F88;\x26#x597D;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x5C31;\x26#x662F;\x26#x5BF9;\x26#x5916;\x26#x66B4;\x26#x9732;\x26#x4E24;\x26#x4E2A;action\x26#x7C7B;\x26#x578B;\x26#xFF0C;\x26#x6CA1;\x26#x4EC0;\x26#x4E48;\x26#x96BE;\x26#x70B9;\x26#x3002;\x26#x4F46;\x26#x662F;\x26#x6211;\x26#x8FD9;\x26#x91CC;\x26#x60F3;\x26#x4ECB;\x26#x7ECD;\x26#x7684;\x26#x662F;Number.prototype.toString\x26#x65B9;\x26#x6CD5;\x26#xFF0C;\x26#x4F30;\x26#x8BA1;\x26#x5E94;\x26#x8BE5;\x26#x6709;\x26#x4E0D;\x26#x5C11;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x4E0D;\x26#x77E5;\x26#x9053;toString\x26#x662F;\x26#x53EF;\x26#x4EE5;\x26#x4F20;\x26#x53C2;\x26#x7684;\x26#xFF0C;toString\x26#x63A5;\x26#x6536;\x26#x4E00;\x26#x4E2A;\x26#x53C2;\x26#x6570;radix\x26#xFF0C;\x26#x4EE3;\x26#x8868;\x26#x6570;\x26#x5B57;\x26#x7684;\x26#x57FA;\x26#x6570;\x26#xFF0C;\x26#x4E5F;\x26#x5C31;\x26#x662F;\x26#x6211;\x26#x4EEC;\x26#x6240;\x26#x8BF4;\x26#x7684;2\x26#x8FDB;\x26#x5236;\x26#x3001;10\x26#x8FDB;\x26#x5236;\x26#x3001;16\x26#x8FDB;\x26#x5236;\x26#x7B49;\x26#x7B49;\x26#x3002;radix\x26#x7684;\x26#x53D6;\x26#x503C;\x26#x8303;\x26#x56F4;\x26#x4E5F;\x26#x5F88;\x26#x5BB9;\x26#x6613;\x26#x5F97;\x26#x51FA;\x26#x6765;\x26#xFF0C;\x26#x6700;\x26#x5C0F;\x26#x8FDB;\x26#x5236;\x26#x5C31;\x26#x662F;\x26#x6211;\x26#x4EEC;\x26#x5F97;\x26#x4E8C;\x26#x8FDB;\x26#x5236;\x26#xFF0C;\x26#x6240;\x26#x4EE5;redix\x26gt;=2\x26#x3002;0-9\x26#xFF08;10\x26#x4E2A;\x26#x6570;\x26#x5B57;\x26#xFF09;\x2ba-z\x26#xFF08;26\x26#x4E2A;\x26#x82F1;\x26#x6587;\x26#x5B57;\x26#x6BCD;\x26#xFF09;\x26#x603B;\x26#x5171;36\x26#x4E2A;\x26#xFF0C;\x26#x6240;\x26#x4EE5;redix\x26lt;=36\x26#x3002;\x26#x603B;\x26#x7ED3;\x26#x4E00;\x26#x4E0B;2\x26lt;=radix\x26lt;=36,\x26#x9ED8;\x26#x8BA4;\x26#x662F;10\x26#x3002;\x26#x57FA;\x26#x4E8E;\x26#x8FD9;\x26#x4E2A;\x26#x7279;\x26#x6027;\x26#x6211;\x26#x4EEC;\x26#x53EF;\x26#x4EE5;\x26#x5199;\x26#x4E00;\x26#x4E2A;\x26#x83B7;\x26#x53D6;\x26#x6307;\x26#x5B9A;\x26#x957F;\x26#x5EA6;\x26#x7684;\x26#x968F;\x26#x673A;\x26#x5B57;\x26#x7B26;\x26#x4E32;\x26#x7684;\x26#x957F;\x26#x5EA6;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/\x26#x83B7;\x26#x53D6;\x26#x6307;\x26#x5B9A;\x26#x957F;\x26#x5EA6;\x26#x7684;\x26#x968F;\x26#x673A;\x26#x5B57;\x26#x7B26;\x26#x4E32;\nfunction randomString(length){\n  let str=\x26apos;\x26apos;;\n  while(length\x26gt;0){\n    const fragment= Math.random().toString(36).substring(2);\n    if(length\x26gt;fragment.length){\n      str\x2b=fragment;\n      length-=fragment.length;\n    }else{\n      str\x2b=fragment.substring(0,length);\n      length=0;\n    }\n  }\n  return str;\n}\n\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs hsp\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x83B7;\x26#x53D6;\x26#x6307;\x26#x5B9A;\x26#x957F;\x26#x5EA6;\x26#x7684;\x26#x968F;\x26#x673A;\x26#x5B57;\x26#x7B26;\x26#x4E32;\x3c\/span\x3e\nfunction randomString(\x3cspan class=\x22hljs-keyword\x22\x3elength\x3c\/span\x3e){\n  let \x3cspan class=\x22hljs-keyword\x22\x3estr\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26apos;\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elength\x3c\/span\x3e\x26gt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n    const fragment= Math.random().toString(\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e).substring(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elength\x3c\/span\x3e\x26gt;fragment.length){\n      \x3cspan class=\x22hljs-keyword\x22\x3estr\x3c\/span\x3e\x2b=fragment\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3elength\x3c\/span\x3e-=fragment.length\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3estr\x3c\/span\x3e\x2b=fragment.substring(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\x3cspan class=\x22hljs-keyword\x22\x3elength\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3elength\x3c\/span\x3e=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estr\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n}\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2 id=\x22articleHeader5\x22\x3eisPlainObject.js\x3c\/h2\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default function isPlainObject(obj) {\n  if (typeof obj !== \x26apos;object\x26apos; || obj === null) return false\n\n  let proto = obj\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto)\n  }\n\n  return Object.getPrototypeOf(obj) === proto\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eisPlainObject\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;object\x26apos;\x3c\/span\x3e || obj === \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e proto = obj\n  \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.getPrototypeOf(proto) !== \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) {\n    proto = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.getPrototypeOf(proto)\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.getPrototypeOf(obj) === proto\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eisPlainObject.js\x26#x4E5F;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x4EC5;\x26#x4EC5;\x26#x53EA;\x26#x662F;\x26#x5411;\x26#x5916;\x26#x66B4;\x26#x9732;\x26#x4E86;\x26#x4E00;\x26#x4E2A;\x26#x7528;\x26#x4E8E;\x26#x5224;\x26#x65AD;\x26#x662F;\x26#x5426;\x26#x7B80;\x26#x5355;\x26#x5BF9;\x26#x8C61;\x26#x7684;\x26#x51FD;\x26#x6570;\x26#x3002;\x26#x4EC0;\x26#x4E48;\x26#x7B80;\x26#x5355;\x26#x5BF9;\x26#x8C61;\x26#xFF1F;\x26#x5E94;\x26#x8BE5;\x26#x6709;\x26#x4E00;\x26#x4E9B;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4E0D;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x6240;\x26#x8C13;\x26#x7684;\x26#x7B80;\x26#x5355;\x26#x5BF9;\x26#x8C61;\x26#x5C31;\x26#x662F;\x26#x8BE5;\x26#x5BF9;\x26#x8C61;\x26#x7684;__proto__\x26#x7B49;\x26#x4E8E;Object.prototype,\x26#x7528;\x26#x4E00;\x26#x53E5;\x26#x901A;\x26#x4FD7;\x26#x6613;\x26#x61C2;\x26#x7684;\x26#x8BDD;\x26#x5C31;\x26#x662F;:\x3c\/p\x3e\x3cblockquote\x3e\x3cstrong\x3e\x26#x51E1;\x26#x4E0D;\x26#x662F;new Object()\x26#x6216;\x26#x8005;\x26#x5B57;\x26#x9762;\x26#x91CF;\x26#x7684;\x26#x65B9;\x26#x5F0F;\x26#x6784;\x26#x5EFA;\x26#x51FA;\x26#x6765;\x26#x7684;\x26#x5BF9;\x26#x8C61;\x26#x90FD;\x26#x4E0D;\x26#x662F;\x26#x7B80;\x26#x5355;\x26#x5BF9;\x26#x8C61;\x3c\/strong\x3e\x3c\/blockquote\x3e\x3cp\x3e\x26#x4E0B;\x26#x9762;\x26#x770B;\x26#x4E00;\x26#x4E2A;\x26#x4F8B;\x26#x5B50;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Fruit{\n  sayName(){\n    console.log(this.name)\n  }\n}\n\nclass Apple extends Fruit{\n  constructor(){\n    super();\n    this.name=\x26quot;\x26#x82F9;\x26#x679C;\x26quot;\n  }\n}\n\nconst apple = new Apple();\nconst fruit = new Fruit();\nconst cherry = new Object({\n  name:\x26apos;\x26#x6A31;\x26#x6843;\x26apos;\n});\nconst banana = {\n  name:\x26apos;\x26#x9999;\x26#x8549;\x26apos;\n};\n\nconsole.log(isPlainObject(apple));\/\/false\nconsole.log(isPlainObject(fruit));\/\/false\nconsole.log(isPlainObject(cherry));\/\/true\nconsole.log(isPlainObject(banana));\/\/true\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eFruit\x3c\/span\x3e\x3c\/span\x3e{\n  sayName(){\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name)\n  }\n}\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eApple\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eFruit\x3c\/span\x3e\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(){\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e();\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name=\x3cspan class=\x22hljs-string\x22\x3e\x26quot;\x26#x82F9;\x26#x679C;\x26quot;\x3c\/span\x3e\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e apple = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Apple();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fruit = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Fruit();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e cherry = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e({\n  \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26#x6A31;\x26#x6843;\x26apos;\x3c\/span\x3e\n});\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e banana = {\n  \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26#x9999;\x26#x8549;\x26apos;\x3c\/span\x3e\n};\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isPlainObject(apple));\x3cspan class=\x22hljs-comment\x22\x3e\/\/false\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isPlainObject(fruit));\x3cspan class=\x22hljs-comment\x22\x3e\/\/false\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isPlainObject(cherry));\x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isPlainObject(banana));\x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x91CC;\x26#x53EF;\x26#x80FD;\x26#x4F1A;\x26#x6709;\x26#x4EBA;\x26#x4E0D;\x26#x7406;\x26#x89E3;\x3cstrong\x3eisPlainObject(fruit)===false\x3c\/strong\x3e\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x5BF9;\x26#x8FD9;\x26#x4E2A;\x26#x4E0D;\x26#x80FD;\x26#x7406;\x26#x89E3;\x26#x7684;\x26#x8BDD;\x26#xFF0C;\x26#x81EA;\x26#x5DF1;\x26#x540E;\x26#x9762;\x26#x8981;\x26#x8865;\x26#x4E60;\x26#x4E00;\x26#x4E0B;\x26#x539F;\x26#x578B;\x26#x94FE;\x26#x7684;\x26#x76F8;\x26#x5173;\x26#x77E5;\x26#x8BC6;\x26#xFF0C;\x26#x8FD9;\x26#x91CC;fruit.__proto__.__proto__\x26#x624D;\x26#x7B49;\x26#x4EF7;\x26#x4E8E;Object.prototype\x26#x3002;\x3c\/p\x3e\x3ch2 id=\x22articleHeader6\x22\x3ewarning.js\x3c\/h2\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default function warning(message) {\n  if (typeof console !== \x26apos;undefined\x26apos; \x26amp;\x26amp; typeof console.error === \x26apos;function\x26apos;) {\n    console.error(message)\n  }\n  try {\n    throw new Error(message)\n  } catch (e) {} \n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ewarning\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emessage\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error(message)\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(message)\n  } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (e) {} \n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x4E2A;\x26#x4E5F;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x4EC5;\x26#x4EC5;\x26#x662F;\x26#x6253;\x26#x5370;\x26#x4E00;\x26#x4E0B;\x26#x9519;\x26#x8BEF;\x26#x4FE1;\x26#x606F;\x26#x3002;\x26#x4E0D;\x26#x8FC7;\x26#x8FD9;\x26#x91CC;\x26#x5B83;\x26#x7684;console\x26#x5C45;\x26#x7136;\x26#x52A0;\x26#x4E86;\x26#x4E00;\x26#x5C42;\x26#x5224;\x26#x65AD;\x26#xFF0C;\x26#x6211;\x26#x67E5;\x26#x9605;\x26#x4E86;\x26#x4E00;\x26#x4E0B;\x26#x53D1;\x26#x73B0;console\x26#x5176;\x26#x5B9E;\x26#x662F;\x26#x6709;\x26#x517C;\x26#x5BB9;\x26#x6027;\x26#x95EE;\x26#x9898;\x26#xFF0C;ie8\x26#x53CA;\x26#x5176;\x26#x4EE5;\x26#x4E0B;\x26#x90FD;\x26#x662F;\x26#x4E0D;\x26#x652F;\x26#x6301;console\x26#x7684;\x26#x3002;\x26#x54CE;\x26#xFF0C;\x26#x4E0D;\x26#x4EC5;\x26#x611F;\x26#x53F9;\x26#x4E00;\x26#x53E5;\x26#xFF01;\x3c\/p\x3e\x3cblockquote\x3e\x3cstrong\x3e\x26#x5982;\x26#x679C;\x26#x8BF4;\x26#x9A6C;\x26#x8D5B;\x26#x514B;\x26#x963B;\x26#x788D;\x26#x4E86;\x26#x4EBA;\x26#x7C7B;\x26#x6587;\x26#x660E;\x26#x7684;\x26#x8FDB;\x26#x7A0B;\x26#xFF0C;\x26#x90A3;ie\x26#x4FBF;\x26#x662F;\x26#x963B;\x26#x788D;\x26#x4E86;\x26#x524D;\x26#x7AEF;\x26#x6280;\x26#x672F;\x26#x7684;\x26#x53D1;\x26#x5C55;\x26#x3002;\x3c\/strong\x3e\x3c\/blockquote\x3e\x3ch1 id=\x22articleHeader7\x22\x3e\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\x3c\/h1\x3e\x3cp\x3e\x26#x5230;\x26#x8FD9;\x26#x91CC;\x26#x6211;\x26#x5DF2;\x26#x7ECF;\x26#x5B8C;\x26#x6210;\x26#x5BF9;utils\x26#x4E0B;\x26#x7684;js\x26#x5206;\x26#x6790;\x26#xFF0C;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x5E76;\x26#x6CA1;\x26#x6709;\x26#x5927;\x26#x5BB6;\x26#x60F3;\x26#x8C61;\x26#x7684;\x26#x90A3;\x26#x4E48;\x26#x96BE;\x26#x3002;\x26#x4EC5;\x26#x4EC5;\x26#x4ECE;\x26#x8FD9;\x26#x51E0;\x26#x4E2A;\x26#x7B80;\x26#x5355;\x26#x7684;js\x26#x4E2D;\x26#xFF0C;\x26#x5C31;\x26#x7275;\x26#x5F15;\x26#x51FA;\x26#x597D;\x26#x51E0;\x26#x4E2A;\x26#x6211;\x26#x4EEC;\x26#x5E73;\x26#x65F6;\x26#x4E0D;\x26#x592A;\x26#x5173;\x26#x6CE8;\x26#x7684;\x26#x77E5;\x26#x8BC6;\x26#x70B9;\x26#x3002;\x26#x5982;\x26#x679C;\x26#x6211;\x26#x4EEC;\x26#x4E0D;\x26#x8BFB;\x26#x8FD9;\x26#x4E9B;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x8FD9;\x26#x4E9B;\x26#x5BB9;\x26#x6613;\x26#x88AB;\x26#x5FFD;\x26#x89C6;\x26#x7684;\x26#x77E5;\x26#x8BC6;\x26#x70B9;\x26#x5C31;\x26#x5F88;\x26#x96BE;\x26#x88AB;\x26#x6361;\x26#x8D77;\x26#x6765;\x26#xFF0C;\x26#x8FD9;\x26#x4E5F;\x26#x662F;\x26#x4E3A;\x26#x4EC0;\x26#x4E48;\x26#x5F88;\x26#x591A;\x26#x5927;\x26#x4F6C;\x26#x5EFA;\x26#x8BAE;\x26#x9605;\x26#x8BFB;\x26#x6E90;\x26#x7801;\x26#x7684;\x26#x539F;\x26#x56E0;\x26#x3002;\x26#x6211;\x26#x4E2A;\x26#x4EBA;\x26#x8BA4;\x26#x4E3A;\x26#xFF0C;\x26#x9605;\x26#x8BFB;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x7406;\x26#x89E3;\x26#x539F;\x26#x7406;\x26#x662F;\x26#x6B21;\x26#x8981;\x26#x7684;\x26#x3002;\x26#x5B66;\x26#x4E60;\x26#x5927;\x26#x4F6C;\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#x98CE;\x26#x683C;\x26#x3001;\x26#x4E00;\x26#x4E9B;\x26#x89E3;\x26#x51B3;\x26#x601D;\x26#x8DEF;\x26#x4EE5;\x26#x53CA;\x26#x5BF9;\x26#x81EA;\x26#x5DF1;\x26#x77E5;\x26#x8BC6;\x26#x76F2;\x26#x70B9;\x26#x7684;\x26#x70B9;\x26#x4EAE;\x26#x66F4;\x26#x4E3A;\x26#x91CD;\x26#x8981;\x26#x3002;\x26#x5E9F;\x26#x8BDD;\x26#x4E0D;\x26#x591A;\x26#x8BF4;\x26#xFF0C;\x26#x5F00;\x26#x59CB;\x26#x6211;\x26#x4EEC;\x26#x4E0B;\x26#x4E00;\x26#x4E2A;\x26#x90E8;\x26#x5206;\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#x9605;\x26#x8BFB;\x26#xFF0C;\x26#x4E0B;\x26#x9762;\x26#x7684;\x26#x90E8;\x26#x5206;\x26#x5C31;\x26#x662F;\x26#x6574;\x26#x4E2A;redux\x26#x7684;\x26#x6838;\x26#x5FC3;\x26#x90E8;\x26#x5206;\x26#x3002;\x3c\/p\x3e\x3ch2 id=\x22articleHeader8\x22\x3eindex.js\x3c\/h2\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import createStore from \x26apos;.\/createStore\x26apos;\nimport combineReducers from \x26apos;.\/combineReducers\x26apos;\nimport bindActionCreators from \x26apos;.\/bindActionCreators\x26apos;\nimport applyMiddleware from \x26apos;.\/applyMiddleware\x26apos;\nimport compose from \x26apos;.\/compose\x26apos;\nimport warning from \x26apos;.\/utils\/warning\x26apos;\nimport __DO_NOT_USE__ActionTypes from \x26apos;.\/utils\/actionTypes\x26apos;\n\nfunction isCrushed() {}\n\nif (\n  process.env.NODE_ENV !== \x26apos;production\x26apos; \x26amp;\x26amp;\n  typeof isCrushed.name === \x26apos;string\x26apos; \x26amp;\x26amp;\n  isCrushed.name !== \x26apos;isCrushed\x26apos;\n) {\n  warning(\n    \x26quot;You are currently using minified code outside of NODE_ENV === \x26apos;production\x26apos;. \x26quot; \x2b\n      \x26apos;This means that you are running a slower development build of Redux. \x26apos; \x2b\n      \x26apos;You can use loose-envify (https:\/\/github.com\/zertosh\/loose-envify) for browserify \x26apos; \x2b\n      \x26apos;or DefinePlugin for webpack (http:\/\/stackoverflow.com\/questions\/30030031) \x26apos; \x2b\n      \x26apos;to ensure you have the correct code for your production build.\x26apos;\n  )\n}\n\nexport {\n  createStore,\n  combineReducers,\n  bindActionCreators,\n  applyMiddleware,\n  compose,\n  __DO_NOT_USE__ActionTypes\n}\n\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e createStore \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/createStore\x26apos;\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e combineReducers \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/combineReducers\x26apos;\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e bindActionCreators \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/bindActionCreators\x26apos;\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e applyMiddleware \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/applyMiddleware\x26apos;\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e compose \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/compose\x26apos;\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e warning \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/utils\/warning\x26apos;\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e __DO_NOT_USE__ActionTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/utils\/actionTypes\x26apos;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eisCrushed\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\n  process.env.NODE_ENV !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;production\x26apos;\x3c\/span\x3e \x26amp;\x26amp;\n  \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e isCrushed.name === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;string\x26apos;\x3c\/span\x3e \x26amp;\x26amp;\n  isCrushed.name !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;isCrushed\x26apos;\x3c\/span\x3e\n) {\n  warning(\n    \x3cspan class=\x22hljs-string\x22\x3e\x26quot;You are currently using minified code outside of NODE_ENV === \x26apos;production\x26apos;. \x26quot;\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e\x26apos;This means that you are running a slower development build of Redux. \x26apos;\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e\x26apos;You can use loose-envify (https:\/\/github.com\/zertosh\/loose-envify) for browserify \x26apos;\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e\x26apos;or DefinePlugin for webpack (http:\/\/stackoverflow.com\/questions\/30030031) \x26apos;\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e\x26apos;to ensure you have the correct code for your production build.\x26apos;\x3c\/span\x3e\n  )\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e {\n  createStore,\n  combineReducers,\n  bindActionCreators,\n  applyMiddleware,\n  compose,\n  __DO_NOT_USE__ActionTypes\n}\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eindex.js\x26#x662F;\x26#x6574;\x26#x4E2A;redux\x26#x7684;\x26#x5165;\x26#x53E3;\x26#x6587;\x26#x4EF6;\x26#xFF0C;\x26#x5C3E;\x26#x90E8;\x26#x7684;export\x26#x51FA;\x26#x6765;\x26#x7684;\x26#x65B9;\x26#x6CD5;\x26#x662F;\x26#x4E0D;\x26#x662F;\x26#x90FD;\x26#x5F88;\x26#x719F;\x26#x6089;\x26#xFF0C;\x26#x6BCF;\x26#x4E2A;\x26#x65B9;\x26#x6CD5;\x26#x5BF9;\x26#x5E94;\x26#x4E86;\x26#x4E00;\x26#x4E2A;js,\x26#x8FD9;\x26#x4E5F;\x26#x662F;\x26#x540E;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x8981;\x26#x5206;\x26#x6790;\x26#x7684;\x26#x3002;\x26#x8FD9;\x26#x4E2A;\x26#x6709;\x26#x4E24;\x26#x4E2A;\x26#x70B9;\x26#x9700;\x26#x8981;\x26#x8BB2;\x26#x4E00;\x26#x4E0B;\x26#xFF1A;\x3c\/p\x3e\x3cp\x3e\x3cstrong\x3e\x26#x7B2C;\x26#x4E00;\x26#x4E2A;\x26#xFF0C;__DO_NOT_USE__ActionTypes\x26#x3002;\x3c\/strong\x3e \x26#x8FD9;\x26#x4E2A;\x26#x5F88;\x26#x964C;\x26#x751F;\x26#xFF0C;\x26#x5E73;\x26#x65F6;\x26#x5728;\x26#x9879;\x26#x76EE;\x26#x91CC;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x662F;\x26#x4E0D;\x26#x592A;\x26#x4F1A;\x26#x7528;\x26#x5230;\x26#x7684;\x26#xFF0C;redux\x26#x7684;\x26#x5B98;\x26#x65B9;\x26#x6587;\x26#x6863;\x26#x4E5F;\x26#x6CA1;\x26#x6709;\x26#x63D0;\x26#x5230;\x26#x8FD9;\x26#x4E2A;\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x4F60;\x26#x4E0D;\x26#x770B;\x26#x6E90;\x26#x7801;\x26#x4F60;\x26#x53EF;\x26#x80FD;\x26#x5C31;\x26#x4E0D;\x26#x77E5;\x26#x9053;\x26#x8FD9;\x26#x4E2A;\x26#x4E1C;\x26#x897F;\x26#x7684;\x26#x5B58;\x26#x5728;\x26#x3002;\x26#x8FD9;\x26#x4E2A;\x26#x5E72;\x26#x561B;\x26#x7684;\x26#x5462;\x26#xFF1F;\x26#x6211;\x26#x4EEC;\x26#x4E00;\x26#x70B9;\x26#x4E00;\x26#x70B9;\x26#x5F80;\x26#x4E0A;\x26#x627E;\x26#xFF0C;\x26#x627E;\x26#x5230;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import __DO_NOT_USE__ActionTypes from \x26apos;.\/utils\/actionTypes\x26apos;\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode style=\x22word-break:break-word;white-space:initial\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e __DO_NOT_USE__ActionTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/utils\/actionTypes\x26apos;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x4E2A;\x26#x5F15;\x26#x5165;\x26#x7684;js\x26#x4E0D;\x26#x5C31;\x26#x662F;\x26#x6211;\x26#x4EEC;\x26#x4E4B;\x26#x524D;\x26#x5206;\x26#x6790;\x26#x7684;utils\x26#x7684;\x26#x5176;\x26#x4E2D;\x26#x4E00;\x26#x5458;\x26#x5417;\x26#xFF1F;\x26#x91CC;\x26#x9762;\x26#x5B9A;\x26#x4E49;\x26#x4E86;redux\x26#x81EA;\x26#x5E26;\x26#x7684;action\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#xFF0C;\x26#x4ECE;\x26#x8FD9;\x26#x4E2A;\x26#x53D8;\x26#x91CF;\x26#x7684;\x26#x547D;\x26#x540D;\x26#x6765;\x26#x770B;\x26#xFF0C;\x26#x8FD9;\x26#x662F;\x26#x5E2E;\x26#x52A9;\x26#x5F00;\x26#x53D1;\x26#x8005;\x26#x68C0;\x26#x67E5;\x26#x4E0D;\x26#x8981;\x26#x4F7F;\x26#x7528;redux\x26#x81EA;\x26#x5E26;\x26#x7684;action\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#xFF0C;\x26#x4EE5;\x26#x9632;\x26#x51FA;\x26#x73B0;\x26#x9519;\x26#x8BEF;\x26#x3002;\x3c\/p\x3e\x3cp\x3e\x3cstrong\x3e\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;\x26#xFF0C;\x26#x51FD;\x26#x6570;isCrushed\x26#x3002;\x3c\/strong\x3e \x26#x8FD9;\x26#x91CC;\x26#x9762;\x26#x5B9A;\x26#x4E49;\x26#x4E86;\x26#x4E00;\x26#x4E2A;\x26#x51FD;\x26#x6570;isCrushed\x26#xFF0C;\x26#x4F46;\x26#x662F;\x26#x51FD;\x26#x6570;\x26#x4F53;\x26#x91CC;\x26#x9762;\x26#x5E76;\x26#x6CA1;\x26#x6709;\x26#x4E1C;\x26#x897F;\x26#x3002;\x26#x7B2C;\x26#x4E00;\x26#x6B21;\x26#x770B;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#x5F88;\x26#x5947;\x26#x602A;\x26#xFF0C;\x26#x4E3A;\x26#x5565;\x26#x8981;\x26#x8FD9;\x26#x4E48;\x26#x5E72;\x26#xFF1F;\x26#x76F8;\x26#x4FE1;\x26#x6709;\x26#x4E0D;\x26#x5C11;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x8DDF;\x26#x6211;\x26#x6709;\x26#x4E00;\x26#x6837;\x26#x7684;\x26#x7591;\x26#x95EE;\x26#xFF0C;\x26#x7EE7;\x26#x7EED;\x26#x5F80;\x26#x4E0B;\x26#x770B;\x26#xFF0C;\x26#x7D27;\x26#x8DDF;\x26#x7740;\x26#x540E;\x26#x9762;\x26#x6709;\x26#x4E00;\x26#x6BB5;\x26#x4EE3;\x26#x7801;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (\n  process.env.NODE_ENV !== \x26apos;production\x26apos; \x26amp;\x26amp;\n  typeof isCrushed.name === \x26apos;string\x26apos; \x26amp;\x26amp;\n  isCrushed.name !== \x26apos;isCrushed\x26apos;\n) {\n  warning(\n    \x26quot;You are currently using minified code outside of NODE_ENV === \x26apos;production\x26apos;. \x26quot; \x2b\n      \x26apos;This means that you are running a slower development build of Redux. \x26apos; \x2b\n      \x26apos;You can use loose-envify (https:\/\/github.com\/zertosh\/loose-envify) for browserify \x26apos; \x2b\n      \x26apos;or DefinePlugin for webpack (http:\/\/stackoverflow.com\/questions\/30030031) \x26apos; \x2b\n      \x26apos;to ensure you have the correct code for your production build.\x26apos;\n  )\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\n  process.env.NODE_ENV !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;production\x26apos;\x3c\/span\x3e \x26amp;\x26amp;\n  typeof isCrushed.\x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;string\x26apos;\x3c\/span\x3e \x26amp;\x26amp;\n  isCrushed.\x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;isCrushed\x26apos;\x3c\/span\x3e\n) \x3cspan class=\x22hljs-comment\x22\x3e{\n  warning(\n    \x26quot;You are currently using minified code outside of NODE_ENV === \x26apos;production\x26apos;. \x26quot; \x2b\n      \x26apos;This means that you are running a slower development build of Redux. \x26apos; \x2b\n      \x26apos;You can use loose-envify (https:\/\/github.com\/zertosh\/loose-envify) for browserify \x26apos; \x2b\n      \x26apos;or DefinePlugin for webpack (http:\/\/stackoverflow.com\/questions\/30030031) \x26apos; \x2b\n      \x26apos;to ensure you have the correct code for your production build.\x26apos;\n  )\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x770B;\x26#x5230;process.env.NODE_ENV\x26#xFF0C;\x26#x8FD9;\x26#x91CC;\x26#x5C31;\x26#x8981;\x26#x8DDF;\x26#x6211;\x26#x4EEC;\x26#x6253;\x26#x5305;\x26#x65F6;\x26#x7528;\x26#x7684;\x26#x73AF;\x26#x5883;\x26#x53D8;\x26#x91CF;\x26#x8054;\x26#x7CFB;\x26#x8D77;\x26#x6765;\x26#x3002;\x26#x5F53;process.env.NODE_ENV===\x26apos;production\x26apos;\x26#x8FD9;\x26#x53E5;\x26#x8BDD;\x26#x76F4;\x26#x63A5;\x26#x4E0D;\x26#x6210;\x26#x7ACB;\x26#xFF0C;\x26#x6240;\x26#x4EE5;warning\x26#x4E5F;\x26#x5C31;\x26#x4E0D;\x26#x4F1A;\x26#x6267;\x26#x884C;\x26#xFF1B;\x26#x5F53;process.env.NODE_ENV!==\x26apos;production\x26apos;\x26#xFF0C;\x26#x6BD4;\x26#x5982;\x26#x662F;\x26#x6211;\x26#x4EEC;\x26#x7684;\x26#x5F00;\x26#x53D1;\x26#x73AF;\x26#x5883;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x4E0D;\x26#x538B;\x26#x7F29;\x26#x4EE3;\x26#x7801;\x26#x7684;\x26#x65F6;\x26#x5019;typeof isCrushed.name === \x26apos;string\x26apos; \x26amp;\x26amp; isCrushed.name !== \x26apos;isCrushed\x26apos;\x26#x4E5F;\x26#x4E0D;\x26#x4F1A;\x26#x6210;\x26#x7ACB;\x26#xFF1B;\x26#x5F53;process.env.NODE_ENV!==\x26apos;production\x26apos;\x26#xFF0C;\x26#x540C;\x26#x6837;\x26#x662F;\x26#x6211;\x26#x4EEC;\x26#x7684;\x26#x5F00;\x26#x53D1;\x26#x73AF;\x26#x5883;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x8FDB;\x26#x884C;\x26#x4E86;\x26#x4EE3;\x26#x7801;\x26#x538B;\x26#x7F29;\x26#xFF0C;\x26#x6B64;\x26#x65F6;isCrushed.name === \x26apos;string\x26apos; \x26amp;\x26amp; isCrushed.name !== \x26apos;isCrushed\x26apos;\x26#x5C31;\x26#x6210;\x26#x7ACB;\x26#x4E86;\x26#xFF0C;\x26#x53EF;\x26#x80FD;\x26#x6709;\x26#x4EBA;\x26#x4E0D;\x26#x7406;\x26#x89E3;isCrushed\x26#x51FD;\x26#x6570;\x26#x4E0D;\x26#x662F;\x26#x5728;\x26#x7684;\x26#x5417;\x26#xFF1F;\x26#x4E3A;\x26#x5565;\x26#x8FD9;\x26#x53E5;\x26#x8BDD;\x26#x5C31;\x26#x4E0D;\x26#x6210;\x26#x7ACB;\x26#x4E86;\x26#x5462;\x26#xFF1F;\x26#x5176;\x26#x5B9E;\x26#x5F88;\x26#x597D;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x4E86;\x26#x89E3;\x26#x8FC7;\x26#x4EE3;\x26#x7801;\x26#x538B;\x26#x7F29;\x26#x7684;\x26#x539F;\x26#x7406;\x26#x7684;\x26#x4EBA;\x26#x90FD;\x26#x77E5;\x26#x9053;\x26#xFF0C;\x26#x51FD;\x26#x6570;isCrushed\x26#x7684;\x26#x51FD;\x26#x6570;\x26#x540D;\x26#x5C06;\x26#x4F1A;\x26#x88AB;\x26#x4E00;\x26#x4E2A;\x26#x5B57;\x26#x6BCD;\x26#x6240;\x26#x66FF;\x26#x4EE3;\x26#xFF0C;\x26#x8FD9;\x26#x91CC;\x26#x6211;\x26#x4EEC;\x26#x4E3E;\x26#x4E2A;\x26#x4F8B;\x26#x5B50;\x26#xFF0C;\x26#x6211;\x26#x5C06;redux\x26#x9879;\x26#x76EE;\x26#x7684;\x26#x5728;development\x26#x73AF;\x26#x5883;\x26#x4E0B;\x26#x8FDB;\x26#x884C;\x26#x4E86;\x26#x4E00;\x26#x6B21;\x26#x538B;\x26#x7F29;\x26#x6253;\x26#x5305;\x26#x3002;\x26#x4EE3;\x26#x7801;\x26#x505A;\x26#x4E86;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x5C42;\x26#x8F6C;\x26#x6362;\x26#xFF1A;\x3c\/p\x3e\x3cp\x3e\x3cstrong\x3e\x26#x672A;\x26#x538B;\x26#x7F29;\x3c\/strong\x3e\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function isCrushed() {}\nif (\n  process.env.NODE_ENV !== \x26apos;production\x26apos; \x26amp;\x26amp;\n  typeof isCrushed.name === \x26apos;string\x26apos; \x26amp;\x26amp;\n  isCrushed.name !== \x26apos;isCrushed\x26apos;\n)\n\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eisCrushed\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{}\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\n  process.env.NODE_ENV !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;production\x26apos;\x3c\/span\x3e \x26amp;\x26amp;\n  \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e isCrushed.name === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;string\x26apos;\x3c\/span\x3e \x26amp;\x26amp;\n  isCrushed.name !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;isCrushed\x26apos;\x3c\/span\x3e\n)\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e\x26#x538B;\x26#x7F29;\x26#x540E;\x3c\/strong\x3e\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function d(){}\x26quot;string\x26quot;==typeof d.name\x26amp;\x26amp;\x26quot;isCrushed\x26quot;!==d.name\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode style=\x22word-break:break-word;white-space:initial\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ed\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{}\x3cspan class=\x22hljs-string\x22\x3e\x26quot;string\x26quot;\x3c\/span\x3e==\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e d.name\x26amp;\x26amp;\x3cspan class=\x22hljs-string\x22\x3e\x26quot;isCrushed\x26quot;\x3c\/span\x3e!==d.name\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x6B64;\x26#x65F6;\x26#x5224;\x26#x65AD;\x26#x6761;\x26#x4EF6;\x26#x5C31;\x26#x6210;\x26#x7ACB;\x26#x4E86;\x26#xFF0C;\x26#x9519;\x26#x8BEF;\x26#x4FE1;\x26#x606F;\x26#x5C31;\x26#x4F1A;\x26#x6253;\x26#x5370;\x26#x51FA;\x26#x6765;\x26#x3002;\x26#x8FD9;\x26#x4E2A;\x26#x4E3B;\x26#x8981;\x26#x4F5C;\x26#x7528;\x26#x5C31;\x26#x662F;\x26#x9632;\x26#x6B62;\x26#x5F00;\x26#x53D1;\x26#x8005;\x26#x5728;\x26#x5F00;\x26#x53D1;\x26#x73AF;\x26#x5883;\x26#x4E0B;\x26#x5BF9;\x26#x4EE3;\x26#x7801;\x26#x8FDB;\x26#x884C;\x26#x538B;\x26#x7F29;\x26#x3002;\x26#x5F00;\x26#x53D1;\x26#x73AF;\x26#x5883;\x26#x4E0B;\x26#x538B;\x26#x7F29;\x26#x4EE3;\x26#x7801;\x26#xFF0C;\x26#x4E0D;\x26#x4EC5;\x26#x8BA9;\x26#x6211;\x26#x4EEC;\x3c\/p\x3e\x3ch2 id=\x22articleHeader9\x22\x3ecreateStore.js\x3c\/h2\x3e\x3cp\x3e\x26#x51FD;\x26#x6570;createStore\x26#x63A5;\x26#x53D7;\x26#x4E09;\x26#x4E2A;\x26#x53C2;\x26#x6570;\x26#xFF08;reducer\x26#x3001;preloadedState\x26#x3001;enhancer\x26#xFF09;\x26#xFF0C;reducer\x26#x548C;enhancer\x26#x6211;\x26#x4EEC;\x26#x7528;\x26#x7684;\x26#x6BD4;\x26#x8F83;\x26#x591A;\x26#xFF0C;preloadedState\x26#x7528;\x26#x7684;\x26#x6BD4;\x26#x8F83;\x26#x5C11;\x26#x3002;\x26#x7B2C;\x26#x4E00;\x26#x4E2A;reducer\x26#x5F88;\x26#x597D;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x8FD9;\x26#x91CC;\x26#x5C31;\x26#x4E0D;\x26#x8FC7;\x26#x591A;\x26#x89E3;\x26#x91CA;\x26#x4E86;\x26#xFF0C;\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;preloadedState\x26#xFF0C;\x26#x5B83;\x26#x4EE3;\x26#x8868;\x26#x7740;\x26#x521D;\x26#x59CB;\x26#x72B6;\x26#x6001;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x5E73;\x26#x65F6;\x26#x5728;\x26#x9879;\x26#x76EE;\x26#x91CC;\x26#x4E5F;\x26#x5F88;\x26#x5C11;\x26#x7528;\x26#x5230;\x26#x5B83;\x26#xFF0C;\x26#x4E3B;\x26#x8981;\x26#x8BF4;\x26#x4E00;\x26#x4E0B;enhancer\x26#xFF0C;\x26#x4E2D;\x26#x6587;\x26#x540D;\x26#x53EB;\x26#x589E;\x26#x5F3A;\x26#x5668;\x26#xFF0C;\x26#x987E;\x26#x540D;\x26#x601D;\x26#x4E49;\x26#x5C31;\x26#x662F;\x26#x6765;\x26#x589E;\x26#x5F3A;redux\x26#x7684;\x26#xFF0C;\x26#x5B83;\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#x7684;\x26#x662F;Function\x26#xFF0C;createStore.js\x26#x91CC;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 if (typeof enhancer !== \x26apos;undefined\x26apos;) {\n    if (typeof enhancer !== \x26apos;function\x26apos;) {\n      throw new Error(\x26apos;Expected the enhancer to be a function.\x26apos;)\n    }\n\n    return enhancer(createStore)(reducer, preloadedState)\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e enhancer !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e enhancer !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;Expected the enhancer to be a function.\x26apos;\x3c\/span\x3e)\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e enhancer(createStore)(reducer, preloadedState)\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#x5C55;\x26#x793A;\x26#x4E86;enhancer\x26#x7684;\x26#x8C03;\x26#x7528;\x26#x8FC7;\x26#x7A0B;\x26#xFF0C;\x26#x6839;\x26#x636E;\x26#x8FD9;\x26#x4E2A;\x26#x8C03;\x26#x7528;\x26#x8FC7;\x26#x7A0B;\x26#x6211;\x26#x4EEC;\x26#x53EF;\x26#x4EE5;\x26#x63A8;\x26#x5BFC;\x26#x51FA;enhancer\x26#x7684;\x26#x51FD;\x26#x6570;\x26#x4F53;\x26#x7684;\x26#x67B6;\x26#x5B50;\x26#x5E94;\x26#x8BE5;\x26#x662F;\x26#x8FD9;\x26#x6837;\x26#x5B50;\x26#x7684;:\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 function enhancer(createStore) {\n    return (reducer,preloadedState) =\x26gt; {\n         \/\/\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\n        .......\n    }\n }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eenhancer\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecreateStore\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducer,preloadedState\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n         \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\x3c\/span\x3e\n        .......\n    }\n }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x5E38;\x26#x89C1;\x26#x7684;enhancer\x26#x5C31;\x26#x662F;redux-thunk\x26#x4EE5;\x26#x53CA;redux-saga\x26#xFF0C;\x26#x4E00;\x26#x822C;\x26#x90FD;\x26#x4F1A;\x26#x914D;\x26#x5408;applyMiddleware\x26#x4E00;\x26#x8D77;\x26#x4F7F;\x26#x7528;\x26#xFF0C;\x26#x800C;applyMiddleware\x26#x7684;\x26#x4F5C;\x26#x7528;\x26#x5C31;\x26#x662F;\x26#x5C06;\x26#x8FD9;\x26#x4E9B;enhancer\x26#x683C;\x26#x5F0F;\x26#x5316;\x26#x6210;\x26#x7B26;\x26#x5408;redux\x26#x8981;\x26#x6C42;\x26#x7684;enhancer\x26#x3002;\x26#x5177;\x26#x4F53;applyMiddleware\x26#x5B9E;\x26#x73B0;\x26#xFF0C;\x26#x4E0B;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x5C06;\x26#x4F1A;\x26#x8BB2;\x26#x5230;\x26#x3002;\x26#x6211;\x26#x4EEC;\x26#x5148;\x26#x770B;redux-thunk\x26#x7684;\x26#x4F7F;\x26#x7528;\x26#x7684;\x26#x4F8B;\x26#x5B50;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { createStore, applyMiddleware } from \x26apos;redux\x26apos;;\nimport thunk from \x26apos;redux-thunk\x26apos;;\nimport rootReducer from \x26apos;.\/reducers\/index\x26apos;;\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunk)\n);\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore, applyMiddleware } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;redux\x26apos;\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e thunk \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;redux-thunk\x26apos;\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e rootReducer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\/reducers\/index\x26apos;\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = createStore(\n  rootReducer,\n  applyMiddleware(thunk)\n);\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x770B;\x26#x5B8C;\x26#x4E0A;\x26#x9762;\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#xFF0C;\x26#x53EF;\x26#x80FD;\x26#x4F1A;\x26#x6709;\x26#x4EBA;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x4E2A;\x26#x7591;\x26#x95EE;\x26#x201C;\x3cstrong\x3ecreateStore\x26#x51FD;\x26#x6570;\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;\x26#x53C2;\x26#x6570;\x26#x4E0D;\x26#x662F;preloadedState\x26#x5417;\x26#xFF1F;\x26#x8FD9;\x26#x6837;\x26#x4E0D;\x26#x4F1A;\x26#x62A5;\x26#x9519;\x26#x5417;\x26#xFF1F;\x3c\/strong\x3e\x26#x201D; \x26#x9996;\x26#x5148;\x26#x80AF;\x26#x5B9A;\x26#x4E0D;\x26#x4F1A;\x26#x62A5;\x26#x9519;\x26#xFF0C;\x26#x6BD5;\x26#x7ADF;\x26#x5B98;\x26#x65B9;\x26#x7ED9;\x26#x7684;\x26#x4F8B;\x26#x5B50;\x26#xFF0C;\x26#x4E0D;\x26#x7136;\x26#x5199;\x26#x4E2A;\x26#x9519;\x26#x8BEF;\x26#x7684;\x26#x4F8B;\x26#x5B50;\x26#x4E5F;\x26#x592A;\x26#x5927;\x26#x8DCC;\x26#x773C;\x26#x955C;\x26#x4E86;\x26#x5427;\x26#xFF01;redux\x26#x80AF;\x26#x5B9A;\x26#x662F;\x26#x505A;\x26#x4E86;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x5C42;\x26#x8F6C;\x26#x6362;\x26#xFF0C;\x26#x6211;\x26#x5728;createStore.js\x26#x627E;\x26#x5230;\x26#x4E86;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 if (typeof preloadedState === \x26apos;function\x26apos; \x26amp;\x26amp; typeof enhancer === \x26apos;undefined\x26apos;) {\n    enhancer = preloadedState\n    preloadedState = undefined\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e preloadedState === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e enhancer === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n    enhancer = preloadedState\n    preloadedState = \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x5F53;\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;\x26#x53C2;\x26#x6570;preloadedState\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#x662F;Function\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x5E76;\x26#x4E14;\x26#x7B2C;\x26#x4E09;\x26#x4E2A;\x26#x53C2;\x26#x6570;enhancer\x26#x672A;\x26#x5B9A;\x26#x4E49;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x6B64;\x26#x65F6;preloadedState\x26#x5C06;\x26#x4F1A;\x26#x88AB;\x26#x8D4B;\x26#x503C;\x26#x7ED9;enhancer\x26#xFF0C;preloadedState\x26#x4F1A;\x26#x66FF;\x26#x4EE3;enhancer\x26#x53D8;\x26#x6210;undefined\x26#x7684;\x26#x3002;\x26#x6709;\x26#x4E86;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x5C42;\x26#x8F6C;\x26#x6362;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x5C31;\x26#x53EF;\x26#x4EE5;\x26#x5927;\x26#x80C6;\x26#x5730;\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;\x26#x53C2;\x26#x6570;\x26#x4F20;enhancer\x26#x4E86;\x26#x3002;\x3c\/p\x3e\x3cp\x3e\x26#x8BF4;\x26#x5B8C;createStore\x26#x7684;\x26#x53C2;\x26#x6570;\x26#xFF0C;\x26#x4E0B;\x26#x9762;\x26#x6211;\x26#x8BF4;\x26#x4E00;\x26#x4E0B;\x26#x51FD;\x26#x6570;createStore\x26#x6267;\x26#x884C;\x26#x5B8C;\x26#x4E4B;\x26#x540E;\x26#x8FD4;\x26#x56DE;\x26#x7684;\x26#x5BF9;\x26#x8C61;\x26#x90FD;\x26#x6709;\x26#x4EC0;\x26#x4E48;\x26#xFF1F;\x26#x5728;createStore.js\x26#x6700;\x26#x4E0B;\x26#x9762;\x26#x4E00;\x26#x884C;\x26#x6709;\x26#x8FD9;\x26#x4E00;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22return {\n    dispatch,\n    subscribe,\n    getState,\n    replaceReducer,\n    [$$observable]: observable\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs puppet\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    dispatch,\n    \x3cspan class=\x22hljs-literal\x22\x3esubscribe\x3c\/span\x3e,\n    getState,\n    replaceReducer,\n    [$\x3cspan class=\x22hljs-variable\x22\x3e$observable\x3c\/span\x3e]: observable\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x4ED6;\x26#x8FD4;\x26#x56DE;\x26#x4E86;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x51E0;\x26#x4E2A;\x26#x65B9;\x26#x6CD5;\x26#xFF0C;\x26#x5176;\x26#x4E2D;\x26#x524D;\x26#x4E09;\x26#x4E2A;\x26#x6700;\x26#x4E3A;\x26#x5E38;\x26#x7528;\x26#xFF0C;\x26#x540E;\x26#x9762;\x26#x4E24;\x26#x4E2A;\x26#x5728;\x26#x9879;\x26#x76EE;\x26#x57FA;\x26#x672C;\x26#x4E0A;\x26#x4E0D;\x26#x600E;\x26#x4E48;\x26#x7528;\x26#xFF0C;\x26#x63A5;\x26#x4E0B;\x26#x6765;\x26#x6211;\x26#x4EEC;\x26#x53BB;\x26#x4E00;\x26#x4E00;\x26#x5256;\x26#x6790;\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader10\x22\x3e\x26#x5B9A;\x26#x4E49;\x26#x7684;\x26#x4E00;\x26#x4E9B;\x26#x53D8;\x26#x91CF;\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let currentState = preloadedState \/\/\x26#x4ECE;\x26#x51FD;\x26#x6570;createStore\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;\x26#x53C2;\x26#x6570;preloadedState\x26#x83B7;\x26#x5F97;\nlet currentReducer = reducer  \/\/\x26#x4ECE;\x26#x51FD;\x26#x6570;createStore\x26#x7B2C;\x26#x4E00;\x26#x4E2A;\x26#x53C2;\x26#x6570;reducer\x26#x83B7;\x26#x5F97;\nlet currentListeners = [] \/\/\x26#x5F53;\x26#x524D;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x5217;\x26#x8868;\nlet nextListeners = currentListeners \/\/\x26#x65B0;\x26#x7684;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x5217;\x26#x8868;\nlet isDispatching = false\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecurrentState\x3c\/span\x3e = preloadedState \/\/\x26#x4ECE;\x26#x51FD;\x26#x6570;createStore\x26#x7B2C;\x26#x4E8C;\x26#x4E2A;\x26#x53C2;\x26#x6570;preloadedState\x26#x83B7;\x26#x5F97;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecurrentReducer\x3c\/span\x3e = reducer  \/\/\x26#x4ECE;\x26#x51FD;\x26#x6570;createStore\x26#x7B2C;\x26#x4E00;\x26#x4E2A;\x26#x53C2;\x26#x6570;reducer\x26#x83B7;\x26#x5F97;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecurrentListeners\x3c\/span\x3e = [] \/\/\x26#x5F53;\x26#x524D;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x5217;\x26#x8868;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3enextListeners\x3c\/span\x3e = currentListeners \/\/\x26#x65B0;\x26#x7684;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x5217;\x26#x8868;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eisDispatching\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x5176;\x26#x4E2D;\x26#x53D8;\x26#x91CF;isDispatching\x26#xFF0C;\x26#x4F5C;\x26#x4E3A;\x26#x9501;\x26#x6765;\x26#x7528;\x26#xFF0C;\x26#x6211;\x26#x4EEC;redux\x26#x662F;\x26#x4E00;\x26#x4E2A;\x26#x7EDF;\x26#x4E00;\x26#x7BA1;\x26#x7406;\x26#x72B6;\x26#x6001;\x26#x5BB9;\x26#x5668;\x26#xFF0C;\x26#x5B83;\x26#x8981;\x26#x4FDD;\x26#x8BC1;\x26#x6570;\x26#x636E;\x26#x7684;\x26#x4E00;\x26#x81F4;\x26#x6027;\x26#xFF0C;\x26#x6240;\x26#x4EE5;\x26#x540C;\x26#x4E00;\x26#x4E2A;\x26#x65F6;\x26#x95F4;\x26#x91CC;\x26#xFF0C;\x26#x53EA;\x26#x80FD;\x26#x505A;\x26#x4E00;\x26#x6B21;\x26#x6570;\x26#x636E;\x26#x4FEE;\x26#x6539;\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x4E24;\x26#x4E2A;action\x26#x540C;\x26#x65F6;\x26#x89E6;\x26#x53D1;reducer\x26#x5BF9;\x26#x540C;\x26#x4E00;\x26#x6570;\x26#x636E;\x26#x7684;\x26#x4FEE;\x26#x6539;\x26#xFF0C;\x26#x90A3;\x26#x4E48;\x26#x5C06;\x26#x4F1A;\x26#x5E26;\x26#x6765;\x26#x5DE8;\x26#x5927;\x26#x7684;\x26#x707E;\x26#x96BE;\x26#x3002;\x26#x6240;\x26#x4EE5;\x26#x53D8;\x26#x91CF;isDispatching\x26#x5C31;\x26#x662F;\x26#x4E3A;\x26#x4E86;\x26#x9632;\x26#x6B62;\x26#x8FD9;\x26#x4E00;\x26#x70B9;\x26#x800C;\x26#x5B58;\x26#x5728;\x26#x7684;\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader11\x22\x3edispatch\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(\n        \x26apos;Actions must be plain objects. \x26apos; \x2b\n          \x26apos;Use custom middleware for async actions.\x26apos;\n      )\n    }\n\n    if (typeof action.type === \x26apos;undefined\x26apos;) {\n      throw new Error(\n        \x26apos;Actions may not have an undefined \x26quot;type\x26quot; property. \x26apos; \x2b\n          \x26apos;Have you misspelled a constant?\x26apos;\n      )\n    }\n\n    if (isDispatching) {\n      throw new Error(\x26apos;Reducers may not dispatch actions.\x26apos;)\n    }\n\n    try {\n      isDispatching = true\n      currentState = currentReducer(currentState, action)\n    } finally {\n      isDispatching = false\n    }\n\n    const listeners = (currentListeners = nextListeners)\n    for (let i = 0; i \x26lt; listeners.length; i\x2b\x2b) {\n      const listener = listeners[i]\n      listener()\n    }\n\n    return action\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edispatch\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eaction\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!isPlainObject(action)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n        \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Actions must be plain objects. \x26apos;\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Use custom middleware for async actions.\x26apos;\x3c\/span\x3e\n      )\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e action.type === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n        \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Actions may not have an undefined \x26quot;type\x26quot; property. \x26apos;\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Have you misspelled a constant?\x26apos;\x3c\/span\x3e\n      )\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (isDispatching) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;Reducers may not dispatch actions.\x26apos;\x3c\/span\x3e)\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n      isDispatching = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n      currentState = currentReducer(currentState, action)\n    } \x3cspan class=\x22hljs-keyword\x22\x3efinally\x3c\/span\x3e {\n      isDispatching = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e listeners = (currentListeners = nextListeners)\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; listeners.length; i\x2b\x2b) {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e listener = listeners[i]\n      listener()\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e action\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x51FD;\x26#x6570;dispatch\x26#x5728;\x26#x51FD;\x26#x6570;\x26#x4F53;\x26#x4E00;\x26#x5F00;\x26#x59CB;\x26#x5C31;\x26#x8FDB;\x26#x884C;\x26#x4E86;\x26#x4E09;\x26#x6B21;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#xFF0C;\x26#x5206;\x26#x522B;\x26#x662F;\x26#x4EE5;\x26#x4E0B;\x26#x4E09;\x26#x4E2A;\x26#xFF1A;\x3c\/p\x3e\x3cul\x3e\x3cli\x3e\x3cstrong\x3e\x26#x5224;\x26#x65AD;action\x26#x662F;\x26#x5426;\x26#x4E3A;\x26#x7B80;\x26#x5355;\x26#x5BF9;\x26#x8C61;\x3c\/strong\x3e\x3c\/li\x3e\x3cli\x3e\x3cstrong\x3e\x26#x5224;\x26#x65AD;action.type\x26#x662F;\x26#x5426;\x26#x5B58;\x26#x5728;\x3c\/strong\x3e\x3c\/li\x3e\x3cli\x3e\x3cstrong\x3e\x26#x5224;\x26#x65AD;\x26#x5F53;\x26#x524D;\x26#x662F;\x26#x5426;\x26#x6709;\x26#x6267;\x26#x884C;\x26#x5176;\x26#x4ED6;\x26#x7684;reducer\x26#x64CD;\x26#x4F5C;\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\x3cp\x3e\x26#x5F53;\x26#x524D;\x26#x4E09;\x26#x4E2A;\x26#x9884;\x26#x7F6E;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#x90FD;\x26#x6210;\x26#x7ACB;\x26#x65F6;\x26#xFF0C;\x26#x624D;\x26#x4F1A;\x26#x6267;\x26#x884C;\x26#x540E;\x26#x7EED;\x26#x64CD;\x26#x4F5C;\x26#xFF0C;\x26#x5426;\x26#x5219;\x26#x629B;\x26#x51FA;\x26#x5F02;\x26#x5E38;\x26#x3002;\x26#x5728;\x26#x6267;\x26#x884C;reducer\x26#x7684;\x26#x64CD;\x26#x4F5C;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#x7528;\x26#x5230;\x26#x4E86;try-finally\x26#xFF0C;\x26#x53EF;\x26#x80FD;\x26#x5927;\x26#x5BB6;\x26#x5E73;\x26#x65F6;try-catch\x26#x7528;\x26#x7684;\x26#x6BD4;\x26#x8F83;\x26#x591A;\x26#xFF0C;\x26#x8FD9;\x26#x4E2A;\x26#x7528;\x26#x5230;\x26#x7684;\x26#x8FD8;\x26#x662F;\x26#x6BD4;\x26#x8F83;\x26#x5C11;\x26#x3002;\x26#x6267;\x26#x884C;\x26#x524D;isDispatching\x26#x8BBE;\x26#x7F6E;\x26#x4E3A;true\x26#xFF0C;\x26#x963B;\x26#x6B62;\x26#x540E;\x26#x7EED;\x26#x7684;action\x26#x8FDB;\x26#x6765;\x26#x89E6;\x26#x53D1;reducer\x26#x64CD;\x26#x4F5C;\x26#xFF0C;\x26#x5F97;\x26#x5230;\x26#x7684;state\x26#x503C;\x26#x8D4B;\x26#x503C;\x26#x7ED9;currentState\x26#xFF0C;\x26#x5B8C;\x26#x6210;\x26#x4E4B;\x26#x540E;\x26#x518D;finally\x26#x91CC;\x26#x5C06;isDispatching\x26#x518D;\x26#x6539;\x26#x4E3A;false\x26#xFF0C;\x26#x5141;\x26#x8BB8;\x26#x540E;\x26#x7EED;\x26#x7684;action\x26#x8FDB;\x26#x6765;\x26#x89E6;\x26#x53D1;reducer\x26#x64CD;\x26#x4F5C;\x26#x3002;\x26#x63A5;\x26#x7740;\x26#x4E00;\x26#x4E00;\x26#x901A;\x26#x77E5;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x505A;\x26#x6570;\x26#x636E;\x26#x66F4;\x26#x65B0;\x26#xFF0C;\x26#x4E0D;\x26#x4F20;\x26#x5165;\x26#x4EFB;\x26#x4F55;\x26#x53C2;\x26#x6570;\x26#x3002;\x26#x6700;\x26#x540E;\x26#x8FD4;\x26#x56DE;\x26#x5F53;\x26#x524D;\x26#x7684;action\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader12\x22\x3egetState\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getState() {\n    if (isDispatching) {\n      throw new Error(\n        \x26apos;You may not call store.getState() while the reducer is executing. \x26apos; \x2b\n          \x26apos;The reducer has already received the state as an argument. \x26apos; \x2b\n          \x26apos;Pass it down from the top reducer instead of reading it from the store.\x26apos;\n      )\n    }\n\n    return currentState\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs monkey\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetState\x3c\/span\x3e(\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (isDispatching) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n        \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;You may not call store.getState() while the reducer is executing. \x26apos; \x2b\x3c\/span\x3e\n          \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;The reducer has already received the state as an argument. \x26apos; \x2b\x3c\/span\x3e\n          \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;Pass it down from the top reducer instead of reading it from the store.\x26apos;\x3c\/span\x3e\n      )\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e currentState\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3egetState\x26#x76F8;\x26#x6BD4;\x26#x8F83;dispatch\x26#x8981;\x26#x7B80;\x26#x5355;\x26#x8BB8;\x26#x591A;,\x26#x8FD4;\x26#x56DE;currentState\x26#x5373;\x26#x53EF;\x26#xFF0C;\x26#x800C;\x26#x8FD9;\x26#x4E2A;currentState\x26#x5728;\x26#x6BCF;\x26#x6B21;dispatch\x26#x5F97;\x26#x65F6;\x26#x5019;\x26#x90FD;\x26#x4F1A;\x26#x5F97;\x26#x5230;\x26#x54CD;\x26#x5E94;\x26#x7684;\x26#x66F4;\x26#x65B0;\x26#x3002;\x26#x540C;\x26#x6837;\x26#x662F;\x26#x4E3A;\x26#x4E86;\x26#x4FDD;\x26#x8BC1;\x26#x6570;\x26#x636E;\x26#x7684;\x26#x4E00;\x26#x81F4;\x26#x6027;\x26#xFF0C;\x26#x5F53;\x26#x5728;reducer\x26#x64CD;\x26#x4F5C;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x662F;\x26#x4E0D;\x26#x53EF;\x26#x4EE5;\x26#x8BFB;\x26#x53D6;\x26#x5F53;\x26#x524D;\x26#x7684;state\x26#x503C;\x26#x7684;\x26#x3002;\x26#x8BF4;\x26#x5230;\x26#x8FD9;\x26#x91CC;\x26#xFF0C;\x26#x6211;\x26#x60F3;\x26#x5230;\x26#x4E4B;\x26#x524D;\x26#x4E00;\x26#x6B21;\x26#x7684;\x26#x9762;\x26#x8BD5;\x26#x7ECF;\x26#x5386;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26#x9762;\x26#x8BD5;\x26#x5B98;\x26#xFF1A;\x26#x6267;\x26#x884C;createStore\x26#x51FD;\x26#x6570;\x26#x751F;\x26#x6210;\x26#x7684;store,\x26#x53EF;\x26#x4E0D;\x26#x53EF;\x26#x4EE5;\x26#x76F4;\x26#x63A5;\x26#x4FEE;\x26#x6539;\x26#x5B83;\x26#x7684;state\x26#xFF1F;\n\n\x26#x6211;\x26#xFF1A;\x26#x53EF;\x26#x4EE5;\x26#x3002;\x26#xFF08;\x26#x666E;\x26#x7F57;\x26#x5927;\x26#x4F17;\x26#x7684;\x26#x7B2C;\x26#x4E00;\x26#x53CD;\x26#x5E94;\x26#xFF09;\n\n\x26#x9762;\x26#x8BD5;\x26#x5B98;\x26#xFF1A;\x26#x4F60;\x26#x77E5;\x26#x9053;redux\x26#x600E;\x26#x4E48;\x26#x505A;\x26#x5230;\x26#x4E0D;\x26#x80FD;\x26#x4FEE;\x26#x6539;store\x26#x7684;state\x26#x5417;\x26#xFF1F;\n\n\x26#x6211;\x26#xFF1A;\x26#x989D;......\x26#xFF08;\x26#x5904;\x26#x4E8E;\x26#x61F5;\x26#x903C;\x26#x72B6;\x26#x6001;\x26#xFF09;\n\n\x26#x9762;\x26#x8BD5;\x26#x5B98;\x26#xFF1A;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#x554A;\x26#xFF01;\x26#x91CD;\x26#x5199;store\x26#x7684;set\x26#x65B9;\x26#x6CD5;\x26#x554A;\x26#xFF01;\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3e\x26#x9762;\x26#x8BD5;\x26#x5B98;\x26#xFF1A;\x26#x6267;\x26#x884C;createStore\x26#x51FD;\x26#x6570;\x26#x751F;\x26#x6210;\x26#x7684;store,\x26#x53EF;\x26#x4E0D;\x26#x53EF;\x26#x4EE5;\x26#x76F4;\x26#x63A5;\x26#x4FEE;\x26#x6539;\x26#x5B83;\x26#x7684;\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\x26#xFF1F;\n\n\x26#x6211;\x26#xFF1A;\x26#x53EF;\x26#x4EE5;\x26#x3002;\x26#xFF08;\x26#x666E;\x26#x7F57;\x26#x5927;\x26#x4F17;\x26#x7684;\x26#x7B2C;\x26#x4E00;\x26#x53CD;\x26#x5E94;\x26#xFF09;\n\n\x26#x9762;\x26#x8BD5;\x26#x5B98;\x26#xFF1A;\x26#x4F60;\x26#x77E5;\x26#x9053;redux\x26#x600E;\x26#x4E48;\x26#x505A;\x26#x5230;\x26#x4E0D;\x26#x80FD;\x26#x4FEE;\x26#x6539;store\x26#x7684;\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\x26#x5417;\x26#xFF1F;\n\n\x26#x6211;\x26#xFF1A;\x26#x989D;......\x26#xFF08;\x26#x5904;\x26#x4E8E;\x26#x61F5;\x26#x903C;\x26#x72B6;\x26#x6001;\x26#xFF09;\n\n\x26#x9762;\x26#x8BD5;\x26#x5B98;\x26#xFF1A;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#x554A;\x26#xFF01;\x26#x91CD;\x26#x5199;store\x26#x7684;\x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e\x26#x65B9;\x26#x6CD5;\x26#x554A;\x26#xFF01;\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x90A3;\x26#x4F1A;\x26#x6CA1;\x26#x770B;\x26#x8FC7;redux\x26#x7684;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x5C31;\x26#x88AB;\x26#x4ED6;\x26#x5FFD;\x26#x60A0;\x26#x4E86;\x26#xFF01;\x26#x8BFB;\x26#x5B8C;redux\x26#x6E90;\x26#x7801;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x9760;\x26#xFF01;\x26#x8FD9;\x26#x5BB6;\x26#x4F19;\x26#x5C31;\x26#x662F;\x26#x4E2A;\x26#x9A97;\x26#x5B50;\x26#xFF01;\x26#x81EA;\x26#x5DF1;\x26#x6CA1;\x26#x8BFB;\x26#x8FC7;\x26#x6E90;\x26#x7801;\x26#x8FD8;\x26#x8DDF;\x26#x6211;\x26#x804A;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x65E0;\x26#x8BED;\x26#x4E86;\x26#xFF01;\x26#x5F53;\x26#x7136;\x26#xFF0C;\x26#x6211;\x26#x81EA;\x26#x5DF1;\x26#x4E5F;\x26#x6709;\x26#x539F;\x26#x56E0;\x26#xFF0C;\x26#x5B66;\x26#x827A;\x26#x4E0D;\x26#x7CBE;\x26#xFF0C;\x26#x88AB;\x26#x5FFD;\x26#x60A0;\x26#x4E86;\x26#x3002;\x26#x6211;\x26#x4EEC;\x26#x8FD9;\x26#x91CC;\x26#x770B;\x26#x4E86;\x26#x6E90;\x26#x7801;\x26#x4E4B;\x26#x540E;\x26#xFF0C;getState\x26#x51FD;\x26#x6570;\x26#x8FD4;\x26#x56DE;state\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x5E76;\x26#x6CA1;\x26#x6709;\x26#x5BF9;currentState\x26#x505A;\x26#x4E00;\x26#x5C42;\x26#x62F7;\x26#x8D1D;\x26#x518D;\x26#x7ED9;\x26#x6211;\x26#x4EEC;\x26#xFF0C;\x26#x6240;\x26#x4EE5;\x26#x662F;\x26#x53EF;\x26#x4EE5;\x26#x76F4;\x26#x63A5;\x26#x4FEE;\x26#x6539;\x26#x7684;\x26#x3002;\x26#x53EA;\x26#x662F;\x26#x8FD9;\x26#x4E48;\x26#x4FEE;\x26#x6539;\x26#x7684;\x26#x8BDD;\x26#xFF0C;\x26#x5C31;\x26#x4E0D;\x26#x4F1A;\x26#x901A;\x26#x77E5;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x505A;\x26#x6570;\x26#x636E;\x26#x66F4;\x26#x65B0;\x26#x3002;\x26#x5F97;\x26#x51FA;\x26#x7684;\x26#x7ED3;\x26#x8BBA;\x26#x662F;\x26#xFF1A;\x3c\/p\x3e\x3cblockquote\x3estore\x26#x901A;\x26#x8FC7;getState\x26#x5F97;\x26#x51FA;\x26#x7684;state\x26#x662F;\x26#x53EF;\x26#x4EE5;\x26#x76F4;\x26#x63A5;\x26#x88AB;\x26#x66F4;\x26#x6539;\x26#x7684;\x26#xFF0C;\x26#x4F46;\x26#x662F;redux\x26#x4E0D;\x26#x5141;\x26#x8BB8;\x26#x8FD9;\x26#x4E48;\x26#x505A;\x26#xFF0C;\x26#x56E0;\x26#x4E3A;\x26#x8FD9;\x26#x6837;\x26#x4E0D;\x26#x4F1A;\x26#x901A;\x26#x77E5;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x66F4;\x26#x65B0;\x26#x6570;\x26#x636E;\x26#x3002;\x3c\/blockquote\x3e\x3ch3 id=\x22articleHeader13\x22\x3esubscribe\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function subscribe(listener) {\n    if (typeof listener !== \x26apos;function\x26apos;) {\n      throw new Error(\x26apos;Expected the listener to be a function.\x26apos;)\n    }\n\n    if (isDispatching) {\n      throw new Error(\n        \x26apos;You may not call store.subscribe() while the reducer is executing. \x26apos; \x2b\n          \x26apos;If you would like to be notified after the store has been updated, subscribe from a \x26apos; \x2b\n          \x26apos;component and invoke store.getState() in the callback to access the latest state. \x26apos; \x2b\n          \x26apos;See https:\/\/redux.js.org\/api-reference\/store#subscribe(listener) for more details.\x26apos;\n      )\n    }\n\n    let isSubscribed = true \/\/\x26#x8868;\x26#x793A;\x26#x8BE5;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x5728;\x26#x8BA2;\x26#x9605;\x26#x72B6;\x26#x6001;\x26#x4E2D;\x26#xFF0C;true-\x26#x8BA2;\x26#x9605;\x26#x4E2D;\x26#xFF0C;false-\x26#x53D6;\x26#x6D88;\x26#x8BA2;\x26#x9605;\n\n    ensureCanMutateNextListeners()\n    nextListeners.push(listener)\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return\n      }\n\n      if (isDispatching) {\n        throw new Error(\n          \x26apos;You may not unsubscribe from a store listener while the reducer is executing. \x26apos; \x2b\n            \x26apos;See https:\/\/redux.js.org\/api-reference\/store#subscribe(listener) for more details.\x26apos;\n        )\n      }\n\n      isSubscribed = false\n\n      ensureCanMutateNextListeners()\n      const index = nextListeners.indexOf(listener)\n      nextListeners.splice(index, 1)\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs monkey\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esubscribe\x3c\/span\x3e(\x3c\/span\x3elistener) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (typeof listener !== \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;function\x26apos;) {\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-comment\x22\x3e\x26apos;Expected the listener to be a function.\x26apos;)\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (isDispatching) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n        \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;You may not call store.subscribe() while the reducer is executing. \x26apos; \x2b\x3c\/span\x3e\n          \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;If you would like to be notified after the store has been updated, subscribe from a \x26apos; \x2b\x3c\/span\x3e\n          \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;component and invoke store.getState() in the callback to access the latest state. \x26apos; \x2b\x3c\/span\x3e\n          \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;See https:\/\/redux.js.org\/api-reference\/store#subscribe(listener) for more details.\x26apos;\x3c\/span\x3e\n      )\n    }\n\n    let isSubscribed = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \/\/\x26#x8868;\x26#x793A;\x26#x8BE5;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x5728;\x26#x8BA2;\x26#x9605;\x26#x72B6;\x26#x6001;\x26#x4E2D;\x26#xFF0C;\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e-\x26#x8BA2;\x26#x9605;\x26#x4E2D;\x26#xFF0C;\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e-\x26#x53D6;\x26#x6D88;\x26#x8BA2;\x26#x9605;\n\n    ensureCanMutateNextListeners()\n    nextListeners.push(listener)\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eunsubscribe\x3c\/span\x3e(\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!isSubscribed) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n      }\n\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (isDispatching) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n          \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;You may not unsubscribe from a store listener while the reducer is executing. \x26apos; \x2b\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\x26apos;See https:\/\/redux.js.org\/api-reference\/store#subscribe(listener) for more details.\x26apos;\x3c\/span\x3e\n        )\n      }\n\n      isSubscribed = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n\n      ensureCanMutateNextListeners()\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e index = nextListeners.indexOf(listener)\n      nextListeners.splice(index, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x5728;\x26#x6CE8;\x26#x518C;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x4E4B;\x26#x524D;\x26#xFF0C;\x26#x505A;\x26#x4E86;\x26#x4E24;\x26#x4E2A;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#xFF1A;\x3c\/p\x3e\x3cul\x3e\x3cli\x3e\x3cstrong\x3e\x26#x5224;\x26#x65AD;\x26#x76D1;\x26#x542C;\x26#x8005;\x26#x662F;\x26#x5426;\x26#x4E3A;\x26#x51FD;\x26#x6570;\x3c\/strong\x3e\x3c\/li\x3e\x3cli\x3e\x3cstrong\x3e\x26#x662F;\x26#x5426;\x26#x6709;reducer\x26#x6B63;\x26#x5728;\x26#x8FDB;\x26#x884C;\x26#x6570;\x26#x636E;\x26#x4FEE;\x26#x6539;\x26#xFF08;\x26#x4FDD;\x26#x8BC1;\x26#x6570;\x26#x636E;\x26#x7684;\x26#x4E00;\x26#x81F4;\x26#x6027;\x26#xFF09;\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\x3cp\x3e\x26#x63A5;\x26#x4E0B;\x26#x6765;\x26#x6267;\x26#x884C;\x26#x4E86;\x26#x51FD;\x26#x6570;ensureCanMutateNextListeners\x26#xFF0C;\x26#x4E0B;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x770B;\x26#x4E00;\x26#x4E0B;ensureCanMutateNextListeners\x26#x51FD;\x26#x6570;\x26#x7684;\x26#x5177;\x26#x4F53;\x26#x5B9E;\x26#x73B0;\x26#x903B;\x26#x8F91;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice()\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eensureCanMutateNextListeners\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice()\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x903B;\x26#x8F91;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x5224;\x26#x65AD;nextListeners\x26#x548C;currentListeners\x26#x662F;\x26#x5426;\x26#x4E3A;\x26#x540C;\x26#x4E00;\x26#x4E2A;\x26#x5F15;\x26#x7528;\x26#xFF0C;\x26#x8FD8;\x26#x8BB0;\x26#x5F97;dispatch\x26#x51FD;\x26#x6570;\x26#x4E2D;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x53E5;\x26#x4EE3;\x26#x7801;\x26#x4EE5;\x26#x53CA;\x26#x5B9A;\x26#x4E49;\x26#x53D8;\x26#x91CF;\x26#x65F6;\x26#x4E00;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#x5417;\x26#xFF1F;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Function dispatch\nconst listeners = (currentListeners = nextListeners)\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs monkey\x22\x3e\x3ccode\x3e\/\/ \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eFunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edispatch\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e listeners = (currentListeners = nextListeners)\x3c\/code\x3e\x3c\/pre\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ \x26#x5B9A;\x26#x4E49;\x26#x53D8;\x26#x91CF;\nlet currentListeners = []\nlet nextListeners = currentListeners\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3e\/\/ \x26#x5B9A;\x26#x4E49;\x26#x53D8;\x26#x91CF;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecurrentListeners\x3c\/span\x3e = []\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3enextListeners\x3c\/span\x3e = currentListeners\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x4E24;\x26#x5904;\x26#x5C06;nextListeners\x26#x548C;currentListeners\x26#x5F15;\x26#x7528;\x26#x4E86;\x26#x540C;\x26#x4E00;\x26#x4E2A;\x26#x6570;\x26#x7EC4;\x26#xFF0C;\x26#x53E6;\x26#x5916;\x26#x5B9A;\x26#x4E49;\x26#x53D8;\x26#x91CF;\x26#x65F6;\x26#x4E5F;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x53E5;\x26#x8BDD;\x26#x4EE3;\x26#x7801;\x26#x3002;\x26#x800C;ensureCanMutateNextListeners\x26#x5C31;\x26#x662F;\x26#x7528;\x26#x6765;\x26#x5224;\x26#x65AD;\x26#x8FD9;\x26#x79CD;\x26#x60C5;\x26#x51B5;\x26#x7684;\x26#xFF0C;\x26#x5F53;nextListeners\x26#x548C;currentListeners\x26#x4E3A;\x26#x540C;\x26#x4E00;\x26#x4E2A;\x26#x5F15;\x26#x7528;\x26#x65F6;\x26#xFF0C;\x26#x5219;\x26#x505A;\x26#x4E00;\x26#x5C42;\x26#x6D45;\x26#x62F7;\x26#x8D1D;\x26#xFF0C;\x26#x8FD9;\x26#x91CC;\x26#x7528;\x26#x7684;\x26#x5C31;\x26#x662F;Array.prototype.slice\x26#x65B9;\x26#x6CD5;,\x26#x8BE5;\x26#x65B9;\x26#x6CD5;\x26#x4F1A;\x26#x8FD4;\x26#x56DE;\x26#x4E00;\x26#x4E2A;\x26#x65B0;\x26#x7684;\x26#x6570;\x26#x7EC4;\x26#xFF0C;\x26#x8FD9;\x26#x6837;\x26#x5C31;\x26#x53EF;\x26#x4EE5;\x26#x8FBE;\x26#x5230;\x26#x6D45;\x26#x62F7;\x26#x8D1D;\x26#x7684;\x26#x6548;\x26#x679C;\x26#x3002;\x3c\/p\x3e\x3cp\x3e\x26#x51FD;\x26#x6570;ensureCanMutateNextListeners\x26#x4F5C;\x26#x4E3A;\x26#x5904;\x26#x7406;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x5C06;\x26#x65B0;\x26#x7684;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x52A0;\x26#x5165;nextListeners\x26#x4E2D;\x26#xFF0C;\x26#x5E76;\x26#x4E14;\x26#x8FD4;\x26#x56DE;\x26#x53D6;\x26#x6D88;\x26#x8BA2;\x26#x9605;\x26#x7684;\x26#x51FD;\x26#x6570;unsubscribe\x26#x3002;\x26#x51FD;\x26#x6570;unsubscribe\x26#x6267;\x26#x884C;\x26#x65F6;\x26#xFF0C;\x26#x4E5F;\x26#x4F1A;\x26#x6267;\x26#x884C;\x26#x4E24;\x26#x4E2A;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#xFF1A;\x3c\/p\x3e\x3cul\x3e\x3cli\x3e\x3cstrong\x3e\x26#x662F;\x26#x5426;\x26#x5DF2;\x26#x7ECF;\x26#x53D6;\x26#x6D88;\x26#x8BA2;\x26#x9605;\x26#xFF08;\x26#x5DF2;\x26#x53D6;\x26#x6D88;\x26#x7684;\x26#x4E0D;\x26#x5FC5;\x26#x6267;\x26#x884C;\x26#xFF09;\x3c\/strong\x3e\x3c\/li\x3e\x3cli\x3e\x3cstrong\x3e\x26#x662F;\x26#x5426;\x26#x6709;reducer\x26#x6B63;\x26#x5728;\x26#x8FDB;\x26#x884C;\x26#x6570;\x26#x636E;\x26#x4FEE;\x26#x6539;\x26#xFF08;\x26#x4FDD;\x26#x8BC1;\x26#x6570;\x26#x636E;\x26#x7684;\x26#x4E00;\x26#x81F4;\x26#x6027;\x26#xFF09;\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\x3cp\x3e\x26#x901A;\x26#x8FC7;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x8BB2;\x26#x8BE5;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x4ECE;nextListeners\x26#x4E2D;\x26#x5220;\x26#x9664;\x26#x3002;\x26#x770B;\x26#x5230;\x26#x8FD9;\x26#x91CC;\x26#x53EF;\x26#x80FD;\x26#x6709;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x5BF9;currentListeners\x26#x548C;nextListeners\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x4E2A;\x26#x7591;\x26#x95EE;\x26#xFF1F;\x26#x51FD;\x26#x6570;dispatch\x26#x91CC;\x26#x9762;\x26#x5C06;\x26#x4E8C;\x26#x8005;\x26#x5408;\x26#x5E76;\x26#x6210;\x26#x4E00;\x26#x4E2A;\x26#x5F15;\x26#x7528;\x26#xFF0C;\x26#x4E3A;\x26#x5565;\x26#x8FD9;\x26#x91CC;\x26#x6709;\x26#x5565;\x26#x7ED9;\x26#x4ED6;\x26#x4FE9;\x26#x5206;\x26#x5F00;\x26#xFF1F;\x26#x76F4;\x26#x63A5;\x26#x7528;currentListeners\x26#x4E0D;\x26#x53EF;\x26#x4EE5;\x26#x5417;\x26#xFF1F;\x26#x8FD9;\x26#x91CC;\x26#x8FD9;\x26#x6837;\x26#x505A;\x26#x5176;\x26#x5B9E;\x26#x4E5F;\x26#x662F;\x26#x4E3A;\x26#x4E86;\x26#x6570;\x26#x636E;\x26#x7684;\x26#x4E00;\x26#x81F4;\x26#x6027;\x26#xFF0C;\x26#x56E0;\x26#x4E3A;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x79CD;\x26#x7684;\x26#x60C5;\x26#x51B5;\x26#x5B58;\x26#x5728;\x26#x3002;\x26#x5F53;redux\x26#x5728;\x26#x901A;\x26#x77E5;\x26#x6240;\x26#x6709;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x6B64;\x26#x65F6;\x26#x53C8;\x26#x6709;\x26#x4E00;\x26#x4E2A;\x26#x65B0;\x26#x7684;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x52A0;\x26#x8FDB;\x26#x6765;\x26#x4E86;\x26#x3002;\x26#x5982;\x26#x679C;\x26#x53EA;\x26#x7528;currentListeners\x26#x7684;\x26#x8BDD;\x26#xFF0C;\x26#x5F53;\x26#x65B0;\x26#x7684;\x26#x8BA2;\x26#x9605;\x26#x8005;\x26#x63D2;\x26#x8FDB;\x26#x6765;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x5C31;\x26#x4F1A;\x26#x6253;\x26#x4E71;\x26#x539F;\x26#x6709;\x26#x7684;\x26#x987A;\x26#x5E8F;\x26#xFF0C;\x26#x4ECE;\x26#x800C;\x26#x5F15;\x26#x53D1;\x26#x4E00;\x26#x4E9B;\x26#x4E25;\x26#x91CD;\x26#x7684;\x26#x95EE;\x26#x9898;\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader14\x22\x3ereplaceReducer\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== \x26apos;function\x26apos;) {\n      throw new Error(\x26apos;Expected the nextReducer to be a function.\x26apos;)\n    }\n\n    currentReducer = nextReducer\n    dispatch({ type: ActionTypes.REPLACE })\n  }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ereplaceReducer\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3enextReducer\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e nextReducer !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;Expected the nextReducer to be a function.\x26apos;\x3c\/span\x3e)\n    }\n\n    currentReducer = nextReducer\n    dispatch({ \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: ActionTypes.REPLACE })\n  }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x4E2A;\x26#x51FD;\x26#x6570;\x26#x662F;\x26#x7528;\x26#x6765;\x26#x66FF;\x26#x6362;reducer\x26#x7684;\x26#xFF0C;\x26#x5E73;\x26#x65F6;\x26#x9879;\x26#x76EE;\x26#x91CC;\x26#x57FA;\x26#x672C;\x26#x5F88;\x26#x96BE;\x26#x7528;\x26#x5230;\x26#xFF0C;replaceReducer\x26#x51FD;\x26#x6570;\x26#x6267;\x26#x884C;\x26#x524D;\x26#x4F1A;\x26#x505A;\x26#x4E00;\x26#x4E2A;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#xFF1A;\x3c\/p\x3e\x3cul\x3e\x3cli\x3e\x26#x5224;\x26#x65AD;\x26#x6240;\x26#x4F20;reducer\x26#x662F;\x26#x5426;\x26#x4E3A;\x26#x51FD;\x26#x6570;\x3c\/li\x3e\x3c\/ul\x3e\x3cp\x3e\x26#x901A;\x26#x8FC7;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x5C06;nextReducer\x26#x8D4B;\x26#x503C;\x26#x7ED9;currentReducer\x26#xFF0C;\x26#x4EE5;\x26#x8FBE;\x26#x5230;\x26#x66FF;\x26#x6362;reducer\x26#x6548;\x26#x679C;\x26#xFF0C;\x26#x5E76;\x26#x89E6;\x26#x53D1;state\x26#x66F4;\x26#x65B0;\x26#x64CD;\x26#x4F5C;\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader15\x22\x3eobservable\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \/**\n   * Interoperability point for observable\/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https:\/\/github.com\/tc39\/proposal-observable\n   *\/\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs puppet\x22\x3e\x3ccode\x3e  \/**\n   * Interoperability point for observable\/reactive libraries.\n   * @\x3cspan class=\x22hljs-keyword\x22\x3ereturns\x3c\/span\x3e {observable} \x3cspan class=\x22hljs-keyword\x22\x3eA\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eminimal\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eobservable\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3echanges\x3c\/span\x3e.\n   * For more information, see the observable proposal:\n   * https:\/\/github.com\/tc39\/proposal-observable\n   *\/\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x91CC;\x26#x6CA1;\x26#x8D34;\x26#x4EE3;\x26#x7801;\x26#xFF0C;\x26#x56E0;\x26#x4E3A;\x26#x8FD9;\x26#x5757;\x26#x4EE3;\x26#x7801;\x26#x6211;\x26#x4EEC;\x26#x4E0D;\x26#x9700;\x26#x8981;\x26#x638C;\x26#x63E1;\x26#x3002;\x26#x8FD9;\x26#x4E2A;observable\x26#x51FD;\x26#x6570;\x26#xFF0C;\x26#x5E76;\x26#x6CA1;\x26#x6709;\x26#x8C03;\x26#x7528;\x26#xFF0C;\x26#x5373;\x26#x4FBF;\x26#x66B4;\x26#x9732;\x26#x51FA;\x26#x6765;\x26#x6211;\x26#x4EEC;\x26#x4E5F;\x26#x529E;\x26#x6CD5;\x26#x4F7F;\x26#x7528;\x26#x3002;\x26#x6240;\x26#x4EE5;\x26#x6211;\x26#x4EEC;\x26#x5C31;\x26#x8DF3;\x26#x8FC7;\x26#x8FD9;\x26#x5757;\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x6709;\x26#x5174;\x26#x8DA3;\x26#x7684;\x26#x8BDD;\x26#xFF0C;\x26#x53EF;\x26#x4EE5;\x26#x53BB;\x26#x4F5C;\x26#x8005;\x26#x7ED9;\x26#x7684;github\x26#x7684;\x26#x5730;\x26#x5740;\x26#x4E86;\x26#x89E3;\x26#x4E00;\x26#x4E0B;\x26#x3002;\x3c\/p\x3e\x3chr\x3e\x3cp\x3e\x26#x8BB2;\x26#x5B8C;\x26#x8FD9;\x26#x51E0;\x26#x4E2A;\x26#x65B9;\x26#x6CD5;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x8FD8;\x26#x6709;\x26#x4E00;\x26#x4E2A;\x26#x5C0F;\x26#x7EC6;\x26#x8282;\x26#x9700;\x26#x8981;\x26#x8BF4;\x26#x4E00;\x26#x4E0B;\x26#xFF0C;createStore\x26#x51FD;\x26#x6570;\x26#x4F53;\x26#x91CC;\x26#x6709;\x26#x8FD9;\x26#x6837;\x26#x4E00;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22dispatch({ type: ActionTypes.INIT })\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break:break-word;white-space:initial\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3edispatch\x3c\/span\x3e({ \x3cspan class=\x22hljs-attribute\x22\x3etype\x3c\/span\x3e: ActionTypes.INIT })\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x4E3A;\x26#x5565;\x26#x8981;\x26#x6709;\x26#x8FD9;\x26#x4E48;\x26#x4E00;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#xFF1F;\x26#x539F;\x26#x56E0;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x5047;\x26#x8BBE;\x26#x6211;\x26#x4EEC;\x26#x6CA1;\x26#x6709;\x26#x8FD9;\x26#x6837;\x26#x4EE3;\x26#x7801;\x26#xFF0C;\x26#x6B64;\x26#x65F6;currentState\x26#x5C31;\x26#x662F;undefined\x26#x7684;\x26#xFF0C;\x26#x4E5F;\x26#x5C31;\x26#x6211;\x26#x8BF4;\x26#x6211;\x26#x4EEC;\x26#x6CA1;\x26#x6709;\x26#x9ED8;\x26#x8BA4;\x26#x503C;\x26#x4E86;\x26#xFF0C;\x26#x5F53;\x26#x6211;\x26#x4EEC;dispatch\x26#x4E00;\x26#x4E2A;action\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x5C31;\x26#x65E0;\x26#x6CD5;\x26#x5728;currentState\x26#x57FA;\x26#x7840;\x26#x4E0A;\x26#x505A;\x26#x66F4;\x26#x65B0;\x26#x3002;\x26#x6240;\x26#x4EE5;\x26#x9700;\x26#x8981;\x26#x62FF;\x26#x5230;\x26#x6240;\x26#x6709;reducer\x26#x9ED8;\x26#x8BA4;\x26#x7684;state\x26#xFF0C;\x26#x8FD9;\x26#x6837;\x26#x540E;\x26#x7EED;\x26#x7684;dispatch\x26#x4E00;\x26#x4E2A;action\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x624D;\x26#x53EF;\x26#x4EE5;\x26#x66F4;\x26#x65B0;\x26#x6211;\x26#x4EEC;\x26#x7684;state\x26#x3002;\x3c\/p\x3e\x3ch2 id=\x22articleHeader16\x22\x3ecombineReducers.js\x3c\/h2\x3e\x3cp\x3e\x26#x8FD9;\x26#x4E2A;js\x26#x5BF9;\x26#x5E94;\x26#x7740;redux\x26#x91CC;\x26#x7684;combineReducers\x26#x65B9;\x26#x6CD5;\x26#xFF0C;\x26#x4E3B;\x26#x8981;\x26#x4F5C;\x26#x7528;\x26#x5C31;\x26#x662F;\x26#x5408;\x26#x5E76;\x26#x591A;\x26#x4E2A;reducer\x26#x3002;\x26#x73B0;\x26#x5728;\x26#x6211;\x26#x4EEC;\x26#x5148;\x26#x7ED9;\x26#x4E00;\x26#x4E2A;\x26#x7A7A;\x26#x7684;\x26#x51FD;\x26#x6570;\x26#xFF0C;\x26#x7136;\x26#x540E;\x26#x518D;\x26#x4E00;\x26#x6B65;\x26#x6B65;\x26#x5730;\x26#x6839;\x26#x636E;\x26#x8FD8;\x26#x539F;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x8FD9;\x26#x6837;\x26#x5927;\x26#x5BB6;\x26#x53EF;\x26#x80FD;\x26#x7406;\x26#x89E3;\x26#x5F97;\x26#x66F4;\x26#x4E3A;\x26#x900F;\x26#x5F7B;\x26#x70B9;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/reducers  Object\x26#x7C7B;\x26#x578B;  \x26#x6BCF;\x26#x4E2A;\x26#x5C5E;\x26#x6027;\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x503C;\x26#x90FD;\x26#x8981;\x26#x662F;function\nexport default function combineReducers(reducers) {\n    ....\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/reducers  Object\x26#x7C7B;\x26#x578B;  \x26#x6BCF;\x26#x4E2A;\x26#x5C5E;\x26#x6027;\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x503C;\x26#x90FD;\x26#x8981;\x26#x662F;function\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecombineReducers\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducers\x3c\/span\x3e) \x3c\/span\x3e{\n    ....\n}\x3c\/code\x3e\x3c\/pre\x3e\x3ch3 id=\x22articleHeader17\x22\x3e\x26#x7B2C;\x26#x4E00;\x26#x6B65;:\x26#x6D45;\x26#x62F7;\x26#x8D1D;reducers\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default function combineReducers(reducers) {\n  const reducerKeys = Object.keys(reducers)\n  const finalReducers = {}\n  for (let i = 0; i \x26lt; reducerKeys.length; i\x2b\x2b) {\n    const key = reducerKeys[i]\n\n    if (process.env.NODE_ENV !== \x26apos;production\x26apos;) {\n      if (typeof reducers[key] === \x26apos;undefined\x26apos;) {\n        warning(`No reducer provided for key \x26quot;${key}\x26quot;`)\n      }\n    }\n\n    if (typeof reducers[key] === \x26apos;function\x26apos;) {\n      finalReducers[key] = reducers[key]\n    }\n  }\n  const finalReducerKeys = Object.keys(finalReducers)\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecombineReducers\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducers\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducerKeys = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(reducers)\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e finalReducers = {}\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; reducerKeys.length; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e key = reducerKeys[i]\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (process.env.NODE_ENV !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;production\x26apos;\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e reducers[key] === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n        warning(\x3cspan class=\x22hljs-string\x22\x3e`No reducer provided for key \x26quot;\x3cspan class=\x22hljs-subst\x22\x3e${key}\x3c\/span\x3e\x26quot;`\x3c\/span\x3e)\n      }\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e reducers[key] === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n      finalReducers[key] = reducers[key]\n    }\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e finalReducerKeys = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(finalReducers)\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x91CC;\x26#x5B9A;\x26#x4E49;\x26#x4E86;\x26#x4E00;\x26#x4E2A;finalReducers\x26#x548C;finalReducerKeys\x26#xFF0C;\x26#x5206;\x26#x522B;\x26#x7528;\x26#x6765;\x26#x62F7;\x26#x8D1D;reducers\x26#x548C;\x26#x5176;\x26#x5C5E;\x26#x6027;\x26#x3002;\x26#x5148;\x26#x7528;Object.keys\x26#x65B9;\x26#x6CD5;\x26#x62FF;\x26#x5230;reducers\x26#x6240;\x26#x6709;\x26#x7684;\x26#x5C5E;\x26#x6027;\x26#xFF0C;\x26#x7136;\x26#x540E;\x26#x8FDB;\x26#x884C;for\x26#x5FAA;\x26#x73AF;\x26#xFF0C;\x26#x6BCF;\x26#x4E00;\x26#x9879;\x26#x53EF;\x26#x6839;\x26#x636E;\x26#x5176;\x26#x5C5E;\x26#x6027;\x26#x62FF;\x26#x5230;\x26#x5BF9;\x26#x5E94;\x26#x7684;reducer\x26#xFF0C;\x26#x5E76;\x26#x6D45;\x26#x62F7;\x26#x8D1D;\x26#x5230;finalReducers\x26#x4E2D;\x26#xFF0C;\x26#x4F46;\x26#x662F;\x26#x524D;\x26#x63D0;\x26#x6761;\x26#x4EF6;\x26#x662F;\x26#x6BCF;\x26#x4E2A;reducer\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#x5FC5;\x26#x987B;\x26#x662F;Function\x26#xFF0C;\x26#x4E0D;\x26#x7136;\x26#x4F1A;\x26#x76F4;\x26#x63A5;\x26#x8DF3;\x26#x8FC7;\x26#x4E0D;\x26#x62F7;\x26#x8D1D;\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader18\x22\x3e\x26#x7B2C;\x26#x4E8C;\x26#x6B65;\x26#xFF1A;\x26#x68C0;\x26#x6D4B;finalReducers\x26#x91CC;\x26#x7684;\x26#x6BCF;\x26#x4E2A;reducer\x26#x662F;\x26#x5426;\x26#x90FD;\x26#x6709;\x26#x9ED8;\x26#x8BA4;\x26#x8FD4;\x26#x56DE;\x26#x503C;\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(key =\x26gt; {\n    const reducer = reducers[key]\n    const initialState = reducer(undefined, { type: ActionTypes.INIT })\n\n    if (typeof initialState === \x26apos;undefined\x26apos;) {\n      throw new Error(\n        `Reducer \x26quot;${key}\x26quot; returned undefined during initialization. ` \x2b\n          `If the state passed to the reducer is undefined, you must ` \x2b\n          `explicitly return the initial state. The initial state may ` \x2b\n          `not be undefined. If you don\x26apos;t want to set a value for this reducer, ` \x2b\n          `you can use null instead of undefined.`\n      )\n    }\n\n    const type =\n      \x26apos;@@redux\/PROBE_UNKNOWN_ACTION_\x26apos; \x2b\n      Math.random()\n        .toString(36)\n        .substring(7)\n        .split(\x26apos;\x26apos;)\n        .join(\x26apos;.\x26apos;)\n    if (typeof reducer(undefined, { type }) === \x26apos;undefined\x26apos;) {\n      throw new Error(\n        `Reducer \x26quot;${key}\x26quot; returned undefined when probed with a random type. ` \x2b\n          `Don\x26apos;t try to handle ${\n            ActionTypes.INIT\n          } or other actions in \x26quot;redux\/*\x26quot; ` \x2b\n          `namespace. They are considered private. Instead, you must return the ` \x2b\n          `current state for any unknown actions, unless it is undefined, ` \x2b\n          `in which case you must return the initial state, regardless of the ` \x2b\n          `action type. The initial state may not be undefined, but can be null.`\n      )\n    }\n  })\n}\n\nexport default function combineReducers(reducers) {\n    \/\/\x26#x7701;\x26#x7565;\x26#x7B2C;\x26#x4E00;\x26#x6B65;\x26#x7684;\x26#x4EE3;\x26#x7801;\n    ......\n    let shapeAssertionError\n    try {\n        assertReducerShape(finalReducers)\n    } catch (e) {\n        shapeAssertionError = e\n    }\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eassertReducerShape\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducers\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(reducers).forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ekey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducer = reducers[key]\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e initialState = reducer(\x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e, { \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: ActionTypes.INIT })\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e initialState === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n        \x3cspan class=\x22hljs-string\x22\x3e`Reducer \x26quot;\x3cspan class=\x22hljs-subst\x22\x3e${key}\x3c\/span\x3e\x26quot; returned undefined during initialization. `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`If the state passed to the reducer is undefined, you must `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`explicitly return the initial state. The initial state may `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`not be undefined. If you don\x26apos;t want to set a value for this reducer, `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`you can use null instead of undefined.`\x3c\/span\x3e\n      )\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e =\n      \x3cspan class=\x22hljs-string\x22\x3e\x26apos;@@redux\/PROBE_UNKNOWN_ACTION_\x26apos;\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.random()\n        .toString(\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e)\n        .substring(\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e)\n        .split(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26apos;\x3c\/span\x3e)\n        .join(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;.\x26apos;\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e reducer(\x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e, { \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e }) === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n        \x3cspan class=\x22hljs-string\x22\x3e`Reducer \x26quot;\x3cspan class=\x22hljs-subst\x22\x3e${key}\x3c\/span\x3e\x26quot; returned undefined when probed with a random type. `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`Don\x26apos;t try to handle \x3cspan class=\x22hljs-subst\x22\x3e${\n            ActionTypes.INIT\n          }\x3c\/span\x3e or other actions in \x26quot;redux\/*\x26quot; `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`namespace. They are considered private. Instead, you must return the `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`current state for any unknown actions, unless it is undefined, `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`in which case you must return the initial state, regardless of the `\x3c\/span\x3e \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e`action type. The initial state may not be undefined, but can be null.`\x3c\/span\x3e\n      )\n    }\n  })\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecombineReducers\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducers\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x7701;\x26#x7565;\x26#x7B2C;\x26#x4E00;\x26#x6B65;\x26#x7684;\x26#x4EE3;\x26#x7801;\x3c\/span\x3e\n    ......\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e shapeAssertionError\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        assertReducerShape(finalReducers)\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (e) {\n        shapeAssertionError = e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3eassertReducerShape\x26#x65B9;\x26#x6CD5;\x26#x4E3B;\x26#x8981;\x26#x68C0;\x26#x6D4B;\x26#x4E24;\x26#x70B9;\x26#xFF1A;\x3c\/p\x3e\x3cul\x3e\x3cli\x3e\x26#x4E0D;\x26#x80FD;\x26#x5360;\x26#x7528;\x26lt;redux\/*\x26gt;\x26#x7684;\x26#x547D;\x26#x540D;\x26#x7A7A;\x26#x95F4;\x3c\/li\x3e\x3cli\x3e\x26#x5982;\x26#x679C;\x26#x9047;\x26#x5230;\x26#x672A;\x26#x77E5;\x26#x7684;action\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#xFF0C;\x26#x4E0D;\x26#x9700;\x26#x8981;\x26#x8981;\x26#x7528;\x26#x9ED8;\x26#x8BA4;\x26#x8FD4;\x26#x56DE;\x26#x503C;\x3c\/li\x3e\x3c\/ul\x3e\x3cp\x3e\x26#x5982;\x26#x679C;\x26#x4F20;\x26#x5165;type\x26#x4E3A; \x3cstrong\x3e@@redux\/INIT\x26lt;\x26#x968F;\x26#x673A;\x26#x503C;\x26gt;\x3c\/strong\x3e \x26#x7684;action\x26#xFF0C;\x26#x8FD4;\x26#x56DE;undefined\x26#xFF0C;\x26#x8BF4;\x26#x660E;\x26#x6CA1;\x26#x6709;\x26#x5BF9;\x26#x672A;\x3cbr\x3e\x26#x77E5;\x26#x7684;action\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#x505A;\x26#x54CD;\x26#x5E94;\x26#xFF0C;\x26#x9700;\x26#x8981;\x26#x52A0;\x26#x9ED8;\x26#x8BA4;\x26#x503C;\x26#x3002;\x26#x5982;\x26#x679C;\x26#x5BF9;\x26#x5E94;type\x26#x4E3A; \x3cstrong\x3e@@redux\/INIT\x26lt;\x26#x968F;\x26#x673A;\x26#x503C;\x26gt;\x3c\/strong\x3e \x26#x7684;action\x26#x8FD4;\x26#x56DE;\x26#x4E0D;\x26#x4E3A;undefined,\x26#x4F46;\x26#x662F;\x26#x5374;\x26#x5BF9;\x26#x5E94;type\x26#x4E3A; \x3cstrong\x3e@@redux\/PROBE_UNKNOWN_ACTION_\x26lt;\x26#x968F;\x26#x673A;\x26#x503C;\x26gt;\x3c\/strong\x3e \x26#x8FD4;\x26#x56DE;\x26#x4E3A;undefined\x26#xFF0C;\x26#x8BF4;\x26#x660E;\x26#x5360;\x26#x7528;\x26#x4E86; \x26lt;redux\/*\x26gt; \x26#x547D;\x26#x540D;\x26#x7A7A;\x26#x95F4;\x26#x3002;\x26#x6574;\x26#x4E2A;\x26#x903B;\x26#x8F91;\x26#x76F8;\x26#x5BF9;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x597D;\x26#x597D;\x26#x81EA;\x26#x5DF1;\x26#x68B3;\x26#x7406;\x26#x4E00;\x26#x4E0B;\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader19\x22\x3e\x26#x7B2C;\x26#x4E09;\x26#x6B65;\x26#xFF1A;\x26#x8FD4;\x26#x56DE;\x26#x4E00;\x26#x4E2A;\x26#x51FD;\x26#x6570;\x26#xFF0C;\x26#x7528;\x26#x4E8E;\x26#x4EE3;\x26#x7406;\x26#x6240;\x26#x6709;\x26#x7684;reducer\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nexport default function combineReducers(reducers) {\n    \/\/\x26#x7701;\x26#x7565;\x26#x7B2C;\x26#x4E00;\x26#x6B65;\x26#x548C;\x26#x7B2C;\x26#x4E8C;\x26#x6B65;\x26#x7684;\x26#x4EE3;\x26#x7801;\n    ......\n    let unexpectedKeyCache\n        if (process.env.NODE_ENV !== \x26apos;production\x26apos;) {\n        unexpectedKeyCache = {}\n    }\n    return function combination(state = {}, action) {\n        if (shapeAssertionError) {\n            throw shapeAssertionError\n        }\n\n        if (process.env.NODE_ENV !== \x26apos;production\x26apos;) {\n            const warningMessage = getUnexpectedStateShapeWarningMessage(\n                state,\n                finalReducers,\n                action,\n                unexpectedKeyCache\n            )\n            if (warningMessage) {\n                warning(warningMessage)\n            }\n        }\n\n        let hasChanged = false\n        const nextState = {}\n        for (let i = 0; i \x26lt; finalReducerKeys.length; i\x2b\x2b) {\n            const key = finalReducerKeys[i]\n            const reducer = finalReducers[key]\n            const previousStateForKey = state[key]\n            const nextStateForKey = reducer(previousStateForKey, action)\n            if (typeof nextStateForKey === \x26apos;undefined\x26apos;) {\n            const errorMessage = getUndefinedStateErrorMessage(key, action)\n                throw new Error(errorMessage)\n            }\n        nextState[key] = nextStateForKey\n        hasChanged = hasChanged || nextStateForKey !== previousStateForKey\n        }\n        return hasChanged ? nextState : state\n    }    \n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecombineReducers\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducers\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x7701;\x26#x7565;\x26#x7B2C;\x26#x4E00;\x26#x6B65;\x26#x548C;\x26#x7B2C;\x26#x4E8C;\x26#x6B65;\x26#x7684;\x26#x4EE3;\x26#x7801;\x3c\/span\x3e\n    ......\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e unexpectedKeyCache\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (process.env.NODE_ENV !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;production\x26apos;\x3c\/span\x3e) {\n        unexpectedKeyCache = {}\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecombination\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = {}, action\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (shapeAssertionError) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e shapeAssertionError\n        }\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (process.env.NODE_ENV !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;production\x26apos;\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e warningMessage = getUnexpectedStateShapeWarningMessage(\n                state,\n                finalReducers,\n                action,\n                unexpectedKeyCache\n            )\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (warningMessage) {\n                warning(warningMessage)\n            }\n        }\n\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e hasChanged = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nextState = {}\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; finalReducerKeys.length; i\x2b\x2b) {\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e key = finalReducerKeys[i]\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducer = finalReducers[key]\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e previousStateForKey = state[key]\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nextStateForKey = reducer(previousStateForKey, action)\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e nextStateForKey === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e errorMessage = getUndefinedStateErrorMessage(key, action)\n                \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(errorMessage)\n            }\n        nextState[key] = nextStateForKey\n        hasChanged = hasChanged || nextStateForKey !== previousStateForKey\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hasChanged ? \x3cspan class=\x22hljs-attribute\x22\x3enextState\x3c\/span\x3e : state\n    }    \n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x9996;\x26#x5148;\x26#x5BF9;\x26#x4F20;\x26#x5165;\x26#x7684;state\x26#x7528;getUnexpectedStateShapeWarningMessage\x26#x505A;\x26#x4E86;\x26#x4E00;\x26#x4E2A;\x26#x5F02;\x26#x5E38;\x26#x68C0;\x26#x6D4B;\x26#xFF0C;\x26#x627E;\x26#x51FA;state\x26#x91CC;\x26#x9762;\x26#x6CA1;\x26#x6709;\x26#x5BF9;\x26#x5E94;reducer\x26#x7684;key\x26#xFF0C;\x26#x5E76;\x26#x63D0;\x26#x793A;\x26#x5F00;\x26#x53D1;\x26#x8005;\x26#x505A;\x26#x8C03;\x26#x6574;\x26#x3002;\x26#x63A5;\x26#x7740;\x26#x6211;\x26#x4EEC;\x26#x8DF3;\x26#x5230;getUnexpectedStateShapeWarningMessage\x26#x91CC;\x26#xFF0C;\x26#x770B;\x26#x5176;\x26#x5B9E;\x26#x73B0;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getUnexpectedStateShapeWarningMessage(\n  inputState,\n  reducers,\n  action,\n  unexpectedKeyCache\n) {\n  const reducerKeys = Object.keys(reducers)\n  const argumentName =\n    action \x26amp;\x26amp; action.type === ActionTypes.INIT\n      ? \x26apos;preloadedState argument passed to createStore\x26apos;\n      : \x26apos;previous state received by the reducer\x26apos;\n\n  if (reducerKeys.length === 0) {\n    return (\n      \x26apos;Store does not have a valid reducer. Make sure the argument passed \x26apos; \x2b\n      \x26apos;to combineReducers is an object whose values are reducers.\x26apos;\n    )\n  }\n\n  if (!isPlainObject(inputState)) {\n    return (\n      `The ${argumentName} has unexpected type of \x26quot;` \x2b\n      {}.toString.call(inputState).match(\/\\s([a-z|A-Z]\x2b)\/)[1] \x2b\n      `\x26quot;. Expected argument to be an object with the following ` \x2b\n      `keys: \x26quot;${reducerKeys.join(\x26apos;\x26quot;, \x26quot;\x26apos;)}\x26quot;`\n    )\n  }\n\n  const unexpectedKeys = Object.keys(inputState).filter(\n    key =\x26gt; !reducers.hasOwnProperty(key) \x26amp;\x26amp; !unexpectedKeyCache[key]\n  )\n\n  unexpectedKeys.forEach(key =\x26gt; {\n    unexpectedKeyCache[key] = true\n  })\n\n  if (action \x26amp;\x26amp; action.type === ActionTypes.REPLACE) return\n\n  if (unexpectedKeys.length \x26gt; 0) {\n    return (\n      `Unexpected ${unexpectedKeys.length \x26gt; 1 ? \x26apos;keys\x26apos; : \x26apos;key\x26apos;} ` \x2b\n      `\x26quot;${unexpectedKeys.join(\x26apos;\x26quot;, \x26quot;\x26apos;)}\x26quot; found in ${argumentName}. ` \x2b\n      `Expected to find one of the known reducer keys instead: ` \x2b\n      `\x26quot;${reducerKeys.join(\x26apos;\x26quot;, \x26quot;\x26apos;)}\x26quot;. Unexpected keys will be ignored.`\n    )\n  }\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetUnexpectedStateShapeWarningMessage\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\n  inputState,\n  reducers,\n  action,\n  unexpectedKeyCache\n\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducerKeys = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(reducers)\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e argumentName =\n    action \x26amp;\x26amp; action.type === ActionTypes.INIT\n      ? \x3cspan class=\x22hljs-string\x22\x3e\x26apos;preloadedState argument passed to createStore\x26apos;\x3c\/span\x3e\n      : \x3cspan class=\x22hljs-string\x22\x3e\x26apos;previous state received by the reducer\x26apos;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (reducerKeys.length === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Store does not have a valid reducer. Make sure the argument passed \x26apos;\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e\x26apos;to combineReducers is an object whose values are reducers.\x26apos;\x3c\/span\x3e\n    )\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!isPlainObject(inputState)) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22hljs-string\x22\x3e`The \x3cspan class=\x22hljs-subst\x22\x3e${argumentName}\x3c\/span\x3e has unexpected type of \x26quot;`\x3c\/span\x3e \x2b\n      {}.toString.call(inputState).match(\x3cspan class=\x22hljs-regexp\x22\x3e\/\\s([a-z|A-Z]\x2b)\/\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e`\x26quot;. Expected argument to be an object with the following `\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e`keys: \x26quot;\x3cspan class=\x22hljs-subst\x22\x3e${reducerKeys.join(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26quot;, \x26quot;\x26apos;\x3c\/span\x3e)}\x3c\/span\x3e\x26quot;`\x3c\/span\x3e\n    )\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e unexpectedKeys = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(inputState).filter(\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ekey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e !reducers.hasOwnProperty(key) \x26amp;\x26amp; !unexpectedKeyCache[key]\n  )\n\n  unexpectedKeys.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ekey\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    unexpectedKeyCache[key] = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  })\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (action \x26amp;\x26amp; action.type === ActionTypes.REPLACE) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (unexpectedKeys.length \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22hljs-string\x22\x3e`Unexpected \x3cspan class=\x22hljs-subst\x22\x3e${unexpectedKeys.length \x26gt; \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e ? \x3cspan class=\x22hljs-string\x22\x3e\x26apos;keys\x26apos;\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x26apos;key\x26apos;\x3c\/span\x3e}\x3c\/span\x3e `\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e`\x26quot;\x3cspan class=\x22hljs-subst\x22\x3e${unexpectedKeys.join(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26quot;, \x26quot;\x26apos;\x3c\/span\x3e)}\x3c\/span\x3e\x26quot; found in \x3cspan class=\x22hljs-subst\x22\x3e${argumentName}\x3c\/span\x3e. `\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e`Expected to find one of the known reducer keys instead: `\x3c\/span\x3e \x2b\n      \x3cspan class=\x22hljs-string\x22\x3e`\x26quot;\x3cspan class=\x22hljs-subst\x22\x3e${reducerKeys.join(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;\x26quot;, \x26quot;\x26apos;\x3c\/span\x3e)}\x3c\/span\x3e\x26quot;. Unexpected keys will be ignored.`\x3c\/span\x3e\n    )\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3egetUnexpectedStateShapeWarningMessage\x26#x63A5;\x26#x6536;\x26#x56DB;\x26#x4E2A;\x26#x53C2;\x26#x6570; inputState\x26#xFF08;state\x26#xFF09;\x26#x3001;reducers\x26#xFF08;finalReducers\x26#xFF09;\x26#x3001;action\x26#xFF08;action\x26#xFF09;\x26#x3001;unexpectedKeyCache\x26#xFF08;unexpectedKeyCache\x26#xFF09;\x26#xFF0C;\x26#x8FD9;\x26#x91CC;\x26#x8981;\x26#x8BF4;\x26#x4E00;\x26#x4E0B;unexpectedKeyCache\x26#x662F;\x26#x4E0A;\x26#x4E00;\x26#x6B21;\x26#x68C0;\x26#x6D4B;inputState\x26#x5F97;\x26#x5230;\x26#x7684;\x26#x5176;\x26#x91CC;\x26#x9762;\x26#x6CA1;\x26#x6709;\x26#x5BF9;\x26#x5E94;\x26#x7684;reducer\x26#x96C6;\x26#x5408;\x26#x91CC;\x26#x7684;\x26#x5F02;\x26#x5E38;key\x26#x7684;\x26#x96C6;\x26#x5408;\x26#x3002;\x26#x6574;\x26#x4E2A;\x26#x903B;\x26#x8F91;\x26#x5982;\x26#x4E0B;\x26#xFF1A;\x3c\/p\x3e\x3col\x3e\x3cli\x3e\x3cstrong\x3e\x26#x524D;\x26#x7F6E;\x26#x6761;\x26#x4EF6;\x26#x5224;\x26#x65AD;\x26#xFF0C;\x26#x4FDD;\x26#x8BC1;reducers\x26#x96C6;\x26#x5408;\x26#x4E0D;\x26#x4E3A;{}\x26#x4EE5;\x26#x53CA;inputState\x26#x4E3A;\x26#x7B80;\x26#x5355;\x26#x5BF9;\x26#x8C61;\x3c\/strong\x3e\x3c\/li\x3e\x3cli\x3e\x3cstrong\x3e\x26#x627E;\x26#x51FA;inputState\x26#x91CC;\x26#x6709;\x26#x7684;key\x26#x4F46;\x26#x662F; reducers\x26#x96C6;\x26#x5408;\x26#x91CC;\x26#x6CA1;\x26#x6709;key\x3c\/strong\x3e\x3c\/li\x3e\x3cli\x3e\x3cstrong\x3e\x26#x5982;\x26#x679C;\x26#x662F;\x26#x66FF;\x26#x6362;reducer\x26#x7684;action,\x26#x8DF3;\x26#x8FC7;\x26#x7B2C;\x26#x56DB;\x26#x6B65;\x26#xFF0C;\x26#x4E0D;\x26#x6253;\x26#x5370;\x26#x5F02;\x26#x5E38;\x26#x4FE1;\x26#x606F;\x3c\/strong\x3e\x3c\/li\x3e\x3cli\x3e\x3cstrong\x3e\x26#x5C06;\x26#x6240;\x26#x6709;\x26#x5F02;\x26#x5E38;\x26#x7684;key\x26#x6253;\x26#x5370;\x26#x51FA;\x26#x6765;\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ol\x3e\x3cp\x3egetUnexpectedStateShapeWarningMessage\x26#x5206;\x26#x6790;\x26#x5B8C;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x63A5;\x26#x7740;\x26#x770B;\x26#x540E;\x26#x9762;\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    let hasChanged = false\n    const nextState = {}\n    for (let i = 0; i \x26lt; finalReducerKeys.length; i\x2b\x2b) {\n      const key = finalReducerKeys[i]\n      const reducer = finalReducers[key]\n      const previousStateForKey = state[key]\n      const nextStateForKey = reducer(previousStateForKey, action)\n      if (typeof nextStateForKey === \x26apos;undefined\x26apos;) {\n        const errorMessage = getUndefinedStateErrorMessage(key, action)\n        throw new Error(errorMessage)\n      }\n      nextState[key] = nextStateForKey\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey\n    }\n    return hasChanged ? nextState : state\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e    let hasChanged = \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nextState = {}\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (let i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; finalReducerKeys.length; i\x2b\x2b) {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e = finalReducerKeys[i]\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducer = finalReducers[\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e]\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e previousStateForKey = state[\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e]\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nextStateForKey = reducer(previousStateForKey, action)\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (typeof nextStateForKey === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;undefined\x26apos;\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e errorMessage = getUndefinedStateErrorMessage(\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e, action)\n        \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Error(errorMessage)\n      }\n      nextState[\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e] = nextStateForKey\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hasChanged ? nextState : state\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x9996;\x26#x5148;\x26#x5B9A;\x26#x4E49;\x26#x4E86;\x26#x4E00;\x26#x4E2A;hasChanged\x26#x53D8;\x26#x91CF;\x26#x7528;\x26#x6765;\x26#x8868;\x26#x793A;state\x26#x662F;\x26#x5426;\x26#x53D1;\x26#x751F;\x26#x53D8;\x26#x5316;\x26#xFF0C;\x26#x904D;\x26#x5386;reducers\x26#x96C6;\x26#x5408;,\x26#x5C06;\x26#x6BCF;\x26#x4E2A;reducer\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x539F;state\x26#x4F20;\x26#x5165;\x26#x5176;\x26#x4E2D;\x26#xFF0C;\x26#x5F97;\x26#x51FA;\x26#x5176;\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x65B0;\x26#x7684;state\x26#x3002;\x26#x7D27;\x26#x63A5;\x26#x7740;\x26#x540E;\x26#x9762;\x26#x5BF9;\x26#x65B0;\x26#x7684;state\x26#x505A;\x26#x4E86;\x26#x4E00;\x26#x5C42;\x26#x672A;\x26#x5B9A;\x26#x4E49;\x26#x7684;\x26#x6821;\x26#x9A8C;\x26#xFF0C;\x26#x51FD;\x26#x6570;getUndefinedStateErrorMessage\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#x5982;\x26#x4E0B;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getUndefinedStateErrorMessage(key, action) {\n  const actionType = action \x26amp;\x26amp; action.type\n  const actionDescription =\n    (actionType \x26amp;\x26amp; `action \x26quot;${String(actionType)}\x26quot;`) || \x26apos;an action\x26apos;\n\n  return (\n    `Given ${actionDescription}, reducer \x26quot;${key}\x26quot; returned undefined. ` \x2b\n    `To ignore an action, you must explicitly return the previous state. ` \x2b\n    `If you want this reducer to hold no value, you can return null instead of undefined.`\n  )\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs livescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e getUndefinedStateErrorMessage(key, action) {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e actionType = action \x26amp;\x26amp; action.type\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e actionDescription =\n    (actionType \x26amp;\x26amp; `action \x3cspan class=\x22hljs-string\x22\x3e\x26quot;${String(actionType)}\x26quot;\x3c\/span\x3e`) || \x3cspan class=\x22hljs-string\x22\x3e\x26apos;an action\x26apos;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n    `Given ${actionDescription}, reducer \x3cspan class=\x22hljs-string\x22\x3e\x26quot;${key}\x26quot;\x3c\/span\x3e returned \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e. ` \x2b\n    `To ignore an action, you must explicitly \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e the previous state. ` \x2b\n    `If you want \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e reducer \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e hold \x3cspan class=\x22hljs-literal\x22\x3eno\x3c\/span\x3e value, you can \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e instead \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e.`\n  )\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x903B;\x26#x8F91;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x4EC5;\x26#x4EC5;\x26#x505A;\x26#x4E86;\x26#x4E00;\x26#x4E0B;\x26#x9519;\x26#x8BEF;\x26#x4FE1;\x26#x606F;\x26#x7684;\x26#x62FC;\x26#x63A5;\x26#x3002;\x26#x672A;\x26#x5B9A;\x26#x4E49;\x26#x6821;\x26#x9A8C;\x26#x5B8C;\x26#x4E86;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x4F1A;\x26#x8DDF;\x26#x539F;state\x26#x4F5C;\x26#x5BF9;\x26#x6BD4;\x26#xFF0C;\x26#x5F97;\x26#x51FA;\x26#x5176;\x26#x662F;\x26#x5426;\x26#x53D1;\x26#x751F;\x26#x53D8;\x26#x5316;\x26#x3002;\x26#x6700;\x26#x540E;\x26#x53D1;\x26#x751F;\x26#x53D8;\x26#x5316;\x26#x8FD4;\x26#x56DE;nextState,\x26#x5426;\x26#x5219;\x26#x8FD4;\x26#x56DE;state\x26#x3002;\x3c\/p\x3e\x3ch2 id=\x22articleHeader20\x22\x3ecompose.js\x3c\/h2\x3e\x3cp\x3e\x26#x8FD9;\x26#x4E2A;\x26#x51FD;\x26#x6570;\x26#x4E3B;\x26#x8981;\x26#x4F5C;\x26#x7528;\x26#x5C31;\x26#x662F;\x26#x5C06;\x26#x591A;\x26#x4E2A;\x26#x51FD;\x26#x6570;\x26#x8FDE;\x26#x63A5;\x26#x8D77;\x26#x6765;\x26#xFF0C;\x26#x5C06;\x26#x4E00;\x26#x4E2A;\x26#x51FD;\x26#x6570;\x26#x7684;\x26#x8FD4;\x26#x56DE;\x26#x503C;\x26#x4F5C;\x26#x4E3A;\x26#x53E6;\x26#x4E00;\x26#x4E2A;\x26#x51FD;\x26#x6570;\x26#x7684;\x26#x4F20;\x26#x53C2;\x26#x8FDB;\x26#x884C;\x26#x8BA1;\x26#x7B97;\x26#xFF0C;\x26#x5F97;\x26#x51FA;\x26#x6700;\x26#x7EC8;\x26#x7684;\x26#x8FD4;\x26#x56DE;\x26#x503C;\x26#x3002;\x26#x4EE5;\x26#x70F9;\x26#x996A;\x26#x4E3A;\x26#x4F8B;\x26#xFF0C;\x26#x6BCF;\x26#x5230;\x26#x6599;\x26#x7406;\x26#x90FD;\x26#x662F;\x26#x4ECE;\x26#x6700;\x26#x521D;\x26#x7684;\x26#x98DF;\x26#x6750;\x26#x7ECF;\x26#x8FC7;\x26#x4E00;\x26#x9053;\x26#x53C8;\x26#x4E00;\x26#x9053;\x26#x7684;\x26#x5DE5;\x26#x5E8F;\x26#x5904;\x26#x7406;\x26#x624D;\x26#x5F97;\x26#x5230;\x26#x7684;\x26#x3002;compose\x26#x7684;\x26#x7528;\x26#x5904;\x26#x5C31;\x26#x53EF;\x26#x4EE5;\x26#x5C06;\x26#x8FD9;\x26#x4E9B;\x26#x70F9;\x26#x996A;\x26#x5DE5;\x26#x5E8F;\x26#x8FDE;\x26#x63A5;\x26#x5230;\x26#x4E00;\x26#x8D77;\x26#xFF0C;\x26#x4F60;\x26#x53EA;\x26#x9700;\x26#x8981;\x26#x63D0;\x26#x4F9B;\x26#x98DF;\x26#x6750;\x26#xFF0C;\x26#x5B83;\x26#x4F1A;\x26#x81EA;\x26#x52A8;\x26#x5E2E;\x26#x4F60;\x26#x7ECF;\x26#x8FC7;\x26#x4E00;\x26#x9053;\x26#x53C8;\x26#x4E00;\x26#x9053;\x26#x7684;\x26#x5DE5;\x26#x5E8F;\x26#x5904;\x26#x7406;\x26#xFF0C;\x26#x70F9;\x26#x996A;\x26#x51FA;\x26#x8FD9;\x26#x9053;\x26#x6599;\x26#x7406;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default function compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg =\x26gt; arg\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n\n  return funcs.reduce((a, b) =\x26gt; (...args) =\x26gt; a(b(...args)))\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3eexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecompose\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-rest_arg\x22\x3e...funcs\x3c\/span\x3e)\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (funcs.length === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e arg =\x26gt; arg\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (funcs.length === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e funcs[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e funcs.reduce((a, b) =\x26gt; (...args) =\x26gt; a(b(...args)))\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x4E0A;\x26#x9762;\x26#x662F;es6\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#xFF0C;\x26#x53EF;\x26#x80FD;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x5E76;\x26#x4E0D;\x26#x662F;\x26#x5F88;\x26#x597D;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x4E3A;\x26#x4E86;\x26#x65B9;\x26#x4FBF;\x26#x5927;\x26#x5BB6;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x6211;\x26#x5C06;\x26#x5176;\x26#x8F6C;\x26#x6362;\x26#x6210;es5\x26#x4EE3;\x26#x7801;\x26#x53BB;\x26#x505A;\x26#x8BB2;\x26#x89E3;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function compose() {\n  var _len = arguments.length;\n  var funcs = [];\n  for (var i = 0; i \x26lt; _len; i\x2b\x2b) {\n    funcs[i] = arguments[i];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecompose\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _len = \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e.length;\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e funcs = [];\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; _len; i\x2b\x2b) {\n    funcs[i] = \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e[i];\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (funcs.length === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3earg\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e arg;\n    };\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (funcs.length === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e funcs[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e funcs.reduce(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ea, b\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e a(b.apply(\x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e));\n    };\n  });\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x68B3;\x26#x7406;\x26#x4E00;\x26#x4E0B;\x26#x6574;\x26#x4E2A;\x26#x6D41;\x26#x7A0B;\x26#xFF0C;\x26#x5927;\x26#x81F4;\x26#x5206;\x26#x4E3A;\x26#x8FD9;\x26#x4E48;\x26#x51E0;\x26#x6B65;\x26#xFF1A;\x3c\/p\x3e\x3col\x3e\x3cli\x3e\x26#x65B0;\x26#x5EFA;\x26#x4E00;\x26#x4E2A;\x26#x65B0;\x26#x6570;\x26#x7EC4;funcs\x26#xFF0C;\x26#x5C06;arguments\x26#x91CC;\x26#x9762;\x26#x7684;\x26#x6BCF;\x26#x4E00;\x26#x9879;\x26#x4E00;\x26#x4E00;\x26#x62F7;\x26#x8D1D;\x26#x5230;funcs\x26#x4E2D;\x26#x53BB;\x3c\/li\x3e\x3cli\x3e\x26#x5F53;funcs\x26#x7684;\x26#x957F;\x26#x5EA6;\x26#x4E3A;0\x26#x65F6;\x26#xFF0C;\x26#x8FD4;\x26#x56DE;\x26#x4E00;\x26#x4E2A;\x26#x4F20;\x26#x5165;\x26#x4EC0;\x26#x4E48;\x26#x5C31;\x26#x8FD4;\x26#x56DE;\x26#x4EC0;\x26#x4E48;\x26#x7684;\x26#x51FD;\x26#x6570;\x3c\/li\x3e\x3cli\x3e\x26#x5F53;funcs\x26#x7684;\x26#x957F;\x26#x5EA6;\x26#x4E3A;1\x26#x65F6;\x26#xFF0C;\x26#x8FD4;\x26#x56DE;funcs\x26#x7B2C;0\x26#x9879;\x26#x5BF9;\x26#x5E94;\x26#x7684;\x26#x51FD;\x26#x6570;\x3c\/li\x3e\x3cli\x3e\x26#x5F53;funcs\x26#x7684;\x26#x957F;\x26#x5EA6;\x26#x5927;\x26#x4E8E;1\x26#x65F6;\x26#xFF0C;\x26#x8C03;\x26#x7528;Array.prototype.reduce\x26#x65B9;\x26#x6CD5;\x26#x8FDB;\x26#x884C;\x26#x6574;\x26#x5408;\x3c\/li\x3e\x3c\/ol\x3e\x3cp\x3e\x26#x8FD9;\x26#x91CC;\x26#x6211;\x26#x4EEC;\x26#x6B63;\x26#x597D;\x26#x590D;\x26#x4E60;\x26#x4E00;\x26#x4E0B;\x26#x6570;\x26#x7EC4;\x26#x7684;reduce\x26#x65B9;\x26#x6CD5;\x26#xFF0C;\x26#x51FD;\x26#x6570;reduce\x26#x63A5;\x26#x53D7;\x26#x4E0B;\x26#x9762;\x26#x56DB;\x26#x4E2A;\x26#x53C2;\x26#x6570;\x3c\/p\x3e\x3cul\x3e\x3cli\x3etotal \x26#x521D;\x26#x59CB;\x26#x503C;\x26#x6216;\x26#x8005;\x26#x8BA1;\x26#x7B97;\x26#x5F97;\x26#x51FA;\x26#x7684;\x26#x8FD4;\x26#x56DE;\x26#x503C;\x3c\/li\x3e\x3cli\x3ecurrent \x26#x5F53;\x26#x524D;\x26#x5143;\x26#x7D20;\x3c\/li\x3e\x3cli\x3eindex \x26#x5F53;\x26#x524D;\x26#x5143;\x26#x7D20;\x26#x7684;\x26#x4E0B;\x26#x6807;\x3c\/li\x3e\x3cli\x3earray \x26#x5F53;\x26#x524D;\x26#x5143;\x26#x7D20;\x26#x6240;\x26#x5728;\x26#x7684;\x26#x6570;\x26#x7EC4;\x3c\/li\x3e\x3c\/ul\x3e\x3cp\x3e\x3cstrong\x3e\x26#x793A;\x26#x4F8B;\x26#xFF1A;\x3c\/strong\x3e\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const array = [1,2,3,4,5,6,7,8,9,10];\nconst totalValue=array.reduce((total,current)=\x26gt;{\n  return total\x2bcurrent\n}); \/\/55\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs smali\x22\x3e\x3ccode\x3econst\x3cspan class=\x22hljs-built_in\x22\x3e array \x3c\/span\x3e= [1,2,3,4,5,6,7,8,9,10];\x3cspan class=\x22hljs-built_in\x22\x3e\nconst \x3c\/span\x3etotalValue=array.reduce((total,current)=\x26gt;{\n \x3cspan class=\x22hljs-built_in\x22\x3e return \x3c\/span\x3etotal\x2bcurrent\n}); \/\/55\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x8FD9;\x26#x91CC;\x26#x7684;compose\x26#x6709;\x26#x4E2A;\x26#x7279;\x26#x70B9;\x26#xFF0C;\x26#x4ED6;\x26#x4E0D;\x26#x662F;\x26#x4ECE;\x26#x5DE6;\x26#x5230;\x26#x53F3;\x26#x6267;\x26#x884C;\x26#x7684;\x26#xFF0C;\x26#x800C;\x26#x662F;\x26#x4ECE;\x26#x53F3;\x26#x5230;\x26#x5DE6;\x26#x6267;\x26#x884C;\x26#x7684;\x26#xFF0C;\x26#x4E0B;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x770B;\x26#x4E2A;\x26#x4F8B;\x26#x5B50;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const value=compose(function(value){\n  return value\x2b1;\n},function(value){\n  return value*2;\n},function(value){\n  return value-3;\n})(2);\nconsole.log(value);\/\/(2-3)*2\x2b1=-1\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs fortran\x22\x3e\x3ccode\x3econst \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e=compose(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(value)\x3c\/span\x3e\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n},\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(value)\x3c\/span\x3e\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e*\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n},\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(value)\x3c\/span\x3e\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n})(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\nconsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e);\/\/(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)*\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e=-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x5982;\x26#x679C;\x26#x60F3;\x26#x8981;\x26#x5176;\x26#x4ECE;\x26#x5DE6;\x26#x5411;\x26#x53F3;\x26#x6267;\x26#x884C;\x26#x4E5F;\x26#x5F88;\x26#x7B80;\x26#x5355;\x26#xFF0C;\x26#x505A;\x26#x4E00;\x26#x4E0B;\x26#x987A;\x26#x5E8F;\x26#x7684;\x26#x98A0;\x26#x5012;\x26#x5373;\x26#x53EF;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22===\x26gt; \x26#x8F6C;\x26#x6362;\x26#x524D; return a(b.apply(undefined, arguments));\n===\x26gt; \x26#x8F6C;\x26#x6362;\x26#x540E; return b(a.apply(undefined, arguments));\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e==\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e \x26#x8F6C;\x26#x6362;\x26#x524D; \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e a(b.apply(\x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e, arguments));\n==\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e \x26#x8F6C;\x26#x6362;\x26#x540E; \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e b(a.apply(\x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e, arguments));\x3c\/code\x3e\x3c\/pre\x3e\x3ch2 id=\x22articleHeader21\x22\x3eapplyMiddleware.js\x3c\/h2\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default function applyMiddleware(...middlewares) {\n  return createStore =\x26gt; (...args) =\x26gt; {\n    const store = createStore(...args)\n    let dispatch = () =\x26gt; {\n      throw new Error(\n        `Dispatching while constructing your middleware is not allowed. ` \x2b\n          `Other middleware would not be applied to this dispatch.`\n      )\n    }\n\n    const middlewareAPI = {\n      getState: store.getState,\n      dispatch: (...args) =\x26gt; dispatch(...args)\n    }\n    const chain = middlewares.map(middleware =\x26gt; middleware(middlewareAPI))\n    dispatch = compose(...chain)(store.dispatch)\n\n    return {\n      ...store,\n      dispatch\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3eexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eapplyMiddleware\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-rest_arg\x22\x3e...middlewares\x3c\/span\x3e)\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e createStore =\x26gt; (...args) =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = createStore(...args)\n    let dispatch = () =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Error(\n        `Dispatching \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e constructing your middleware \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e not allowed. ` \x2b\n          `Other middleware would not be applied to \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e dispatch.`\n      )\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e middlewareAPI = {\n      getState: store.getState,\n      dispatch: (...args) =\x26gt; dispatch(...args)\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chain = middlewares.map(middleware =\x26gt; middleware(middlewareAPI))\n    dispatch = compose(...chain)(store.dispatch)\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      ...store,\n      dispatch\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x524D;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x8BB2;enhancer\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;\x26#x63D0;\x26#x5230;\x26#x8FC7;\x26#x8FD9;\x26#x4E2A;applyMiddleware\x26#xFF0C;\x26#x73B0;\x26#x5728;\x26#x6211;\x26#x4EEC;\x26#x5C06;\x26#x4E8C;\x26#x8005;\x26#x7684;\x26#x683C;\x26#x5F0F;\x26#x5BF9;\x26#x6BD4;\x26#x770B;\x26#x4E00;\x26#x4E0B;\x26#x3002;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ enhancer\n function enhancer(createStore) {\n    return (reducer,preloadedState) =\x26gt; {\n         \/\/\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\n        .......\n    }\n }\n\/\/applyMiddleware\nfunction \/\/applyMiddleware(...middlewares) {\n    return createStore =\x26gt; (...args) =\x26gt; {\n        \/\/\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\n        ....... \n    }\n }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ enhancer\x3c\/span\x3e\n \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eenhancer\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecreateStore\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducer,preloadedState\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n         \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\x3c\/span\x3e\n        .......\n    }\n }\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/applyMiddleware\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \/\/\x3cspan class=\x22hljs-title\x22\x3eapplyMiddleware\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e...middlewares\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ecreateStore\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (...args) =\x26gt; {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26#x903B;\x26#x8F91;\x26#x4EE3;\x26#x7801;\x3c\/span\x3e\n        ....... \n    }\n }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x901A;\x26#x8FC7;\x26#x4E8C;\x26#x8005;\x26#x7684;\x26#x5BF9;\x26#x6BD4;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x53D1;\x26#x73B0;\x26#x51FD;\x26#x6570;applyMiddleware\x26#x7684;\x26#x8FD4;\x26#x56DE;\x26#x5C31;\x26#x662F;\x26#x4E00;\x26#x4E2A;enhancer\x26#xFF0C;\x26#x4E0B;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x518D;\x26#x770B;\x26#x5176;\x26#x5177;\x26#x4F53;\x26#x5B9E;\x26#x73B0;\x26#x903B;\x26#x8F91;\x26#xFF1A;\x3c\/p\x3e\x3col\x3e\x3cli\x3e\x26#x901A;\x26#x8FC7;createStore\x26#x65B9;\x26#x6CD5;\x26#x521B;\x26#x5EFA;\x26#x51FA;\x26#x4E00;\x26#x4E2A;store\x3c\/li\x3e\x3cli\x3e\x26#x5B9A;\x26#x4E00;\x26#x4E2A;dispatch\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x5728;\x26#x4E2D;\x26#x95F4;\x26#x4EF6;\x26#x6784;\x26#x9020;\x26#x8FC7;\x26#x7A0B;\x26#x4E2D;\x26#x8C03;\x26#x7528;\x26#xFF0C;\x26#x629B;\x26#x51FA;\x26#x9519;\x26#x8BEF;\x26#x63D0;\x26#x793A;\x3c\/li\x3e\x3cli\x3e\x26#x5B9A;\x26#x4E49;middlewareAPI\x26#xFF0C;\x26#x6709;\x26#x4E24;\x26#x4E2A;\x26#x65B9;\x26#x6CD5;\x26#xFF0C;\x26#x4E00;\x26#x4E2A;\x26#x662F;getState\x26#xFF0C;\x26#x53E6;\x26#x4E00;\x26#x4E2A;\x26#x662F;dispatch\x26#xFF0C;\x26#x5C06;\x26#x5176;\x26#x4F5C;\x26#x4E3A;\x26#x4E2D;\x26#x95F4;\x26#x4EF6;\x26#x8C03;\x26#x7528;\x26#x7684;store\x26#x7684;\x26#x6865;\x26#x63A5;\x3c\/li\x3e\x3cli\x3emiddlewares\x26#x8C03;\x26#x7528;Array.prototype.map\x26#x8FDB;\x26#x884C;\x26#x6539;\x26#x9020;\x26#xFF0C;\x26#x5B58;\x26#x653E;\x26#x5728;chain\x3c\/li\x3e\x3cli\x3e\x26#x7528;compose\x26#x6574;\x26#x5408;chain\x26#x6570;\x26#x7EC4;\x26#xFF0C;\x26#x5E76;\x26#x8D4B;\x26#x503C;\x26#x7ED9;dispatch\x3c\/li\x3e\x3cli\x3e\x26#x5C06;\x26#x65B0;\x26#x7684;dispatch\x26#x66FF;\x26#x6362;\x26#x539F;\x26#x5148;\x26#x7684;store.dispatch\x3c\/li\x3e\x3c\/ol\x3e\x3cp\x3e\x26#x770B;\x26#x5B8C;\x26#x6574;\x26#x4E2A;\x26#x8FC7;\x26#x7A0B;\x26#x53EF;\x26#x80FD;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x8FD8;\x26#x662F;\x26#x4E00;\x26#x5934;\x26#x96FE;\x26#x6C34;\x26#xFF0C;\x26#x7384;\x26#x5B66;\x26#x7684;\x26#x5F88;\x26#xFF01;\x26#x4E0D;\x26#x8FC7;\x26#x6CA1;\x26#x5173;\x26#x7CFB;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x4EE5;redux-thunk\x26#x4E3A;\x26#x4F8B;\x26#xFF0C;\x26#x6A21;\x26#x62DF;\x26#x4E00;\x26#x4E0B;\x26#x6574;\x26#x4E2A;\x26#x8FC7;\x26#x7A0B;\x26#x4E2D;\x26#xFF0C;\x26#x5148;\x26#x628A;redux-thunk\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x8D34;\x26#x51FA;\x26#x6765;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function createThunkMiddleware(extraArgument) {\n  return ({ dispatch, getState }) =\x26gt; next =\x26gt; action =\x26gt; {\n    if (typeof action === \x26apos;function\x26apos;) {\n      return action(dispatch, getState, extraArgument);\n    }\n\n    return next(action);\n  };\n}\n\nconst thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreateThunkMiddleware\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eextraArgument\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch, getState }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e next =\x26gt; \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eaction\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e action === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e action(dispatch, getState, extraArgument);\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e next(action);\n  };\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e thunk;\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x54C8;\x26#x54C8;\x26#x54C8;\x26#xFF01;\x26#x770B;\x26#x5B8C;redux-thunk\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x4E4B;\x26#x540E;\x26#x662F;\x26#x4E0D;\x26#x662F;\x26#x5F88;\x26#x5954;\x26#x6E83;\x26#xFF0C;\x26#x51E0;\x26#x5343;star\x26#x7684;\x26#x9879;\x26#x76EE;\x26#x5C45;\x26#x7136;\x26#x5C31;\x26#x51E0;\x26#x884C;\x26#x4EE3;\x26#x7801;\x26#xFF0C;\x26#x987F;\x26#x65F6;\x26#x4E09;\x26#x89C2;\x26#x5C31;\x26#x6BC1;\x26#x4E86;\x26#x6709;\x26#x6728;\x26#x6709;\x26#xFF1F;\x26#x5176;\x26#x5B9E;\x26#x6E90;\x26#x7801;\x26#x6CA1;\x26#x6709;\x26#x5927;\x26#x5BB6;\x26#x60F3;\x26#x8C61;\x26#x7684;\x26#x90A3;\x26#x4E48;\x26#x590D;\x26#x6742;\x26#xFF0C;\x26#x4E0D;\x26#x8981;\x26#x4E00;\x26#x542C;\x26#x6E90;\x26#x7801;\x26#x5C31;\x26#x614C;\x26#x3002;\x26#x7A33;\x26#x4F4F;\x26#xFF01;\x26#x6211;\x26#x4EEC;\x26#x80FD;\x26#x8D62;\x26#xFF01;\x26#x6839;\x26#x636E;redux-thunk\x26#x7684;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x62FF;\x26#x5230;\x26#x7684;thunk\x26#x5E94;\x26#x8BE5;\x26#x662F;\x26#x8FD9;\x26#x6837;\x26#x5B50;\x26#x7684;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 const thunk = ({ dispatch, getState })=\x26gt;{\n    return next =\x26gt; action =\x26gt; {\n        if (typeof action === \x26apos;function\x26apos;) {\n            return action(dispatch, getState);\n        }\n        return next(action);\n    };\n }  \x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e thunk = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch, getState }\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3enext\x3c\/span\x3e =\x26gt;\x3c\/span\x3e action =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e action === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e action(dispatch, getState);\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e next(action);\n    };\n }  \x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x6211;\x26#x4EEC;\x26#x7ECF;\x26#x8FC7;applyMiddleware\x26#x5904;\x26#x7406;\x26#x4E00;\x26#x4E0B;\x26#xFF0C;\x26#x5230;\x26#x7B2C;\x26#x56DB;\x26#x6B65;\x26#x7684;\x26#x65F6;\x26#x5019;\x26#xFF0C;chain\x26#x6570;\x26#x7EC4;\x26#x5E94;\x26#x8BE5;\x26#x662F;\x26#x8FD9;\x26#x6837;\x26#x5B50;\x26#x7684;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const newDispatch;\nconst middlewareAPI={\n  getState:store.getState,\n  dispatch: (...args) =\x26gt; newDispatch(...args)\n}\nconst { dispatch, getState } = middlewareAPI;\nconst  fun1 = (next)=\x26gt;{\n  return action =\x26gt; {\n    if (typeof action === \x26apos;function\x26apos;) {\n        return action(dispatch, getState);\n    }\n    return next(action);\n  }\n}\nconst chain = [fun1]\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e newDispatch;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e middlewareAPI={\n  \x3cspan class=\x22hljs-attr\x22\x3egetState\x3c\/span\x3e:store.getState,\n  \x3cspan class=\x22hljs-attr\x22\x3edispatch\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e...args\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e newDispatch(...args)\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { dispatch, getState } = middlewareAPI;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e  fun1 = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3enext\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eaction\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e action === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e action(dispatch, getState);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e next(action);\n  }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chain = [fun1]\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3ecompose\x26#x6574;\x26#x5408;\x26#x5B8C;chain\x26#x6570;\x26#x7EC4;\x26#x4E4B;\x26#x540E;\x26#x5F97;\x26#x5230;\x26#x7684;\x26#x65B0;\x26#x7684;dispatch\x26#x7684;\x26#x5E94;\x26#x8BE5;\x26#x662F;\x26#x8FD9;\x26#x6837;\x26#x5B50;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const newDispatch;\nconst middlewareAPI={\n  getState:store.getState,\n  dispatch: (...args) =\x26gt; newDispatch(...args)\n}\nconst { dispatch, getState } = middlewareAPI;\nconst next = store.dispatch;\nnewDispatch = action =\x26gt;{\n  if (typeof action === \x26apos;function\x26apos;) {\n    return action(dispatch, getState);\n  }\n  return next(action);\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e newDispatch;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e middlewareAPI={\n  \x3cspan class=\x22hljs-attr\x22\x3egetState\x3c\/span\x3e:store.getState,\n  \x3cspan class=\x22hljs-attr\x22\x3edispatch\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e...args\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e newDispatch(...args)\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { dispatch, getState } = middlewareAPI;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e next = store.dispatch;\nnewDispatch = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eaction\x3c\/span\x3e =\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e action === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e action(dispatch, getState);\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e next(action);\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x63A5;\x26#x4E0B;\x26#x6765;\x26#x6211;\x26#x4EEC;\x26#x53EF;\x26#x4EE5;\x26#x7ED3;\x26#x5408;redux-thunk\x26#x7684;\x26#x4F8B;\x26#x5B50;\x26#x6765;\x26#x6A21;\x26#x62DF;\x26#x6574;\x26#x4E2A;\x26#x8FC7;\x26#x7A0B;\x26#xFF1A;\x3c\/p\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function makeASandwichWithSecretSauce(forPerson) {\n  return function (dispatch) {\n    return fetchSecretSauce().then(\n      sauce =\x26gt; dispatch(makeASandwich(forPerson, sauce)),\n      error =\x26gt; dispatch(apologize(\x26apos;The Sandwich Shop\x26apos;, forPerson, error))\n    );\n  };\n}\n\/\/ store.dispatch\x26#x5C31;\x26#x7B49;\x26#x4EF7;\x26#x4E8E;newDispatch\nstore.dispatch(makeASandwichWithSecretSauce(\x26apos;Me\x26apos;))\n\n====\x26gt; \x26#x8F6C;\x26#x6362;\nconst forPerson = \x26apos;Me\x26apos;;\nconst action = (dispatch)=\x26gt;{\n    return fetchSecretSauce().then(\n      sauce =\x26gt; dispatch(makeASandwich(forPerson, sauce)),\n      error =\x26gt; dispatch(apologize(\x26apos;The Sandwich Shop\x26apos;, forPerson, error))\n    );\n}\nnewDispatch()\n\n===\x26gt; typeof action === \x26apos;function\x26apos; \x26#x6210;\x26#x7ACB;\x26#x65F6;\n\n ((dispatch)=\x26gt;{\n    return fetchSecretSauce().then(\n      sauce =\x26gt; dispatch(makeASandwich(forPerson, sauce)),\n      error =\x26gt; dispatch(apologize(\x26apos;The Sandwich Shop\x26apos;, forPerson, error))\n    );\n  })( (...args) =\x26gt; newDispatch(...args), getState)\n\n====\x26gt; \x26#x8BA1;\x26#x7B97;\x26#x8FD0;\x26#x884C;\x26#x7ED3;\x26#x679C;\nconst forPerson = \x26apos;Me\x26apos;;\nconst dispatch = (...args) =\x26gt; newDispatch(...args) \x26#xFF1B;\nfetchSecretSauce().then(\n      sauce =\x26gt; dispatch(makeASandwich(forPerson, sauce)),\n      error =\x26gt; dispatch(apologize(\x26apos;The Sandwich Shop\x26apos;, forPerson, error))\n);\n\/\/ \x26#x5176;\x26#x4E2D;\x26#xFF1A;\nfunction fetchSecretSauce() {\n  return fetch(\x26apos;https:\/\/www.google.com\/search?q=secret\x2bsauce\x26apos;);\n}\nfunction makeASandwich(forPerson, secretSauce) {\n  return {\n    type: \x26apos;MAKE_SANDWICH\x26apos;,\n    forPerson,\n    secretSauce\n  };\n}\n\nfunction apologize(fromPerson, toPerson, error) {\n  return {\n    type: \x26apos;APOLOGIZE\x26apos;,\n    fromPerson,\n    toPerson,\n    error\n  };\n}\n====\x26gt; \x26#x6211;\x26#x4EEC;\x26#x8FD9;\x26#x91CC;\x26#x53EA;\x26#x8BA1;\x26#x7B97;Promise.resolve\x26#x7684;\x26#x7ED3;\x26#x679C;,\x26#x5E76;\x26#x4E14;\x26#x5047;\x26#x8BBE;fetchSecretSauce\x26#x8FD4;\x26#x56DE;\x26#x503C;\x26#x4E3A;\x26apos;666\x26apos;,\x26#x5373;sauce=\x26apos;666\x26apos;\n\nconst forPerson = \x26apos;Me\x26apos;;\nconst dispatch = (...args) =\x26gt; newDispatch(...args) \x26#xFF1B;\ndispatch({\n    type: \x26apos;MAKE_SANDWICH\x26apos;,\n    \x26apos;Me\x26apos;,\n    \x26apos;666\x26apos;\n})\n====\x26gt; \x26#x4E3A;\x26#x4E86;\x26#x65B9;\x26#x4FBF;\x26#x5BF9;\x26#x6BD4;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x518D;\x26#x6B21;\x26#x8F6C;\x26#x6362;\x26#x4E00;\x26#x4E0B;\n\nconst action = {\n    type: \x26apos;MAKE_SANDWICH\x26apos;,\n    \x26apos;Me\x26apos;,\n    \x26apos;666\x26apos;\n};\n\nconst next = store.dispatch\n\nconst newDispatch = action =\x26gt;{\n  if (typeof action === \x26apos;function\x26apos;) {\n    return action(dispatch, getState);\n  }\n  return next(action);\n}\n\nnewDispatch(action)\n\n====\x26gt; \x26#x6700;\x26#x7EC8;\x26#x7ED3;\x26#x679C;\nstore.dispatch({\n    type: \x26apos;MAKE_SANDWICH\x26apos;,\n    \x26apos;Me\x26apos;,\n    \x26apos;666\x26apos;\n});\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emakeASandwichWithSecretSauce\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eforPerson\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3edispatch\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fetchSecretSauce().then(\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3esauce\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(makeASandwich(forPerson, sauce)),\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(apologize(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;The Sandwich Shop\x26apos;\x3c\/span\x3e, forPerson, error))\n    );\n  };\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ store.dispatch\x26#x5C31;\x26#x7B49;\x26#x4EF7;\x26#x4E8E;newDispatch\x3c\/span\x3e\nstore.dispatch(makeASandwichWithSecretSauce(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;Me\x26apos;\x3c\/span\x3e))\n\n====\x26gt; \x26#x8F6C;\x26#x6362;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e forPerson = \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Me\x26apos;\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e action = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3edispatch\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fetchSecretSauce().then(\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3esauce\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(makeASandwich(forPerson, sauce)),\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(apologize(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;The Sandwich Shop\x26apos;\x3c\/span\x3e, forPerson, error))\n    );\n}\nnewDispatch()\n\n===\x26gt; \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e action === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e \x26#x6210;\x26#x7ACB;\x26#x65F6;\n\n (\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3edispatch\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fetchSecretSauce().then(\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3esauce\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(makeASandwich(forPerson, sauce)),\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(apologize(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;The Sandwich Shop\x26apos;\x3c\/span\x3e, forPerson, error))\n    );\n  })( \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e...args\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e newDispatch(...args), getState)\n\n====\x26gt; \x26#x8BA1;\x26#x7B97;\x26#x8FD0;\x26#x884C;\x26#x7ED3;\x26#x679C;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e forPerson = \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Me\x26apos;\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e dispatch = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e...args\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e newDispatch(...args) \x26#xFF1B;\nfetchSecretSauce().then(\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3esauce\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(makeASandwich(forPerson, sauce)),\n      \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e =\x26gt;\x3c\/span\x3e dispatch(apologize(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;The Sandwich Shop\x26apos;\x3c\/span\x3e, forPerson, error))\n);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26#x5176;\x26#x4E2D;\x26#xFF1A;\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efetchSecretSauce\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fetch(\x3cspan class=\x22hljs-string\x22\x3e\x26apos;https:\/\/www.google.com\/search?q=secret\x2bsauce\x26apos;\x3c\/span\x3e);\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emakeASandwich\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eforPerson, secretSauce\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x26apos;MAKE_SANDWICH\x26apos;\x3c\/span\x3e,\n    forPerson,\n    secretSauce\n  };\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eapologize\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efromPerson, toPerson, error\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x26apos;APOLOGIZE\x26apos;\x3c\/span\x3e,\n    fromPerson,\n    toPerson,\n    error\n  };\n}\n====\x26gt; \x26#x6211;\x26#x4EEC;\x26#x8FD9;\x26#x91CC;\x26#x53EA;\x26#x8BA1;\x26#x7B97;\x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.resolve\x26#x7684;\x26#x7ED3;\x26#x679C;,\x26#x5E76;\x26#x4E14;\x26#x5047;\x26#x8BBE;fetchSecretSauce\x26#x8FD4;\x26#x56DE;\x26#x503C;\x26#x4E3A;\x3cspan class=\x22hljs-string\x22\x3e\x26apos;666\x26apos;\x3c\/span\x3e,\x26#x5373;sauce=\x3cspan class=\x22hljs-string\x22\x3e\x26apos;666\x26apos;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e forPerson = \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Me\x26apos;\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e dispatch = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e...args\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e newDispatch(...args) \x26#xFF1B;\ndispatch({\n    \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x26apos;MAKE_SANDWICH\x26apos;\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Me\x26apos;\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;666\x26apos;\x3c\/span\x3e\n})\n====\x26gt; \x26#x4E3A;\x26#x4E86;\x26#x65B9;\x26#x4FBF;\x26#x5BF9;\x26#x6BD4;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x518D;\x26#x6B21;\x26#x8F6C;\x26#x6362;\x26#x4E00;\x26#x4E0B;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e action = {\n    \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x26apos;MAKE_SANDWICH\x26apos;\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Me\x26apos;\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;666\x26apos;\x3c\/span\x3e\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e next = store.dispatch\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e newDispatch = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eaction\x3c\/span\x3e =\x26gt;\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e action === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e action(dispatch, getState);\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e next(action);\n}\n\nnewDispatch(action)\n\n====\x26gt; \x26#x6700;\x26#x7EC8;\x26#x7ED3;\x26#x679C;\nstore.dispatch({\n    \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x26apos;MAKE_SANDWICH\x26apos;\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;Me\x26apos;\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x26apos;666\x26apos;\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x4EE5;\x26#x4E0A;\x26#x5C31;\x26#x662F;redux-thunk\x26#x6574;\x26#x4E2A;\x26#x6D41;\x26#x7A0B;\x26#xFF0C;\x26#x7B2C;\x26#x4E00;\x26#x6B21;\x26#x770B;\x26#x80AF;\x26#x80FD;\x26#x4F9D;\x26#x65E7;\x26#x4F1A;\x26#x5F88;\x26#x61F5;\x26#xFF0C;\x26#x540E;\x26#x9762;\x26#x53EF;\x26#x4EE5;\x26#x8D70;\x26#x4E00;\x26#x904D;\x26#xFF0C;\x26#x63A8;\x26#x5BFC;\x26#x4E00;\x26#x4E0B;\x26#x52A0;\x26#x6DF1;\x26#x81EA;\x26#x5DF1;\x26#x7684;\x26#x7406;\x26#x89E3;\x26#x3002;\x3c\/p\x3e\x3ch2 id=\x22articleHeader22\x22\x3ebindActionCreators.js\x3c\/h2\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default function bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === \x26apos;function\x26apos;) {\n    return bindActionCreator(actionCreators, dispatch)\n  }\n\n  if (typeof actionCreators !== \x26apos;object\x26apos; || actionCreators === null) {\n    throw new Error(\n      `bindActionCreators expected an object or a function, instead received ${\n        actionCreators === null ? \x26apos;null\x26apos; : typeof actionCreators\n      }. ` \x2b\n        `Did you write \x26quot;import ActionCreators from\x26quot; instead of \x26quot;import * as ActionCreators from\x26quot;?`\n    )\n  }\n\n  const keys = Object.keys(actionCreators)\n  const boundActionCreators = {}\n  for (let i = 0; i \x26lt; keys.length; i\x2b\x2b) {\n    const key = keys[i]\n    const actionCreator = actionCreators[key]\n    if (typeof actionCreator === \x26apos;function\x26apos;) {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch)\n    }\n  }\n  return boundActionCreators\n}\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ebindActionCreators\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eactionCreators, dispatch\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e actionCreators === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e bindActionCreator(actionCreators, dispatch)\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e actionCreators !== \x3cspan class=\x22hljs-string\x22\x3e\x26apos;object\x26apos;\x3c\/span\x3e || actionCreators === \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-string\x22\x3e`bindActionCreators expected an object or a function, instead received \x3cspan class=\x22hljs-subst\x22\x3e${\n        actionCreators === \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e ? \x3cspan class=\x22hljs-string\x22\x3e\x26apos;null\x26apos;\x3c\/span\x3e : \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e actionCreators\n      }\x3c\/span\x3e. `\x3c\/span\x3e \x2b\n        \x3cspan class=\x22hljs-string\x22\x3e`Did you write \x26quot;import ActionCreators from\x26quot; instead of \x26quot;import * as ActionCreators from\x26quot;?`\x3c\/span\x3e\n    )\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e keys = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(actionCreators)\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e boundActionCreators = {}\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; keys.length; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e key = keys[i]\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e actionCreator = actionCreators[key]\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e actionCreator === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch)\n    }\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e boundActionCreators\n}\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3ebindActionCreators\x26#x9488;\x26#x5BF9;\x26#x4E8E;\x26#x4E09;\x26#x79CD;\x26#x60C5;\x26#x51B5;\x26#x6709;\x26#x4E09;\x26#x79CD;\x26#x8FD4;\x26#x56DE;\x26#x503C;\x26#xFF0C;\x26#x4E0B;\x26#x9762;\x26#x6211;\x26#x4EEC;\x26#x6839;\x26#x636E;\x26#x6BCF;\x26#x79CD;\x26#x60C5;\x26#x51B5;\x26#x7684;\x26#x8FD4;\x26#x56DE;\x26#x503C;\x26#x53BB;\x26#x5206;\x26#x6790;\x26#x3002;\x26#xFF08;\x26#x4E3A;\x26#x4E86;\x26#x65B9;\x26#x4FBF;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x6211;\x26#x4EEC;\x26#x9009;\x26#x62E9;\x26#x5728;\x26#x65E0;\x26#x96C6;\x26#x6210;\x26#x4E2D;\x26#x95F4;\x26#x4EF6;\x26#x7684;\x26#x60C5;\x26#x51B5;\x26#xFF09;\x3c\/p\x3e\x3ch3 id=\x22articleHeader23\x22\x3etypeof actionCreators === \x26apos;function\x26apos;\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function bindActionCreator(actionCreator, dispatch) {\n  return function() {\n    return dispatch(actionCreator.apply(this, arguments))\n  }\n}\nconst actionFun=bindActionCreator(actionCreators, dispatch)\n\n===\x26gt; \x26#x6574;\x26#x5408;\x26#x4E00;\x26#x4E0B;\n\nconst fun1 = actionCreators;\nconst dispatch= stror.dispatch;\nconst actionFun=function () {\n    return dispatch(fun1.apply(this, arguments))\n }\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ebindActionCreator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eactionCreator, dispatch\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dispatch(actionCreator.apply(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e))\n  }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e actionFun=bindActionCreator(actionCreators, dispatch)\n\n===\x26gt; \x26#x6574;\x26#x5408;\x26#x4E00;\x26#x4E0B;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fun1 = actionCreators;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e dispatch= stror.dispatch;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e actionFun=\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dispatch(fun1.apply(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e))\n }\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x6839;\x26#x636E;\x26#x4E0A;\x26#x9762;\x26#x7684;\x26#x63A8;\x26#x5BFC;\x26#xFF0C;\x26#x5F53;\x26#x53D8;\x26#x91CF;actionCreators\x26#x7684;\x26#x7C7B;\x26#x578B;\x26#x4E3A;Function\x26#x65F6;\x26#xFF0C;actionCreators\x26#x5FC5;\x26#x987B;\x26#x8FD4;\x26#x56DE;\x26#x4E00;\x26#x4E2A;action\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader24\x22\x3etypeof actionCreators !== \x26apos;object\x26apos; || actionCreators === null\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 throw new Error(\n      `bindActionCreators expected an object or a function, instead received ${\n        actionCreators === null ? \x26apos;null\x26apos; : typeof actionCreators\n      }. ` \x2b\n        `Did you write \x26quot;import ActionCreators from\x26quot; instead of \x26quot;import * as ActionCreators from\x26quot;?`\n    )\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Error(\n      `\x3cspan class=\x22javascript\x22\x3ebindActionCreators expected an object or a \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e, \x3cspan class=\x22hljs-title\x22\x3einstead\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ereceived\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e$\x3c\/span\x3e\x3c\/span\x3e{\n        actionCreators === \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e ? \x3cspan class=\x22hljs-string\x22\x3e\x26apos;null\x26apos;\x3c\/span\x3e : \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e actionCreators\n      }. \x3c\/span\x3e` \x2b\n        `\x3cspan class=\x22javascript\x22\x3eDid you write \x3cspan class=\x22hljs-string\x22\x3e\x26quot;import ActionCreators from\x26quot;\x3c\/span\x3e instead \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x26quot;import * as ActionCreators from\x26quot;\x3c\/span\x3e?\x3c\/span\x3e`\n    )\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x63D0;\x26#x793A;\x26#x5F00;\x26#x53D1;\x26#x8005;actionCreators\x26#x7C7B;\x26#x578B;\x26#x9519;\x26#x8BEF;\x26#xFF0C;\x26#x5E94;\x26#x8BE5;\x26#x662F;\x26#x4E00;\x26#x4E2A;\x26#x975E;\x26#x7A7A;\x26#x5BF9;\x26#x8C61;\x26#x6216;\x26#x8005;\x26#x662F;\x26#x51FD;\x26#x6570;\x26#x3002;\x3c\/p\x3e\x3ch3 id=\x22articleHeader25\x22\x3e\x26#x9ED8;\x26#x8BA4;\x3c\/h3\x3e\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none\x22\x3e\x3cdiv class=\x22widget-codetool--inner\x22\x3e\x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x5168;\x26#x9009;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 const keys = Object.keys(actionCreators)\n  const boundActionCreators = {}\n  for (let i = 0; i \x26lt; keys.length; i\x2b\x2b) {\n    const key = keys[i]\n    const actionCreator = actionCreators[key]\n    if (typeof actionCreator === \x26apos;function\x26apos;) {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch)\n    }\n  }\n  return boundActionCreators\x22 title=\x22\x22 data-original-title=\x22\x26#x590D;\x26#x5236;\x22\x3e\x3c\/span\x3e \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22\x26#x653E;\x26#x8FDB;\x26#x7B14;\x26#x8BB0;\x22\x3e\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e keys = \x3cspan class=\x22hljs-keyword\x22\x3eObject\x3c\/span\x3e.keys(actionCreators)\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e boundActionCreators = {}\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (let i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; keys.length; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e = keys[i]\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e actionCreator = actionCreators[\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e]\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (typeof actionCreator === \x3cspan class=\x22hljs-string\x22\x3e\x26apos;function\x26apos;\x3c\/span\x3e) {\n      boundActionCreators[\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e] = bindActionCreator(actionCreator, dispatch)\n    }\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e boundActionCreators\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x26#x901A;\x26#x8FC7;\x26#x548C;\x26#x7B2C;\x26#x4E00;\x26#x79CD;\x26#x60C5;\x26#x51B5;\x26#x5BF9;\x26#x6BD4;\x26#x53D1;\x26#x73B0;\x26#xFF0C;\x26#x5F53;actionCreators\x26#x7684;\x26#x6BCF;\x26#x4E00;\x26#x9879;\x26#x90FD;\x26#x6267;\x26#x884C;\x26#x4E00;\x26#x6B21;\x26#x7B2C;\x26#x4E00;\x26#x79CD;\x26#x60C5;\x26#x51B5;\x26#x7684;\x26#x64CD;\x26#x4F5C;\x26#x3002;\x26#x6362;\x26#x53E5;\x26#x8BDD;\x26#x8BF4;\x26#xFF0C;\x26#x9ED8;\x26#x8BA4;\x26#x60C5;\x26#x51B5;\x26#x662F;\x26#x7B2C;\x26#x4E00;\x26#x79CD;\x26#x60C5;\x26#x51B5;\x26#x7684;\x26#x96C6;\x26#x5408;\x26#x3002;\x3c\/p\x3e\x3chr\x3e\x3cp\x3e\x26#x4EE5;\x26#x4E0A;\x26#x662F;\x26#x5BF9;bindActionCreators\x26#x7684;\x26#x5256;\x26#x6790;\x26#xFF0C;\x26#x53EF;\x26#x80FD;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#x5BF9;\x26#x8FD9;\x26#x4E2A;\x26#x8FD8;\x26#x662F;\x26#x4E0D;\x26#x591F;\x26#x7406;\x26#x89E3;\x26#xFF0C;\x26#x4E0D;\x26#x8FC7;\x26#x6CA1;\x26#x6709;\x26#x5173;\x26#x7CFB;\x26#xFF0C;\x26#x53EA;\x26#x8981;\x26#x77E5;\x26#x9053;bindActionCreators\x26#x5E72;\x26#x4E86;\x26#x5565;\x26#x5C31;\x26#x884C;\x26#x3002;bindActionCreators\x26#x662F;\x26#x9700;\x26#x8981;\x26#x7ED3;\x26#x5408;react-redux\x26#x4E00;\x26#x8D77;\x26#x4F7F;\x26#x7528;\x26#x7684;\x26#xFF0C;\x26#x7531;\x26#x4E8E;\x26#x672C;\x26#x7BC7;\x26#x6587;\x26#x7AE0;\x26#x6CA1;\x26#x6709;\x26#x8BB2;\x26#x89E3;react-redux\x26#xFF0C;\x26#x6240;\x26#x4EE5;\x26#x8FD9;\x26#x91CC;\x26#x6211;\x26#x4EEC;\x26#x4E0D;\x26#x5BF9;bindActionCreators\x26#x505A;\x26#x66F4;\x26#x6DF1;\x26#x5165;\x26#x7684;\x26#x8BB2;\x26#x89E3;\x26#x3002;\x26#x4E0B;\x26#x7BC7;\x26#x6587;\x26#x7AE0;\x26#x8BB2;react-redux\x26#xFF0C;\x26#x4F1A;\x26#x518D;\x26#x6B21;\x26#x63D0;\x26#x5230;bindActionCreators\x26#x3002;\x3c\/p\x3e\x3ch1 id=\x22articleHeader26\x22\x3e\x26#x7ED3;\x26#x8BED;\x3c\/h1\x3e\x3cp\x3e\x26#x5230;\x26#x8FD9;\x26#x91CC;\x26#x6574;\x26#x4E2A;redux\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x6211;\x26#x4EEC;\x26#x5DF2;\x26#x7ECF;\x26#x5256;\x26#x6790;\x26#x5B8C;\x26#x4E86;\x26#xFF0C;\x26#x6574;\x26#x4E2A;redux\x26#x4EE3;\x26#x7801;\x26#x91CF;\x26#x4E0D;\x26#x662F;\x26#x5F88;\x26#x5927;\x26#xFF0C;\x26#x4F46;\x26#x662F;\x26#x91CC;\x26#x9762;\x26#x7684;\x26#x4E1C;\x26#x897F;\x26#x8FD8;\x26#x662F;\x26#x5F88;\x26#x591A;\x26#x7684;\x26#xFF0C;\x26#x903B;\x26#x8F91;\x26#x76F8;\x26#x5BF9;\x26#x6765;\x26#x8BF4;\x26#x6709;\x26#x70B9;\x26#x7ED5;\x26#x3002;\x26#x4E0D;\x26#x8FC7;\x26#x6CA1;\x26#x5173;\x26#x7CFB;\x26#xFF0C;\x26#x6CA1;\x26#x6709;\x26#x4EC0;\x26#x4E48;\x26#x662F;\x26#x770B;\x26#x4E86;\x26#x597D;\x26#x51E0;\x26#x6B21;\x26#x90FD;\x26#x770B;\x26#x4E0D;\x26#x61C2;\x26#x7684;\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x6709;\x26#x90A3;\x26#x5C31;\x26#x518D;\x26#x591A;\x26#x770B;\x26#x51E0;\x26#x6B21;\x26#x561B;\x26#xFF01;\x26#x53E6;\x26#x5916;\x26#x518D;\x26#x591A;\x26#x4E00;\x26#x5634;\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x60F3;\x26#x5FEB;\x26#x8BFB;\x26#x63D0;\x26#x9AD8;\x26#x81EA;\x26#x5DF1;\x26#x7684;\x26#x5C0F;\x26#x4F19;\x26#x4F34;\x26#x4EEC;\x26#xFF0C;\x26#x6211;\x26#x4E2A;\x26#x4EBA;\x26#x662F;\x26#x5F3A;\x26#x70C8;\x26#x63A8;\x26#x8350;\x26#x770B;\x26#x6E90;\x26#x7801;\x26#x7684;\x26#x3002;\x26#x6B63;\x26#x6240;\x26#x8C13;\x26#x201C;\x26#x8FD1;\x26#x6731;\x26#x8005;\x26#x8D64;\x26#xFF0C;\x26#x8FD1;\x26#x58A8;\x26#x8005;\x26#x9ED1;\x26#x201D;\x26#xFF0C;\x26#x591A;\x26#x770B;\x26#x770B;\x26#x5927;\x26#x795E;\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#xFF0C;\x26#x5BF9;\x26#x81EA;\x26#x5DF1;\x26#x7684;\x26#x4EE3;\x26#x7801;\x26#x4E66;\x26#x5199;\x26#x3001;\x26#x4EE3;\x26#x7801;\x26#x903B;\x26#x8F91;\x26#x3001;\x26#x77E5;\x26#x8BC6;\x26#x70B9;\x26#x67E5;\x26#x7F3A;\x26#x8865;\x26#x6F0F;\x26#x7B49;\x26#x7B49;\x26#x65B9;\x26#x9762;\x26#x90FD;\x26#x662F;\x26#x5F88;\x26#x5927;\x26#x5E2E;\x26#x52A9;\x26#x7684;\x26#x3002;\x26#x5C31;\x26#x62FF;\x26#x6211;\x26#x81EA;\x26#x5DF1;\x26#x6765;\x26#x8BF4;\x26#xFF0C;\x26#x6211;\x26#x6BCF;\x26#x6B21;\x26#x9605;\x26#x8BFB;\x26#x5B8C;\x26#x4E00;\x26#x7BC7;\x26#x6E90;\x26#x7801;\x26#x4E4B;\x26#x540E;\x26#xFF0C;\x26#x90FD;\x26#x53D7;\x26#x76CA;\x26#x532A;\x26#x6D45;\x26#x3002;\x26#x53EF;\x26#x80FD;\x26#x7B2C;\x26#x4E00;\x26#x6B21;\x26#x770B;\x26#x6E90;\x26#x7801;\x26#xFF0C;\x26#x6709;\x26#x7740;\x26#x8BF8;\x26#x591A;\x26#x7684;\x26#x4E0D;\x26#x9002;\x26#x5E94;\x26#xFF0C;\x26#x6BD5;\x26#x7ADF;\x26#x4E07;\x26#x4E8B;\x26#x5F00;\x26#x5934;\x26#x96BE;\x26#xFF0C;\x26#x5982;\x26#x679C;\x26#x5F3A;\x26#x8FEB;\x26#x81EA;\x26#x5DF1;\x26#x5B8C;\x26#x6210;\x26#x7B2C;\x26#x4E00;\x26#x6B21;\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x9605;\x26#x8BFB;\x26#xFF0C;\x26#x90A3;\x26#x5F80;\x26#x540E;\x26#x7684;\x26#x6E90;\x26#x7801;\x26#x9605;\x26#x8BFB;\x26#x5C06;\x26#x4F1A;\x26#x8D8A;\x26#x6765;\x26#x8D8A;\x26#x8F7B;\x26#x677E;\x26#xFF0C;\x26#x5BF9;\x26#x81EA;\x26#x5DF1;\x26#x7684;\x26#x63D0;\x26#x5347;\x26#x4E5F;\x26#x5C31;\x26#x8D8A;\x26#x6765;\x26#x8D8A;\x26#x5FEB;\x26#x3002;\x26#x5404;\x26#x4F4D;\x26#x9A9A;\x26#x5E74;\x26#x4EEC;\x26#xFF0C;\x26#x64B8;\x26#x8D77;\x26#x8896;\x26#x5B50;\x26#x52A0;\x26#x6CB9;\x26#x5E72;\x26#x5427;\x26#xFF01;\x3c\/p\x3e\n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>我的源码阅读之路：redux源码剖析</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016460366">https://segmentfault.com/a/1190000016460366</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/c9ac83df/" target="_blank">https://alili.tech/archive/c9ac83df/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>