<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="小而美的框架—hyperapp"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>小而美的框架—hyperapp | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/cd7uy702w69/",
				"appid": "1613049289050283", 
				"title": "小而美的框架—hyperapp | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/obeb5xgyybd/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/cyf40cywhd/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&text=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&text=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&title=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&is_video=false&description=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&title=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&title=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&title=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcd7uy702w69%2f&title=%e5%b0%8f%e8%80%8c%e7%be%8e%e7%9a%84%e6%a1%86%e6%9e%b6%e2%80%94hyperapp"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">小而美的框架—hyperapp</h1><div class="meta"><div class="postdate"><time datetime="2018-12-29" itemprop="datePublished">2018-12-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e写在前面\x3c\/h2\x3e\n\x3cp\x3e没错，又是一个新的前端框架，\x3ccode\x3ehyperapp\x3c\/code\x3e非常的小，仅仅\x3ccode\x3e1kb\x3c\/code\x3e，当然学习起来也是非常的简单，可以说是1分钟入门。声明式：HyperApp 的设计基于\x3ccode\x3eElm Architecture\x3c\/code\x3e（这也意味着组件更多的是纯函数），支持自定义标签以及虚拟DOM。下面先来看下怎么使用：\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3ehello world\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { h, app } from \x27hyperapp\x27;\n\napp({\n    state: {\n        count: 0\n    },\n    view: (state, actions) =\x3e (\n        \x3cmain\x3e\n            \x3ch2\x3e{state.count}\x3c\/h2\x3e\n            \x3cbutton onclick={actions.down}\x3e-\x3c\/button\x3e\n            \x3cbutton onclick={actions.up}\x3e\x2b\x3c\/button\x3e\n        \x3c\/main\x3e\n    ),\n    actions: {\n        down: state =\x3e ({\n            count: state.count - 1\n        }),\n        up: state =\x3e ({\n            count: state.count \x2b 1\n        })\n    }\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { h, app } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27hyperapp\x27\x3c\/span\x3e;\n\napp({\n    \x3cspan class=\x22hljs-attr\x22\x3estate\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eview\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3estate, actions\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n        \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e{state.count}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{actions.down}\x3c\/span\x3e\x26gt;\x3c\/span\x3e-\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{actions.up}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    ),\n    \x3cspan class=\x22hljs-attr\x22\x3eactions\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3edown\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({\n            \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: state.count - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n        }),\n        \x3cspan class=\x22hljs-attr\x22\x3eup\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({\n            \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: state.count \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n        })\n    }\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e（完整demo可以参见\x3ca href=\x22https:\/\/github.com\/zp1996\/hyperapp-example\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e）\x3cbr\x3e这样就完成了一个\x3ccode\x3eCounter\x3c\/code\x3e，基本由\x3ccode\x3estate\x3c\/code\x3e，\x3ccode\x3eview\x3c\/code\x3e，\x3ccode\x3eactions\x3c\/code\x3e构成：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3estate\x3c\/code\x3e: 与\x3ccode\x3ereact\x3c\/code\x3e中的如出一辙，\x3ccode\x3estate\x3c\/code\x3e的改变会引起重新渲染\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eview\x3c\/code\x3e: 相当于\x3ccode\x3ereact\x3c\/code\x3e中的\x3ccode\x3erender\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eactions\x3c\/code\x3e: 对\x3ccode\x3estate\x3c\/code\x3e进行改变\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3ccode\x3eh\x3c\/code\x3e相当于\x3ccode\x3ereact\x3c\/code\x3e的\x3ccode\x3ecreateElement\x3c\/code\x3e，来看下\x3ccode\x3eh\x3c\/code\x3e接收的参数：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3etag\x3c\/code\x3e: 标签名，或者一个函数，传入函数也就意味着无状态组件\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3edata\x3c\/code\x3e: 相当于\x3ccode\x3ereact\x3c\/code\x3e中的\x3ccode\x3eprops\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3echildren\x3c\/code\x3e: 子节点\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e需要注意的一点是，\x3ccode\x3ehyperapp\x3c\/code\x3e并不支持\x3ccode\x3eboolean\x3c\/code\x3e类型，对于\x3ccode\x3eboolean\x3c\/code\x3e类型会忽略，使用时注意将其转化为string类型，如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ch3\x3eTest {true}\x3c\/h3\x3e             \/\/ Test\n\x3ch3\x3eTest {String(true)}\x3c\/h3\x3e     \/\/ Test true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-params\x22\x3e\x26lt;h3\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-class\x22\x3eTest \x3c\/span\x3e{true}\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/h3\x26gt;\x3c\/span\x3e             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Test\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;h3\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-class\x22\x3eTest \x3c\/span\x3e{String(true)}\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/h3\x26gt;\x3c\/span\x3e     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Test true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e至于为什么？可以参见\x3ca href=\x22https:\/\/github.com\/hyperapp\/hyperapp\/blob\/master\/src\/h.js#L17\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源码\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e生命周期\x3c\/h3\x3e\n\x3cp\x3e下面来看一下其生命周期，对于\x3ccode\x3ehyperapp\x3c\/code\x3e的整个运行过程，可以参见下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVVMEy?w=620\x26amp;h=295\x22 src=\x22https:\/\/static.alili.tech\/img\/bVVMEy?w=620\x26amp;h=295\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eload\x3c\/code\x3e：相当于\x3ccode\x3ereact\x3c\/code\x3e的\x3ccode\x3ecomponentWillMount\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eupdate\x3c\/code\x3e：相当于\x3ccode\x3ereact\x3c\/code\x3e的\x3ccode\x3ecomponentWillUpdate\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3erender\x3c\/code\x3e：调用\x3ccode\x3eview\x3c\/code\x3e函数之前调用\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eaction\x3c\/code\x3e：调用\x3ccode\x3eactions\x3c\/code\x3e之前，一般用来进行\x3ccode\x3elog\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eresolve\x3c\/code\x3e：调用\x3ccode\x3eactions\x3c\/code\x3e之后，对于一个异步操作来说，\x3ccode\x3eactions\x3c\/code\x3e返回一个\x3ccode\x3epromise\x3c\/code\x3e，生命周期\x3ccode\x3eresolve\x3c\/code\x3e来处理，返回一个函数\x3ccode\x3eupdate =\x26gt; result.then(update)\x3c\/code\x3e，即框架内部调用\x3ccode\x3eupdate\x3c\/code\x3e来更新\x3ccode\x3estate\x3c\/code\x3e，重新渲染\x3cbr\x3e具体代码可以参考：\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 生命周期： action  -\x3e  actions[key]  -\x3e  resolve\n\/\/ 异步请求需要利用resolve\nemit(\x27action\x27, { name: name, data: data });\n\nvar result = emit(\x27resolve\x27, action(appState, appActions, data));\n\nreturn typeof result === \x27function\x27 ? result(update) : update(result);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 生命周期： action  -\x26gt;  actions[key]  -\x26gt;  resolve\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 异步请求需要利用resolve\x3c\/span\x3e\nemit(\x3cspan class=\x22hljs-string\x22\x3e\x27action\x27\x3c\/span\x3e, { name: name, \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e });\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result = emit(\x3cspan class=\x22hljs-string\x22\x3e\x27resolve\x27\x3c\/span\x3e, action(appState, appActions, \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e));\n\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e typeof result === \x3cspan class=\x22hljs-string\x22\x3e\x27function\x27\x3c\/span\x3e ? result(update) : update(result);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于每一个节点来说，有着三个特殊的属性：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eoncreate\x3c\/code\x3e：相当于\x3ccode\x3ecomponentDidMount\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eonupdate\x3c\/code\x3e：相当于\x3ccode\x3ecomponentDidUpdate\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eonremove\x3c\/code\x3e：与\x3ccode\x3ecomponentWillUnMount\x3c\/code\x3e类似，需要注意的是，加入有了这个属性，那么当节点需要被移除时，也不会被移除，需要自己来从\x3ccode\x3edom\x3c\/code\x3e中移除，这样设计是为了便于做一些淡入淡出等效果，具体源码可以参见\x3ca href=\x22https:\/\/github.com\/hyperapp\/hyperapp\/blob\/master\/src\/app.js#L174\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e，更多的使用方式以及讨论可以参见\x3ca href=\x22https:\/\/github.com\/hyperapp\/hyperapp\/issues\/357\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e三个属性均为函数，接收一个参数，就是这个节点\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e自定义组件\x3c\/h3\x3e\n\x3cp\x3e通过上面，基本上可以了解\x3ccode\x3ehyperapp\x3c\/code\x3e的基本写法，下面来看一下如何自定义组件：\x3c\/p\x3e\n\x3ch4\x3e“木偶”组件\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Header = ({ title, caption }) =\x3e (\n    \x3cheader\x3e\n        \x3ch1\x3e\n            {title}\n            \x3csmall\x3e{caption}\x3c\/small\x3e\n        \x3c\/h1\x3e\n    \x3c\/header\x3e\n);\n\/\/ 使用\n\x3cHeader title=\x26quot;hyperapp-example\x26quot; caption=\x26quot;demo\x26quot; \/\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Header = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ title, caption }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            {title}\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3esmall\x3c\/span\x3e\x26gt;\x3c\/span\x3e{caption}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3esmall\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用\x3c\/span\x3e\n\x26lt;Header title=\x3cspan class=\x22hljs-string\x22\x3e\x22hyperapp-example\x22\x3c\/span\x3e caption=\x3cspan class=\x22hljs-string\x22\x3e\x22demo\x22\x3c\/span\x3e \/\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e无状态组件的写法与\x3ccode\x3ereact\x3c\/code\x3e基本一致，\x3ccode\x3ehyperapp\x3c\/code\x3e官方给出的自定义组件的方式仅仅有这种，但是所有的组件都要是无状态的？？？答案当然是否定的，如何实现“智能组件”是一个问题：\x3c\/p\x3e\n\x3ch4\x3e“智能”组件\x3c\/h4\x3e\n\x3ch5\x3e利用app方法实现\x3c\/h5\x3e\n\x3cp\x3e我们通常的期望业务组件具有一些基本的功能，比如数据获取展现这种：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Header = app({\n    state: {\n        caption: \x27loading\x27\n    },\n    view(state, actions) {\n        return (\n            \x3cheader\x3e{state.caption}\x3c\/header\x3e\n        );\n    },\n    actions: {\n        fetchData(state) {\n            return new Promise((resolve) =\x3e {\n                \/\/ 模拟fetch数据\n                setTimeout(() =\x3e {\n                    state.caption = \x27ok\x27;\n                    resolve(state);\n                }, 1000);\n            });\n        }\n    },\n    events: {\n        load(state, actions) {\n            actions.fetchData(state);\n        },\n        resolve(state, actions, result) {\n            if (result \x26amp;\x26amp; typeof result.then === \x27function\x27) {\n                return update =\x3e result.then(update);\n            }\n        }\n    }\n});\n\nexport default Header;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Header = app({\n    \x3cspan class=\x22hljs-attr\x22\x3estate\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3ecaption\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27loading\x27\x3c\/span\x3e\n    },\n    view(state, actions) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e{state.caption}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eactions\x3c\/span\x3e: {\n        fetchData(state) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 模拟fetch数据\x3c\/span\x3e\n                setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n                    state.caption = \x3cspan class=\x22hljs-string\x22\x3e\x27ok\x27\x3c\/span\x3e;\n                    resolve(state);\n                }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n            });\n        }\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eevents\x3c\/span\x3e: {\n        load(state, actions) {\n            actions.fetchData(state);\n        },\n        resolve(state, actions, result) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (result \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e result.then === \x3cspan class=\x22hljs-string\x22\x3e\x27function\x27\x3c\/span\x3e) {\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eupdate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e result.then(update);\n            }\n        }\n    }\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e Header;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e按照如下方式使用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Header from \x27.\/Header\x27;\n...\nstate: {\n    count: 0\n},\nview: (state, actions) =\x3e (\n    \x3cmain\x3e\n        \x3cHeader \/\x3e\n        \x3ch2\x3e{state.count}\x3c\/h2\x3e\n    \x3c\/main\x3e\n),\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Header \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Header\x27\x3c\/span\x3e;\n...\nstate: {\n    \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n},\n\x3cspan class=\x22hljs-attr\x22\x3eview\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3estate, actions\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eHeader\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e{state.count}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n),\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e打开页面，从ui来看已经实现组件封装，但是这种是一种”曲线“的实现方式，为什么说它是不正规，可以观察其\x3ccode\x3edom\x3c\/code\x3e层级，可能与我们理解和期望的并不相同。我们期望得到的层级是：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22body\n    main\n        header\n        h2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e\n    main\n        \x3cspan class=\x22hljs-selector-tag\x22\x3eheader\x3c\/span\x3e\n        h2\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是事实上得到的层级为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22body\n    header\n    main\n        h2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-tag\x22\x3eheader\x3c\/span\x3e\n    main\n        h2\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e至于为什么会产生这种情况，需要看一下源码：\x3c\/p\x3e\n\x3ch5\x3e\n\x3ccode\x3eapp\x3c\/code\x3e做了什么？\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ app接收一个对象\nfunction app(props) {\n    ...\n    \/\/ appRoot 就是需要挂载到的根节点\n    var appRoot = props.root || document.body\n    ...\n    \/\/ 注意此处，下文会用到\n    return emit;\n\n    ...\n    \/\/ 利用raf调用render渲染ui\n    function render(cb) {\n         element = patch(\n            appRoot,\n            ...\n        );\n    }\n    ...\n    function patch(parent, ...) {\n        if (oldNode == null) {\n            \/\/ 第一次渲染,将节点插入到appRoot中\n            \/\/ 只要是第一次挂载,element为null\n            element = parent.insertBefore(createElement(node, isSVG), element);\n        }\n        ...\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ app接收一个对象\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eapp\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eprops\x3c\/span\x3e) \x3c\/span\x3e{\n    ...\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ appRoot 就是需要挂载到的根节点\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e appRoot = props.root || \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body\n    ...\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注意此处，下文会用到\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e emit;\n\n    ...\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 利用raf调用render渲染ui\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erender\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecb\x3c\/span\x3e) \x3c\/span\x3e{\n         element = patch(\n            appRoot,\n            ...\n        );\n    }\n    ...\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3epatch\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eparent, ...\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (oldNode == \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第一次渲染,将节点插入到appRoot中\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 只要是第一次挂载,element为null\x3c\/span\x3e\n            element = \x3cspan class=\x22hljs-built_in\x22\x3eparent\x3c\/span\x3e.insertBefore(createElement(node, isSVG), element);\n        }\n        ...\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以说将\x3ccode\x3eHeader\x3c\/code\x3e组件挂载的原因并不是我们通过\x3ccode\x3ejsx\x3c\/code\x3e写出了这层结构，而是在\x3ccode\x3eimport\x3c\/code\x3e的时候，就已经将其挂载到了\x3ccode\x3edocument.body\x3c\/code\x3e下，\x3ccode\x3emain\x3c\/code\x3e在挂载到\x3ccode\x3edocument.body\x3c\/code\x3e时，被插入到子节点的末尾。\x3c\/p\x3e\n\x3ch5\x3e\n\x3ccode\x3e\x26lt;Header \/\x26gt;\x3c\/code\x3e去哪儿了？\x3c\/h5\x3e\n\x3cp\x3e\x3ccode\x3e\x26lt;Header \/\x26gt;\x3c\/code\x3e就这样消失了，先来看下\x3ccode\x3eh\x3c\/code\x3e，就像在\x3ccode\x3ereact\x3c\/code\x3e把\x3ccode\x3ejsx\x3c\/code\x3e翻译为\x3ccode\x3ecreateElement\x3c\/code\x3e，\x3ccode\x3ehyperapp\x3c\/code\x3e的\x3ccode\x3ejsx\x3c\/code\x3e会被翻译为如下形式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22h(tagName, props, children)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eh(tagName, props, children)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e来简单的看下\x3ccode\x3eh\x3c\/code\x3e的实现：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function h(tag, data) {\n    \/\/ 根据后续参数，生成children\n    while (stack.length) {\n        if (Array.isArray((node = stack.pop()))) {\n            \/\/ 处理传入的child为数组    \n            for (i = node.length; i--; ) {\n                stack.push(node[i]);\n            }\n        }\n        ...\n    }\n    ...\n    return typeof tag === \x27string\x27 ? {\n        tag: tag,\n        data: data || {},\n        children: children\n    } : tag(data, children);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eh\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etag, data\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 根据后续参数，生成children\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (stack.length) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e.isArray((node = stack.pop()))) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 处理传入的child为数组    \x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (i = node.length; i--; ) {\n                stack.push(node[i]);\n            }\n        }\n        ...\n    }\n    ...\n    return \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e tag === \x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e ? {\n        \x3cspan class=\x22hljs-attr\x22\x3etag\x3c\/span\x3e: tag,\n        \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: data || {},\n        \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: children\n    } : tag(data, children);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以得出的是，\x3ccode\x3etag\x3c\/code\x3e接收函数传入，比如木偶组件，\x3ccode\x3etag\x3c\/code\x3e就是一个函数，但是对于\x3ccode\x3e\x26lt;Header \/\x26gt;\x3c\/code\x3e来说，\x3ccode\x3etag\x3c\/code\x3e为\x3ccode\x3eapp\x3c\/code\x3e函数返回的\x3ccode\x3eemit\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function emit(name, data) {\n    \/\/ 一个不常见的写法,这个写法会返回data\n    return (\n        (appEvents[name] || []).map(function(cb) {\n            var result = cb(appState, appActions, data);\n            if (result != null) {\n                data = result;\n            }\n        }),\n        data\n    );\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eemit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename, data\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一个不常见的写法,这个写法会返回data\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n        (appEvents[name] || []).map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecb\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result = cb(appState, appActions, data);\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (result != \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) {\n                data = result;\n            }\n        }),\n        data\n    );\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e基于目前这两点，可以得出：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e\x26lt;Header \/\x26gt;\x3c\/code\x3e被转为了，\x3ccode\x3eh(emit, null)\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eh\x3c\/code\x3e返回的就是\x3ccode\x3echildren\x3c\/code\x3e，也就是一个\x3ccode\x3e[]\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e由于\x3ccode\x3e\x26lt;Header \/\x26gt;\x3c\/code\x3e作为子节点，会再次被\x3ccode\x3eh\x3c\/code\x3e整理一次，参照\x3ccode\x3eh\x3c\/code\x3e对数组的处理，可以得出\x3ccode\x3e[]\x3c\/code\x3e直接就被忽略掉了\x3c\/li\x3e\n\x3cli\x3e需要\x3ccode\x3erender\x3c\/code\x3e的节点的子节点中根本就没有\x3ccode\x3e\x26lt;Header\/\x26gt;\x3c\/code\x3e的出现\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这种实现方式可以说是非常的不好，局限性也很大，想想可不可以利用其他方法实现：\x3c\/p\x3e\n\x3ch5\x3e利用\x3ccode\x3eoncreate\x3c\/code\x3e实现\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 改进Header组件\nconst Header = (root) =\x3e app({\n    root,\n    ...同上\n});\n\n\/\/ 改进引入方式\nview: (state, actions) =\x3e (\n    \x3cmain\x3e\n        \x3cdiv oncreate={(e) =\x3e Header(e)}\x3e\x3c\/div\x3e\n        \x3ch2\x3e{state.count}\x3c\/h2\x3e\n    \x3c\/main\x3e\n),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 改进Header组件\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Header = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eroot\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e app({\n    root,\n    ...同上\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 改进引入方式\x3c\/span\x3e\nview: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3estate, actions\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eoncreate\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(e)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e Header(e)}\x26gt;\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e{state.count}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n),\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这种方式，利用了\x3ccode\x3eoncreate\x3c\/code\x3e方法，挂载后，载入组件（可以考虑通过代码分割将组件异步加载）\x3c\/p\x3e\n\x3ch5\x3e“木偶”组件\x2b\x3ccode\x3emixins\x3c\/code\x3e\n\x3c\/h5\x3e\n\x3cp\x3e\x3ccode\x3ehyperapp\x3c\/code\x3e支持传入\x3ccode\x3emixins\x3c\/code\x3e，既然天然的支持这个，那么将一个组件进行两方面分割：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eview\x3c\/code\x3e，利用“木偶组件”实现\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3efeature\x3c\/code\x3e，利用\x3ccode\x3emixins\x3c\/code\x3e实现\x3cbr\x3e组件定义：\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export const HeaderView = ({ text }) =\x3e (\n    \x3cheader\x3e{text}\x3c\/header\x3e\n);\n\nexport const HeaderMixins = () =\x3e ({\n    state:   \/\/ 同上\n    actions: \/\/ 同上\n    events:  \/\/ 同上\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e HeaderView = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ text }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e{text}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eheader\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n);\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e HeaderMixins = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({\n    \x3cspan class=\x22hljs-attr\x22\x3estate\x3c\/span\x3e:   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 同上\x3c\/span\x3e\n    actions: \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 同上\x3c\/span\x3e\n    events:  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 同上\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { HeaderView, HeaderMixins } from \x27.\/HeaderView\x27;\n...\nstate: {\n    count: 0\n},\nview: (state, actions) =\x3e (\n    \x3cmain\x3e\n        \x3cHeaderView text={state.caption} \/\x3e\n        \x3ch2\x3e{state.count}\x3c\/h2\x3e\n    \x3c\/main\x3e\n),\nmixins: [\n    HeaderMixins()\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { HeaderView, HeaderMixins } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/HeaderView\x27\x3c\/span\x3e;\n...\nstate: {\n    \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n},\n\x3cspan class=\x22hljs-attr\x22\x3eview\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3estate, actions\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eHeaderView\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{state.caption}\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e{state.count}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3emain\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n),\nmixins: [\n    HeaderMixins()\n]\n...\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3emixins\x3c\/code\x3e会将其属性与本身进行一个并操作，可以理解为\x3ccode\x3eObject.assign(key, mixins[key])\x3c\/code\x3e，对于\x3ccode\x3eevents\x3c\/code\x3e来说，为一个典型的发布\/订阅模式，\x3ccode\x3eevents\x3c\/code\x3e的某一种类型对应一个数组，\x3ccode\x3eemit\x3c\/code\x3e时会将其全部执行。本人认为利用这种方式可以实现出一个比较符合框架本意的”智能“组件，但是仍然有些问题，就是\x3ccode\x3estate\x3c\/code\x3e，在使用这个组件时不得不去看一下组件内部的\x3ccode\x3estate\x3c\/code\x3e叫什么名字，而且容易造成同名\x3ccode\x3estate\x3c\/code\x3e冲突的情况。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e写在最后\x3c\/h2\x3e\n\x3cp\x3e总体来说，\x3ccode\x3ehyperapp\x3c\/code\x3e是一个小而美的框架，值得我们来折腾一下，以上均为本人理解，如有错误还请指出，不胜感激~\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e一个硬广\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3e我所在团队（工作地点在北京）求大量前端（社招 or 实习），有意者可发简历至：zp139505@alibaba-inc.com\x3c\/strong\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>小而美的框架—hyperapp</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011427356">https://segmentfault.com/a/1190000011427356</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/cd7uy702w69/" target="_blank">https://alili.tech/archive/cd7uy702w69/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>