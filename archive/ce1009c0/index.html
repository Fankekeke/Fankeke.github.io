<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Get started | Apollo Client"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Get started | Apollo Client | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ce1009c0/",
				"appid": "1613049289050283", 
				"title": "Get started | Apollo Client | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-10-22T00:00:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/340bdc28/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/956c5598/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&text=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&text=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&title=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&is_video=false&description=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Get%20started%20%7c%20Apollo%20Client&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&title=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&title=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&title=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fce1009c0%2f&title=Get%20started%20%7c%20Apollo%20Client"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文链接">原文链接</a></li><li><a href="#原文标题">原文标题</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Get started | Apollo Client</h1><div class="meta"><div class="postdate"><time datetime="2018-10-22" itemprop="datePublished">2018-10-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3cp\x3e开始使用Apollo客户端最简单的方法是使用我们的入门套件Apollo Boost，该套件使用我们的推荐设置为您配置客户端。 Apollo Boost包含了我们认为对构建Apollo应用程序非常重要的软件包，比如我们在内存缓存，本地状态管理和错误处理方面。 它也足够灵活来处理认证等功能。\x3c\/p\x3e\n\x3cp\x3e如果您是一位想从头开始配置Apollo客户端的高级用户，请前往我们的网站 \x3ca href=\x22https:\/\/www.apollographql.com\/docs\/react\/essentials\/get-started.html\/..\/advanced\/boost-migration.html\x22\x3eApollo Boost migration guide\x3c\/a\x3e. 对于大多数用户来说，Apollo Boost应该满足您的需求，所以我们不建议您切换，除非您需要更多定制。\x3c\/p\x3e\n\x3ch2\x3e安装\x3c\/h2\x3e\n\x3cp\x3e首先，我们安装一些包\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs crmsh\x22\x3enpm install apollo-boost react-apollo graphql-\x3cspan class=\x22hljs-keyword\x22\x3etag\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egraphql\x3c\/span\x3e --save\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3eapollo-boost: 包含您设置Apollo客户端所需的所有内容\x3c\/li\x3e\n\x3cli\x3ereact-apollo: 查看React的图层集成\x3c\/li\x3e\n\x3cli\x3egraphql-tag: 解析你的GraphQL查询是必要的\x3c\/li\x3e\n\x3cli\x3egraphql: 也是解析您的GraphQL查询\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\n\x3cp\x3e如果您想自己浏览本教程，我们建议使用本地运行新的React项目 \x3ca href=\x22https:\/\/reactjs.org\/docs\/add-react-to-a-new-app.html\x22\x3ecreate-react-app\x3c\/a\x3e 或者创建一个新的React沙盒 \x3ca href=\x22https:\/\/codesandbox.io\/\x22\x3eCodeSandbox\x3c\/a\x3e. 作为参考，我们将使用\x3ca href=\x22https:\/\/launchpad.graphql.com\/w5xlvm3vzz\x22\x3ethis Launchpad\x3c\/a\x3e作为我们的示例应用程序的GraphQL服务器，它从Coinbase API中提取汇率数据。 如果您想跳过并查看我们即将构建的应用，则可以查看它 \x3ca href=\x22https:\/\/codesandbox.io\/s\/nn9y2wzyw4\x22\x3eCodeSandbox\x3c\/a\x3e.\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch2\x3e创建一个客户端\x3c\/h2\x3e\n\x3cp\x3e太棒了，现在你拥有了所有你需要的依赖关系，让我们来创建你的Apollo客户端。 您需要开始的唯一事情就是您的 \x3ca href=\x22https:\/\/launchpad.graphql.com\/w5xlvm3vzz\x22\x3eGraphQL server\x3c\/a\x3e 终端. 如果您没有直接通过uri传递，它将默认为应用程序所在的同一主机上的\/ graphql端点。\x3c\/p\x3e\n\x3cp\x3e在我们的index.js文件中，让我们从apollo-boost导入ApolloClient，并将GraphQL服务器的端点添加到客户端配置对象的uri属性中。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eimport ApolloClient \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22apollo-boost\x22\x3c\/span\x3e;\n\nconst\x3cspan class=\x22hljs-built_in\x22\x3e client \x3c\/span\x3e= new ApolloClient({\n  uri: \x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/w5xlvm3vzz.lp.gql.zone\/graphql\x22\x3c\/span\x3e\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就是这样！ 现在您的客户端已准备好开始提取数据。 在我们将Apollo Client连接到React之前，我们先尝试用普通的JavaScript发送一个查询。 在同一个index.js文件中，尝试调用client.query（）。 请记住导入gql函数以将查询字符串解析为查询文档。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3eimport gql \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22graphql-tag\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3e\nclient\n\x3c\/span\x3e  .query({\n    query: gql\n      {\n        rates(currency: \x3cspan class=\x22hljs-string\x22\x3e\x22USD\x22\x3c\/span\x3e) {\n          currency\n        }\n      }\n\n  })\n  .then(result =\x26gt; console.log(result));\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e打开你的控制台并检查结果对象。 您应该看到一个附带费率的数据属性，以及一些其他属性，如加载和networkStatus。 虽然您不需要React或其他前端框架仅仅通过Apollo客户端获取数据，但我们的视图层集成使您可以更轻松地将查询绑定到用户界面，并用数据来响应地更新组件。 让我们学习如何将Apollo Client连接到React，以便我们可以使用react-apollo开始构建查询组件。\x3c\/p\x3e\n\x3ch2\x3e将您的客户端连接到React\x3c\/h2\x3e\n\x3cp\x3e要将Apollo Client连接到React，您需要使用从react-apollo导出的ApolloProvider组件。 ApolloProvider与React类似 \x3ca href=\x22https:\/\/github.com\/reactjs\/rfcs\/blob\/master\/text\/0002-new-version-of-context.md\x22\x3econtext provider\x3c\/a\x3e.它包装了您的React应用程序并将客户端放置在上下文中，这允许您从组件树中的任何位置访问它。\x3c\/p\x3e\n\x3cp\x3e在index.js中，让我们用ApolloProvider包装我们的React应用程序。 我们建议将ApolloProvider放置在您的应用程序的某处，并放置在您需要访问GraphQL数据的任何地方。 例如，如果您使用React Router，它可能位于根路由组件之外。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { render } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react-dom\x22\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { ApolloProvider } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react-apollo\x22\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e App = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eApolloProvider\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclient\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{client}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3eMy first Apollo app 🚀\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eApolloProvider\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n);\n\nrender(\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eApp\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e, document.getElementById(\x22root\x22));\n\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2\x3e请求数据\x3c\/h2\x3e\n\x3cp\x3e一旦你的ApolloProvider被连接起来，你就可以开始使用查询组件来请求数据了！ Query是一个从react-apollo导出的React组件，它使用[render prop pattern]（\x3ca href=\x22https:\/\/reactjs.org\/docs\/render-props.html）\x22\x3ehttps:\/\/reactjs.org\/docs\/render-props.html）\x3c\/a\x3e 与您的UI共享GraphQL数据。\x3c\/p\x3e\n\x3cp\x3e首先，将包裹在gql函数中的GraphQL查询传递给Query组件上的查询prop。 然后，您将为Query组件的children prop提供一个函数，以确定要呈现的内容，哪个Query将使用包含加载，错误和数据属性的对象进行调用。 Apollo客户端为您追踪错误和加载状态，这将在加载和错误属性中反映出来。 一旦查询结果返回，它将被附加到数据属性。\x3c\/p\x3e\n\x3cp\x3e让我们在index.js中创建一个ExchangeRates组件，以查看正在使用的查询组件！\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Query } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react-apollo\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e gql \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22graphql-tag\x22\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ExchangeRates = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eQuery\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attr\x22\x3equery\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{gql\x3c\/span\x3e\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3erates\x3c\/span\x3e(\x3cspan class=\x22hljs-attr\x22\x3ecurrency:\x3c\/span\x3e \x22\x3cspan class=\x22hljs-attr\x22\x3eUSD\x3c\/span\x3e\x22) {\n          \x3cspan class=\x22hljs-attr\x22\x3ecurrency\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3erate\x3c\/span\x3e\n        }\n      }\n    }\n  \x26gt;\x3c\/span\x3e\n    {({ loading, error, data }) =\x26gt; {\n      if (loading) return \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eLoading...\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e;\n      if (error) return \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eError :(\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e;\n\n      return data.rates.map(({ currency, rate }) =\x26gt; (\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e{${currency}: ${rate\x22}}\x22\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      ));\n    }}\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eQuery\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n);\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e恭喜，您刚刚创建了您的第一个查询组件！ 🎉如果您在上一个示例中的应用程序组件中呈现ExchangeRates组件，您将首先看到一个加载指示符，然后在页面准备就绪时看到该页面上的数据。 Apollo客户端在从服务器返回时会自动缓存这些数据，因此如果您运行相同的查询两次，则不会看到加载指示符。\x3c\/p\x3e\n\x3cp\x3e如果您想要使用我们刚刚构建的应用程序，可以在[CodeSandbox]（\x3ca href=\x22https:\/\/codesandbox.io\/s\/nn9y2wzyw4）\x22\x3ehttps:\/\/codesandbox.io\/s\/nn9y2wzyw4）\x3c\/a\x3e 上查看它。 不要停在这里！ 尝试构建更多的查询组件并尝试使用刚刚学到的概念。\x3c\/p\x3e\n\x3cp\x3e如果您想进一步探索，下面是以不同前端库为特色的示例应用的更多版本：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eReact Native Web: \x3ca href=\x22https:\/\/codesandbox.io\/s\/xk7zw3n4\x22\x3ehttps:\/\/codesandbox.io\/s\/xk7zw3n4\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3eVue: \x3ca href=\x22https:\/\/codesandbox.io\/s\/3vm8vq6kwq\x22\x3ehttps:\/\/codesandbox.io\/s\/3vm8vq6kwq\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3eAngular (Ionic): \x3ca href=\x22https:\/\/github.com\/aaronksaunders\/ionicLaunchpadApp\x22\x3ehttps:\/\/github.com\/aaronksaunders\/ionicLaunchpadApp\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2\x3eApollo Boost\x3c\/h2\x3e\n\x3cp\x3e在我们的示例应用程序中，我们使用Apollo Boost来快速设置Apollo客户端。 尽管您的GraphQL服务器端点是您需要开始的唯一配置选项，但我们还包含一些其他选项，以便您可以快速实现本地状态管理，身份验证和错误处理等功能。\x3c\/p\x3e\n\x3ch3\x3e它包含什么\x3c\/h3\x3e\n\x3cp\x3eApollo Boost包含一些我们认为对Apollo客户端开发非常重要的软件包。 以下是包含的内容：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eapollo-client: 所有魔法都发生的地方\x3c\/li\x3e\n\x3cli\x3eapollo-cache-inmemory: 我们推荐的缓存\x3c\/li\x3e\n\x3cli\x3eapollo-link-http: 用于远程数据获取的Apollo链接\x3c\/li\x3e\n\x3cli\x3eapollo-link-error: 用于错误处理的Apollo链接\x3c\/li\x3e\n\x3cli\x3eapollo-link-state: 本地状态管理的Apollo链接\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e关于Apollo Boost的令人敬畏的事情是，你不必自己设置任何一个！ 只需指定几个选项，如果您想使用这些功能，我们会照顾其余的。\x3c\/p\x3e\n\x3ch3\x3e配置选项\x3c\/h3\x3e\n\x3cp\x3e以下是您可以传递给从apollo-boost导出的ApolloClient的选项。 所有这些都是可选的。\x3c\/p\x3e\n\x3cp\x3euri: string\x3c\/p\x3e\n\x3cp\x3e代表您的GraphQL服务器端点的字符串。 默认为\/ graphql\x3c\/p\x3e\n\x3cp\x3efetchOptions: Object\x3c\/p\x3e\n\x3cp\x3e您想要传递的任何选项（凭证，标题等）。 这些选项是静态的，因此它们不会在每个请求中更改。\x3c\/p\x3e\n\x3cp\x3erequest: (operation: Operation) =\x26gt; Promise\x3c\/p\x3e\n\x3cp\x3e每个请求都会调用该函数。 它需要GraphQL操作并可以返回一个承诺。 要动态设置fetchOptions，可以使用operation.setContext（{headers}）将它们添加到操作的上下文中。 这里设置的任何选项将优先于fetchOptions。 用于身份验证。\x3c\/p\x3e\n\x3cp\x3eonError: (errorObj: { graphQLErrors: GraphQLError[], networkError: Error, response?: ExecutionResult, operation: Operation }) =\x26gt; void\x3c\/p\x3e\n\x3cp\x3e我们包含一个默认的错误处理程序，将错误注销到控制台。 如果您想要以不同的方式处理您的错误，请指定此功能。\x3c\/p\x3e\n\x3cp\x3eclientState: { resolvers?: Object, defaults?: Object, typeDefs?: string | Array }\x3c\/p\x3e\n\x3cp\x3e表示您的apollo-link-state配置的对象。 如果您想使用Apollo缓存进行本地状态管理，这非常有用。 了解更多信息\x3ca href=\x22https:\/\/www.apollographql.com\/docs\/link\/links\/state.html#start\x22\x3equick start\x3c\/a\x3e.\x3c\/p\x3e\n\x3cp\x3ecacheRedirects: Object\x3c\/p\x3e\n\x3cp\x3e在请求发生之前将查询重定向到高速缓存中的另一个条目的函数映射。 如果您有一个项目列表，并且希望在查询单个项目的详细信息页面上使用列表查询中的数据，这非常有用。 更多关于这一点 \x3ca href=\x22https:\/\/www.apollographql.com\/docs\/react\/essentials\/get-started.html\/..\/features\/performance.html#cache-redirects\x22\x3ehere\x3c\/a\x3e.\x3c\/p\x3e\n\x3ch2\x3e下一步\x3c\/h2\x3e\n\x3cp\x3e现在您已经学会了如何使用Apollo Client获取数据，您已准备好深入探索创建更复杂的查询和突变。 在本节之后，我们建议您继续：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.apollographql.com\/docs\/react\/essentials\/get-started.html\/.\/queries.html\x22\x3eQueries\x3c\/a\x3e: 了解如何使用参数提取查询并深入了解配置选项。 有关选项的完整列表，请查看Query的API参考。\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.apollographql.com\/docs\/react\/essentials\/get-started.html\/.\/mutations.html\x22\x3eMutations\x3c\/a\x3e: 了解如何使用突变更新数据，以及何时需要更新Apollo缓存。 有关选项的完整列表，请查看Mutation组件的API参考。\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.apollographql.com\/docs\/react\/essentials\/get-started.html\/.\/direct-access.html\x22\x3eUsing Apollo Client directly\x3c\/a\x3e: 有时，您需要直接访问客户端，就像我们在上面的普通JavaScript示例中所做的那样。 了解我们的指南的时间和方式，或访问API参考以获取完整的选项列表。\x3c\/li\x3e\n\x3c\/ul\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/get-started-apollo-client">https://www.zcfy.cc/article/get-started-apollo-client</a></p><h2 id="原文标题">原文标题</h2><p>Get started | Apollo Client 本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><h2>本文链接：</h2><a href="https://alili.tech/archive/ce1009c0/" target="_blank">https://alili.tech/archive/ce1009c0/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>