<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="编写简单i18n库"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>编写简单i18n库 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/cib14w51c8f/",
				"appid": "1613049289050283", 
				"title": "编写简单i18n库 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-13T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/pr17i4ohe9f/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/cwyv0xn6tvs/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&text=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&text=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&title=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&is_video=false&description=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&title=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&title=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&title=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcib14w51c8f%2f&title=%e7%bc%96%e5%86%99%e7%ae%80%e5%8d%95i18n%e5%ba%93"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">编写简单i18n库</h1><div class="meta"><div class="postdate"><time datetime="2018-12-13" itemprop="datePublished">2018-12-13</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3ei18n是什么？i18n（其来源是英文单词internationalization的首末字符i和n，18为中间的字符数）是“国际化”的简称。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e第一次接触多语言是用野生javascript写H5应用的时候，那时候写了一大堆的累赘重复的代码用来切换页面的多语言，之后自然发现很难维护啦。至于到第二次开发另一个H5应用的时候，用了vue做了一个SPA。多语言自然用了官方的vue-i18n。\x3c\/p\x3e\n\x3cp\x3e因为两次的开发维护体验产生了对比，使我产生了不小的兴趣：假设一个简单的页面需要多语言。当然用不着vue，但是也不想用jquery怎么办？如果要开发类似的i18n库，我该如何实现？\x3c\/p\x3e\n\x3cp\x3e于是花了三天（应该也是两个月前了）写了这个工具库\x3ca href=\x22https:\/\/github.com\/Gotjoy\/n-i18n\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3en-i18n\x3c\/a\x3e，以后写多语言页面的工作量就可以减少啦~\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e分析\x3c\/h2\x3e\n\x3cp\x3e简单分析后，发现可以参考vue-i18n的配置。但是由于没有实现也没有必要实现模板引擎。因此其实可以将配置参数放在DOM节点的\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/HTMLElement\/dataset\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edataset\x3c\/a\x3e（\x3ccode\x3edata-i18n\x3c\/code\x3e）属性上。遍历读取有该dataset的节点。解析里面配置的参数后，就可以读取该节点应该绑定多语言里的哪个文本，配置什么参数和数据。\x3c\/p\x3e\n\x3cp\x3e在实际开发中。多语言有时候往往不止切换单纯的文本。有时候可能是切换HTML，甚至切换图片，样式（比如\x3ccode\x3ebackground-image\x3c\/code\x3e）的情况出现。因此渲染模式也被我分为了\x3ccode\x3e$t; $h; $m; $c\x3c\/code\x3e四种模式，分别对应文本模式、HTML模式、图片模式、样式模式。\x3c\/p\x3e\n\x3cp\x3e实现难点或者说有趣的点在于：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e如何准确寻找到有指定dataset的所有DOM节点？\x3c\/li\x3e\n\x3cli\x3e巧妙利用正则解析dataset中的多样配置。\x3c\/li\x3e\n\x3cli\x3e多种模式如何准确渲染和组合渲染？\x3c\/li\x3e\n\x3cli\x3e实现依赖动态数据，数据改变便更新对应的DOM节点。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e基础实现\x3c\/h2\x3e\n\x3cp\x3e代码参考：\x3ca href=\x22https:\/\/github.com\/Gotjoy\/n-i18n\/blob\/master\/src\/i18n-a.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/Gotjoy\/n-i18n\/blob\/master\/src\/i18n-a.js\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e1. 如何准确寻找到有指定dataset的所有DOM节点？\x3c\/h4\x3e\n\x3cp\x3e利用递归一层层遍历节点树，符合要求的节点就保存在一个map里，留待之后对其的操作的索引。这里的name其实是默认的\x3ccode\x3ei18n\x3c\/code\x3e这个字符串，当然也可以配置其他字符串，然后就可以在节点中配置属性如\x3ccode\x3edata-i18n=\x22\x22\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(function _trace(parent) {\n  const children = parent.children;\n  for (let i = 0, len = children.length; i \x3c len; i\x2b\x2b) {\n    const child = children[i];\n    if (child.dataset[name]) {\n      map[`${name}#${\x2b\x2btid}`] = child;\n    }\n    if (child.children.length \x3e 0) {\n      _trace(child);\n    }\n  }\n}(this.$mount));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e_trace\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eparent\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e children = parent.children;\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = children.length; i \x26lt; len; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e child = children[i];\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (child.dataset[name]) {\n      map[\x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${name}\x3c\/span\x3e#\x3cspan class=\x22hljs-subst\x22\x3e${\x2b\x2btid}\x3c\/span\x3e`\x3c\/span\x3e] = child;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (child.children.length \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n      _trace(child);\n    }\n  }\n}(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$mount));\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2. 巧妙利用正则解析dataset中的多样配置\x3c\/h4\x3e\n\x3cp\x3e首先利用字符串截取操作的api来解析配置虽然也可以，但是会相当啰嗦，翻看许多优秀框架的源码，都是一般倾向于用正则去解析。比如说我会存在以下四种配置，那么该如何去解析data-i18n里面的配置文本从而拿到自己感兴趣的信息呢？\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cp data-i18n=\x26quot;$t(\x27message.hello\x27, {msg: \x27伟大的渺小~\x27, msg2: \x27Until the day!\x27})\x26quot;\x3e\x3c\/p\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edata-i18n\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$t(\x27message.hello\x27, {msg: \x27伟大的渺小~\x27, msg2: \x27Until the day!\x27})\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这里有两个及其重要的正则，代码稍后亮相。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3ebaseRe正则\x3c\/strong\x3e负责匹配如上的\x3ccode\x3e\x27message.hello\x27\x3c\/code\x3e($1)和\x3ccode\x3e{msg: \x27伟大的渺小~\x27, msg2: \x27Until the day!\x27}\x3c\/code\x3e($2)\x3cbr\x3e\x3cstrong\x3econfRe正则\x3c\/strong\x3e负责进一步匹配\x3ccode\x3e{msg: \x27伟大的渺小~\x27, msg2: \x27Until the day!\x27}\x3c\/code\x3e文本中key($1)和value($2)\x3c\/p\x3e\n\x3cp\x3e正则的试验推荐这个网站，多去尝试\x3ca href=\x22https:\/\/regexr.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/regexr.com\x3c\/a\x3e。当然正则我不会详细介绍了，毕竟也是一个很深厚的学问。\x3c\/p\x3e\n\x3cp\x3e经过正则的处理，已经拿到了全部感兴趣的信息。接下来就是可以利用这些信息去读取多语言配置里\x3ccode\x3elang\x3c\/code\x3e的数据并且更新DOM节点了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const baseRe = \/\\$[t|h|c|m]\\([\x27\x26quot;](.*?)[\x27\x26quot;]\\,*\\s*(.*)\\)\/g;\nconst confRe = \/(\\w\x2b)\\:\\s*[\x27\x26quot;](.\x2b?)[\x27\x26quot;]\/g;\nlet base = \x27\x27;\nlet conf = Object.create(null);\n\nc.replace(baseRe, (match, $1, $2) =\x3e {\n  base = $1;\n  if ($2) {\n    $2.replace(confRe, (match, $1, $2) =\x3e {\n      conf[$1] = $2;\n    });\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e baseRe = \x3cspan class=\x22hljs-regexp\x22\x3e\/\\$[t|h|c|m]\\([\x27\x22](.*?)[\x27\x22]\\,*\\s*(.*)\\)\/g\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e confRe = \x3cspan class=\x22hljs-regexp\x22\x3e\/(\\w\x2b)\\:\\s*[\x27\x22](.\x2b?)[\x27\x22]\/g\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e base = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e conf = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.create(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e);\n\nc.replace(baseRe, (match, $\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, $\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) =\x26gt; {\n  base = $\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ($\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) {\n    $\x3cspan class=\x22hljs-number\x22\x3e2.\x3c\/span\x3ereplace(confRe, (match, $\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, $\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) =\x26gt; {\n      conf[$\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] = $\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n    });\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const lang = {\n  en: {\n    message: {\n      hello: \x27hello world! {msg2}\x27\n    }\n  },\n  zh: {\n    message: {\n      hello: \x27你好，世界！ {msg}\x27\n    }\n  }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e lang = {\n  \x3cspan class=\x22hljs-attr\x22\x3een\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3ehello\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hello world! {msg2}\x27\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ezh\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3ehello\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27你好，世界！ {msg}\x27\x3c\/span\x3e\n    }\n  }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e细心的同学可能会发现一个问题了，如何以a.b.c形式获取对象属性这个不难。一个遍历即可，简单实现的话只有value不是原始值就继续往里面走就可以了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getValueBy (obj, keystr) {\n    const keyset = keystr.split(\x27.\x27);\n    for (let i = 0, len = keyset.length; i \x3c len; i\x2b\x2b) {\n        let v = obj[keyset[i]];\n        if (v || _.isPrimitive(v)) {\n            obj = v;\n        }\n    }\n    return _.isPrimitive(obj) ? obj : \x27\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetValueBy\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobj, keystr\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e keyset = keystr.split(\x3cspan class=\x22hljs-string\x22\x3e\x27.\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = keyset.length; i \x26lt; len; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e v = obj[keyset[i]];\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (v || _.isPrimitive(v)) {\n            obj = v;\n        }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _.isPrimitive(obj) ? obj : \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e找到数据了后，配置文本\x3ccode\x3elang\x3c\/code\x3e中占位的\x3ccode\x3e{msg}\x3c\/code\x3e的替换利用动态生成正则\x3ccode\x3enew RegExp(\x27{\x27 \x2b keys[i] \x2b \x27}\x27, \x27g\x27);\x3c\/code\x3e全局替换即可。\x3c\/p\x3e\n\x3ch4\x3e3. 图片模式和样式模式\x3c\/h4\x3e\n\x3cp\x3e以上讲的是文本模式和HTML模式。两个简单的区别就是\x3ccode\x3einnerText\x3c\/code\x3e和\x3ccode\x3einnerHTML\x3c\/code\x3e替换的区别。但是图片模式和样式模式怎么实现？\x3c\/p\x3e\n\x3cp\x3e首先容我啰嗦几句，为什么我会创造出这两种模式呢？因为有时候设计稿中的某些图片的特殊文本也是多语言的，艺术字体（什么高光，花式渐变、浮雕等等）不可能用代码实现，这时候每个多语言对应切个图片就好了，然后利用图片模式切换就好了。样式模式也是差不多的应用场景了。\x3c\/p\x3e\n\x3cp\x3e图片模式简单实现方法就是路径的替换（当然前提是一定要对多语言图片命名和存放位置都进行强约束）。样式模式其实就是简单的切换class。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ class渲染\nfunction render$c (v, c) {\n    const locale = this.$locale;\n    const langs = Object.keys(this.$messages);\n    for (let i = 0, len = langs.length; i \x3c len; i\x2b\x2b) {\n        if (langs[i] !== locale) {\n            _.removeClass(v, `${langs[i]}-${c.base}`);\n        }\n    }\n    _.addClass(v, `${locale}-${c.base}`)\n}\n\n\/\/ 图片渲染\nfunction render$m (v, c) {\n    const locale = this.$locale;\n    const langs = Object.keys(this.$messages).join(\x27|\x27);\n    const nameRe = new RegExp(\x27(\\\/(\x27 \x2b langs \x2b \x27))?\\\/[^\\\/]\x2b(?=\\\\.[^\\\/]*$)\x27, \x27g\x27);\n    const src = v.getAttribute(\x27src\x27);\n    const path = src.replace(nameRe, `\/${locale}\/${c.base}`);\n    \n    v.setAttribute(\x27src\x27, path);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ class渲染\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erender$c\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ev, c\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e locale = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$locale;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e langs = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$messages);\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = langs.length; i \x26lt; len; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (langs[i] !== locale) {\n            _.removeClass(v, \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${langs[i]}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${c.base}\x3c\/span\x3e`\x3c\/span\x3e);\n        }\n    }\n    _.addClass(v, \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${locale}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${c.base}\x3c\/span\x3e`\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 图片渲染\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erender$m\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ev, c\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e locale = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$locale;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e langs = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$messages).join(\x3cspan class=\x22hljs-string\x22\x3e\x27|\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nameRe = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27(\\\/(\x27\x3c\/span\x3e \x2b langs \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27))?\\\/[^\\\/]\x2b(?=\\\\.[^\\\/]*$)\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27g\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e src = v.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = src.replace(nameRe, \x3cspan class=\x22hljs-string\x22\x3e`\/\x3cspan class=\x22hljs-subst\x22\x3e${locale}\x3c\/span\x3e\/\x3cspan class=\x22hljs-subst\x22\x3e${c.base}\x3c\/span\x3e`\x3c\/span\x3e);\n    \n    v.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, path);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e4. 多种模式如何准确渲染\x3c\/h4\x3e\n\x3cp\x3e多种模式混合使用的时候，如何区分并准确渲染？这个只需要合理断开配置文本，并分别运用在该节点上即可。需要注意的是，断开配置时应当判断分号是否不在文本里，否则容易误伤友军。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cimg class=\x26quot;d1-common\x26quot; src=\x26quot;.\/images\/holder.jpg\x26quot; alt=\x26quot;先占位后替换加载新图片\x26quot; data-i18n=\x26quot;$m(\x27d1\x27); $c(\x27d1\x27)\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22d1-common\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/images\/holder.jpg\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ealt\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22先占位后替换加载新图片\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edata-i18n\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$m(\x27d1\x27); $c(\x27d1\x27)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const dataI18n = v.dataset[name].split(\/;(?:\\s*\\$[t|h|c|m])\/g);\ndataI18n.forEach(c =\x3e {\n  const _c = this.parse(c.trim());\n  if (c.includes(\x27$t\x27)) {\n    this.render$t(v, _c);\n  }\n  if (c.includes(\x27$h\x27)) {\n    this.render$h(v, _c);\n  }\n  if (c.includes(\x27$c\x27)) {\n    this.render$c(v, _c);\n  }\n  if (c.includes(\x27$m\x27)) {\n    this.render$m(v, _c);\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e dataI18n = v.dataset[name].split(\x3cspan class=\x22hljs-regexp\x22\x3e\/;(?:\\s*\\$[t|h|c|m])\/g\x3c\/span\x3e);\ndataI18n.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ec\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e _c = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.parse(c.trim());\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (c.includes(\x3cspan class=\x22hljs-string\x22\x3e\x27$t\x27\x3c\/span\x3e)) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.render$t(v, _c);\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (c.includes(\x3cspan class=\x22hljs-string\x22\x3e\x27$h\x27\x3c\/span\x3e)) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.render$h(v, _c);\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (c.includes(\x3cspan class=\x22hljs-string\x22\x3e\x27$c\x27\x3c\/span\x3e)) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.render$c(v, _c);\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (c.includes(\x3cspan class=\x22hljs-string\x22\x3e\x27$m\x27\x3c\/span\x3e)) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.render$m(v, _c);\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e更进一步\x3c\/h2\x3e\n\x3cp\x3e考虑应用场景如下，某些多语言数据依赖于后端返回，并在应用生命周期内持续更新。为了避免低效的手动操作，这些多语言数据应该动态依赖，实现数据改变的时候动态更新依赖了这些数据的DOM节点就好了。\x3c\/p\x3e\n\x3cp\x3e如何做到这一点。利用\x3ccode\x3eObject.defineProperty\x3c\/code\x3e这个因vue而让大家熟悉的api，遍历配置的中data并进行观察。重点是在里面的setter。当修改data的某个值时，会触发对应的setter，并发射信号通知DOM节点去更新。\x3c\/p\x3e\n\x3cp\x3e代码参考：\x3ca href=\x22https:\/\/github.com\/Gotjoy\/n-i18n\/blob\/master\/src\/i18n-b.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/Gotjoy\/n-i18n\/blob\/master\/src\/i18n-b.js\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e造轮子是个学习探索的过程，希望大家可以喜欢这篇文章。当然还有如果\x3ca href=\x22https:\/\/github.com\/Gotjoy\/n-i18n\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3en-i18n\x3c\/a\x3e这个工具对你们有所启发或者帮助，那就更好了~\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>编写简单i18n库</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013311035">https://segmentfault.com/a/1190000013311035</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/cib14w51c8f/" target="_blank">https://alili.tech/archive/cib14w51c8f/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>