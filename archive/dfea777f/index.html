<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="ES6走走看看—由块级作用域引出的一场变革"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>ES6走走看看—由块级作用域引出的一场变革 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/dfea777f/",
				"appid": "1613049289050283", 
				"title": "ES6走走看看—由块级作用域引出的一场变革 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-10-22T00:00:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/956c5598/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/caa15126/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&text=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&text=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&title=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&is_video=false&description=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&title=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&title=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&title=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdfea777f%2f&title=ES6%e8%b5%b0%e8%b5%b0%e7%9c%8b%e7%9c%8b%e2%80%94%e7%94%b1%e5%9d%97%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%bc%95%e5%87%ba%e7%9a%84%e4%b8%80%e5%9c%ba%e5%8f%98%e9%9d%a9"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文链接">原文链接</a></li><li><a href="#原文标题">原文标题</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">ES6走走看看—由块级作用域引出的一场变革</h1><div class="meta"><div class="postdate"><time datetime="2018-10-22" itemprop="datePublished">2018-10-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e持续更新的github笔记，链接地址：\x3ca href=\x22https:\/\/github.com\/qiqihaobenben\/Front-End-Basics\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFront-End-Basics\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e此篇文章的笔记地址：\x3ca href=\x22https:\/\/qiqihaobenben.gitbooks.io\/front-end-basics\/content\/JavaScript\/ES6\/string.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e字符到底发生了什么变化\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eES6走走看看系列，特别鸣谢奇舞读书会~\x3c\/strong\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e块级作用域又称词法作用域，存在于：\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e函数内部（函数作用域）\x3c\/li\x3e\n\x3cli\x3e块中（字符 { 和 } 之间的区域）\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cb\x3e注意：ES6允许块级作用域任意嵌套\x3c\/b\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{{{{{{let text = \x27Hello World!\x27}}}}}}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x22{{\x22{{{{let text = \x3cspan class=\x22hljs-string\x22\x3e\x27Hello World!\x27\x3c\/span\x3e}}}}\x22}}\x22\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为有了块级作用域，然后我们才有继续往下聊的可能。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e1、 块级声明\x3c\/h2\x3e\n\x3cp\x3e块级声明是用于声明在指定块的作用域之外无法访问的变量。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e2、 let声明：用来声明一个块级作用域变量\x3c\/h2\x3e\n\x3cp\x3e1、 声明的变量具有块级作用域的特性\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 例子\nfunction getValue (condition) {\n    if (condition) {\n        let value = \x27blue\x27;\n        return value;\n    }\n    console.log(value)\n    \/\/ 报错 value is not defined\n}\ngetValue()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ceylon\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 例子\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e getValue (condition) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (condition) {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27blue\x27\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e;\n    }\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 报错 value is not defined\x3c\/span\x3e\n}\ngetValue()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2、 在同一个作用域内不能使用let声明同名的变量\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 不管是var,const或者let,新的let声明之前同名的变量，都会报错\nvar count = 30;\nlet count = 40;\n\/\/ 报错 Identifier \x27count\x27 has already been declared\n\n\/\/ 函数形参和函数内部的let声明变量重名，报错\nfunction test(value) {\n    let value = 3;\n}\ntest()\n\/\/ 报错 Identifier \x27value\x27 has already been declared\n\n\/\/ 在不同的作用域声明的变量重名是没问题的\nlet count = 30;\nif(true) {\n  let count = 40;\n  \/\/ 不同的作用域，不会报错\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs swift\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不管是var,const或者let,新的let声明之前同名的变量，都会报错\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ecount\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ecount\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 报错 Identifier \x27count\x27 has already been declared\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 函数形参和函数内部的let声明变量重名，报错\x3c\/span\x3e\nfunction test(value) {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e value = \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n}\ntest()\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 报错 Identifier \x27value\x27 has already been declared\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在不同的作用域声明的变量重名是没问题的\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ecount\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ecount\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不同的作用域，不会报错\x3c\/span\x3e\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e3、 声明没有预解析，不存在变量提升，有“临时死区”(TDZ)\x3c\/p\x3e\n\x3cp\x3e从块的开始到变量声明这段的区域被称为临时死区，ES6明确规定，如果区块中存在let和const命令，则这个区块对这些命令声明的变量从一开始就形成封闭作用域，只要在声明之前就使用这些变量（赋值，引用等等），就会报错。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if(true) {\n    console.log(typeof value);\n    \/\/ 报错 value is not defined\n\n    let value = \x27blue\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n    console.log(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 报错 value is not defined\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27blue\x27\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cb\x3e注意：TDZ是区域是“块开始”到“变量声明”，下面的例子不报错\x3c\/b\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ typeof 说是相对安全，确实是，永远拿不到想要的结果\nconsole.log(typeof value); \/\/ 打印 undefined，没有报错\nif(true) {\n    let value = \x27red\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ typeof 说是相对安全，确实是，永远拿不到想要的结果\x3c\/span\x3e\nconsole.log(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 打印 undefined，没有报错\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27red\x27\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e3、 const声明：声明常量（如PI），值一旦被设定后不可更改\x3c\/h2\x3e\n\x3cp\x3e1、 常量声明的值是不可变的\x3c\/p\x3e\n\x3cp\x3e\x3cb\x3e注意：const声明的对象不允许修改绑定，但可以修改该对象的属性值。\x3c\/b\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const number = 6;\nnumber = 5;\n\/\/ 报错 Assignment to constant variable\n\nconst obj = {number: 1};\nobj.number = 2; \/\/ 不报错\n\nobj = {number: 3};\n\/\/ 报错 Assignment to constant variable\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autoit\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\/\/ 报错 Assignment \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e constant variable\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e obj = {\x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e}\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\nobj.\x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e; \/\/ 不报错\x3c\/span\x3e\n\nobj = {\x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e}\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\/\/ 报错 Assignment \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e constant variable\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2、 因为常量声明后值就不可更改了，所以声明时必须赋值\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 有效的常量\nconst count = 30;\n\n\/\/ 报错 Missing initializer in const declaration\nconst name;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 有效的常量\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e count = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 报错 Missing initializer in const declaration\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e3、 声明的常量具有块级作用域的特性\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if(true) {\n    const number = 5;\n}\nconsole.log(number)\n\/\/ 报错 number is not defined\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autoit\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n}\nconsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e)\n\/\/ 报错 \x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e is \x3cspan class=\x22hljs-literal\x22\x3enot\x3c\/span\x3e defined\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e4、 在同一个作用域内不能使用const声明同名的变量\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var message = \x27Hello\x27;\nlet age = 25;\n\n\/\/ 这两条语句都会报错\nconst message = \x27Good\x27;\nconst age = 30;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3emessage\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27Hello\x27\x3c\/span\x3e;\nlet age = \x3cspan class=\x22hljs-number\x22\x3e25\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这两条语句都会报错\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3emessage\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27Good\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e age = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e5、 声明没有预解析，不存在变量提升，有“临时死区”(TDZ)\x3c\/p\x3e\n\x3cp\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cb\x3e总结：一张表格\x3c\/b\x3e\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e声明方式\x3c\/th\x3e\n\x3cth\x3e变量提升\x3c\/th\x3e\n\x3cth\x3e作用域\x3c\/th\x3e\n\x3cth\x3e是否需要初始值\x3c\/th\x3e\n\x3cth\x3e重复定义\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3evar\x3c\/td\x3e\n\x3ctd\x3e是\x3c\/td\x3e\n\x3ctd\x3e函数级\x3c\/td\x3e\n\x3ctd\x3e不需要\x3c\/td\x3e\n\x3ctd\x3e允许\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3elet\x3c\/td\x3e\n\x3ctd\x3e否\x3c\/td\x3e\n\x3ctd\x3e块级\x3c\/td\x3e\n\x3ctd\x3e不需要\x3c\/td\x3e\n\x3ctd\x3e不允许\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3econst\x3c\/td\x3e\n\x3ctd\x3e否\x3c\/td\x3e\n\x3ctd\x3e块级\x3c\/td\x3e\n\x3ctd\x3e需要\x3c\/td\x3e\n\x3ctd\x3e不允许\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e\x3cb\x3e扩展：再提一下变量命名，不管是var、let、const声明的变量名，可以由数字，字母，下划线及美元符号组成，但是不能以数字开头。美元符号可以放到任何一个位置，甚至单独一个美元符号。\x3c\/b\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e4、 循环中的块作用域绑定\x3c\/h2\x3e\n\x3cblockquote\x3e循环中的let声明\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 第一个对比\n\/\/ before\nfor(var i = 0; i \x3c 5; i\x2b\x2b) {\n    \/\/ ... 省略一些代码\n}\nconsole.log(i)  \/\/ 5\n\n\/\/after\nfor(let i = 0; i \x3c 5; i\x2b\x2b) {\n    \/\/ ... 省略一些代码\n}\nconsole.log(i) \/\/ 报错 i is not defined\n\n\n\/\/ 第二个对比\n\/\/ before\nvar funcs = [];\nfor(var i = 0; i \x3c 10; i\x2b\x2b) {\n    funcs.push(() =\x3e {console.log(i)})\n}\nfuncs.forEach((ele) =\x3e {\n    ele()\n})\n\/\/ 打印 10次 10\n\n\/\/ after\nvar funcs = [];\nfor(let i = 0; i \x3c 10; i\x2b\x2b) {\n    funcs.push(() =\x3e {console.log(i)})\n}\nfuncs.forEach((ele) =\x3e {\n    ele()\n})\n\/\/ 打印 0 1 2 3 4 5 6 7 8 9\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第一个对比\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ before\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ... 省略一些代码\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(i)  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 5\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/after\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ... 省略一些代码\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(i) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 报错 i is not defined\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第二个对比\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ before\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e funcs = [];\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e; i\x2b\x2b) {\n    funcs.push(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(i)})\n}\nfuncs.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eele\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    ele()\n})\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 打印 10次 10\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ after\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e funcs = [];\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e; i\x2b\x2b) {\n    funcs.push(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(i)})\n}\nfuncs.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eele\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    ele()\n})\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 打印 0 1 2 3 4 5 6 7 8 9\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cb\x3e注意：有一点很重要，let 声明在循环内部的行为是标准中专门定义的，它不一定与 let 不提升特性有关。\x3c\/b\x3e\x3c\/p\x3e\n\x3cblockquote\x3e循环中的const声明\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ for 循环会报错\nfor (const i = 0; i \x3c 1; i\x2b\x2b) {\n    console.log(i)\n}\n\/\/ 打印 0 ，然后报错 Assignment to constant variable.\n\n\/\/ for-in 和 for-of 不会报错\nvar object = {\n    a: true,\n    b: true,\n    c: true\n};\nfor (const key in object) {\n    \/\/ 不要在循环体内更改key的值，会报错\n    console.log(key)\n}\n\/\/ 打印 a b c\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ for 循环会报错\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; i\x2b\x2b) {\n    console.log(i)\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 打印 0 ，然后报错 Assignment to constant variable.\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ for-in 和 for-of 不会报错\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eobject\x3c\/span\x3e = {\n    a: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    b: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    c: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n};\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eobject\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不要在循环体内更改key的值，会报错\x3c\/span\x3e\n    console.log(key)\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 打印 a b c\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cb\x3e注意：const可以应用在 for-in 和 for-of 循环中，是因为每次迭代不会修改已有绑定，而是会创建一个新绑定。\x3c\/b\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e5、 块级绑定最佳实践的进化\x3c\/h2\x3e\n\x3cblockquote\x3eES6 早期\x3c\/blockquote\x3e\n\x3cp\x3e普遍认为默认使用let来替代var,对于写保护的变量使用const\x3c\/p\x3e\n\x3cblockquote\x3eES6 使用中\x3c\/blockquote\x3e\n\x3cp\x3e普遍默认使用const，只有确实需要改变变量的值时使用let。因为大部分变量的值在初始化后不应再改变，而预料之外的变量值的改变是许多bug的源头。这样就可以在某种程度上实现代码的不可变，从而防止某些错误的发生。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e6、 全局变量将逐步与顶层对象的属性脱钩\x3c\/h2\x3e\n\x3cp\x3e顶层对象，在浏览器环境指的是window对象，在Node指的是global对象。\x3c\/p\x3e\n\x3cp\x3e为了保持兼容性，var命令和function命令声明的全局变量，依旧是顶层对象的属性；\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a = 1;\nwindow.a \/\/ 1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.a \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/bVbgyJO?w=2378\x26amp;h=560\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22var 声明的a，在右侧 global 里面\x22 title=\x22var 声明的a，在右侧 global 里面\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e另一方面规定，let命令、const命令、class命令声明的全局变量，不属于顶层对象的属性。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg src=\x22https:\/\/static.alili.tech\/img\/bVbgyJP?w=2396\x26amp;h=666\x22 del-src=\x22https:\/\/static.alili.tech\/v-5bbf1b3b\/global\/img\/squares.svg\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e上图可见let 声明的变量，并没有在Window对象里，而是一个新的Script对象。\x3c\/p\x3e\n\x3cp\x3e\x3cb\x3e扩展：如果需要在浏览器中跨frame或window访问代码，仍然可以用var在全局对象下定义变量。\x3c\/b\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e7、 块级函数\x3c\/h2\x3e\n\x3cp\x3e从ECMAScript 6开始，在严格模式下，块里的函数作用域为这个块。ECMAScript 6之前不建议块级函数在严格模式下使用。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27;\n\nfunction f() {\n  return 1;\n}\n\n{\n  function f() {\n    return 2;\n  }\n}\n\nf() === 1; \/\/ true\n\n\/\/ f() === 2 在非严格模式下相等\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ef\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n}\n\n{\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ef\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n  }\n}\n\nf() === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ f() === 2 在非严格模式下相等\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cb\x3e注意：在非严格模式下不要用块级函数，因为在非严格模式下，块中函数的声明表现奇怪，有兼容性风险\x3c\/b\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (shouldDefineZero) {\n   function zero() {     \/\/ DANGER: 兼容性风险\n      console.log(\x26quot;This is zero.\x26quot;);\n   }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (shouldDefineZero) {\n   \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ezero\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ DANGER: 兼容性风险\x3c\/span\x3e\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22This is zero.\x22\x3c\/span\x3e);\n   }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eECMAScript 6中，如果shouldDefineZero是false，则永远不会定义zero,因为这个块不执行。这是新标准定义的。然而，这里存在历史遗留问题，无论这个块是否执行，一些浏览器会定义zero。\x3c\/p\x3e\n\x3cp\x3e在严格模式下，所有支持ECMAScript 6的浏览器以相同的方式处理：只有在shouldDefineZero为true的情况下定义zero，并且作用域只是这个块内。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016300953">https://segmentfault.com/a/1190000016300953</a></p><h2 id="原文标题">原文标题</h2><p>ES6走走看看—由块级作用域引出的一场变革</p><h2>本文链接：</h2><a href="https://alili.tech/archive/dfea777f/" target="_blank">https://alili.tech/archive/dfea777f/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>