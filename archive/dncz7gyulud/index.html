<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="王者荣耀故事站小程序（nuxt &#43; 小程序）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>王者荣耀故事站小程序（nuxt &#43; 小程序） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/dncz7gyulud/",
				"appid": "1613049289050283", 
				"title": "王者荣耀故事站小程序（nuxt &#43; 小程序） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-27T02:30:13"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/2ze2p5g1daq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/33rb7l48c38/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&text=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&text=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&title=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&is_video=false&description=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&title=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&title=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&title=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdncz7gyulud%2f&title=%e7%8e%8b%e8%80%85%e8%8d%a3%e8%80%80%e6%95%85%e4%ba%8b%e7%ab%99%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%88nuxt%20%2b%20%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">王者荣耀故事站小程序（nuxt &#43; 小程序）</h1><div class="meta"><div class="postdate"><time datetime="2018-12-27" itemprop="datePublished">2018-12-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3e前言\x3c\/h3\x3e\n\x3cp\x3e一直想学习开发一款小程序，无奈拖延至今，恰逢王者荣耀周年庆，然后本人对王者英雄的人物、配音比较感兴趣，就有开发一款王者荣耀故事站的小程序的念头。想要了解故事背景就直接打开小程序就好了。\x3c\/p\x3e\n\x3cp\x3eps: 因为是业余时间做的，所以 pc 端的爬虫数据展示方面就有点粗糙。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e技术栈\x3c\/h3\x3e\n\x3cblockquote\x3e小程序 \x2b nuxt \x2b koa2 \x2b vue2.0 \x2b vuex \x2b nginx \x2b pm2\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e小程序效果图\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011747147?w=1600\x26amp;h=2540\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011747147?w=1600\x26amp;h=2540\x22 alt=\x22WechatIMG2252.jpeg\x22 title=\x22WechatIMG2252.jpeg\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e线上体验\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011747148?w=344\x26amp;h=344\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011747148?w=344\x26amp;h=344\x22 alt=\x22WechatIMG2252.jpeg\x22 title=\x22WechatIMG2252.jpeg\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3epc 爬虫效果图\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011747149?w=1575\x26amp;h=1046\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011747149?w=1575\x26amp;h=1046\x22 alt=\x2244\x22 title=\x2244\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011747150?w=1558\x26amp;h=770\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011747150?w=1558\x26amp;h=770\x22 alt=\x2244\x22 title=\x2244\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011747151?w=1558\x26amp;h=1025\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011747151?w=1558\x26amp;h=1025\x22 alt=\x2244\x22 title=\x2244\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011747152?w=1544\x26amp;h=993\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011747152?w=1544\x26amp;h=993\x22 alt=\x2244\x22 title=\x2244\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e线上地址\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/storyweb.naice.me\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22http:\/\/storyweb.naice.me\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/storyweb.naice.me\/\x3c\/a\x3e\x3cbr\x3e(如果觉得很慢的同学不是你们的网速的问题，是我的服务器配置太渣了2333)\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e首先说下爬虫数据\x3c\/h3\x3e\n\x3cp\x3e数据爬虫都是从王者荣耀故事站官网来爬取的，然后直接用 next\/koa 作为后台，用\x3ccode\x3echeerio\x3c\/code\x3e模块和\x3ccode\x3erequest-promise\x3c\/code\x3e模块基本就可以爬到我们想要的数据了，有时候爬取出来的数据回事乱码（非 utf-8的）我们就借助\x3ccode\x3eiconv\x3c\/code\x3e模块去转成我们想要的中文字符。这些模块说明文档在相应的 gihub中都说的很详细。就不一一介绍。\x3cbr\x3e下面举例一下爬虫英雄列表首页的过程，都注释在代码里面\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 引入相应的模块\nimport rp from \x27request-promise\x27\nimport cheerio from \x27cheerio\x27\nimport { writeFileSync } from \x27fs\x27\n\nconst Iconv = require(\x27iconv\x27).Iconv\nconst iconv = new Iconv(\x27GBK\x27, \x27UTF-8\x27)\n\n\/\/ request 国外网站的时候使用本地的 VPN\n\/\/ import Agent from \x27socks5-http-client\/lib\/Agent\x27\n\n\/\/ 爬取英雄列表\nconst getHeroStory = async() =\x3e {\n  \/\/ request-promise的配置\n  const options = {\n    uri: \x27https:\/\/pvp.qq.com\/act\/a20160510story\/herostory.htm\x27,\n    \/\/ agentClass: Agent,\n    \/\/ agentOptions: {\n    \/\/   socksHost: \x27localhost\x27,\n    \/\/   socksPort: 1080 \/\/ 本地 VPN 的端口，这里用的 shadowsocks\n    \/\/ },\n    transform: body =\x3e cheerio.load(body) \/\/ 转成相应的爬虫\n  }\n  \/\/ 爬取导航复制给cheerio的$对象\n  const $ = await rp(options)\n  let navArr = []\n  let heroList = []\n  $(\x27#campNav li\x27).each(function () {\n    \/\/ 分析节点拿到数据\n    const type = $(this).attr(\x27data-camptype\x27)\n    const text = $(this).find(\x27a\x27).text()\n    \/\/ push 到navArr数组中\n    navArr.push({ type, text })\n  })\n  \/\/ 爬取英雄列表\n  const hreodata = await rp({\n    uri: \x27https:\/\/pvp.qq.com\/webplat\/info\/news_version3\/15592\/18024\/23901\/24397\/24398\/m17330\/list_1.shtml\x27\n  })\n  \/\/ 数据处理\n  let str = hreodata.replace(\x27createHeroList(\x27, \x27\x27)\n  str = str.substr(0, str.length - 1)\n  let r = JSON.parse(str)\n  heroList = r.data.filter(item =\x3e item)\n\n  let result = {\n    nav: navArr,\n    heroList\n  }\n  \/\/ 写入文件\n  writeFileSync(\x27.\/server\/crawerdb\/heroList.json\x27, JSON.stringify(result, null, 2), \x27utf-8\x27)\n\n  return result\n}\n\n\/\/ 跟去英雄 id，和 url 爬取英雄的详细介绍\nconst getHeroDatail = async(url, _id) =\x3e {\n  \/\/ 配置\n  const option = {\n    encoding: null,\n    url\n  }\n  \/\/ 爬取英雄详情\n  const $ = await rp(option).then(body =\x3e {\n    \/\/ 字符乱码处理\n    var result = iconv.convert(new Buffer(body, \x27binary\x27)).toString()\n    return cheerio.load(result)\n  })\n  \/\/ 这里拿到$之后就像 jq那样子，根据文档就可以进行爬虫的数据处理了\n  \/\/ 下面都是数据处理\n  let heroName = \x27\x27\n  let heroDetail = []\n  let ht = \x27\x27\n  let hc = \x27\x27\n  if ($(\x27#heroStory\x27).length) {\n    heroName = $(\x27.hero_name pf\x27).text()\n    $(\x27#heroStory p\x27).each(function () {\n      let text = $(this).text().trim()\n      heroDetail.push({\n        type: \x27text\x27,\n        text: text\n      })\n    })\n  } else if ($(\x27.textboxs\x27).length) {\n    $(\x27.textboxs p\x27).each(function () {\n      if ($(this).find(\x27img\x27).length) {\n        let src = $(this).find(\x27img\x27).attr(\x27src\x27)\n        heroDetail.push({\n          type: \x27img\x27,\n          text: \x27https:\x27 \x2b src\n        })\n      } else {\n        let text = $(this).text().trim()\n        heroDetail.push({\n          type: \x27text\x27,\n          text: text\n        })\n      }\n    })\n  }\n  let hStr = ($(\x27#history_content\x27).text()).replace(\/(^\\s\x2b)|(\\s\x2b$)\/g, \x27\x27);\n\n  if (hStr.length \x3e 0) {\n    ht = $(\x27.history_story h3\x27).text()\n    hc = $(\x27#history_content\x27).text()\n  }\n  let result = {\n    heroName,\n    heroDetail,\n    historyTitle: ht,\n    historyContent: hc\n  }\n  \/\/ 写入文件\n  writeFileSync(\x27.\/server\/crawerdb\/herodetail\x27 \x2b _id \x2b \x27.json\x27, JSON.stringify(result, null, 2), \x27utf-8\x27)\n  return result\n}\n\nexport default {\n  getHeroStory,\n  getHeroDatail\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入相应的模块\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e rp \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27request-promise\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e cheerio \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27cheerio\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { writeFileSync } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Iconv = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27iconv\x27\x3c\/span\x3e).Iconv\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e iconv = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Iconv(\x3cspan class=\x22hljs-string\x22\x3e\x27GBK\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27UTF-8\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ request 国外网站的时候使用本地的 VPN\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ import Agent from \x27socks5-http-client\/lib\/Agent\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 爬取英雄列表\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getHeroStory = \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e() =\x26gt; {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ request-promise的配置\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e options = {\n    uri: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/pvp.qq.com\/act\/a20160510story\/herostory.htm\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ agentClass: Agent,\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ agentOptions: {\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/   socksHost: \x27localhost\x27,\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/   socksPort: 1080 \/\/ 本地 VPN 的端口，这里用的 shadowsocks\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ },\x3c\/span\x3e\n    transform: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ebody\x3c\/span\x3e =\x26gt;\x3c\/span\x3e cheerio.load(body) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 转成相应的爬虫\x3c\/span\x3e\n  }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 爬取导航复制给cheerio的$对象\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e $ = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e rp(options)\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e navArr = []\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e heroList = []\n  $(\x3cspan class=\x22hljs-string\x22\x3e\x27#campNav li\x27\x3c\/span\x3e).each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分析节点拿到数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).attr(\x3cspan class=\x22hljs-string\x22\x3e\x27data-camptype\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e text = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).find(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e).text()\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ push 到navArr数组中\x3c\/span\x3e\n    navArr.push({ \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e, text })\n  })\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 爬取英雄列表\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e hreodata = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e rp({\n    uri: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/pvp.qq.com\/webplat\/info\/news_version3\/15592\/18024\/23901\/24397\/24398\/m17330\/list_1.shtml\x27\x3c\/span\x3e\n  })\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 数据处理\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e str = hreodata.replace(\x3cspan class=\x22hljs-string\x22\x3e\x27createHeroList(\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e)\n  str = str.substr(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, str.length - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e r = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(str)\n  heroList = r.data.filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e =\x26gt;\x3c\/span\x3e item)\n\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e result = {\n    nav: navArr,\n    heroList\n  }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 写入文件\x3c\/span\x3e\n  writeFileSync(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/server\/crawerdb\/heroList.json\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(result, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e), \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e)\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 跟去英雄 id，和 url 爬取英雄的详细介绍\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getHeroDatail = \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e(url, _id) =\x26gt; {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 配置\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e option = {\n    encoding: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n    url\n  }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 爬取英雄详情\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e $ = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e rp(option).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ebody\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 字符乱码处理\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result = iconv.convert(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Buffer(body, \x3cspan class=\x22hljs-string\x22\x3e\x27binary\x27\x3c\/span\x3e)).toString()\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e cheerio.load(result)\n  })\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里拿到$之后就像 jq那样子，根据文档就可以进行爬虫的数据处理了\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 下面都是数据处理\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e heroName = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e heroDetail = []\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ht = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e hc = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ($(\x3cspan class=\x22hljs-string\x22\x3e\x27#heroStory\x27\x3c\/span\x3e).length) {\n    heroName = $(\x3cspan class=\x22hljs-string\x22\x3e\x27.hero_name pf\x27\x3c\/span\x3e).text()\n    $(\x3cspan class=\x22hljs-string\x22\x3e\x27#heroStory p\x27\x3c\/span\x3e).each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e text = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).text().trim()\n      heroDetail.push({\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27text\x27\x3c\/span\x3e,\n        text: text\n      })\n    })\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ($(\x3cspan class=\x22hljs-string\x22\x3e\x27.textboxs\x27\x3c\/span\x3e).length) {\n    $(\x3cspan class=\x22hljs-string\x22\x3e\x27.textboxs p\x27\x3c\/span\x3e).each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ($(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).find(\x3cspan class=\x22hljs-string\x22\x3e\x27img\x27\x3c\/span\x3e).length) {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e src = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).find(\x3cspan class=\x22hljs-string\x22\x3e\x27img\x27\x3c\/span\x3e).attr(\x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e)\n        heroDetail.push({\n          \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27img\x27\x3c\/span\x3e,\n          text: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\x27\x3c\/span\x3e \x2b src\n        })\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e text = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).text().trim()\n        heroDetail.push({\n          \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27text\x27\x3c\/span\x3e,\n          text: text\n        })\n      }\n    })\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e hStr = ($(\x3cspan class=\x22hljs-string\x22\x3e\x27#history_content\x27\x3c\/span\x3e).text()).replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/(^\\s\x2b)|(\\s\x2b$)\/g\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e);\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (hStr.length \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n    ht = $(\x3cspan class=\x22hljs-string\x22\x3e\x27.history_story h3\x27\x3c\/span\x3e).text()\n    hc = $(\x3cspan class=\x22hljs-string\x22\x3e\x27#history_content\x27\x3c\/span\x3e).text()\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e result = {\n    heroName,\n    heroDetail,\n    historyTitle: ht,\n    historyContent: hc\n  }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 写入文件\x3c\/span\x3e\n  writeFileSync(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/server\/crawerdb\/herodetail\x27\x3c\/span\x3e \x2b _id \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27.json\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(result, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e), \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  getHeroStory,\n  getHeroDatail\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在 koa里面配置好路由就可以一步步爬取数据了\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3enuxt\x3c\/h3\x3e\n\x3cblockquote\x3eNuxt.js 是一个基于 Vue.js 的通用应用框架。通过对客户端\/服务端基础架构的抽象组织，Nuxt.js 主要关注的是应用的 UI渲染。我们的目标是创建一个灵活的应用框架，你可以基于它初始化新项目的基础结构代码，或者在已有 Node.js 项目中使用 Nuxt.js。Nuxt.js 预设了利用Vue.js开发服务端渲染的应用所需要的各种配置。\x3c\/blockquote\x3e\n\x3cp\x3e根据文档 page 下面的结构就是对应的 vue 的路由结构，然后配置好\x3ccode\x3enuxt.config.js\x3c\/code\x3e你所需要模块、插件、webpack 配置等等都有很好的\x3ca href=\x22https:\/\/zh.nuxtjs.org\/guide\/configuration\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e中文文档\x3c\/a\x3e说明。会 vue的同学，去看一下官网就可以大概有个很好的了解了。\x3cbr\x3e下面是整个项目的目录结构\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.nuxt\/\nbuild\/  ---打包发布\ncomponents\/ ---组件\nlayout\/   ---布局\npages\/    ---对应的路由\n--| about.vue\/\n--| music.vue\/\n--| word.vue\/\n--| skin\/\n--| index.vue\n--| ....\nserver\/  --对应的koa 后台\nstatic\/  ---静态资源\nstore\/  --vuex\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haml\x22\x3e\x3ccode\x3e.nuxt\/\nbuild\/  ---打包发布\ncomponents\/ ---组件\nlayout\/   ---布局\npages\/    ---对应的路由\n-\x3cspan class=\x22ruby\x22\x3e-\x3cspan class=\x22hljs-params\x22\x3e| about.vue\/\n\x3c\/span\x3e\x3c\/span\x3e-\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e-|\x3c\/span\x3e music.vue\/\n\x3c\/span\x3e-\x3cspan class=\x22ruby\x22\x3e-\x3cspan class=\x22hljs-params\x22\x3e| word.vue\/\n\x3c\/span\x3e\x3c\/span\x3e-\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e-|\x3c\/span\x3e skin\/\n\x3c\/span\x3e-\x3cspan class=\x22ruby\x22\x3e-\x3cspan class=\x22hljs-params\x22\x3e| index.vue\n\x3c\/span\x3e\x3c\/span\x3e-\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e-|\x3c\/span\x3e ....\n\x3c\/span\x3eserver\/  --对应的koa 后台\nstatic\/  ---静态资源\nstore\/  --vuex\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e小程序\x3c\/h3\x3e\n\x3cp\x3e这是我第一个小程序。所以一开始看文档，写起数据绑定的时候，会有种跟 vue 的异曲同工的感觉.\x3cbr\x3e下面是官荒的小例子\x3c\/p\x3e\n\x3cp\x3edemo.wxml\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cview\x3e Hello \x22{{\x22name\x22}}\x22! \x3c\/view\x3e\n\x3cview wx:for=\x26quot;\x22{{\x22array\x22}}\x22\x26quot;\x3e\n  \x22{{\x22index\x22}}\x22: \x22{{\x22item.message\x22}}\x22\n\x3c\/view\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e Hello \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e! \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewx:for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22array\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22index\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e: \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22item.message\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eview\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3edemo.js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Page({\n  data: {\n    name: \x27小程序\x27,\n    array: [{\n      message: \x27foo\x27,\n    }, {\n      message: \x27bar\x27\n    }]\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ePage\x3c\/span\x3e({\n  \x3cspan class=\x22hljs-attribute\x22\x3edata\x3c\/span\x3e: {\n    name: \x3cspan class=\x22hljs-string\x22\x3e\x27小程序\x27\x3c\/span\x3e,\n    array: [{\n      message: \x3cspan class=\x22hljs-string\x22\x3e\x27foo\x27\x3c\/span\x3e,\n    }, {\n      \x3cspan class=\x22hljs-attribute\x22\x3emessage\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e\n    }]\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e是不是太熟悉了？？？？当然里面实现的技术还是想差别很大的，想去详细的了解，我觉得《\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/25105936?utm_medium=social\x26amp;utm_source=weibo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e一起脱去小程序的外套 - 微信小程序架构解析\x3c\/a\x3e》这篇文章，很是不错，我初学的时候，是先体验一番\x3ca href=\x22https:\/\/mp.weixin.qq.com\/debug\/wxadoc\/dev\/demo.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e小程序的demo\x3c\/a\x3e,然后直接动手（光看不动瞎扯淡），再去深入了解原理、pages 的生命周期，逻辑处理、框架、组件、api 等等，理解了这些之后，后面就很容易啦！！\x3c\/p\x3e\n\x3cp\x3e附一张小程序的运行生命周期图(来源于遇见大神的文章)，用来理解小程序的整个运行过程\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011747153?w=1156\x26amp;h=586\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011747153?w=1156\x26amp;h=586\x22 alt=\x2244\x22 title=\x2244\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3egithub\x3c\/h3\x3e\n\x3cp\x3e小程序：\x3ca href=\x22https:\/\/github.com\/naihe138\/heroStory\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22https:\/\/github.com\/naihe138\/heroStory\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/naihe138\/h...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e小程序后台爬虫： \x3ca href=\x22https:\/\/github.com\/naihe138\/hero-story-crawer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22https:\/\/github.com\/naihe138\/hero-story-crawer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/naihe138\/h...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e博客文章：\x3ca href=\x22https:\/\/blog.naice.me\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22https:\/\/blog.naice.me\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.naice.me\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e如果大家觉得有用的话，求一个闪晶晶的 start ，谢谢各位大佬\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>王者荣耀故事站小程序（nuxt + 小程序）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011747142">https://segmentfault.com/a/1190000011747142</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/dncz7gyulud/" target="_blank">https://alili.tech/archive/dncz7gyulud/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>