<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="whistle--跨平台网络抓包调试工具"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>whistle--跨平台网络抓包调试工具 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/dpw23v06y4/",
				"appid": "1613049289050283", 
				"title": "whistle--跨平台网络抓包调试工具 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-11-30T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/9pogqadt08q/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/3daonkv4btl/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&text=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&text=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&title=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&is_video=false&description=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&title=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&title=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&title=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fdpw23v06y4%2f&title=whistle--%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%bd%91%e7%bb%9c%e6%8a%93%e5%8c%85%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">whistle--跨平台网络抓包调试工具</h1><div class="meta"><div class="postdate"><time datetime="2018-11-30" itemprop="datePublished">2018-11-30</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3ewhistle--跨平台网络抓包调试工具\x3c\/h1\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891585?w=160\x26amp;h=160\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891585?w=160\x26amp;h=160\x22 alt=\x22whistle\x22 title=\x22whistle\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e[TOC]\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e简介\x3c\/h2\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/avwo\/whistle\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewhistle\x3c\/a\x3e是一款跨平台的网络抓包调试工具，基于node开发。支持抓包，重放，替换，修改等方式来调试http(s),WebSocket请求，也可以作为普通的http代理。其功能和常用的fiddler(windows),Charles(Mac)工具功能相同，不过对于开发者更加友好，操作和调试更加方便，还支持node模块的插件。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e快速上手\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e安装\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install -g whistle \/\/ 全局安装whistle\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm install -g whistle \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局安装whistle\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e启动\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22w2 start  \/\/启动whistle\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ew2 start  \x3cspan class=\x22hljs-comment\x22\x3e\/\/启动whistle\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e配置代理 (推荐使用浏览器插件)\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22127.0.0.1:8899\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e127\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.1\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:8899\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e配置规则\x3c\/h3\x3e\n\x3cp\x3e浏览器访问\x3ca href=\x22http:\/\/local.whistlejs.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/local.whistlejs.com\x3c\/a\x3e 打开whistle界面，在rule里面配置:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22jd.com  127.0.0.1\ntaobao.com  127.0.0.1\ntmall.com 127.0.0.1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3ejd.com  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.1\x3c\/span\x3e\ntaobao.com  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.1\x3c\/span\x3e\ntmall.com \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eOK，就是这么简单\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e安装使用\x3c\/h2\x3e\n\x3cp\x3e首先需要安装好node,官方推荐使用最新的LTS版本node\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e安装whistle\x3c\/h3\x3e\n\x3cp\x3enode环境配置成功后开始安装whistle，非root用户加sudo\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install -g whistle\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm install -g whistle\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装完成后，执行命令\x3ccode\x3ewhistle help\x3c\/code\x3e或者\x3ccode\x3ew2 help\x3c\/code\x3e可以查看whistle的帮助信息，有输出则证明已安装成功\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ w2 help\nUsage: whistle \x3ccommand\x3e [options]\n\nCommands:\n\n    run       Start a front service\n    start     Start a background service\n    stop      Stop current background service\n    restart   Restart current background service\n    help      Display help information\n    \nOptions:\n\n    -h, --help                                      output usage information\n    -D, --baseDir [baseDir]                         the base dir of config data\n    -A, --ATS                                       generate Root CA for iOS ATS (Node \x3e= 6 is required)\n    -z, --certDir [directory]                       custom certificate path\n    -l, --localUIHost [hostname]                    local ui host (local.whistlejs.com by default)\n    -n, --username [username]                       the username of whistle\n    -w, --password [password]                       the password of whistle\n    -N, --guestName [username]                      the guest name\n    -W, --guestPassword [password]                  the guest password\n    -s, --sockets [number]                          max sockets (60 by default)\n    -S, --storage [newStorageDir]                   the new local storage directory\n    -C, --copy [storageDir]                         copy storageDir to newStorageDir\n    -c, --dnsCache [time]                           the cache time of DNS (30000ms by default)\n    -H, --host [host]                               whistle listening host(:: or 0.0.0.0 by default)\n    -p, --port [port]                               whistle listening port (8899 by default)\n    -P, --uiport [uiport]                           whistle ui port (8900 by default)\n    -m, --middlewares [script path or module name]  express middlewares path (as: xx,yy\/zz.js)\n    -M, --mode [mode]                               the whistle mode (as: pureProxy|debug|multiEnv)\n    -u, --uipath [script path]                      web ui plugin path\n    -t, --timeout [ms]                              request timeout (66000 ms by default)\n    -e, --extra [extraData]                         extra data for plugin\n    -f, --secureFilter [secureFilter]               the script path of secure filter\n    -R, --reqCacheSize [reqCacheSize]               the cache size of request data (512 by default)\n    -F, --frameCacheSize [frameCacheSize]           the cache size of socket frames (512 by default)\n    -V, --version                                   output the version number\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e$ w2 help\nUsage: whistle \x26lt;command\x26gt; [options]\n\nCommands:\n\n    run       Start a front service\n    start     Start a background service\n    stop      Stop current background service\n    restart   Restart current background service\n    help      Display help information\n    \nOptions:\n\n    -h, --help                                      output usage information\n    -D, --baseDir [baseDir]                         the base dir \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e config data\n    -A, --ATS                                       generate Root CA \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e iOS ATS (Node \x26gt;= \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e is required)\n    -z, --certDir [directory]                       custom certificate path\n    -l, --localUIHost [hostname]                    local ui host (local.whistlejs.com by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -n, --username [username]                       the username \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e whistle\n    -w, --password [password]                       the password \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e whistle\n    -N, --guestName [username]                      the guest name\n    -W, --guestPassword [password]                  the guest password\n    -s, --sockets [number]                          max sockets (\x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -S, --storage [newStorageDir]                   the \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e local storage directory\n    -C, --copy [storageDir]                         copy storageDir to newStorageDir\n    -c, --dnsCache [time]                           the cache time \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e DNS (\x3cspan class=\x22hljs-number\x22\x3e30000\x3c\/span\x3ems by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -H, --host [host]                               whistle listening host(:: or \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -p, --port [port]                               whistle listening port (\x3cspan class=\x22hljs-number\x22\x3e8899\x3c\/span\x3e by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -P, --uiport [uiport]                           whistle ui port (\x3cspan class=\x22hljs-number\x22\x3e8900\x3c\/span\x3e by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -m, --middlewares [script path or \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e name]  express middlewares path (\x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e: xx,yy\/zz.js)\n    -M, --mode [mode]                               the whistle mode (\x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e: pureProxy|debug|multiEnv)\n    -u, --uipath [script path]                      web ui plugin path\n    -t, --timeout [ms]                              request timeout (\x3cspan class=\x22hljs-number\x22\x3e66000\x3c\/span\x3e ms by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -e, --extra [extraData]                         extra data \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e plugin\n    -f, --secureFilter [secureFilter]               the script path \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e secure filter\n    -R, --reqCacheSize [reqCacheSize]               the cache size \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e request data (\x3cspan class=\x22hljs-number\x22\x3e512\x3c\/span\x3e by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -F, --frameCacheSize [frameCacheSize]           the cache size \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e socket frames (\x3cspan class=\x22hljs-number\x22\x3e512\x3c\/span\x3e by \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e)\n    -V, --version                                   output the version number\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e启动whistle\x3c\/h3\x3e\n\x3cp\x3e新版本的whistle支持三种等价命令\x3ccode\x3ewhistle\x3c\/code\x3e,\x3ccode\x3ew2\x3c\/code\x3e,\x3ccode\x3ewproxy\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e启动whistle\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22w2 start\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ew2 start\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e重启whistle\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22w2 stop\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ew2 stop\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e停止whistle\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22w2 stop\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ew2 stop\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e启动调试模式（启动了一个前台服务,主要用于查看whistle的异常及插件开发）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22w2 run\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ew2 \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3c\/code\x3e\x3cspan class=\x22bash\x22\x3e\x3c\/span\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e配置代理\x3c\/h3\x3e\n\x3cp\x3e代理服务器，如果在本地则为\x3ccode\x3e127.0.0.1\x3c\/code\x3e，如果部署在远程服务器或者虚拟机上，就改成对应IP即可。\x3cbr\x3e默认端口为8899，如果端口被占用，要修改端口号，可以通过 \x3ccode\x3e-p\x3c\/code\x3e来指定新的端口号\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e代理方式\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e直接配置系统代理\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/jingyan.baidu.com\/article\/0aa22375866c8988cc0d648c.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWindows\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/jingyan.baidu.com\/article\/a378c960849144b3282830dc.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMac\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e安装浏览器代理插件，推荐方式\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eChrome插件：\x3ca href=\x22https:\/\/chrome.google.com\/webstore\/detail\/padekgcemlokbadohgkifijomclgjgif\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSwitchyOmega\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3eFirefox插件： \x3ca href=\x22https:\/\/addons.mozilla.org\/zh-cn\/firefox\/addon\/proxy-selector\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eProxySelector\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e移动端需要配置当前WIFI的代理\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e如何使用\x3c\/h2\x3e\n\x3cp\x3e通过\x3ccode\x3ew2 start\x3c\/code\x3e启动后，访问\x3ca href=\x22http:\/\/local.whistlejs.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/local.whistlejs.com\x3c\/a\x3e 即可打开whistle界面。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891586?w=1808\x26amp;h=1054\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891586?w=1808\x26amp;h=1054\x22 alt=\x22图片\x22 title=\x22图片\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e所有通过whistle的篡改操作，都可以用过下面的配置方式实现\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern operatorURL\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coq\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3epattern\x3c\/span\x3e operatorURL\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3epattern为匹配请求URL，支持域名，路径，正则，通配符等多种方式\x3c\/p\x3e\n\x3cp\x3eoperatorURI为对应的操作，由协议和值组成（operatorURL = opProtocol:\/\/opValue）\x3cbr\x3e支持的协议类型：\x3ca href=\x22http:\/\/wproxy.org\/whistle\/rules\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e协议列表\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3ePS; {value} 则对应工具栏Values下的文件\x3c\/p\x3e\n\x3cp\x3e两边结合一下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# 域名匹配IP\n www.example.com  127.0.0.1\n # 带端口的域名匹配\n www.example.com:6666  127.0.0.1\n # 带协议的域名，支持：http、https、ws、wss、tunnel\n http:\/\/www.example.com  127.0.0.1\n\n # 路径匹配，同样支持带协议、端口\n www.example.com\/test  http:\/\/127.0.0.1:9090\n https:\/www.exapmle.com\/test http:\/\/127.0.0.1:9090\n https:\/www.exapmle.com:6666\/test  http:\/\/127.0.0.1:9090\n\n # 正则匹配\n \/^https?:\/\/www\\.example\\.com\\\/test\/(.*)\/ referer:\/\/http:\/\/www.test.com\/$1\n\n # 通配符匹配\n ^www.example.com\/test\/*** referer:\/\/http:\/\/www.test.com\/$1\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs x86asm\x22\x3e\x3ccode\x3e# 域名匹配\x3cspan class=\x22hljs-built_in\x22\x3eIP\x3c\/span\x3e\n www.example.com  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.1\x3c\/span\x3e\n # 带端口的域名匹配\n\x3cspan class=\x22hljs-symbol\x22\x3e www.example.com:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e6666\x3c\/span\x3e  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.1\x3c\/span\x3e\n # 带协议的域名，支持：http、https、ws、wss、tunnel\n\x3cspan class=\x22hljs-symbol\x22\x3e http:\x3c\/span\x3e\/\/www.example.com  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.1\x3c\/span\x3e\n\n # 路径匹配，同样支持带协议、端口\n www.example.com\/\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e  http:\/\/\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9090\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e https:\x3c\/span\x3e\/www.exapmle.com\/\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e http:\/\/\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9090\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e https:\x3c\/span\x3e\/www.exapmle.com:\x3cspan class=\x22hljs-number\x22\x3e6666\x3c\/span\x3e\/\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e  http:\/\/\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9090\x3c\/span\x3e\n\n # 正则匹配\n \/^https?:\/\/www\\.example\\.com\\\/\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e\/(.*)\/ referer:\/\/http:\/\/www.test.com\/\x3cspan class=\x22hljs-number\x22\x3e$1\x3c\/span\x3e\n\n # 通配符匹配\n ^www.example.com\/\x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e\/*** referer:\/\/http:\/\/www.test.com\/\x3cspan class=\x22hljs-number\x22\x3e$1\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e功能详解\x3c\/h2\x3e\n\x3cp\x3ewhistle功能概括：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891587?w=1829\x26amp;h=1725\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891587?w=1829\x26amp;h=1725\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e代理设置\x3c\/h4\x3e\n\x3ch5\x3e设置http代理\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern proxy:\/\/ip:port\n# 加用户名密码\npattern proxy:\/\/username:password@ip:port\nwww.jd.com proxy:\/\/test:123@127.0.0.1:8888\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nginx\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3epattern\x3c\/span\x3e proxy:\/\/ip:port\n\x3cspan class=\x22hljs-comment\x22\x3e# 加用户名密码\x3c\/span\x3e\npattern proxy:\/\/username:password\x3cspan class=\x22hljs-variable\x22\x3e@ip\x3c\/span\x3e:port\nwww.jd.com proxy:\/\/test:123@127.0.0.1:8888\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e设置socks代理\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern socks:\/\/ip:port\n# 加用户名密码\npattern socks:\/\/username:password@ip:port\n\nwww.jd.com socks:\/\/test:123@127.0.0.1:8888\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nginx\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3epattern\x3c\/span\x3e socks:\/\/ip:port\n\x3cspan class=\x22hljs-comment\x22\x3e# 加用户名密码\x3c\/span\x3e\npattern socks:\/\/username:password\x3cspan class=\x22hljs-variable\x22\x3e@ip\x3c\/span\x3e:port\n\nwww.jd.com socks:\/\/test:123@127.0.0.1:8888\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e设置pac代理\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern pac:\/\/filepath\n\n\/.\/ pac:\/\/https:\/\/raw.githubusercontent.com\/imweb\/node-pac\/master\/test\/scripts\/normal.pac\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs awk\x22\x3e\x3ccode\x3epattern pac:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3efilepath\n\n\x3cspan class=\x22hljs-regexp\x22\x3e\/.\/\x3c\/span\x3e pac:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3ehttps:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3eraw.githubusercontent.com\x3cspan class=\x22hljs-regexp\x22\x3e\/imweb\/\x3c\/span\x3enode-pac\x3cspan class=\x22hljs-regexp\x22\x3e\/master\/\x3c\/span\x3etest\x3cspan class=\x22hljs-regexp\x22\x3e\/scripts\/\x3c\/span\x3enormal.pac\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e设置反向代理\x3c\/h5\x3e\n\x3cp\x3e区别于正向代理，具体可参考 \x3ca href=\x22https:\/\/www.cnblogs.com\/Anker\/p\/6056540.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e正向代理与反向代理\x3c\/a\x3e\x3cbr\x3ewhistle作为反向代理只支持http访问，启动whistle时设置监听的端口为6060:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22w2 start -p 6060\n#或\nw2 restart -p 6060\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3ew2 start -\x3cspan class=\x22hljs-selector-tag\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e6060\x3c\/span\x3e\n#或\nw2 restart -\x3cspan class=\x22hljs-selector-tag\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e6060\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e非root用户需要加\x3ccode\x3esudo w2 start -p 6060\x3c\/code\x3e。 ​ 根据域名、或路径、或正则表达式配置带端口的host：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22localhost:6060\/aa host:\/\/10.8.43.82:8080\nlocalhost:6060\/bb host:\/\/10.8.43.82:8081\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3elocalhost\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e6060\x3c\/span\x3e\/aa \x3cspan class=\x22hljs-attribute\x22\x3ehost\x3c\/span\x3e:\x3cspan class=\x22hljs-comment\x22\x3e\/\/10.8.43.82:8080\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3elocalhost\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e6060\x3c\/span\x3e\/bb \x3cspan class=\x22hljs-attribute\x22\x3ehost\x3c\/span\x3e:\x3cspan class=\x22hljs-comment\x22\x3e\/\/10.8.43.82:8081\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样访问localhost:6060的请求会自动转到8080或8181端口，实现无端口访问。 PS：如果要用IP访问，可以采用 \x3ca href=\x22http:\/\/127.0.0.1\/-\/xxx\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/127.0.0.1\/-\/xxx\x3c\/a\x3e 或 \x3ca href=\x22http:\/\/127.0.0.1\/_\/xxx\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/127.0.0.1\/_\/xxx\x3c\/a\x3e，whistle会自动转成 \x3ca href=\x22http:\/\/127.0.0.1\/xxx\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/127.0.0.1\/xxx\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e移动端调试\x3c\/h4\x3e\n\x3cp\x3e移动端调试的时候需要在同一个局域网内，涉及到https的连接需要开启https拦截。\x3c\/p\x3e\n\x3ch5\x3e开启https拦截\x3c\/h5\x3e\n\x3cp\x3e如果要拦截https和websockets请求，必须安装根证书和开启https拦截。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891588?w=1283\x26amp;h=767\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891588?w=1283\x26amp;h=767\x22 alt=\x22下载根证书\x22 title=\x22下载根证书\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在工具栏=\x26gt;https 下载 RootCA, 并勾选 \x3ccode\x3eintercept HTTPS CONNECTs\x3c\/code\x3e 选项\x3c\/p\x3e\n\x3ch5\x3e安装CA证书\x3c\/h5\x3e\n\x3cp\x3e具体参见：\x3ca href=\x22http:\/\/wproxy.org\/whistle\/webui\/https.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e安装根证书\x3c\/a\x3e\x3c\/p\x3e\n\x3ch5\x3e设置手机代理\x3c\/h5\x3e\n\x3cp\x3e设置 =\x26gt; 无线局域网 =\x26gt; 找到对应局域网点击感叹号 =\x26gt; HTTP代理 配置代理 =\x26gt; 选择手动 =\x26gt; 填写whistle服务的IP和端口号\x3c\/p\x3e\n\x3cp\x3ePS: 如果配置完代理，手机无法访问，可能是whistle所在的电脑防火墙限制了远程访问whistle的端口，关闭防火墙或者设置白名单： \x3ca href=\x22http:\/\/jingyan.baidu.com\/article\/870c6fc317cae7b03ee4be48.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/jingyan.baidu.com\/arti...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch5\x3e访问界面\x3c\/h5\x3e\n\x3cp\x3ewhistle集成了weinre的功能，只需要简单配置\x3ccode\x3epattern weinre:\/\/id\x3c\/code\x3e即可使用。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891589?w=1283\x26amp;h=767\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891589?w=1283\x26amp;h=767\x22 alt=\x22weinre in whistle\x22 title=\x22weinre in whistle\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e然后点击工具栏的weinre，选择对应的ID打开weinre界面\x3c\/p\x3e\n\x3ch5\x3e移动调试\x3c\/h5\x3e\n\x3cp\x3e相对于PC调试，移动端调试会常遇到以下问题\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e无法通过console输出错误，也无法看到页面的js报错\x3c\/li\x3e\n\x3cli\x3e无法查看和修改页面的DOM和样式\x3c\/li\x3e\n\x3cli\x3e无法debug\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch6\x3e1.来捕获页面的错误和log\x3c\/h6\x3e\n\x3cp\x3ewhistle可以通过类似console的log平台，来捕获页面的错误和log\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22www.jd.com log:\/\/\n# 如果你想同时注入js脚本，可以用下面一种方式\n# 在mac或linux中\nwww.jd.com log:\/\/\/\/Users\/willhu\/work\/whistle-test\/log-test.js\n# 在windows中\nwww.jd.com log:\/\/D:\\xxx\\test.js\n# 直接从whistle的Values配置的key-value里面获取脚本\nwww.jd.com log:\/\/{log-test.js}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3ewww.jd.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elo\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3eg:\x3c\/span\x3e\/\/\n# 如果你想同时注入js脚本，可以用下面一种方式\n# 在mac或linux中\nwww.jd.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elo\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3eg:\x3c\/span\x3e\/\/\/\/Users\/willhu\/work\/whistle-test\/\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e-test.js\n# 在windows中\nwww.jd.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elo\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3eg:\x3c\/span\x3e\/\/D:\\xxx\\test.js\n# 直接从whistle的Values配置的key-value里面获取脚本\nwww.jd.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elo\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3eg:\x3c\/span\x3e\/\/{\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e-test.js}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891590?w=1295\x26amp;h=652\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891590?w=1295\x26amp;h=652\x22 alt=\x22log-test\x22 title=\x22log-test\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch6\x3e2.查看、修改页面的DOM和样式\x3c\/h6\x3e\n\x3cp\x3e集成了weinre的功能，用户只需通过简单配置(pattern weinre:\/\/id)即可使用即可通过在pc上通过weinre修改网页的DOM结构及其样式,这里的ID只是一个分类，避免一个weinre调试页面出现太多链接\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22m.jd.com weinre:\/\/test-weinre\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3em\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e weinre:\x3cspan class=\x22hljs-comment\x22\x3e\/\/test-weinre\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891591?w=1295\x26amp;h=652\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891591?w=1295\x26amp;h=652\x22 alt=\x22test-weinre\x22 title=\x22test-weinre\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch6\x3e3. 暂不支持debug功能,可以通过log来替代\x3c\/h6\x3e\n\x3cp\x3e推荐腾讯的vConsole插件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22m.jd.com js:\/\/\/Users\/willhu\/work\/whistle-test\/vconsole.min.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3em\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e js:\x3cspan class=\x22hljs-comment\x22\x3e\/\/\/Users\/willhu\/work\/whistle-test\/vconsole.min.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3evConsole: \x3ca href=\x22https:\/\/github.com\/Tencent\/vConsole\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/Tencent\/vC...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3edemo: \x3ca href=\x22http:\/\/wechatfe.github.io\/vconsole\/demo.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evConsole\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e文件导入导出\x3c\/h4\x3e\n\x3cp\x3e在network中右键点击请求列表，可以将请求的数据导出到txt.saz文件，也可导入txt.saz.har文件。\x3c\/p\x3e\n\x3ch4\x3e抓包重放\x3c\/h4\x3e\n\x3ch5\x3e查看请求响应数据\x3c\/h5\x3e\n\x3cp\x3e在network中可以看到每条请求的详细情况。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891592?w=1280\x26amp;h=710\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891592?w=1280\x26amp;h=710\x22 alt=\x22network\x22 title=\x22network\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch5\x3e重放请求\x3c\/h5\x3e\n\x3cp\x3e打开network ==\x26gt; 选中请求 ==\x26gt; 右键选择replay\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891593?w=866\x26amp;h=880\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891593?w=866\x26amp;h=880\x22 alt=\x22replay-w433\x22 title=\x22replay-w433\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e重构请求\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e可以自定义请求的URL、请求方法、请求头，请求内容\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014891594?w=1283\x26amp;h=767\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014891594?w=1283\x26amp;h=767\x22 alt=\x22Composer\x22 title=\x22Composer\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch5\x3e请求和响应修改\x3c\/h5\x3e\n\x3ch6\x3e修改请求URL或者参数\x3c\/h6\x3e\n\x3cp\x3e设置静态规则列表\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern reqScript:\/\/filepath\nwww.jd.com reqScript:\/\/\/Users\/willhu\/work\/whistle-test\/rulelist.txt\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3epattern reqScript:\x3cspan class=\x22hljs-comment\x22\x3e\/\/filepath\x3c\/span\x3e\nwww\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e reqScript:\x3cspan class=\x22hljs-comment\x22\x3e\/\/\/Users\/willhu\/work\/whistle-test\/rulelist.txt\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3erulelist.txt如果文件的第一行为规则的注释，即\x3ccode\x3e#\x3c\/code\x3e开头则任务filepath指定的是规则列表，会加载该列表，并进行二次匹配获取规则\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# rules\npattern1 operatorURI1\npattern2 operatorURI2\npatternN operatorURIN\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nginx\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e# rules\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3epattern1\x3c\/span\x3e operatorURI1\npattern2 operatorURI2\npatternN operatorURIN\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过脚本设置规则列表\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22www.jd.com reqScript:\/\/{rulelist.js}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ewww\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e reqScript:\x3cspan class=\x22hljs-comment\x22\x3e\/\/{rulelist.js}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e设置服务器IP(host)\x3c\/h6\x3e\n\x3cp\x3e支持两种配置方式，这样就不用查找本机的host文件了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ip pattern\n或者\npattern host:\/\/ip\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coq\x22\x3e\x3ccode\x3eip \x3cspan class=\x22hljs-built_in\x22\x3epattern\x3c\/span\x3e\n或者\n\x3cspan class=\x22hljs-built_in\x22\x3epattern\x3c\/span\x3e host:\/\/ip\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e例子\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# 传统hosts配置\n127.0.0.1 www.example.com # 等价于： www.example.com  127.0.0.1\n127.0.0.1 a.example.com b.example.com c.example.com\n\n# 支持带端口\n127.0.0.1:8080 www.example.com # 等价于： www.example.com  127.0.0.1：8080\n127.0.0.1:8080 a.example.com b.example.com c.example.com\n\n# 支持通过域名获取host，类似DNS的cname\nhost:\/\/www.qq.com:8080 www.example.com # 等价于： www.example.com  host:\/\/www.qq.com:8080\nhost:\/\/www.qq.com:8080 a.example.com b.example.com c.example.com\n\n# 支持通过正则表达式匹配\n127.0.0.1:8080 \/example\\.com\/i # 等价于： \/example\\.com\/i  127.0.0.1：8080\n127.0.0.1:8080 \/example\\.com\/ \/test\\.com\/\n\n# 支持路径匹配\n127.0.0.1:8080 example.com\/test # 等价于： example.com\/test 127.0.0.1：8080\n127.0.0.1:8080 http:\/\/example.com:5555\/index.html www.example.com:6666 https:\/\/www.test.com\/test\n\n# 支持精确匹配\n127.0.0.1:8080 $example.com\/test # 等价于： $example.com\/test 127.0.0.1：8080\n127.0.0.1:8080 $http:\/\/example.com:5555\/index.html $www.example.com:6666 $https:\/\/www.test.com\/test\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e# 传统hosts配置\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e # 等价于： www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eb\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ec\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\n\n# 支持带端口\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e # 等价于： www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e：\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eb\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ec\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\n\n# 支持通过域名获取host，类似DNS的cname\nhos\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e\/\/www.qq.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e # 等价于： www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e  hos\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e\/\/www.qq.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e\nhos\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e\/\/www.qq.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eb\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ec\x3c\/span\x3e.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\n\n# 支持通过正则表达式匹配\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e \/example\\.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/i # 等价于： \/example\\.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/i  \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e：\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e \/example\\.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/ \/test\\.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/\n\n# 支持路径匹配\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/test # 等价于： example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/test \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e：\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e http:\/\/example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e5555\x3c\/span\x3e\/\x3cspan class=\x22hljs-built_in\x22\x3eindex\x3c\/span\x3e.html www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e6666\x3c\/span\x3e http\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e\/\/www.test.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/test\n\n# 支持精确匹配\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e $example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/test # 等价于： $example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/test \x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e：\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e $http:\/\/example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e5555\x3c\/span\x3e\/\x3cspan class=\x22hljs-built_in\x22\x3eindex\x3c\/span\x3e.html $www.example.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e6666\x3c\/span\x3e $http\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e\/\/www.test.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/test\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e替换请求\x3c\/h6\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22https:\/\/jd.com https:\/\/baidu.com\/\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ehttp\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e\/\/jd.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e http\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e\/\/baidu.\x3cspan class=\x22hljs-keyword\x22\x3ecom\x3c\/span\x3e\/\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e修改请求方法\x3c\/h6\x3e\n\x3cp\x3e配置方式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern method:\/\/newMethod\njd.com method:\/\/post\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs oxygene\x22\x3e\x3ccode\x3epattern \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emethod\x3c\/span\x3e:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/newMethod\x3c\/span\x3e\njd.com \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emethod\x3c\/span\x3e:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/post\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e修改请求头\x3c\/h6\x3e\n\x3cp\x3e修改请求头，配置方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern reqHeaders:\/\/filepath\njd.com reqHeaders:\/\/{reqHeaders.json}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3epattern \x3cspan class=\x22hljs-string\x22\x3ereqHeaders:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/filepath\x3c\/span\x3e\njd.com \x3cspan class=\x22hljs-string\x22\x3ereqHeaders:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/{reqHeaders.json}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e修改请求内容\x3c\/h6\x3e\n\x3cp\x3e把指定的内容替换请求内容(GET等请求没有内容没有替换一说)，配置方式\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern reqBody:\/\/filepath\nwww.jd.com method:\/\/post reqBody:\/\/{test-reqBody.html}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs oxygene\x22\x3e\x3ccode\x3epattern reqBody:\x3cspan class=\x22hljs-comment\x22\x3e\/\/filepath\x3c\/span\x3e\nwww.jd.com \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emethod\x3c\/span\x3e:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/post reqBody:\/\/{test-reqBody.html}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e注入或替换内容\x3c\/h6\x3e\n\x3cp\x3e把指定的内容添加到请求内容前面(GET等请求没有内容无法添加)，配置方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern reqPrepend:\/\/filepath\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3epattern \x3cspan class=\x22hljs-string\x22\x3ereqPrepend:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/filepath\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e限速或者延迟请求\x3c\/h6\x3e\n\x3cp\x3e延迟请求\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern reqDelay:\/\/timeMS\nwww.jd.com reqDelay:\/\/3000\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3epattern reqDelay:\x3cspan class=\x22hljs-comment\x22\x3e\/\/timeMS\x3c\/span\x3e\nwww\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e reqDelay:\x3cspan class=\x22hljs-comment\x22\x3e\/\/3000\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e设置速度\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern reqSpeed:\/\/kbs\nwww.jd.com reqSpeed:\/\/3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3epattern reqSpeed:\x3cspan class=\x22hljs-comment\x22\x3e\/\/kbs\x3c\/span\x3e\nwww\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e reqSpeed:\x3cspan class=\x22hljs-comment\x22\x3e\/\/3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e修改相应状态码\x3c\/h6\x3e\n\x3cp\x3e设置响应状态码(状态码范围100~999)，请求会直接根据设置的状态码返回，不会请求到线上，配置方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern statusCode:\/\/code\njd.com statusCode:\/\/404\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3epattern \x3cspan class=\x22hljs-string\x22\x3estatusCode:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/code\x3c\/span\x3e\njd.com \x3cspan class=\x22hljs-string\x22\x3estatusCode:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/404\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e修改响应头\x3c\/h6\x3e\n\x3cp\x3e方式同请求头\x3c\/p\x3e\n\x3ch6\x3e修改响应内容\x3c\/h6\x3e\n\x3cp\x3e把指定的内容替换响应内容(304等响应没有内容无法替换)，配置方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern resBody:\/\/filepath\nst.360buyimg.com\/m\/css\/2014\/layout\/layout2015.css resBody:\/\/{myAppend.css}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3epattern \x3cspan class=\x22hljs-string\x22\x3eresBody:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/filepath\x3c\/span\x3e\nst\x3cspan class=\x22hljs-number\x22\x3e.360\x3c\/span\x3ebuyimg.com\x3cspan class=\x22hljs-regexp\x22\x3e\/m\/\x3c\/span\x3ecss\x3cspan class=\x22hljs-regexp\x22\x3e\/2014\/\x3c\/span\x3elayout\x3cspan class=\x22hljs-regexp\x22\x3e\/layout2015.css resBody:\/\x3c\/span\x3e\/{myAppend.css}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch6\x3e注入或者替换内容\x3c\/h6\x3e\n\x3cp\x3e把指定的内容追加到响应内容后面(304等响应没有内容无法追加)，配置方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern resAppend:\/\/filepath\nst.360buyimg.com\/m\/css\/2014\/layout\/layout2015.css resAppend:\/\/{myAppend.css}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3epattern \x3cspan class=\x22hljs-string\x22\x3eresAppend:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/filepath\x3c\/span\x3e\nst\x3cspan class=\x22hljs-number\x22\x3e.360\x3c\/span\x3ebuyimg.com\x3cspan class=\x22hljs-regexp\x22\x3e\/m\/\x3c\/span\x3ecss\x3cspan class=\x22hljs-regexp\x22\x3e\/2014\/\x3c\/span\x3elayout\x3cspan class=\x22hljs-regexp\x22\x3e\/layout2015.css resAppend:\/\x3c\/span\x3e\/{myAppend.css}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e限制速度或延迟响应\x3c\/h5\x3e\n\x3cp\x3e延迟响应\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern resDelay:\/\/timeMS\nwww.jd.com resDelay:\/\/3000\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3epattern resDelay:\x3cspan class=\x22hljs-comment\x22\x3e\/\/timeMS\x3c\/span\x3e\nwww\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e resDelay:\x3cspan class=\x22hljs-comment\x22\x3e\/\/3000\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e设置速度\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22pattern resSpeed:\/\/kbs\nwww.jd.com resSpeed:\/\/3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3epattern resSpeed:\x3cspan class=\x22hljs-comment\x22\x3e\/\/kbs\x3c\/span\x3e\nwww\x3cspan class=\x22hljs-selector-class\x22\x3e.jd\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e resSpeed:\x3cspan class=\x22hljs-comment\x22\x3e\/\/3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e插件扩展\x3c\/h4\x3e\n\x3cp\x3e有些很少用的功能，及一些跟业务相关的功能，考虑到会导致安装过程比较长或者占用内存空间或者适应范围比较小，whistle没有把这些功能加进去，但提供了插件的方式扩展这些功能。whistle本身就是一个Node模块，只需要按照whistle.xxx的形式命名即可。\x3c\/p\x3e\n\x3cp\x3e编写whistle插件：\x3ca href=\x22http:\/\/wproxy.org\/whistle\/plugins.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何编写插件\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e官方提供的插件列表：\x3ca href=\x22https:\/\/github.com\/whistle-plugins\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方插件列表\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3esocket和websocket\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/imweb.io\/topic\/5a11b1b8ef79bc941c30d91a\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e利用whistle调试socket和webscoket\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e测试用的文件：\x3ca\x3ewhistle-test-files\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e测试用的rules: \x3ca\x3erules\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e整理的有些凌乱，如有不对之处，请指正，谢谢。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>whistle&ndash;跨平台网络抓包调试工具</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014891582">https://segmentfault.com/a/1190000014891582</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/dpw23v06y4/" target="_blank">https://alili.tech/archive/dpw23v06y4/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>