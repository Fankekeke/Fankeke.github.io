<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="ES6实践：Symbols及其使用—SitePoint"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>ES6实践：Symbols及其使用—SitePoint | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/e33ba1d1/",
				"appid": "1613049289050283", 
				"title": "ES6实践：Symbols及其使用—SitePoint | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-10-18T00:00:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/8ed5ceaa/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/d0879e5/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&text=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&text=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&title=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&is_video=false&description=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&title=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&title=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&title=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe33ba1d1%2f&title=ES6%e5%ae%9e%e8%b7%b5%ef%bc%9aSymbols%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8%e2%80%94SitePoint"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">ES6实践：Symbols及其使用—SitePoint</h1><div class="meta"><div class="postdate"><time datetime="2018-10-18" itemprop="datePublished">2018-10-18</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3cp\x3e\x3cstrong\x3e虽然ES2015已经引入了许多开发人员期待已久的语言特性，但还有一些新特性不太为人所知和理解，其好处也不太清楚——比如symbols。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3esymbol（符号）是一种新的原始数据类型，一个确保不会和其它符号冲突的唯一令牌。从这个意义上讲，你可以把符号看作是一种\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Universally_unique_identifier\x22\x3eUUID\x3c\/a\x3e（通用唯一识别码）。 让我们看看符号是如何工作的，以及我们能用它做些什么。\x3c\/p\x3e\n\x3ch2\x3e创建符号\x3c\/h2\x3e\n\x3cp\x3e创建符号非常直接，就是简单地调用\x3ca href=\x22https:\/\/developer.mozilla.org\/en\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Symbol\x22\x3eSymbol\x3c\/a\x3e函数。需要注意的是这只是一个标准的函数而不是一个对象构造器。使用new操作符调用它会导致一个类型错误。每次调用Symbol函数的时候，都会得到一个全新的唯一的值。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dart\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e foo = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bar = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e();\n\nfoo === bar\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26lt;-- false\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e创建符号的时候可以给符号添加一个标签，方式是传递字符串作为第一个参数。标签并不能影响符号的值，只是利于调试，并且当符号的\x3ccode\x3etoString()\x3c\/code\x3e方法被调用的时候会显示出来。创建具有相同标签的多个符号是可行的，但是这样做没有任何好处，并很可能引起疑惑。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e foo = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27baz\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e bar = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27baz\x27\x3c\/span\x3e);\n\nfoo === bar\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26lt;-- false\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(foo);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26lt;-- Symbol(baz)\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e符号能用来做什么？\x3c\/h2\x3e\n\x3cp\x3e符号可以很好地替代作为类\/模块常量的字符串或者整数：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eApplication\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(mode) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (mode) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Application.DEV:\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set up app for development environment\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Application.PROD:\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set up app for production environment\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n        \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Invalid application mode: \x27\x3c\/span\x3e \x2b mode);\n    }\n  }\n}\n\nApplication.DEV = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27dev\x27\x3c\/span\x3e);\nApplication.PROD = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27prod\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Example use\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Application(Application.DEV);\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e字符串和整数并不是唯一的值；比如数字\x3ccode\x3e2\x3c\/code\x3e或者字符串\x3ccode\x3edevelopment\x3c\/code\x3e也可能在程序的其它地方被用于不同的目的。使用符号意味着我们可以对提供的值更有信心。\x3c\/p\x3e\n\x3cp\x3e符号的另外一个有趣的用法是作为对象属性的键值。如果你曾经把JavaScript对象作为\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Hash_table\x22\x3ehashmap\x3c\/a\x3e（PHP术语中的关联数组或者Python中的字典）使用，你就会对使用括号语法获取\/设置属性很熟悉：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs kotlin\x22\x3econst \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e = [];\n\n\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e[\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e] = \x3cspan class=\x22hljs-string\x22\x3e\x27Ted Mosby\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e[\x3cspan class=\x22hljs-string\x22\x3e\x27nickname\x27\x3c\/span\x3e] = \x3cspan class=\x22hljs-string\x22\x3e\x27Teddy Westside\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e[\x3cspan class=\x22hljs-string\x22\x3e\x27city\x27\x3c\/span\x3e] = \x3cspan class=\x22hljs-string\x22\x3e\x27New York\x27\x3c\/span\x3e;\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e使用括号语法，我们也可以使用符号做为属性的键值。这样做有很多优点。首先，可以确保基于符号的键值不会冲突，不像字符串键值有可能会和对象已有的属性或者方法冲突。其次，符号不会被\x3ccode\x3efor ... in\x3c\/code\x3e枚举，并且会被\x3ccode\x3eObject.keys()\x3c\/code\x3e，\x3ccode\x3eObject.getOwnPropertyNames()\x3c\/code\x3e，\x3ccode\x3eJSON.stringify()\x3c\/code\x3e等方法忽略。对于在序列化对象时不想被包含的属性来说，符号是一个理想的选择。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3econst \x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e = {};\nconst email = Symbol();\n\n\x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e.name = \x3cspan class=\x22hljs-string\x22\x3e\x27Fred\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e.age = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e[email] = \x3cspan class=\x22hljs-string\x22\x3e\x27fred@example.com\x27\x3c\/span\x3e;\n\nObject.keys(\x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e);\n\/\/ \x26lt;-- Array [ \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22age\x22\x3c\/span\x3e ]\n\nObject.getOwnPropertyNames(\x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e);\n\/\/ \x26lt;-- Array [ \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22age\x22\x3c\/span\x3e ]\n\nJSON.stringify(\x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e);\n\/\/ \x26lt;-- \x3cspan class=\x22hljs-string\x22\x3e\x22{\x22\x3c\/span\x3ename\x3cspan class=\x22hljs-string\x22\x3e\x22:\x22\x3c\/span\x3eFred\x3cspan class=\x22hljs-string\x22\x3e\x22,\x22\x3c\/span\x3eage\x3cspan class=\x22hljs-string\x22\x3e\x22:30}\x22\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e然而，值得注意的是，使用符号做为键值并不能保证私有。有一些新的工具允许访问符号类型的属性键值。\x3ccode\x3eObject.getOwnPropertySymbols()\x3c\/code\x3e返回基于符号的键值组成的数组，\x3ccode\x3eReflect.ownKeys()\x3c\/code\x3e返回所有键值，包含符号键值，组成的数组。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs julia\x22\x3eObject.getOwnPropertySymbols(user);\n\/\/ \x26lt;-- \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e [ \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e() ]\n\nReflect.ownKeys(user)\n\/\/ \x26lt;-- \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e [ \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22age\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e() ]\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e有名的符号\x3c\/h2\x3e\n\x3cp\x3e因为以符号做为键值的属性在ES6之前的代码中是不可见的，所以在保证向后兼容的同时，符号是给JavaScript现有类型添加新功能的理想选择。所谓“有名”的符号是预定义在\x3ccode\x3eSymbol\x3c\/code\x3e函数上的属性，它们被用来自定义某些语言特性的行为，实现新的功能，比如迭代器。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eSymbol.iterator\x3c\/code\x3e是一个有名的符号，被用来给对象添加一个特殊的方法，使得对象可以被迭代：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3econst band = [\x3cspan class=\x22hljs-string\x22\x3e\x27Freddy\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Brian\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27John\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Roger\x27\x3c\/span\x3e];\nconst iterator = band[Symbol.iterator]();\n\niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e().value;\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x26lt;-- { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22Freddy\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e }\niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e().value;\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x26lt;-- { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22Brian\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e }\niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e().value;\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x26lt;-- { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22John\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e }\niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e().value;\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x26lt;-- { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22Roger\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e }\niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e().value;\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x26lt;-- { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e }\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e内建类型字符串，数组，类型数组，Map（映射）和Set（集合）都有一个默认的\x3ccode\x3eSymbol.iterator\x3c\/code\x3e方法。当上述类型的实例被\x3ccode\x3efor ... of\x3c\/code\x3e循环或者用于扩展运算符的时候就会调用这个方法。浏览器也开始使用\x3ccode\x3eSymbol.iterator\x3c\/code\x3e键值让DOM结构，比如\x3ccode\x3eNodeList\x3c\/code\x3e和\x3ccode\x3eHTMLCollection\x3c\/code\x3e以同样的方式被迭代。\x3c\/p\x3e\n\x3ch2\x3e全局注册表\x3c\/h2\x3e\n\x3cp\x3e规范还定义了一个运行时范围的符号注册表，这意味着你可以在不同的执行上下文，比如在文档、内嵌iframe或者service worker之间，存储和获取符号。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eSymbol.for(key)\x3c\/code\x3e用来获取注册表中给定键值的符号。如果对应这个键值的符号不存在，会返回一个新的符号。正如你预期的那样，对于同一个值，后续的调用都会返回同一个符号。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eSymbol.keyFor(symbol)\x3c\/code\x3e允许你获取给定符号的键值。如果注册表中不存在给定的符号，那么会返回\x3ccode\x3eundefined\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dart\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e debbie = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e mike   = \x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e);\n\ndebbie === mike\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26lt;-- true\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.keyFor(debbie);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26lt;-- \x22user\x22\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch2\x3e用例\x3c\/h2\x3e\n\x3cp\x3e在一些用例中，使用符号提供了优势。其中之一是在文章开头提到的，当给一个对象添加不想被对象序列化的时候包含在内的属性，就好像属性是“隐藏”的时候，使用符号就是一个很好的选择。\x3c\/p\x3e\n\x3cp\x3e代码库的作者可以放心地使用符号给客户端对象添加属性和方法，而不用担心覆盖已有的键值（或者自己添加的键值被别的代码覆盖）。例如，小部件组件（比如时间选择器）在初始化的时候会产生很多选项和状态，这些选项和状态需要存储在某个地方。把组件实例赋值给DOM元素对象的一个属性并不是理想的选择，因为这个属性有可能会和其它的键值冲突。使用基于符号的键值可以巧妙地解决这个问题，确保组件实例不会被覆盖。有关这个想法更详细的探索，请查看Mozilla Hacks的博客\x3ca href=\x22https:\/\/hacks.mozilla.org\/2015\/06\/es6-in-depth-symbols\/\x22\x3eES6 in Depth: Symbols\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2\x3e浏览器支持情况\x3c\/h2\x3e\n\x3cp\x3e如果你想体验符号，主流浏览器的支持\x3ca href=\x22https:\/\/kangax.github.io\/compat-table\/es6\/\x22\x3e是很好的\x3c\/a\x3e。如你所见，Chrome，Firefox，Microsoft Edge和Opera的当前版本，移动设备上的Android 5.1和iOS 9都原生支持符号了。如果需要兼容较老版本的浏览器，可以使用\x3ca href=\x22https:\/\/github.com\/medikoo\/es6-symbol\x22\x3e腻子脚本\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2\x3e总结\x3c\/h2\x3e\n\x3cp\x3e虽然引入符号的主要原因似乎是为了在兼容现有代码的前提下为语言添加新功能，但它们确实有一些有趣的用途。对于所有开发人员来说，至少对它们有一个基本的了解，并且熟悉最常用的、有名的符号及其用途是值得的。\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>原文链接: <a href="https://www.zcfy.cc/article/es6-in-action-symbols-and-their-uses-sitepoint">https://www.zcfy.cc/article/es6-in-action-symbols-and-their-uses-sitepoint</a> 原文标题: ES6实践：Symbols及其使用—SitePoint 本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2>本文链接：</h2><a href="https://alili.tech/archive/e33ba1d1/" target="_blank">https://alili.tech/archive/e33ba1d1/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>