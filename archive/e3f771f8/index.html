<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="在JavaScript中为什么应该用map和filter替换forEach？"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>在JavaScript中为什么应该用map和filter替换forEach？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/e3f771f8/",
				"appid": "1613049289050283", 
				"title": "在JavaScript中为什么应该用map和filter替换forEach？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-10-18T00:00:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4cec9d39/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/1d8683d3/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&text=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&text=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&title=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&is_video=false&description=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&title=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&title=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&title=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe3f771f8%2f&title=%e5%9c%a8JavaScript%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ba%94%e8%af%a5%e7%94%a8map%e5%92%8cfilter%e6%9b%bf%e6%8d%a2forEach%ef%bc%9f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">在JavaScript中为什么应该用map和filter替换forEach？</h1><div class="meta"><div class="postdate"><time datetime="2018-10-18" itemprop="datePublished">2018-10-18</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3cp\x3e\x3cem\x3e当你需要拷贝一个数组的全部或者部分到一个新数组的时候，优先使用map和filter而不是forEach。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e咨询工作的好处之一是我可以看到无数的项目。这些项目在规模、使用的编程语言和开发人员的能力方面差别很大。虽然有很多我觉得应该废弃的模式，但是在JavaScript中，我觉得最应该废弃的是使用forEach创建新的数组。事实上，这个模式非常简单，看起来如下所示：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs inform7\x22\x3econst kids = \x3cspan class=\x22hljs-comment\x22\x3e[]\x3c\/span\x3e;\npeople.forEach(\x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e =\x26gt; {\n  if (\x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e.age \x26lt; 15) {\n    kids.push({ id: \x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e.id, name: \x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e.name });\n  }\n});\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e上面代码做的操作就是处理包含所有人的数组，并找出年龄小于15的人。然后把每一个符合条件的’孩子‘的部分属性组成的新对象添加到kids数组中。\x3c\/p\x3e\n\x3cp\x3e虽然可以满足需求，但是有一种势在必行的编码方式(查看\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Programming_paradigm\x22\x3e编程范式\x3c\/a\x3e)。所以，你可能会想哪里出了问题？要理解这一点，让我们先熟悉两个”朋友“：map和filter。\x3c\/p\x3e\n\x3ch2\x3emap \x26amp; filter\x3c\/h2\x3e\n\x3cp\x3emap和filter是在2015年作为ES6特征集的一部分引入到JavaScript中的。它们是数组的方法，允许在JavaScript中使用更函数式的编码风格。和在函数式编程的世界里一样，这两个方法也不会修改原数组，而是返回一个新数组。它们都接受一个类型是函数的单一变量。然后，这个函数会在原数组的每一项上被调用去产生最终结果。让我们看下这两个方法做了什么：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3emap：每一项调用函数的返回结果会放在这个方法返回的新数组里。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3efilter：每一项调用函数的返回结果决定这一项是否会被该方法返回的数组包含。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e类似的还有一个方法，只是很少被用到，也就是\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Array\/reduce\x22\x3ereduce\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e以下是查看实际操作的简单例子：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs typescript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e numbers = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e doubled = numbers.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3enumber\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [2, 4, 6, 8, 10]\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e even = numbers.filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3enumber\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enumber\x3c\/span\x3e % \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [2, 4]\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在我们知道map和filter是干什么的了，接下来我们会看到一个例子，在这个例子中会展示我更偏向于怎么写前面的例子：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs inform7\x22\x3econst kids = people\n  .filter(\x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e =\x26gt; \x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e.age \x26lt; 15)\n  .map(\x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e =\x26gt; ({ id: \x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e.id, name: \x3cspan class=\x22hljs-keyword\x22\x3eperson\x3c\/span\x3e.name }));\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果你想了解用在map方法里面的lambda表达式的语法，查看这个\x3ca href=\x22https:\/\/stackoverflow.com\/a\/28770578\/1744702\x22\x3eStack Overflow回答\x3c\/a\x3e了解详情。\x3c\/p\x3e\n\x3cp\x3e所以，这种实现方式的好处如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e关注点分离：过滤和改变数据的格式是两个不相关的关注点，对两个关注点分别使用各自的方法可以达到关注点分离的目的。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e易于测试：两种目的都使用了简单的\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Pure_function\x22\x3e纯函数\x3c\/a\x3e，使得各种行为的单元测试变得简单。值得一提的是最初的实现版本并不是纯粹的，因为依赖一些作用域外边的状态（keys数组）。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可读性：因为这两个方法有明确的目的，一个是过滤数据，一个是改变数据的格式，所以很容易看出对数据做了哪些处理。尤其是像reduce这样的同类函数。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e异步编程：forEach和async\/await不能很好地结合在一起。但是map提供了一种有用的模式，可以和promises和async\/await一起使用。更多关于这一点的内容会在下一篇博客中介绍。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e同样值得注意的是，当你想产生副作用的时候，比如修改全局状态，不要使用map。尤其是当map方法的返回值并不会被保存或者使用的时候。\x3c\/p\x3e\n\x3ch2\x3e总结\x3c\/h2\x3e\n\x3cp\x3e使用map和filter有很多好处，比如关注点分离、易于测试、可读性和异步编程的支持。因此，对我来说这是一个明智的选择。但是，我经常遇到使用forEach的开发人员。虽然函数式编程可能有点儿吓人，但是这些方法并没有什么好害怕的，即使它们有一些函数式编程的特征。map和filter在\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Reactive_programming\x22\x3e响应式编程\x3c\/a\x3e中也被大量的用到。由于\x3ca href=\x22http:\/\/reactivex.io\/rxjs\/\x22\x3eRxJS\x3c\/a\x3e，现在响应式编程在JavaScript中被越来越多的用到。但请注意，它们可能会永久地改变你的编码方式。\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>原文链接: <a href="https://www.zcfy.cc/article/why-you-should-replace-foreach-with-map-and-filter-in-javascript">https://www.zcfy.cc/article/why-you-should-replace-foreach-with-map-and-filter-in-javascript</a> 原文标题: 在JavaScript中为什么应该用map和filter替换forEach？ 本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2>本文链接：</h2><a href="https://alili.tech/archive/e3f771f8/" target="_blank">https://alili.tech/archive/e3f771f8/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>