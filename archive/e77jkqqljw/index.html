<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="详解1000&#43;项目数据分析出来的10大JavaScript错误"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>详解1000&#43;项目数据分析出来的10大JavaScript错误 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/e77jkqqljw/",
				"appid": "1613049289050283", 
				"title": "详解1000&#43;项目数据分析出来的10大JavaScript错误 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-09T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/5dgy9o9cvqf/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xjq6hifjjyc/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&text=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&text=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&title=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&is_video=false&description=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&title=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&title=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&title=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe77jkqqljw%2f&title=%e8%af%a6%e8%a7%a31000%2b%e9%a1%b9%e7%9b%ae%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90%e5%87%ba%e6%9d%a5%e7%9a%8410%e5%a4%a7JavaScript%e9%94%99%e8%af%af"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">详解1000&#43;项目数据分析出来的10大JavaScript错误</h1><div class="meta"><div class="postdate"><time datetime="2018-12-09" itemprop="datePublished">2018-12-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cstrong\x3e译者按：\x3c\/strong\x3e null\/undefined引发的错误在10大错误中比例很高。而它们很可能导致严重问题，所以要重视起来。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e原文: \x3ca href=\x22https:\/\/rollbar.com\/blog\/top-10-javascript-errors\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTop 10 JavaScript errors from 1000\x2b projects (and how to avoid them)\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e译者: \x3ca href=\x22https:\/\/fundebug.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFundebug\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e为了保证可读性，本文采用意译而非直译。另外，本文版权归原作者所有，翻译仅用于学习。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e为了回馈拥护我们的开发者，我们将所有项目数据分析了一下，总结出10大JavaScript错误。我们会详细解释错误的原因以及如何预防再次发生。如果你学会了避开这些坑，那么你将会是一个更加出色的开发者。\x3c\/p\x3e\n\x3cp\x3e如今数据为王，我们聚合了大量BUG数据，并对它们进行分析，列出了排名前十的JavaScript错误。Rollbar收集每一个项目所有的错误，并统计它们发生的次数。我们将相同的错误聚合起来。如果同一个错误出现很多次的话，这样就可以避免像日志一样非常多，让人无从下手。\x3c\/p\x3e\n\x3cp\x3e我们将统计同一个错误在多少个项目中出现，并以此来排序。如下所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9Y?w=1116\x26amp;h=691\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9Y?w=1116\x26amp;h=691\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e为了方便阅读，每一条错误我们将后面的内容做了适当省略。接下来我们详细介绍每一个错误。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1. Uncaught TypeError: Cannot read property\x3c\/h2\x3e\n\x3cp\x3e如果你是一个JavaScript开发者，这种错误大概你已经见怪不怪了。在Chrome下，当你从一个不存在的对象(undefined)获取属性或则进行函数调用，就会报这样的错。你可以在Chrome浏览器控制台测试：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9U?w=915\x26amp;h=145\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9U?w=915\x26amp;h=145\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e有很多种原因可以导致这种情况的出现，一个常见的情况是在渲染UI部件的时候，没有正确地初始化状态(state)。我们来看一个真实的例子。在这里我选用React，不过内在的原理同样适用于Angular、Vue或则其它框架。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Quiz extends Component {\n  componentWillMount() {\n    axios.get(\x27\/thedata\x27).then(res =\x3e {\n      this.setState({items: res.data});\n    });\n  }\n\n  render() {\n    return (\n      \x3cul\x3e\n        {this.state.items.map(item =\x3e\n          \x3cli key={item.id}\x3e{item.name}\x3c\/li\x3e\n        )}\n      \x3c\/ul\x3e\n    );\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eQuiz\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  componentWillMount() {\n    axios.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/thedata\x27\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eres\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: res.data});\n    });\n  }\n\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        {this.state.items.map(item =\x26gt;\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{item.id}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{item.name}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        )}\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    );\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里有两个关键点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e组件的状态(state)(\x3ccode\x3ethis.state\x3c\/code\x3e)没有初始化，值为\x3ccode\x3eundefined\x3c\/code\x3e。\x3c\/li\x3e\n\x3cli\x3e如果使用异步的方式获取数据，那么在数据加载前，该组件已经至少渲染一次。这和\x3ccode\x3ecomponentWillMount\x3c\/code\x3e或则\x3ccode\x3ecomponentDidMount\x3c\/code\x3e是否获取数据无关。也就是说，当Quiz第一次渲染的时候，\x3ccode\x3ethis.state.items\x3c\/code\x3e是未定义的。因此，会报错：\x3ccode\x3e\x22Uncaught TypeError: Cannot read property ‘map’ of undefined\x22 \x3c\/code\x3e。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这个bug很容易修复。最简单的方法：在构造函数中初始化state。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Quiz extends Component {\n  \/\/ Added this:\n  constructor(props) {\n    super(props);\n\n    \/\/ Assign state itself, and a default value for items\n    this.state = {\n      items: []\n    };\n  }\n\n  componentWillMount() {\n    axios.get(\x27\/thedata\x27).then(res =\x3e {\n      this.setState({items: res.data});\n    });\n  }\n\n  render() {\n    return (\n      \x3cul\x3e\n        {this.state.items.map(item =\x3e\n          \x3cli key={item.id}\x3e{item.name}\x3c\/li\x3e\n        )}\n      \x3c\/ul\x3e\n    );\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eQuiz\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Added this:\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Assign state itself, and a default value for items\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n      \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: []\n    };\n  }\n\n  componentWillMount() {\n    axios.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/thedata\x27\x3c\/span\x3e).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eres\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: res.data});\n    });\n  }\n\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        {this.state.items.map(item =\x26gt;\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{item.id}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{item.name}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        )}\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    );\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e也许在你的应用中会有点不一样，不够希望能够给你一些线索帮助你去修复或则避免这样的问题。如果没有，那么继续往下看吧，还有更多相关的例子等着你呢。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2. TypeError: ‘undefined’ is not an object (evaluating\x3c\/h2\x3e\n\x3cp\x3e在Safari下，如果在一个未定义(undefined)的对象上读取属性或则调用函数，就会触发这样的错误。你可以在Safari控制台测试。这个错误根本上来说和第一个在Chrome下的错误是一样的，只是错误的消息不同。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9X?w=575\x26amp;h=160\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9X?w=575\x26amp;h=160\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e备注：\x3ca href=\x22https:\/\/www.fundebug.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFundebug\x3c\/a\x3e早已机智地将这两种情况聚合为一个错误了，更加方便分析，欢迎各位老铁试用！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e3. TypeError: null is not an object (evaluating\x3c\/h2\x3e\n\x3cp\x3e在Safari下，如果你尝试从null读取属性或则调用方法，就会报错。如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9V?w=555\x26amp;h=159\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9V?w=555\x26amp;h=159\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e有趣的是，在JavaScript中，null和undefined是不同的，所以我们看到两个不同的错误消息。Undefined指的是一个变量没有被赋值，而null指的是值为空。我们可以用\x3ccode\x3e===\x3c\/code\x3e来判断：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9T?w=916\x26amp;h=129\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9T?w=916\x26amp;h=129\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e一种现实中可能的情况就是：如果你尝试在一个DOM元素加载之前使用它。那么DOM API就会返回null。任何处理DOM元素的JS代码都应当在DOM加载完毕之后调用。JS代码是按照代码的顺序从上往下依次解释执行。如果在DOM元素前有脚本，那么在浏览器分析HTML页面的时候，JS代码也在执行了。如果JS代码执行的时候，DOM还没有创建好，那么你会遇到这个错误。\x3c\/p\x3e\n\x3cp\x3e最常用的解法是使用事件监听，当DOM加载完毕之后，再触发JS代码的执行。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript\x3e\n  function init() {\n    var myButton = document.getElementById(\x26quot;myButton\x26quot;);\n    var myTextfield = document.getElementById(\x26quot;myTextfield\x26quot;);\n    myButton.onclick = function() {\n      var userName = myTextfield.value;\n    }\n  }\n  document.addEventListener(\x27readystatechange\x27, function() {\n    if (document.readyState === \x26quot;complete\x26quot;) {\n      init();\n    }\n  });\n\x3c\/script\x3e\n\n\x3cform\x3e\n  \x3cinput type=\x26quot;text\x26quot; id=\x26quot;myTextfield\x26quot; placeholder=\x26quot;Type your name\x26quot; \/\x3e\n  \x3cinput type=\x26quot;button\x26quot; id=\x26quot;myButton\x26quot; value=\x26quot;Go\x26quot; \/\x3e\n\x3c\/form\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x26lt;script\x26gt;\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3einit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e myButton = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22myButton\x22\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e myTextfield = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22myTextfield\x22\x3c\/span\x3e);\n    myButton.onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e userName = myTextfield.value;\n    }\n  }\n  \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27readystatechange\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.readyState === \x3cspan class=\x22hljs-string\x22\x3e\x22complete\x22\x3c\/span\x3e) {\n      init();\n    }\n  });\n\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\n\x26lt;form\x26gt;\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22myTextfield\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eplaceholder\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22Type your name\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22myButton\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22Go\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eform\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e来自网友的\x3ca href=\x22https:\/\/www.jianshu.com\/p\/01a80b704165\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e备注\x3c\/a\x3e：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e上面说的这个问题，是因为在html中所有资源的加载都是从上而下同步加载的，所以以前的代码规范都会有一句：”在html里css标签放上面，js标签放下面“；包括比如jQuery里的ready方法，这些做法都是为了保证js代码执行的时候，页面上的dom元素都是创建好了的。\x3c\/li\x3e\n\x3cli\x3e这里我再介绍一下defer和async，在外链引入js文件的情况，可以在script标签上加上defer或async修饰符，使该js能够异步加载，从而解决上面遇到的问题。async表示后续的解析任务和当前js标签的加载任务并行执行，defer表示该js标签的代码会在所有页面元素解析完成之后，DOMContentLoaded 事件触发之前执行。两者具体区别参考：\x3ca href=\x22https:\/\/segmentfault.com\/q\/1010000000640869\x22\x3ehttps:\/\/segmentfault.com\/q\/1010000000640869\x3c\/a\x3e。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e4. (unknown): Script error\x3c\/h2\x3e\n\x3cp\x3e当未捕获的 JavaScript 错误（通过window.onerror处理程序引发的错误，而不是捕获在try-catch中）被浏览器的跨域策略限制时，会产生这类的脚本错误。 例如，如果您将您的 JavaScript 代码托管在 CDN 上，则任何未被捕获的错误将被报告为“脚本错误” 而不是包含有用的堆栈信息。这是一种浏览器安全措施，旨在防止跨域传递数据，否则将不允许进行通信。\x3c\/p\x3e\n\x3cp\x3e想要获取到真实详细的错误信息，你可以像这样做：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e在header里添加 Access-Control-Allow-Origin 字段\x3cbr\x3e在header(这应该是服务器返回的response header)字段里，把Access-Control-Allow-Origin设为，这样就表示来自任意的域名请求都可以正确地访问到服务器的资源。必要的话也可以指定具体的域名来代替星号，比如:Access-Control-Allow-Origin: www.example.com。但是配置的域名太多的话，处理起来会有点棘手，而且如果你在使用CDN的话还会出现缓存的问题，这样就有点费力不讨好了。更多参考\x3ca href=\x22https:\/\/link.jianshu.com\/?t=http%3A%2F%2Fstackoverflow.com%2Fquestions%2F1653308%2Faccess-control-allow-origin-multiple-origin-domains\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e下面举一些在各种环境下配置这个header的示例：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3eApache\x3cbr\x3e在JavaScript代码所在的文件夹目录下，新建一个.htaccess文件，内容如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Header add Access-Control-Allow-Origin \x26quot;*\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eHeader add Access-Control-Allow-Origin \x3cspan class=\x22hljs-string\x22\x3e\x22*\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eNginx\x3cbr\x3e在JavaScript代码所在文件夹目录下面，添加add_header命令:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22location ~ ^\/assets\/ {\n  add_header Access-Control-Allow-Origin *;\n}```\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3elocation ~ ^\x3cspan class=\x22hljs-regexp\x22\x3e\/assets\/\x3c\/span\x3e {\n  add_header Access-Control-Allow-Origin *;\n}\x3cspan class=\x22hljs-string\x22\x3e``\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e`\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eHAProxy\x3cbr\x3e在后端的JavaScript所在文件加入以下内容:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22rspadd Access-Control-Allow-Origin:\\ *\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3erspadd Access-Control-Allow-Origin:\\ *\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e在JavaScript标签上设置crossorigin=\x22anonymous\x22\x3cbr\x3e 在html代码里，每个设置好了Access-Control-Allow-Origin的js资源，都可以在其JavaScript标签上添加crossorigin=\x22anonymous\x22。在设置crossorigin=\x22anonymous\x22之前，确定好header字段都是正确发送了的。在Firefox里，如果js标签上出现了crossorigin属性，但是header里没有Access-Control-Allow-Origin，那么该js将不会被执行。(crossorigin是html5新增的功能，不只是JavaScript标签独有的，比如video、image也可以设置)\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e5. TypeError: Object doesn’t support property\x3c\/h2\x3e\n\x3cp\x3e在IE中，如果调用未定义的方法就会发生这种错误。您可以在IE开发者控制台中进行测试。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9R?w=900\x26amp;h=211\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9R?w=900\x26amp;h=211\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e相当于 Chrome 中的 “TypeError：”undefined“ is not a function” 错误。 对于相同的错误，不同的浏览器具有不同的错误消息。\x3c\/p\x3e\n\x3cp\x3e在IE里使用JavaScript的命名空间时，就很容易碰到这个错误。发生这个错误十有八九是因为IE无法将当前命名空间里的方法绑定到this关键字上。例如，假设有个命名空间Rollbar，它有一个方法叫isAwesome()。在Rollbar命名空间中，可以直接使用this关键字来调用这个方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.isAwesome();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isAwesome();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在Chrome、Firefox和Opera中这样做都是没有问题的，但在IE中就不行。所以，最安全的做法是指定全命名空间：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Rollbar.isAwesome();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eRollbar.isAwesome();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e6. TypeError: ‘undefined’ is not a function\x3c\/h2\x3e\n\x3cp\x3e在Chrome下，调用一个未定义的函数时就会发生这个错误，可以在Chrome\/Mozilla开发者控制台测试：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9Q?w=937\x26amp;h=190\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9Q?w=937\x26amp;h=190\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e随着js代码的编码技巧和设计模式越来越复杂，在回调函数、闭包等各种作用域中this的指向的层级也随之增加，这就是js代码中this\/that指向容易混淆的原因。\x3c\/p\x3e\n\x3cp\x3e比如下面这段代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function testFunction() {\n this.clearLocalStorage();\n this.timer = setTimeout(function() {\n  this.clearBoard();  \/\/ 这里的”this\x26quot;是指什么？\n }, 0);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.clearLocalStorage();\n \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.timer = setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.clearBoard();  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里的”this\x22是指什么？\x3c\/span\x3e\n }, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行上面的代码会报错：“Uncaught TypeError: undefined is not a function”。因为在调用setTimeout()方法时，实际上是在调用window.setTimeout()。传给setTimeout()的匿名函数的this实际上是window，而window并不包含clearBoard()方法。\x3c\/p\x3e\n\x3cp\x3e一个最简单的、能兼容旧版本浏览器的方法，就是先把this指向赋值给一个变量self，然后在闭包里直接引用这个self变量。例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function testFunction () {\n this.clearLocalStorage();\n var self = this;  \/\/ 将this赋值给self\n this.timer = setTimeout(function(){\n  self.clearBoard();  \n }, 0);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestFunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.clearLocalStorage();\n \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将this赋值给self\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.timer = setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  self.clearBoard();  \n }, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e也可以使用bind方法来传递this：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function testFunction () {\n  this.clearLocalStorage();\n  this.timer = setTimeout(this.reset.bind(this), 0);  \/\/ bind to \x27this\x27\n};\n\nfunction testFunction(){\n    this.clearBoard();    \/\/back in the context of the right \x27this\x27!\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestFunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.clearLocalStorage();\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.timer = setTimeout(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.reset.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e), \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ bind to \x27this\x27\x3c\/span\x3e\n};\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.clearBoard();    \x3cspan class=\x22hljs-comment\x22\x3e\/\/back in the context of the right \x27this\x27!\x3c\/span\x3e\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e7. Uncaught RangeError: Maximum call stack\x3c\/h2\x3e\n\x3cp\x3e在Chrome里，有几种情况会发生这个错误，其中一个就是函数的递归调用，并且不能终止。这个错误可以在Chrome开发者控制台重现。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9P?w=645\x26amp;h=287\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9P?w=645\x26amp;h=287\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e还有，如果传给函数的值超出可接受的范围时，也会出现这个错误。很多函数只接受指定范围的数值，例如，Number.toExponential(digits)和Number.toFixed(digits)方法，只接受0到20的数值，而Number.toPrecision(digits)只接受1到21的数值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a = new Array(4294967295);  \/\/OK\nvar b = new Array(-1); \/\/range error\n\nvar num = 2.555555;\ndocument.writeln(num.toExponential(4));  \/\/OK\ndocument.writeln(num.toExponential(-2)); \/\/range error!\n\nnum = 2.9999;\ndocument.writeln(num.toFixed(2));   \/\/OK\ndocument.writeln(num.toFixed(25));  \/\/range error!\n\nnum = 2.3456;\ndocument.writeln(num.toPrecision(1));   \/\/OK\ndocument.writeln(num.toPrecision(22));  \/\/range error!\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e4294967295\x3c\/span\x3e);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/OK\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/range error\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e num = \x3cspan class=\x22hljs-number\x22\x3e2.555555\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.writeln(num.toExponential(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/OK\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.writeln(num.toExponential(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/range error!\x3c\/span\x3e\n\nnum = \x3cspan class=\x22hljs-number\x22\x3e2.9999\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.writeln(num.toFixed(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e));   \x3cspan class=\x22hljs-comment\x22\x3e\/\/OK\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.writeln(num.toFixed(\x3cspan class=\x22hljs-number\x22\x3e25\x3c\/span\x3e));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/range error!\x3c\/span\x3e\n\nnum = \x3cspan class=\x22hljs-number\x22\x3e2.3456\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.writeln(num.toPrecision(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e));   \x3cspan class=\x22hljs-comment\x22\x3e\/\/OK\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.writeln(num.toPrecision(\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/range error!\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e来自网友的\x3ca href=\x22https:\/\/www.jianshu.com\/p\/01a80b704165\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e备注\x3c\/a\x3e：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e我在chorme测试时，发现上述的第二种参数超出范围的情况，错误信息并不是”Maximum call stack“，并且Number.toExponential(digits) 和 Number.toFixed(digits)方法，接收的范围应该是0到100\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV5uLE?w=700\x26amp;h=154\x22 src=\x22https:\/\/static.alili.tech\/img\/bV5uLE?w=700\x26amp;h=154\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\n\x3cli\x3e另外，如果递归层数太多，会导致内存溢出。那么如何防止呢？可以尾调用优化，函数结尾改成尾递归，具体内容参考这里，文中提到的一个观念就是使用尾递归来避免栈溢出，遗憾的是目前js还是无法支持\x22尾调用优化\x22。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e8. TypeError: Cannot read property ‘length’\x3c\/h2\x3e\n\x3cp\x3e在Chrome中，如果读取未定义变量的长度属性，会报错。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9L?w=937\x26amp;h=230\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9L?w=937\x26amp;h=230\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果数组未初始化，或者因为作用域的问题而没有正确地获取到，则可能会遇到此错误。让我们用下面的例子来理解这个错误。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var testArray= [\x26quot;Test\x26quot;];\n\nfunction testFunction(testArray) {\n    for (var i = 0; i \x3c testArray.length; i\x2b\x2b) {\n      console.log(testArray[i]);\n    }\n}\n\ntestFunction();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e testArray= [\x3cspan class=\x22hljs-string\x22\x3e\x22Test\x22\x3c\/span\x3e];\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etestArray\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; testArray.length; i\x2b\x2b) {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(testArray[i]);\n    }\n}\n\ntestFunction();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e函数的参数名会覆盖全局的变量名。也就是说，全局的testArray被函数的参数名覆盖了，所以在函数体里访问到的是本地的testArray，但本地并没有定义testArray，所以出现了这个错误。\x3c\/p\x3e\n\x3cp\x3e有两种方法可用于解决这个问题：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e将函数的参数移除\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var testArray = [\x26quot;Test\x26quot;];\n\n\/* Precondition: defined testArray outside of a function *\/\nfunction testFunction(\/* No params *\/) {\n    for (var i = 0; i \x3c testArray.length; i\x2b\x2b) {\n      console.log(testArray[i]);\n    }\n}\n\ntestFunction();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e testArray = [\x3cspan class=\x22hljs-string\x22\x3e\x22Test\x22\x3c\/span\x3e];\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* Precondition: defined testArray outside of a function *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/* No params *\/\x3c\/span\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; testArray.length; i\x2b\x2b) {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(testArray[i]);\n    }\n}\n\ntestFunction();\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e把外部的变量传给函数\x3ccode\x3etestFunction\x3c\/code\x3e函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var testArray = [\x26quot;Test\x26quot;];\nfunction testFunction(testArray) {\n    for (var i = 0; i \x3c testArray.length; i\x2b\x2b) {\n      console.log(testArray[i]);\n    }\n}\ntestFunction(testArray);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e testArray = [\x3cspan class=\x22hljs-string\x22\x3e\x22Test\x22\x3c\/span\x3e];\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etestArray\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; testArray.length; i\x2b\x2b) {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(testArray[i]);\n    }\n}\ntestFunction(testArray);\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e9. Uncaught TypeError: Cannot set property\x3c\/h2\x3e\n\x3cp\x3e如果对undefined变量进行赋值或读取操作，会抛出“Uncaught TypeError: cannot set property of undefined”异常。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9N?w=939\x26amp;h=232\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9N?w=939\x26amp;h=232\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e因为test对象不存在，就会抛出“Uncaught TypeError: cannot set property of undefined”异常。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e10. ReferenceError: event is not defined\x3c\/h2\x3e\n\x3cp\x3e当访问一个未定义的对象或超出当前作用域的对象，就会发生这个错误。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3F9M?w=939\x26amp;h=236\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3F9M?w=939\x26amp;h=236\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果在使用事件处理系统时遇到此错误，请确保使用传入的事件对象作为参数。旧浏览器(IE)提供了全局的event变量，但并不是所有的浏览器都支持。像jQuery这样的库试图规范化这种行为。尽管如此，最好使用传入事件处理函数的函数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function myFunction(event) {\n    event = event.which || event.keyCode;\n    if(event.keyCode===13){\n       alert(event.keyCode);\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emyFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n    event = event.which || event.keyCode;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(event.keyCode===\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e){\n       alert(event.keyCode);\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e结论\x3c\/h2\x3e\n\x3cp\x3e看到这里，你会发现这十大错误几乎都是null\/undefined错误。如果有一个好的静态类型检查系统，比如使用TypeScript可以帮助你在编译的时候就发现问题。如果没有使用TypeScript，那么请多多使用条件语句做判断，防止这种情况出现。\x3c\/p\x3e\n\x3cp\x3e在生产环境中会出现各种不可预期的错误。关键是要及时发现那些影响用户体验的错误，并使用适当的工具快速发现和解决这些问题。\x3ca href=\x22https:\/\/www.fundebug.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFundebug\x3c\/a\x3e提供网站bug监控，助你实时发现bug。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV00GN?w=270\x26amp;h=370\x22 src=\x22https:\/\/static.alili.tech\/img\/bV00GN?w=270\x26amp;h=370\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e版权声明:\x3cbr\x3e转载时请注明作者Fundebug以及本文地址：\x3cbr\x3e\x3ca href=\x22https:\/\/blog.fundebug.com\/2018\/03\/12\/top-10-javascript-errors-from-1000-projects\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.fundebug.com\/2018\/03\/12\/top-10-javascript-errors-from-1000-projects\/\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>详解1000+项目数据分析出来的10大JavaScript错误</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013950385">https://segmentfault.com/a/1190000013950385</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/e77jkqqljw/" target="_blank">https://alili.tech/archive/e77jkqqljw/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>