<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="不仅仅是前端er——折腾服务器武装自己"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>不仅仅是前端er——折腾服务器武装自己 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/e90bnxu6bmu/",
				"appid": "1613049289050283", 
				"title": "不仅仅是前端er——折腾服务器武装自己 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-14T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/453msm3sw7i/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/eweftqpdx8m/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&text=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&text=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&title=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&is_video=false&description=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&title=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&title=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&title=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe90bnxu6bmu%2f&title=%e4%b8%8d%e4%bb%85%e4%bb%85%e6%98%af%e5%89%8d%e7%ab%afer%e2%80%94%e2%80%94%e6%8a%98%e8%85%be%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%ad%a6%e8%a3%85%e8%87%aa%e5%b7%b1"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">不仅仅是前端er——折腾服务器武装自己</h1><div class="meta"><div class="postdate"><time datetime="2018-12-14" itemprop="datePublished">2018-12-14</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3JbS?w=940\x26amp;h=626\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3JbS?w=940\x26amp;h=626\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e前言\x3c\/h1\x3e\n\x3cp\x3e作为一个前端开发工程师，每天和浏览器、业务代码打交道，对于“前端”的概念算是比较熟悉了，主流的框架、工具等都能玩得转，但总觉得自己一直都被禁锢在小小的所谓“前端”的圈子中——因为除此之外的知识点还是比较薄弱的。\x3c\/p\x3e\n\x3cp\x3e后来在公司里面获得了一个轮岗的机会，进入到了运维团队去学习，眼界也开阔了很多，对于自身水平的认识也更加深入，迫不及待想要提升自己“前端知识”以外的技能树。\x3c\/p\x3e\n\x3cp\x3e由于运维团队经常会跟服务器打交道，那么我何不干脆就从服务器开始，好好折腾一遍呢？\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e一、购买服务器\x3c\/h1\x3e\n\x3cp\x3e曾经考虑过购买腾讯云或者阿里云等国内服务器，但是由于国内总所周知的原因，许多资源的下载要么特别慢，要么干脆直接跪了，动不动就要切换源。同时如果域名绑定了国内的服务器，都需要进行备案，实在是无比麻烦。毫无疑问，我最终选择了国外的服务器，世界瞬间就清净了……\x3c\/p\x3e\n\x3cp\x3e关于国外的服务器选购，是见仁见智的事情，我选购的是一台搬瓦工20G KVM服务器，5美元\/月，买了不吃亏买了不上当，然后安装了Centos 7 x86_64 bbr系统，接下来就可以愉快地玩耍了。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3HWh?w=650\x26amp;h=461\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3HWh?w=650\x26amp;h=461\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e二、购买域名\x3c\/h1\x3e\n\x3cp\x3e搭个什么服务都好，总不能让别人背自己的ip，如果能够拥到一个拉风的域名还是很赞的。于是我就去\x3ca href=\x22https:\/\/wanwang.aliyun.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e万网\x3c\/a\x3e，直接以自己的英文名字\x3ccode\x3ejrainlau\x3c\/code\x3e申请了一个\x3ccode\x3ejrainlau.com\x3c\/code\x3e域名，一年才55块RMB，真的超值哦~\x3c\/p\x3e\n\x3cp\x3e很简单的下单、支付，然后我就拥有了自己的专属域名，接下来就是进行DNS解析了。\x3c\/p\x3e\n\x3cp\x3e进入阿里云的控制台，找到\x3ccode\x3e云解析DNS\x3c\/code\x3e，点进去就能看到我们的域名解析信息了。添加两条类型为\x3ccode\x3eA\x3c\/code\x3e的记录，统统指向服务器的ip地址即可：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3HX6?w=1383\x26amp;h=575\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3HX6?w=1383\x26amp;h=575\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e三、安装Nginx\x3c\/h1\x3e\n\x3cp\x3e在域名解析生效前的10分钟里面，足够我们在服务器上配置好Nginx了。\x3c\/p\x3e\n\x3cp\x3e首先ssh登录服务器：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ssh root@xxx.xxx.xxx.xxx -p yyyy\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3essh root@xxx\x3cspan class=\x22hljs-selector-class\x22\x3e.xxx\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.xxx\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.xxx\x3c\/span\x3e -\x3cspan class=\x22hljs-selector-tag\x22\x3ep\x3c\/span\x3e yyyy\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输入搬瓦工提供的登录密码之后，顺利登入。\x3c\/p\x3e\n\x3cp\x3e但是如果每次登录服务器都要输入一遍那乱码般的密码，是很痛苦的一件事，所以果断使用ssh-key来实现免密登录。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e第一步，生成秘钥（如果本机已存在可省略这一步）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ssh-keygen -t rsa\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3essh-keygen -t rsa\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e按照提示选择秘钥所存放的目录（\x3ccode\x3e~\/.ssh\/\x3c\/code\x3e），\x3cstrong\x3e密码留空\x3c\/strong\x3e，最后可以在设定的目录里找到生成的秘钥：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3H67?w=368\x26amp;h=90\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3H67?w=368\x26amp;h=90\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e第二步，上传秘钥到服务器\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ssh-copy-id root@xxx.xxx.xxx -p yyyy\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3essh-copy-id root@xxx\x3cspan class=\x22hljs-selector-class\x22\x3e.xxx\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.xxx\x3c\/span\x3e -\x3cspan class=\x22hljs-selector-tag\x22\x3ep\x3c\/span\x3e yyyy\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后按照提示输入一遍密码就可以了。以后想要登录服务器就可以直接免密登录啦！\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e做完刚才的“分支任务”，回到我们配置Nginx的主线。\x3c\/p\x3e\n\x3cp\x3e按照Nginx官网的文档，在CentOS中安装Nginx是非常简单的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yum install -y nginx\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyum \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e -y nginx\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是在实际操作中，却发现一直提示\x3ccode\x3eNo package nginx available\x3c\/code\x3e。搜了一圈，Stack Overflow里面的回答都是因为可能没有安装\x3ccode\x3eepel\x3c\/code\x3e，于是马上尝试之：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yum install -y epel-release\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyum \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e -y epel-\x3cspan class=\x22hljs-keyword\x22\x3erelease\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e奇怪的是，运行结果提示epel已经存在，为nothing to do。然后当我尝试安装nginx的时候，发现还是no package nginx available。尝试列出yum所有的源，发现\x3cstrong\x3e根本没有epel\x3c\/strong\x3e源：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yum repolist\n\n源标识                          源名称                                                                      状态\nbase\/7\/x86_64                   CentOS-7 - Base                                                             9,590\x2b1\nextras\/7\/x86_64                 CentOS-7 - Extras                                                               388\nupdates\/7\/x86_64                CentOS-7 - Updates                                                          1,922\x2b7\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3eyum repolist\n\n源标识                          源名称                                                                      状态\nbase\/\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\/x86_64                   CentOS\x3cspan class=\x22hljs-number\x22\x3e-7\x3c\/span\x3e - Base                                                             \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e590\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\nextras\/\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\/x86_64                 CentOS\x3cspan class=\x22hljs-number\x22\x3e-7\x3c\/span\x3e - Extras                                                               \x3cspan class=\x22hljs-number\x22\x3e388\x3c\/span\x3e\nupdates\/\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\/x86_64                CentOS\x3cspan class=\x22hljs-number\x22\x3e-7\x3c\/span\x3e - Updates                                                          \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e922\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e后来经过一番折腾，才找到解决办法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# 首先进入\/yum.repos.d目录\ncd \/etc\/yum.repos.d\n\n# 然后编辑epel.repo文件\nvi epel.repo\n\n[epel]\nname=Extra Packages for Enterprise Linux 7 - $basearch\n#baseurl=http:\/\/download.fedoraproject.org\/pub\/epel\/7\/$basearch\nmirrorlist=https:\/\/mirrors.fedoraproject.org\/metalink?repo=epel-7\x26amp;arch=$basearch\nfailovermethod=priority\nenabled=0\ngpgcheck=1\ngpgkey=file:\/\/\/etc\/pki\/rpm-gpg\/RPM-GPG-KEY-EPEL-7\n\n[epel-debuginfo]\nname=Extra Packages for Enterprise Linux 7 - $basearch - Debug\n#baseurl=http:\/\/download.fedoraproject.org\/pub\/epel\/7\/$basearch\/debug\nmirrorlist=https:\/\/mirrors.fedoraproject.org\/metalink?repo=epel-debug-7\x26amp;arch=$basearch\nfailovermethod=priority\nenabled=0\ngpgkey=file:\/\/\/etc\/pki\/rpm-gpg\/RPM-GPG-KEY-EPEL-7\ngpgcheck=1\n\n[epel-source]\nname=Extra Packages for Enterprise Linux 7 - $basearch - Source\n#baseurl=http:\/\/download.fedoraproject.org\/pub\/epel\/7\/SRPMS\nmirrorlist=https:\/\/mirrors.fedoraproject.org\/metalink?repo=epel-source-7\x26amp;arch=$basearch\nfailovermethod=priority\nenabled=0\ngpgkey=file:\/\/\/etc\/pki\/rpm-gpg\/RPM-GPG-KEY-EPEL-7\ngpgcheck=1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e# 首先进入\/yum.repos.d目录\x3c\/span\x3e\ncd \/etc\/yum.repos.d\n\n\x3cspan class=\x22hljs-comment\x22\x3e# 然后编辑epel.repo文件\x3c\/span\x3e\nvi epel.repo\n\n[epel]\nname=Extra Packages \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e Enterprise Linux \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e - \x3cspan class=\x22hljs-variable\x22\x3e$basearch\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e#baseurl=http:\/\/download.fedoraproject.org\/pub\/epel\/7\/$basearch\x3c\/span\x3e\nmirrorlist=\x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/mirrors.fedoraproject.org\/metalink\x3c\/span\x3e?repo=epel-\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\x26amp;arch=\x3cspan class=\x22hljs-variable\x22\x3e$basearch\x3c\/span\x3e\nfailovermethod=priority\nenabled=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\ngpgcheck=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\ngpgkey=\x3cspan class=\x22hljs-symbol\x22\x3efile:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/\/etc\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/pki\/rpm\x3c\/span\x3e-gpg\/RPM-GPG-KEY-EPEL-\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\n\n[epel-debuginfo]\nname=Extra Packages \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e Enterprise Linux \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e - \x3cspan class=\x22hljs-variable\x22\x3e$basearch\x3c\/span\x3e - Debug\n\x3cspan class=\x22hljs-comment\x22\x3e#baseurl=http:\/\/download.fedoraproject.org\/pub\/epel\/7\/$basearch\/debug\x3c\/span\x3e\nmirrorlist=\x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/mirrors.fedoraproject.org\/metalink\x3c\/span\x3e?repo=epel-debug-\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\x26amp;arch=\x3cspan class=\x22hljs-variable\x22\x3e$basearch\x3c\/span\x3e\nfailovermethod=priority\nenabled=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\ngpgkey=\x3cspan class=\x22hljs-symbol\x22\x3efile:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/\/etc\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/pki\/rpm\x3c\/span\x3e-gpg\/RPM-GPG-KEY-EPEL-\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\ngpgcheck=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\n[epel-source]\nname=Extra Packages \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e Enterprise Linux \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e - \x3cspan class=\x22hljs-variable\x22\x3e$basearch\x3c\/span\x3e - Source\n\x3cspan class=\x22hljs-comment\x22\x3e#baseurl=http:\/\/download.fedoraproject.org\/pub\/epel\/7\/SRPMS\x3c\/span\x3e\nmirrorlist=\x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/mirrors.fedoraproject.org\/metalink\x3c\/span\x3e?repo=epel-source-\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\x26amp;arch=\x3cspan class=\x22hljs-variable\x22\x3e$basearch\x3c\/span\x3e\nfailovermethod=priority\nenabled=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\ngpgkey=\x3cspan class=\x22hljs-symbol\x22\x3efile:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/\/etc\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/pki\/rpm\x3c\/span\x3e-gpg\/RPM-GPG-KEY-EPEL-\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\ngpgcheck=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，\x3ccode\x3e[epel]\x3c\/code\x3e和\x3ccode\x3e[epel-source]\x3c\/code\x3e里面的\x3ccode\x3eenabled\x3c\/code\x3e都是0，解决办法就在这里，只要把0改成1，保存退出后即可。\x3c\/p\x3e\n\x3cp\x3e现在我们重新运行\x3ccode\x3eyum repolist\x3c\/code\x3e，会发现epel源已经被加上了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22源标识                          源名称                                                                      状态\nbase\/7\/x86_64                   CentOS-7 - Base                                                             9,590\x2b1\nelrepo-kernel                   ELRepo.org Community Enterprise Linux Kernel Repository - el7                    37\nepel\/x86_64                     Extra Packages for Enterprise Linux 7 - x86_64                               12,277\nepel-source\/x86_64              Extra Packages for Enterprise Linux 7 - x86_64 - Source                           0\nextras\/7\/x86_64                 CentOS-7 - Extras                                                               388\nnodesource\/x86_64               Node.js Packages for Enterprise Linux 7 - x86_64                                 22\nupdates\/7\/x86_64                CentOS-7 - Updates                                                          1,922\x2b7\nrepolist: 24,236\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs llvm\x22\x3e\x3ccode\x3e源标识                          源名称                                                                      状态\nbase\/\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\/\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e                   CentOS\x3cspan class=\x22hljs-number\x22\x3e-7\x3c\/span\x3e - Base                                                             \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e590\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\nelrepo-kernel                   ELRepo.org Community Enterprise Linux Kernel Repository - el\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e                    \x3cspan class=\x22hljs-number\x22\x3e37\x3c\/span\x3e\nepel\/\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e                     Extra Packages for Enterprise Linux \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e - \x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e                               \x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e277\x3c\/span\x3e\nepel-source\/\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e              Extra Packages for Enterprise Linux \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e - \x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e - Source                           \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\nextras\/\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\/\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e                 CentOS\x3cspan class=\x22hljs-number\x22\x3e-7\x3c\/span\x3e - Extras                                                               \x3cspan class=\x22hljs-number\x22\x3e388\x3c\/span\x3e\nnodesource\/\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e               Node.js Packages for Enterprise Linux \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e - \x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e                                 \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e\nupdates\/\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\/\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e_\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e                CentOS\x3cspan class=\x22hljs-number\x22\x3e-7\x3c\/span\x3e - Updates                                                          \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e922\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\nrepolist: \x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e236\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再执行\x3ccode\x3eyum install -y nginx\x3c\/code\x3e，发现终于能够成功安装了！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22nginx version: nginx\/1.12.2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enginx \x3cspan class=\x22hljs-built_in\x22\x3eversion\x3c\/span\x3e: nginx\/\x3cspan class=\x22hljs-number\x22\x3e1.12\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.2\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来只要用一条指令即可开启nginx：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22nginx\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3enginx\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e经过上面的一番折腾，域名的DNS解析早已生效了，此时输入域名并回车，就能看到nginx的欢迎页啦~\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3Ilj?w=1754\x26amp;h=978\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3Ilj?w=1754\x26amp;h=978\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e四、使用HTTPS\x3c\/h1\x3e\n\x3cp\x3e看到左上角“不安全”三个字，心里是非常不爽的，于是马上进行下一步工作，上HTTPS。\x3c\/p\x3e\n\x3cp\x3e由于是个人服务器，所以免费证书已经足够了，另外为了方便起见，所以我使用了\x3ccode\x3ecertbot\x3c\/code\x3e这个工具来帮我把服务器升级成HTTPS。\x3c\/p\x3e\n\x3cp\x3e首先通过yum下载安装\x3ccode\x3ecertbot\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yum install certbot\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyum \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e certbot\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于certbot服务器在验证域名的时候，会通过HTTP的方式访问一个由certbot生成的静态文件，所以我们首先要在nginx里面进行配置：\x3c\/p\x3e\n\x3cp\x3e进入\x3ccode\x3e\/etc\/nginx\x3c\/code\x3e，然后编辑\x3ccode\x3enginx.conf\x3c\/code\x3e，在\x3ccode\x3eserver\x3c\/code\x3e里面添加下列两个location规则：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22location ^~ \/.well-known\/acme-challenge\/ {\n   default_type \x26quot;text\/plain\x26quot;;\n   root     \/usr\/share\/nginx\/html;\n}\n\nlocation = \/.well-known\/acme-challenge\/ {\n   return 404;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elocation\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e^~ \/.well-known\x3c\/span\x3e\/acme-challenge\/ {\n   default_type \x3cspan class=\x22hljs-string\x22\x3e\x22text\/plain\x22\x3c\/span\x3e;\n   root     \/usr\/share\/nginx\/html;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elocation\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e= \/.well-known\x3c\/span\x3e\/acme-challenge\/ {\n   return \x3cspan class=\x22hljs-number\x22\x3e404\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，上面的\x3ccode\x3eroot\x3c\/code\x3e我是指向了\x3ccode\x3e\/usr\/share\/nginx\/htm\x3c\/code\x3e，这个目录是可以随便指定的，我这么写完全是为了偷懒。\x3c\/p\x3e\n\x3cp\x3enginx配置好了以后，就可以使用certbot生成证书了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# certbot certonly --webroot -w \x3croot url\x3e -d \x3chostname\x3e\n\ncertbot certonly --webroot -w \/usr\/share\/nginx\/html\/ -d xxxx.com\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs awk\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e# certbot certonly --webroot -w \x26lt;root url\x26gt; -d \x26lt;hostname\x26gt;\x3c\/span\x3e\n\ncertbot certonly --webroot -w \x3cspan class=\x22hljs-regexp\x22\x3e\/usr\/\x3c\/span\x3eshare\x3cspan class=\x22hljs-regexp\x22\x3e\/nginx\/\x3c\/span\x3ehtml\x3cspan class=\x22hljs-regexp\x22\x3e\/ -d xxxx.com\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果看到下列的输出，就证明证书已经生成成功了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22IMPORTANT NOTES:\n - Congratulations! Your certificate and chain have been saved at\n   \/etc\/letsencrypt\/live\/xxxx.com\/fullchain.pem. Your cert\n   will expire on 20XX-09-23. To obtain a new or tweaked version of\n   this certificate in the future, simply run certbot again. To\n   non-interactively renew *all* of your certificates, run \x26quot;certbot\n   renew\x26quot;\n - If you like Certbot, please consider supporting our work by:\n\n   Donating to ISRG \/ Let\x27s Encrypt:   https:\/\/letsencrypt.org\/donate\n   Donating to EFF:                    https:\/\/eff.org\/donate-le\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lasso\x22\x3e\x3ccode\x3eIMPORTANT NOTES:\n - Congratulations! Your certificate \x3cspan class=\x22hljs-literal\x22\x3eand\x3c\/span\x3e chain have been saved at\n   \/etc\/letsencrypt\/live\/xxxx.com\/fullchain.pem. Your cert\n   will expire \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3eXX\x3cspan class=\x22hljs-number\x22\x3e-09\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-23.\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eTo\x3c\/span\x3e obtain a \x3cspan class=\x22hljs-literal\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3eor\x3c\/span\x3e tweaked version of\n   this certificate \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e the future, simply run certbot again. \x3cspan class=\x22hljs-keyword\x22\x3eTo\x3c\/span\x3e\n   non\x3cspan class=\x22hljs-params\x22\x3e-interactively\x3c\/span\x3e renew *\x3cspan class=\x22hljs-literal\x22\x3eall\x3c\/span\x3e* of your certificates, run \x3cspan class=\x22hljs-string\x22\x3e\x22certbot\n   renew\x22\x3c\/span\x3e\n - \x3cspan class=\x22hljs-keyword\x22\x3eIf\x3c\/span\x3e you like Certbot, please consider supporting our work \x3cspan class=\x22hljs-keyword\x22\x3eby\x3c\/span\x3e:\n\n   Donating \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e ISRG \/ \x3cspan class=\x22hljs-keyword\x22\x3eLet\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27s Encrypt:   https:\/\/letsencrypt.org\/donate\n   Donating to EFF:                    https:\/\/eff.org\/donate-le\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e证书已经准备好了，我们还需要nginx的支持。重新打开\x3ccode\x3e\/etc\/nginx\/nginx.conf\x3c\/code\x3e，然后把注释掉的https server给注释回来：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22server {\n    listen       443 ssl http2 default_server;\n    listen       [::]:443 ssl http2 default_server;\n    server_name  xxxx.com;\n    root         \/home\/www;\n\n    ssl_certificate \x26quot;\/etc\/letsencrypt\/live\/xxxx.com\/fullchain.pem\x26quot;;\n    ssl_certificate_key \x26quot;\/etc\/letsencrypt\/live\/xxxx.com\/privkey.pem\x26quot;;\n    ssl_trusted_certificate \/etc\/letsencrypt\/live\/xxxx.com\/chain.pem;\n\n    # Load configuration files for the default server block.\n    include \/etc\/nginx\/default.d\/*.conf;\n\n    location \/ {\n    }\n\n    error_page 404 \/404.html;\n        location = \/40x.html {\n    }\n\n    error_page 500 502 503 504 \/50x.html;\n        location = \/50x.html {\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nginx\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-section\x22\x3eserver\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3elisten\x3c\/span\x3e       \x3cspan class=\x22hljs-number\x22\x3e443\x3c\/span\x3e ssl http2 default_server;\n    \x3cspan class=\x22hljs-attribute\x22\x3elisten\x3c\/span\x3e       [::]:\x3cspan class=\x22hljs-number\x22\x3e443\x3c\/span\x3e ssl http2 default_server;\n    \x3cspan class=\x22hljs-attribute\x22\x3eserver_name\x3c\/span\x3e  xxxx.com;\n    \x3cspan class=\x22hljs-attribute\x22\x3eroot\x3c\/span\x3e         \/home\/www;\n\n    \x3cspan class=\x22hljs-attribute\x22\x3essl_certificate\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22\/etc\/letsencrypt\/live\/xxxx.com\/fullchain.pem\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3essl_certificate_key\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22\/etc\/letsencrypt\/live\/xxxx.com\/privkey.pem\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3essl_trusted_certificate\x3c\/span\x3e \/etc\/letsencrypt\/live\/xxxx.com\/chain.pem;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e# Load configuration files for the default server block.\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3einclude\x3c\/span\x3e \/etc\/nginx\/default.d\/\x3cspan class=\x22hljs-regexp\x22\x3e*.conf\x3c\/span\x3e;\n\n    \x3cspan class=\x22hljs-attribute\x22\x3elocation\x3c\/span\x3e \/ {\n    }\n\n    \x3cspan class=\x22hljs-attribute\x22\x3eerror_page\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e404\x3c\/span\x3e \/\x3cspan class=\x22hljs-number\x22\x3e404\x3c\/span\x3e.html;\n        \x3cspan class=\x22hljs-attribute\x22\x3elocation\x3c\/span\x3e = \/40x.html {\n    }\n\n    \x3cspan class=\x22hljs-attribute\x22\x3eerror_page\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e502\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e503\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e504\x3c\/span\x3e \/50x.html;\n        \x3cspan class=\x22hljs-attribute\x22\x3elocation\x3c\/span\x3e = \/50x.html {\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3eps: 上面的root我给配置了\x3ccode\x3e\/home\/www\x3c\/code\x3e目录，意味着以后只要是放在该目录下的静态资源文件夹，我都可以通过\x3ccode\x3ehttps:\/\/xxx.com\/文件夹名\x3c\/code\x3e直接进行访问，更多关于nginx的配置请参考官方文档。\x3c\/blockquote\x3e\n\x3cp\x3e最后重启一下nginx，就可以检验我们的页面是否已经打上小绿标了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22nginx -s reload\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enginx \x3cspan class=\x22hljs-_\x22\x3e-s\x3c\/span\x3e reload\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3IHo?w=432\x26amp;h=60\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3IHo?w=432\x26amp;h=60\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e由于certbot所使用的letsencrypt证书只有90天的有效期，所以我们需要对它定期自动更新。\x3c\/p\x3e\n\x3cp\x3e首先模拟更新：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22sudo certbot renew --dry-run\n\n# 看到如下输出证明模拟更新成功\n-------------------------------------------------------------------------------\nProcessing \/etc\/letsencrypt\/renewal\/your.domain.com.conf\n-------------------------------------------------------------------------------\n** DRY RUN: simulating \x27certbot renew\x27 close to cert expiry\n**          (The test certificates below have not been saved.)\n\nCongratulations, all renewals succeeded. The following certs have been renewed:\n  \/etc\/letsencrypt\/live\/xxxx.com\/fullchain.pem (success)\n** DRY RUN: simulating \x27certbot renew\x27 close to cert expiry\n**          (The test certificates above have not been saved.)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs asciidoc\x22\x3e\x3ccode\x3esudo certbot renew --dry-run\n\n\x3cspan class=\x22hljs-section\x22\x3e# 看到如下输出证明模拟更新成功\n-------------------------------------------------------------------------------\x3c\/span\x3e\n\x3cspan class=\x22hljs-section\x22\x3eProcessing \/etc\/letsencrypt\/renewal\/your.domain.com.conf\n-------------------------------------------------------------------------------\x3c\/span\x3e\n\x3cspan class=\x22hljs-bullet\x22\x3e** \x3c\/span\x3eDRY RUN: simulating \x3cspan class=\x22hljs-emphasis\x22\x3e\x27certbot renew\x27\x3c\/span\x3e close to cert expiry\n\x3cspan class=\x22hljs-bullet\x22\x3e**          \x3c\/span\x3e(The test certificates below have not been saved.)\n\nCongratulations, all renewals succeeded. The following certs have been renewed:\n\x3cspan class=\x22hljs-code\x22\x3e  \/etc\/letsencrypt\/live\/xxxx.com\/fullchain.pem (success)\x3c\/span\x3e\n\x3cspan class=\x22hljs-bullet\x22\x3e** \x3c\/span\x3eDRY RUN: simulating \x3cspan class=\x22hljs-emphasis\x22\x3e\x27certbot renew\x27\x3c\/span\x3e close to cert expiry\n\x3cspan class=\x22hljs-bullet\x22\x3e**          \x3c\/span\x3e(The test certificates above have not been saved.)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后就可以使用\x3ccode\x3ecrontab -e\x3c\/code\x3e命令来实现自动化了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22sudo crontab -e\n\n#添加配置，每周一半夜3点00分执行renew：\n\n00 3 * * 1 \/usr\/bin\/certbot renew  \x3e\x3e \/var\/log\/le-renew.log\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3esudo crontab -e\n\n#添加配置，每周一半夜\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e点\x3cspan class=\x22hljs-number\x22\x3e00\x3c\/span\x3e分执行renew：\n\n\x3cspan class=\x22hljs-number\x22\x3e00\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e * * \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \/usr\/bin\/certbot renew  \x26gt;\x26gt; \/var\/log\/le-renew.log\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e五、部署静态页面与Node.js项目\x3c\/h1\x3e\n\x3cp\x3e服务器已经准备了，HTTPS也弄好了，那么接下来就可以部署我们的静态页面与nodejs项目了。\x3c\/p\x3e\n\x3cp\x3e从前面的nginx配置可以知道，nginx对于域名为\x3ccode\x3exxxx.com\x3c\/code\x3e的请求，都会请求到\x3ccode\x3e\/home\/www\x3c\/code\x3e目录下，所以我们通过git或者scp等方式把静态资源目放置在\x3ccode\x3e\/home\/www\x3c\/code\x3e目录下即可。比方说我的\x3ca href=\x22https:\/\/github.com\/jrainlau\/markcook\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emarkcook\x3c\/a\x3e项目：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cd \/home\/www\n\ngit clone https:\/\/github.com\/jrainlau\/markcook -b gh-pages\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs awk\x22\x3e\x3ccode\x3ecd \x3cspan class=\x22hljs-regexp\x22\x3e\/home\/\x3c\/span\x3ewww\n\ngit clone https:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/gi\x3c\/span\x3ethub.com\x3cspan class=\x22hljs-regexp\x22\x3e\/jrainlau\/m\x3c\/span\x3earkcook -b gh-pages\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此时访问 \x3ca href=\x22https:\/\/jrainlau.com\/markcook\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/jrainlau.com\/markcook\x3c\/a\x3e 即可访问到项目的页面。\x3c\/p\x3e\n\x3cp\x3e对于nodejs项目，我们使用\x3ccode\x3epm2\x3c\/code\x3e来守护进程，让项目在后台运行。首先需要安装nodejs，然后再安装pm2：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22curl -sL https:\/\/rpm.nodesource.com\/setup_9.x | bash -\nyum install nodejs\n\nnpm i pm2 -g\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3ecurl -sL https:\x3cspan class=\x22hljs-comment\x22\x3e\/\/rpm.nodesource.com\/setup_9.x | bash -\x3c\/span\x3e\nyum install nodejs\n\nnpm \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e pm2 -g\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来依然把nodejs项目通过git放置在\x3ccode\x3e\/home\/www\x3c\/code\x3e目录下，进入目录，执行下列命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i\n\npm2 start index.js --name my-server\n\n┌─────────────┬────┬──────┬──────┬────────┬─────────┬────────┬─────┬───────────┬──────┬──────────┐\n│ App name    │ id │ mode │ pid  │ status │ restart │ uptime │ cpu │ mem       │ user │ watching │\n├─────────────┼────┼──────┼──────┼────────┼─────────┼────────┼─────┼───────────┼──────┼──────────┤\n│  my-server  │ 0  │ fork │ 2306 │ online │ 22      │ 7h     │ 0%  │ 46.2 MB   │ root │ disabled │\n└─────────────┴────┴──────┴──────┴────────┴─────────┴────────┴─────┴───────────┴──────┴──────────┘\n Use `pm2 show \x3cid|name\x3e` to get more details about an app\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode\x3enpm i\n\npm2 \x3cspan class=\x22hljs-keyword\x22\x3estart\x3c\/span\x3e index.js \x3cspan class=\x22hljs-comment\x22\x3e--name my-server\x3c\/span\x3e\n\n┌─────────────┬────┬──────┬──────┬────────┬─────────┬────────┬─────┬───────────┬──────┬──────────┐\n│ App \x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e    │ \x3cspan class=\x22hljs-keyword\x22\x3eid\x3c\/span\x3e │ \x3cspan class=\x22hljs-keyword\x22\x3emode\x3c\/span\x3e │ pid  │ \x3cspan class=\x22hljs-keyword\x22\x3estatus\x3c\/span\x3e │ restart │ uptime │ cpu │ mem       │ \x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e │ watching │\n├─────────────┼────┼──────┼──────┼────────┼─────────┼────────┼─────┼───────────┼──────┼──────────┤\n│  my-\x3cspan class=\x22hljs-keyword\x22\x3eserver\x3c\/span\x3e  │ \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e  │ fork │ \x3cspan class=\x22hljs-number\x22\x3e2306\x3c\/span\x3e │ \x3cspan class=\x22hljs-keyword\x22\x3eonline\x3c\/span\x3e │ \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e      │ \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3eh     │ \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e%  │ \x3cspan class=\x22hljs-number\x22\x3e46.2\x3c\/span\x3e MB   │ root │ disabled │\n└─────────────┴────┴──────┴──────┴────────┴─────────┴────────┴─────┴───────────┴──────┴──────────┘\n \x3cspan class=\x22hljs-keyword\x22\x3eUse\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e`pm2 show \x26lt;id|name\x26gt;`\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e more details about an app\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后在\x3ccode\x3enginx.conf\x3c\/code\x3e里面添加一条代理规则（假设node服务端口为3000）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22location \/my-server\/ {\n  proxy_pass  http:\/\/localhost:3000\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22nginx hljs\x22\x3e\x3ccode class=\x22nginx\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3elocation\x3c\/span\x3e \/my-server\/ {\n  \x3cspan class=\x22hljs-attribute\x22\x3eproxy_pass\x3c\/span\x3e  http:\/\/localhost:3000\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样，就能够通过\x3ccode\x3ehttps:\/\/xxxx.com\/my-server\/\x3c\/code\x3e访问到nodejs项目了。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader6\x22\x3e六、使用travis-ci实现持续部署\x3c\/h1\x3e\n\x3cp\x3e刚才的操作仅仅是作为初次部署，如果以后代码有改动，还需要我们登录服务器，进入到对应的项目目录，手动执行\x3ccode\x3egit pull\x3c\/code\x3e，然后手动重启服务器（如果pm2启动了watch模式可以省略这一步），相当麻烦。能不能有一种办法，能够在我提交代码的时候就自动更新服务器的代码，并自动重启服务器呢？\x3ccode\x3etravis-ci\x3c\/code\x3e就是来实现这个目的的。\x3c\/p\x3e\n\x3cp\x3etravis-ci支持\x3cstrong\x3e公开项目\x3c\/strong\x3e和\x3cstrong\x3e私有项目\x3c\/strong\x3e，是通过\x3ccode\x3e.org\x3c\/code\x3e和\x3ccode\x3e.com\x3c\/code\x3e后缀来区分的。以我的一个公开项目为例，首先进入\x3ca href=\x22https:\/\/travis-ci.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/travis-ci.org\/\x3c\/a\x3e 官网，登录我的github账号，然后会看到如下页面：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3IVL?w=1076\x26amp;h=999\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3IVL?w=1076\x26amp;h=999\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e找到需要集成travis-ci的项目，点击它前面的开关即可。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3IWz?w=285\x26amp;h=45\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3IWz?w=285\x26amp;h=45\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e此时在travis-ci上的操作暂时告一段落，但是页面先别关掉，先放在一边。\x3c\/p\x3e\n\x3cp\x3e接下来，我们回到本地开发机器，通过\x3ccode\x3egit clone\x3c\/code\x3e命令把这个项目克隆到本地，然后在项目根目录下添加一个\x3ccode\x3e.travis.yml\x3c\/code\x3e文件。这个文件是travis-ci持续集成的关键，它定义了你所有持续集成的操作。为了简单起见，我们仅仅使用它进行\x3cstrong\x3e自动化部署\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22language: node_js\nnode_js:\n- 9.3.0\nafter_success:\n- ssh root@xxx.xxx.xxx.xxx -p yyy \x27cd \/home\/www\/taxi-server \x26amp;\x26amp; git pull \x26amp;\x26amp; pm2 restart taxi-server\x27\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22yaml hljs\x22\x3e\x3ccode class=\x22yaml\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3elanguage:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3enode_js\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3enode_js:\x3c\/span\x3e\n\x3cspan class=\x22hljs-bullet\x22\x3e-\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e9.3\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eafter_success:\x3c\/span\x3e\n\x3cspan class=\x22hljs-bullet\x22\x3e-\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3essh\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eroot@xxx.xxx.xxx.xxx\x3c\/span\x3e \x3cspan class=\x22hljs-bullet\x22\x3e-p\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eyyy\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27cd \/home\/www\/taxi-server \x26amp;\x26amp; git pull \x26amp;\x26amp; pm2 restart taxi-server\x27\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，我给她定义了运行环境为\x3ccode\x3enode.js 9.3.0\x3c\/code\x3e，在构建成功（其实啥也没构建）之后，自动登录服务器，拉取最新代码，重启pm2。\x3c\/p\x3e\n\x3cp\x3e大家都知道，登录服务器是要输入密码的，即使是travis-ci帮我们自动化进行，这一步也免不了。但是由于输入密码的步骤是交互的，自动化处理不了，所以我们也要为travis-ci搞一套“免密登录”。经过上文ssh-key的配置，其实我们已经具备了这一条件，之不过还需要多几步的操作。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e在\x3cstrong\x3e本地\x3c\/strong\x3e通过\x3ccode\x3egem\x3c\/code\x3e安装\x3ccode\x3etravis\x3c\/code\x3e命令行工具（macOS默认支持ruby）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gem install travis\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3egem \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e travis\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e使用travis登录：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22travis login\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3etravis login\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后输入github的账号密码即可。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e加密本地ssh-key并自动写入\x3ccode\x3e.travis.yml\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# --add参数表示自动添加脚本到.travis.yml文件中\ntravis encrypt-file ~\/.ssh\/id_rsa --add\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e# --add参数表示自动添加脚本到.travis.yml文件中\x3c\/span\x3e\ntravis \x3cspan class=\x22hljs-built_in\x22\x3eencrypt\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3efile\x3c\/span\x3e ~\/.ssh\/id_rsa \x3cspan class=\x22hljs-comment\x22\x3e--add\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e这时会看到\x3ccode\x3e.travis.yml\x3c\/code\x3e多了一段\x3ccode\x3ebefore_install\x3c\/code\x3e的内容：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22before_install:\n- openssl aes-256-cbc -K $encrypted_e65149523857_key -iv $encrypted_e65149523857_iv\n  -in id_rsa.enc -out ~\\\/.ssh\/id_rsa -d\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haml\x22\x3e\x3ccode\x3ebefore_install:\n-\x3cspan class=\x22ruby\x22\x3e openssl aes-\x3cspan class=\x22hljs-number\x22\x3e256\x3c\/span\x3e-cbc -K $encrypted_e65149523857_key -iv $encrypted_e65149523857_iv\n\x3c\/span\x3e  -\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e id_rsa.enc -out ~\\\/.ssh\/id_rsa -d\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后把最后一行的“\x3ccode\x3e\\\x3c\/code\x3e”转义符删掉，并换行顶格添加如下两条内容：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22- chmod 600 ~\/.ssh\/id_rsa\n- echo -e \x26quot;Host xxx.xxx.xxx.xxx\\n\\tStrictHostKeyChecking no\\n\x26quot; \x3e\x3e ~\/.ssh\/config\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haml\x22\x3e\x3ccode\x3e-\x3cspan class=\x22ruby\x22\x3e chmod \x3cspan class=\x22hljs-number\x22\x3e600\x3c\/span\x3e ~\x3cspan class=\x22hljs-regexp\x22\x3e\/.ssh\/id\x3c\/span\x3e_rsa\n\x3c\/span\x3e-\x3cspan class=\x22ruby\x22\x3e echo -e \x3cspan class=\x22hljs-string\x22\x3e\x22Host xxx.xxx.xxx.xxx\\n\\tStrictHostKeyChecking no\\n\x22\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e\x26gt;\x26gt; \x3c\/span\x3e~\x3cspan class=\x22hljs-regexp\x22\x3e\/.ssh\/config\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e切记把\x3ccode\x3exxx.xxx.xxx.xxx\x3c\/code\x3e换成你服务器的IP。\x3c\/p\x3e\n\x3cp\x3e最后把添加\x3ccode\x3e.travis.yml\x3c\/code\x3e的项目push到github即可。\x3c\/p\x3e\n\x3cp\x3e重新回到travis-ci.org的页面，进入项目，就能够看到持续集成的效果了：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3I6c?w=1494\x26amp;h=1309\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3I6c?w=1494\x26amp;h=1309\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3I6m?w=1799\x26amp;h=463\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3I6m?w=1799\x26amp;h=463\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这时候回到服务器，运行\x3ccode\x3epm2 logs\x3c\/code\x3e，会看到服务已经被自动重启的日志记录，至此持续集成及部署功能完美成功！\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader7\x22\x3e尾声\x3c\/h1\x3e\n\x3cp\x3e这一番折腾下来，总算把服务器、建站、持续部署等知识囫囵摸了一遍，对这些技术栈也算有了一些粗浅的见解。接下来还有更多好玩的东西需要进行探索，毕竟这只是一个开始，大家一起共勉吧~\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>不仅仅是前端er——折腾服务器武装自己</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013242438">https://segmentfault.com/a/1190000013242438</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/e90bnxu6bmu/" target="_blank">https://alili.tech/archive/e90bnxu6bmu/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>