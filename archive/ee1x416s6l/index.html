<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Vue单元测试实战教程(Mocha/Karma &#43; Vue-Test-Utils &#43; Chai)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Vue单元测试实战教程(Mocha/Karma &#43; Vue-Test-Utils &#43; Chai) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ee1x416s6l/",
				"appid": "1613049289050283", 
				"title": "Vue单元测试实战教程(Mocha/Karma &#43; Vue-Test-Utils &#43; Chai) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-19T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/w3s5m8mlhvl/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/br0di6uh6fr/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&text=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&text=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&title=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&is_video=false&description=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&title=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&title=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&title=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fee1x416s6l%2f&title=Vue%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e5%ae%9e%e6%88%98%e6%95%99%e7%a8%8b%28Mocha%2fKarma%20%2b%20Vue-Test-Utils%20%2b%20Chai%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Vue单元测试实战教程(Mocha/Karma &#43; Vue-Test-Utils &#43; Chai)</h1><div class="meta"><div class="postdate"><time datetime="2018-12-19" itemprop="datePublished">2018-12-19</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e在《\x3ca href=\x22https:\/\/www.jianshu.com\/p\/c817249616ee\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端进阶之路: 前端架构设计(3) - 测试核心\x3c\/a\x3e》这边文章中, 通过分析了\x22传统手工测试的局限性\x22 去引出了测试驱动开发的理念, 并介绍了一些测试工具. 这篇文章我将通过一个Vue的项目, 去讲解如何使用mocha \x26amp; karma, 且结合vue官方推荐的\x3ca href=\x22https:\/\/vue-test-utils.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-test-utils\x3c\/a\x3e去进行单元测试的实战.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e\x3cstrong\x3e一. 安装\x3c\/strong\x3e\x3c\/h2\x3e\n\x3cp\x3e我为本教程写一个\x3ca href=\x22https:\/\/github.com\/Lee-Tanghui\/Vue-Testing-Demo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e示例库\x3c\/a\x3e, 您可以直接跳过所有安装过程, 安装依赖后运行该示例项目: \x3c\/p\x3e\n\x3cp\x3e如果想一步步进行安装, 也可以跟着下面的步骤进行操作:\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e\x3cstrong\x3e(一) 使用脚手架初始化vue项目(使用webpack模板)\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/命令行中输入(默认阅读该文章的读者已经安装vue-cli和node环境)\nvue init webpack vueunittest\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/命令行中输入(默认阅读该文章的读者已经安装vue-cli和node环境)\x3c\/span\x3e\nvue init webpack vueunittest\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意, 当询问到这一步\x3ccode\x3ePick a test runner(Use arrow keys)\x3c\/code\x3e时, 请选择使用\x3ccode\x3eKarma and Mocha\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654038?w=761\x26amp;h=146\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654038?w=761\x26amp;h=146\x22 alt=\x22选择Karma ad Mocha\x22 title=\x22选择Karma ad Mocha\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e接下来的操作进入项目\x3ccode\x3enpm install\x3c\/code\x3e安装相关依赖后(该步骤可能更会出现PhantomJS这个浏览器安装失败的报错, 不用理会, 因为  之后我们不使用这个浏览器), \x3ccode\x3enpm run build\x3c\/code\x3e即可.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e\x3cstrong\x3e(二) 安装Karma-chrome-launch\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e接下来安装\x3ccode\x3ekarma-chrome-launcher\x3c\/code\x3e, 在命令行中输入\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install karma-chrome-launcher --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm install karma-chrome-launcher --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在项目中找到\x3ccode\x3etest\/unit\/karma.conf.js\x3c\/code\x3e文件, 将\x3ccode\x3ePhantomJS\x3c\/code\x3e浏览器修改为\x3ccode\x3eChrome\x3c\/code\x3e不要问我为什么不使用PhantomJS, 因为经常莫名的错误, 改成Chrome就不会!!!)\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/karma.conf.js\n\nvar webpackConfig = require(\x27..\/..\/build\/webpack.test.conf\x27)\n\nmodule.exports = function (config) {\n  config.set({\n    \/\/browsers: [\x27PhantomJS\x27],\n    browsers: [\x27Chrome\x27],    \n    \n    ...\n  })\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/karma.conf.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e webpackConfig = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/build\/webpack.test.conf\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e) \x3c\/span\x3e{\n  config.set({\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/browsers: [\x27PhantomJS\x27],\x3c\/span\x3e\n    browsers: [\x3cspan class=\x22hljs-string\x22\x3e\x27Chrome\x27\x3c\/span\x3e],    \n    \n    ...\n  })\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e\x3cstrong\x3e(三) 安装Vue-test-utils\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e安装Vue.js 官方的单元测试实用工具库, 在命令行输入:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install --save-dev vue-test-utils\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm install --save-dev vue-test-utils\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e\x3cstrong\x3e(四) 执行npm run unit\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e当你完成以上两步的时候, 你就可以在命令行执行\x3ccode\x3enpm run unit\x3c\/code\x3e尝鲜你的第一次单元测试了, Vue脚手架已经初始化了一个\x3ccode\x3eHelloWorld.spec.js\x3c\/code\x3e的测试文件去测试\x3ccode\x3eHelloWrold.vue\x3c\/code\x3e, 你可以在\x3ccode\x3etest\/unit\/specs\/HelloWorld.spec.js\x3c\/code\x3e下找到这个测试文件.(\x3cstrong\x3e提示: 将来所有的测试文件, 都将放\x3ccode\x3especs\x3c\/code\x3e这个目录下, 并以\x3ccode\x3e测试脚本名.spec.js\x3c\/code\x3e结尾命名!\x3c\/strong\x3e)\x3c\/p\x3e\n\x3cp\x3e在命令行输入\x3ccode\x3enpm run unit\x3c\/code\x3e, 当你看到下图所示的一篇绿的时候, 说明你的单元测试通过了!\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654039?w=1404\x26amp;h=315\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654039?w=1404\x26amp;h=315\x22 alt=\x22第一次单元测试测试通过\x22 title=\x22第一次单元测试测试通过\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e\x3cstrong\x3e二. 测试工具的使用方法\x3c\/strong\x3e\x3c\/h2\x3e\n\x3cp\x3e下面是一个\x3ccode\x3eCounter.vue\x3c\/code\x3e文件, 我将以该文件为基础讲解项目中测试工具的使用方法.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/Counter.vue\n\n\x3ctemplate\x3e\n  \x3cdiv\x3e\n    \x3ch3\x3eCounter.vue\x3c\/h3\x3e\n    \x22{{\x22 count \x22}}\x22\n    \x3cbutton @click=\x26quot;increment\x26quot;\x3e自增\x3c\/button\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\n  export default {\n    data () {\n      return {\n        count: 0\n      }\n    },\n\n    methods: {\n      increment () {\n        this.count\x2b\x2b\n      }\n    }\n  }\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/Counter.vue\x3c\/span\x3e\n\n\x26lt;template\x26gt;\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3eCounter.vue\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x22{{\x22 count \x22}}\x22\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22increment\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e自增\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/template\x26gt;\n\n\x26lt;script\x26gt;\n  export default {\n    data () {\n      return {\n        count: 0\n      }\n    },\n\n    methods: {\n      increment () {\n        this.count\x2b\x2b\n      }\n    }\n  }\n\x26lt;\/\x3c\/span\x3escript\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e\x3cstrong\x3e(一) Mocha框架\x3c\/strong\x3e\x3c\/h3\x3e\n\x3ch4\x3e\x3cstrong\x3e1. Mocha测试脚本的写法\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cp\x3eMocha的作用是运行测试脚本, 要对上面\x3ccode\x3eCounter.vue\x3c\/code\x3e进行测试, 我们就要写测试脚本, 通常测试脚本应该与Vue组件名相同, 后缀为\x3ccode\x3espec.js\x3c\/code\x3e. 比如, \x3ccode\x3eCounter.vue\x3c\/code\x3e组件的测试脚本名字就应该为\x3ccode\x3eCounter.spec.js\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/Counter.spec.js\n\nimport Vue from \x27vue\x27\nimport Counter from \x27@\/components\/Counter\x27\n\ndescribe(\x27Counter.vue\x27, () =\x3e {\n\n  it(\x27点击按钮后, count的值应该为1\x27, () =\x3e {\n    \/\/获取组件实例\n    const Constructor = Vue.extend(Counter);\n    \/\/挂载组件\n    const vm = new Constructor().$mount();\n    \/\/获取button\n    const button = vm.$el.querySelector(\x27button\x27);\n    \/\/新建点击事件\n    const clickEvent = new window.Event(\x27click\x27);\n    \/\/触发点击事件\n    button.dispatchEvent(clickEvent);\n    \/\/监听点击事件\n    vm._watcher.run();\n    \/\/ 断言:count的值应该是数字1\n    expect(Number(vm.$el.querySelector(\x27.num\x27).textContent)).to.equal(1);\n  })\n\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/Counter.spec.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Counter \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/components\/Counter\x27\x3c\/span\x3e\n\ndescribe(\x3cspan class=\x22hljs-string\x22\x3e\x27Counter.vue\x27\x3c\/span\x3e, () =\x26gt; {\n\n  it(\x3cspan class=\x22hljs-string\x22\x3e\x27点击按钮后, count的值应该为1\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取组件实例\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Constructor = Vue.extend(Counter);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/挂载组件\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e vm = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Constructor().$mount();\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取button\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e button = vm.$el.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27button\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/新建点击事件\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e clickEvent = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.Event(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发点击事件\x3c\/span\x3e\n    button.dispatchEvent(clickEvent);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/监听点击事件\x3c\/span\x3e\n    vm._watcher.run();\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 断言:count的值应该是数字1\x3c\/span\x3e\n    expect(\x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(vm.$el.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27.num\x27\x3c\/span\x3e).textContent)).to.equal(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n  })\n\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面这段代码就是一个测试脚本.测试脚本应该包含一个或多个\x3ccode\x3edescribe\x3c\/code\x3e, 每个\x3ccode\x3edescribe\x3c\/code\x3e块应该包括一个或多个\x3ccode\x3eit\x3c\/code\x3e块\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3edescribe\x3c\/code\x3e块称为\x22测试套件\x22(test suite), 表示一组相关的测试. 它是一个函数, 第一个参数是测试套件的名称(通常写测试组件的名称, 这里即为\x3ccode\x3eCounter.js\x3c\/code\x3e), 第二个参数是一个实际执行的函数.\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eit\x3c\/code\x3e块称为\x22测试用例\x22(test case), 表示一个单独的测试, 是测试的最小单位. 它也是一个函数, 第一个参数是测试用例的名称(通常描述你的断言结果, 这里即为\x3ccode\x3e\x22点击按钮后, count的值应该为1\x22\x3c\/code\x3e), 第二个参数是一个实际执行的函数.\x3c\/p\x3e\n\x3ch4\x3e\x3cstrong\x3e2. Mocha进行异步测试\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cp\x3e我们在\x3ccode\x3eCounter.vue\x3c\/code\x3e组件中添加一个按钮, 并添加一个异步自增的方法为\x3ccode\x3eincrementByAsync\x3c\/code\x3e, 该函数设置一个延时器, 1000ms后\x3ccode\x3ecount\x3c\/code\x3e自增1.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \x3ctemplate\x3e\n    ...\n    \x3cbutton @click=\x26quot;increment\x26quot;\x3e自增\x3c\/button\x3e\n    \x3cbutton @click=\x26quot;incrementByAsync\x26quot;\x3e异步自增\x3c\/button\x3e\n    ...\n  \x3ctemplate\x3e\n  \n  \x3cscript\x3e\n     ...\n     methods: {\n      ...\n      incrementByAsync () {\n        window.setTimeout(() =\x3e {\n          this.count\x2b\x2b;\n        }, 1000) \n      }\n    }\n  \x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  \x26lt;template\x26gt;\n    ...\n    \x26lt;button @click=\x3cspan class=\x22hljs-string\x22\x3e\x22increment\x22\x3c\/span\x3e\x26gt;自增\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/button\x26gt;\n    \x26lt;button @click=\x22incrementByAsync\x22\x26gt;异步自增\x26lt;\/\x3c\/span\x3ebutton\x26gt;\n    ...\n  \x26lt;template\x26gt;\n  \n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n     ...\n     methods: {\n      ...\n      incrementByAsync () {\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.count\x2b\x2b;\n        }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e) \n      }\n    }\n  \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e给测试脚本中新增一个测试用例, 也就是\x3ccode\x3eit()\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27count异步更新, count的值应该为1\x27, (done) =\x3e {\n    \/\/\/获取组件实例\n    const Constructor = Vue.extend(Counter);\n    \/\/挂载组件\n    const vm = new Constructor().$mount();\n    \/\/获取button\n    const button = vm.$el.querySelectorAll(\x27button\x27)[1];\n    \/\/新建点击事件\n    const clickEvent = new window.Event(\x27click\x27);\n\n    \/\/触发点击事件\n    button.dispatchEvent(clickEvent);\n    \/\/监听点击事件\n    vm._watcher.run();\n    \/\/1s后进行断言\n    window.setTimeout(() =\x3e {\n      \/\/ 断言:count的值应该是数字1\n      expect(Number(vm.$el.querySelector(\x27.num\x27).textContent)).to.equal(1);\n      done();\n    }, 1000);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3e  it(\x27count异步更新, count的值应该为\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x27, (\x3cspan class=\x22hljs-name\x22\x3edone\x3c\/span\x3e) =\x26gt; {\n    \/\/\/获取组件实例\n    const Constructor = Vue.extend(\x3cspan class=\x22hljs-name\x22\x3eCounter\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    \/\/挂载组件\n    const vm = new Constructor().$mount()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    \/\/获取button\n    const button = vm.$el.querySelectorAll(\x27button\x27)[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    \/\/新建点击事件\n    const clickEvent = new window.Event(\x27click\x27)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n    \/\/触发点击事件\n    button.dispatchEvent(\x3cspan class=\x22hljs-name\x22\x3eclickEvent\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    \/\/监听点击事件\n    vm._watcher.run()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    \/\/1s后进行断言\n    window.setTimeout(() =\x26gt; {\n      \/\/ 断言\x3cspan class=\x22hljs-symbol\x22\x3e:count\x3c\/span\x3e的值应该是数字\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n      expect(\x3cspan class=\x22hljs-name\x22\x3eNumber\x3c\/span\x3e(\x3cspan class=\x22hljs-name\x22\x3evm\x3c\/span\x3e.$el.querySelector(\x27.num\x27).textContent)).to.equal(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n      done()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eMocha中的异步测试, 需要给\x3ccode\x3eit()\x3c\/code\x3e内函数的参数中添加一个\x3ccode\x3edone\x3c\/code\x3e, 并在异步执行完后必须调用\x3ccode\x3edone()\x3c\/code\x3e, 如果不调用\x3ccode\x3edone()\x3c\/code\x3e, 那么Mocha会在2000ms后报错且本次单元测试测试失败(mocha默认的异步测试超时上线为2000ms), 错误信息如下:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654040?w=1299\x26amp;h=183\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654040?w=1299\x26amp;h=183\x22 alt=\x22未调用done()的报错\x22 title=\x22未调用done()的报错\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e\x3cstrong\x3e3. Mocha的测试钩子\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cp\x3e如果大家对于vue的\x3ccode\x3emounted()\x3c\/code\x3e, \x3ccode\x3ecreated()\x3c\/code\x3e钩子能够理解的话, 对Mocha的钩子也很容易理解, Mocha在\x3ccode\x3edescribe\x3c\/code\x3e块中提供了四个钩子: \x3ccode\x3ebefore()\x3c\/code\x3e, \x3ccode\x3eafter()\x3c\/code\x3e, \x3ccode\x3ebeforeEach()\x3c\/code\x3e, \x3ccode\x3eafterEach()\x3c\/code\x3e. 它们会在以下时间执行\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22describe(\x27钩子说明\x27, function() {\n\n  before(function() {\n    \/\/ 在本区块的所有测试用例之前执行\n  });\n\n  after(function() {\n    \/\/ 在本区块的所有测试用例之后执行\n  });\n\n  beforeEach(function() {\n    \/\/ 在本区块的每个测试用例之前执行\n  });\n\n  afterEach(function() {\n    \/\/ 在本区块的每个测试用例之后执行\n  });\n\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3edescribe(\x3cspan class=\x22hljs-string\x22\x3e\x27钩子说明\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n  before(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在本区块的所有测试用例之前执行\x3c\/span\x3e\n  });\n\n  after(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在本区块的所有测试用例之后执行\x3c\/span\x3e\n  });\n\n  beforeEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在本区块的每个测试用例之前执行\x3c\/span\x3e\n  });\n\n  afterEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在本区块的每个测试用例之后执行\x3c\/span\x3e\n  });\n\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上述就是Mocha的基本使用介绍, 如果想了解Mocha的更多使用方法, 可以查看下面的文档和一篇阮一峰的Mocha教程:\x3c\/p\x3e\n\x3cblockquote\x3e\x3cul\x3e\x3cli\x3eMocha官方文档 : \x3ca href=\x22https:\/\/mochajs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/mochajs.org\/\x3c\/a\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\n\x3cli\x3eMocha官方文档翻译 : \x3ca href=\x22http:\/\/www.jianshu.com\/p\/9c78548caffa\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.jianshu.com\/p\/9c78...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e阮一峰 - 测试框架 Mocha 实例教程 :  \x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2015\/12\/a-mocha-tutorial-of-examples.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.ruanyifeng.com\/blo...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e\x3cstrong\x3e(二) Chai断言库\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e上面的测试用例中, 以\x3ccode\x3eexpect()\x3c\/code\x3e方法开头的就是\x3cstrong\x3e断言\x3c\/strong\x3e.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22expect(Number(vm.$el.querySelector(\x27.num\x27).textContent)).to.equal(1);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eexpect(\x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(vm.$el.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27.num\x27\x3c\/span\x3e).textContent)).to.equal(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所谓断言, 就是判断源码的实际执行结果与预期结果是否一致, 如果不一致, 就会抛出错误. 上面的断言的意思是指: 有\x3ccode\x3e.num\x3c\/code\x3e这类名的节点的内容应该为数字1. 断言库库有很多种, Mocha并不限制你需要使用哪一种断言库,  Vue的脚手架提供的断言库是\x3ccode\x3esino-chai\x3c\/code\x3e, 是一个基于\x3ccode\x3eChai\x3c\/code\x3e的断言库, 并且我们指定使用的是它的\x3ccode\x3eexpect\x3c\/code\x3e断言风格.\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eexpect\x3c\/code\x3e断言风格的优点很接近于自然语言, 下面是一些例子\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \/\/ 相等或不相等\n  expect(1 \x2b 1).to.be.equal(2);\n  expect(1 \x2b 1).to.be.not.equal(3);\n\n  \/\/ 布尔值为true\n  expect(\x27hello\x27).to.be.ok;\n  expect(false).to.not.be.ok;\n\n  \/\/ typeof\n  expect(\x27test\x27).to.be.a(\x27string\x27);\n  expect({ foo: \x27bar\x27 }).to.be.an(\x27object\x27);\n  expect(foo).to.be.an.instanceof(Foo);\n\n  \/\/ include\n  expect([1,2,3]).to.include(2);\n  expect(\x27foobar\x27).to.contain(\x27foo\x27);\n  expect({ foo: \x27bar\x27, hello: \x27universe\x27 }).to.include.keys(\x27foo\x27);\n\n  \/\/ empty\n  expect([]).to.be.empty;\n  expect(\x27\x27).to.be.empty;\n  expect({}).to.be.empty;\n  \n  \/\/ match\n  expect(\x27foobar\x27).to.match(\/^foo\/);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 相等或不相等\x3c\/span\x3e\n  expect(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).to.be.equal(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  expect(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).to.be.not.equal(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 布尔值为true\x3c\/span\x3e\n  expect(\x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e).to.be.ok;\n  expect(\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e).to.not.be.ok;\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ typeof\x3c\/span\x3e\n  expect(\x3cspan class=\x22hljs-string\x22\x3e\x27test\x27\x3c\/span\x3e).to.be.a(\x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e);\n  expect({ \x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e }).to.be.an(\x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e);\n  expect(foo).to.be.an.instanceof(Foo);\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ include\x3c\/span\x3e\n  expect([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]).to.include(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  expect(\x3cspan class=\x22hljs-string\x22\x3e\x27foobar\x27\x3c\/span\x3e).to.contain(\x3cspan class=\x22hljs-string\x22\x3e\x27foo\x27\x3c\/span\x3e);\n  expect({ \x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ehello\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27universe\x27\x3c\/span\x3e }).to.include.keys(\x3cspan class=\x22hljs-string\x22\x3e\x27foo\x27\x3c\/span\x3e);\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ empty\x3c\/span\x3e\n  expect([]).to.be.empty;\n  expect(\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e).to.be.empty;\n  expect({}).to.be.empty;\n  \n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ match\x3c\/span\x3e\n  expect(\x3cspan class=\x22hljs-string\x22\x3e\x27foobar\x27\x3c\/span\x3e).to.match(\x3cspan class=\x22hljs-regexp\x22\x3e\/^foo\/\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e每一个\x3ccode\x3eit()\x3c\/code\x3e所包裹的测试用例都应该有一句或多句断言,上面只是介绍了一部分的断言语法, 如果想要知道更多\x3ccode\x3eChai\x3c\/code\x3e的断言语法, 请查看以下的官方文档.\x3c\/p\x3e\n\x3cblockquote\x3e\x3cul\x3e\x3cli\x3eChai官方文档: \x3ca href=\x22http:\/\/chaijs.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/chaijs.com\/\x3c\/a\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3eChai官方文档翻译: \x3ca href=\x22http:\/\/www.jianshu.com\/p\/f200a75a15d2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.jianshu.com\/p\/f200...\x3c\/a\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e\x3cstrong\x3e(三) Vue-test-utils测试库\x3c\/strong\x3e\x3c\/h3\x3e\n\x3ch4\x3e\x3cstrong\x3e1. 在测试脚本中引入vue-test-utils\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/Counter.spec.js\n\nimport Vue from \x27vue\x27\nimport Counter from \x27@\/components\/Counter\x27\n\/\/引入vue-test-utils\nimport {mount} from \x27vue-test-utils\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/Counter.spec.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Counter \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/components\/Counter\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/引入vue-test-utils\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {mount} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue-test-utils\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e\x3cstrong\x3e2. 测试文本内容\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cp\x3e下面我将在\x3ccode\x3eCounter.spec.js\x3c\/code\x3e测试脚本中对\x3ccode\x3eCounter.vue\x3c\/code\x3e中\x3ccode\x3e\x26lt;h3\x26gt;\x3c\/code\x3e的文本内容进行测试, 大家可以直观的感受一下使用了Vue-test-utils后对\x3ccode\x3e.vue\x3c\/code\x3e单文件组件的测试变得多么简单.\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e未使用vue-test-utils的测试用例:\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27未使用Vue-test-utils: 正确渲染h3的文字为Counter.vue\x27, () =\x3e {\n    const Constructor = Vue.extend(Counter);\n    const vm = new Constructor().$mount();\n    const H3 = vm.$el.querySelector(\x27h3\x27).textContent;\n    expect(H3).to.equal(\x27Counter.vue\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27未使用Vue-test-utils: 正确渲染h3的文字为Counter.vue\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Constructor = Vue.extend(Counter);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e vm = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Constructor().$mount();\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e H3 = vm.$el.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27h3\x27\x3c\/span\x3e).textContent;\n    expect(H3).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27Counter.vue\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e使用了vue-test-utils的测试用例:\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27使用Vue-test-Utils: 正确渲染h3的文字为Counter.vue\x27, () =\x3e {\n    const wrapper = mount(Counter);\n    expect(wrapper.find(\x27h3\x27).text()).to.equal(\x27Counter.vue\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27使用Vue-test-Utils: 正确渲染h3的文字为Counter.vue\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(Counter);\n    expect(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27h3\x27\x3c\/span\x3e).text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27Counter.vue\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从上面的代码可以看出, vue-test-utils工具将该测试用例的代码量减少了一半, 如果是更复杂的测试用例, 那么代码量的减少将更为突出.  它可以让我们更专注于去写文件的测试逻辑, 将获取组件实例和挂载的繁琐的操作交由vue-test-utils去完成.\x3c\/p\x3e\n\x3ch4\x3e\x3cstrong\x3e3. vue-test-utils的常用API\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cstrong\x3e\x3ccode\x3efind()\x3c\/code\x3e: 返回匹配选择器的第一个DOM节点或Vue组件的\x3ccode\x3ewrapper\x3c\/code\x3e, 可以使用任何有效的选择器\x3c\/strong\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3e\x3ccode\x3etext()\x3c\/code\x3e: 返回\x3ccode\x3ewrapper\x3c\/code\x3e的文本内容\x3c\/strong\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3e\x3ccode\x3ehtml()\x3c\/code\x3e: 返回\x3ccode\x3ewrapper DOM\x3c\/code\x3e的HTML字符串\x3c\/strong\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27find()\/text()\/html()方法\x27, () =\x3e {\n    const wrapper = mount(Counter);\n    const h3 = wrapper.find(\x27h3\x27);\n    expect(h3.text()).to.equal(\x27Counter.vue\x27);\n    expect(h3.html()).to.equal(\x27\x3ch3\x3eCounter.vue\x3c\/h3\x3e\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27find()\/text()\/html()方法\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(Counter);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e h3 = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27h3\x27\x3c\/span\x3e);\n    expect(h3.text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27Counter.vue\x27\x3c\/span\x3e);\n    expect(h3.html()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;h3\x26gt;Counter.vue\x26lt;\/h3\x26gt;\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e\x3ccode\x3etrigger()\x3c\/code\x3e: 在该 \x3ccode\x3ewrapper DOM\x3c\/code\x3e 节点上触发一个事件。\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22it(\x27trigger()方法\x27, () =\x3e {\n    const wrapper = mount(Counter);\n    const buttonOfSync = wrapper.find(\x27.sync-button\x27);\n    buttonOfSync.trigger(\x27click\x27);\n    buttonOfSync.trigger(\x27click\x27);\n    const count = Number(wrapper.find(\x27.num\x27).text());\n    expect(count).to.equal(2);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eit(\x3cspan class=\x22hljs-string\x22\x3e\x27trigger()方法\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(Counter);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfSync = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.sync-button\x27\x3c\/span\x3e);\n    buttonOfSync.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    buttonOfSync.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e count = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.num\x27\x3c\/span\x3e).text());\n    expect(count).to.equal(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cstrong\x3e\x3ccode\x3esetData()\x3c\/code\x3e: 设置\x3ccode\x3edata\x3c\/code\x3e的属性并强制更新\x3c\/strong\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27setData()方法\x27,() =\x3e {\n    const wrapper = mount(Counter);\n    wrapper.setData({foo: \x27bar\x27});\n    expect(wrapper.vm.foo).to.equal(\x27bar\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27setData()方法\x27\x3c\/span\x3e,() =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(Counter);\n    wrapper.setData({\x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e});\n    expect(wrapper.vm.foo).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面介绍了几个vue-test-utils提供的方法, 如果想深入学习vue-test-utils, 请阅读下面的官方文档:\x3c\/p\x3e\n\x3cblockquote\x3e\x3cul\x3e\x3cli\x3evue-test-utils官方文档: \x3ca href=\x22https:\/\/vue-test-utils.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/vue-test-utils.vuejs....\x3c\/a\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e\x3cstrong\x3e三. 项目说明\x3c\/strong\x3e\x3c\/h2\x3e\n\x3cp\x3e该项目模仿了一个简单的微博, 在\x3ca href=\x22https:\/\/github.com\/Lee-Tanghui\/Vue-Testing-Demo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e代码仓库\x3c\/a\x3e下载后, 可直接通过\x3ccode\x3enpm run dev\x3c\/code\x3e运行.\x3c\/p\x3e\n\x3ch4\x3e\x3cstrong\x3e(一) 项目效果图\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654041?w=1903\x26amp;h=960\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654041?w=1903\x26amp;h=960\x22 alt=\x22项目展示\x22 title=\x22项目展示\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e\x3cstrong\x3e(二) 项目中的交互逻辑和需求\x3c\/strong\x3e\x3c\/h4\x3e\n\x3col\x3e\n\x3cli\x3e在文本框中输入内容后点击\x22发布\x22按钮(1), 会新发布内容到微博列表中, 且个人头像等下的微博数量(6)会增加1个\x3c\/li\x3e\n\x3cli\x3e当文本框中无内容时, 不能发布空微博到微博列表, 且弹出提示框, 叫用户输入内容\x3c\/li\x3e\n\x3cli\x3e当点击\x22关注\x22(2), 个人头像下关注的数量(5)会增加1个, 且按钮内字体变成\x22取消关注\x22; 当点击\x22取消关注\x22(2), 个人头像下的数量(5)会减少1个, 且按钮内字体变成\x22关注\x22\x3c\/li\x3e\n\x3cli\x3e当点击\x22收藏\x22(3)时, 我的收藏(7)会增加1个数量, 且按钮内文字变成\x22已收藏\x22; 点击\x22已收藏\x22(3)时, 我的收藏(7)会减少1个数量, 且按钮内文字变成\x22收藏\x22\x3c\/li\x3e\n\x3cli\x3e当点击\x22赞\x22(4), 我的赞(8)会增加1个数量, 且按钮内文字变成\x22取消赞\x22; 点击\x22取消赞\x22(3)时, 我的赞(8)会减少1个数量, 且按钮内文字变成\x22赞\x22\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch4\x3e\x3cstrong\x3e(三) 项目源码\x3c\/strong\x3e\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/SinaWeibo.vue\n\n\x3ctemplate\x3e\n  \x3cdiv class=\x26quot;weibo-page\x26quot;\x3e\n    \x3cnav\x3e\n      \x3cspan class=\x26quot;weibo-logo\x26quot;\x3e\x3c\/span\x3e\n      \x3cdiv class=\x26quot;search-wrapper\x26quot;\x3e\n        \x3cinput type=\x26quot;text\x26quot; placeholder=\x26quot;大家正在搜: 李棠辉的文章好赞!\x26quot;\x3e\n        \x3cimg v-if=\x26quot;!iconActive\x26quot; @mouseover=\x26quot;mouseOverToIcon\x26quot; src=\x26quot;..\/..\/static\/image\/search.png\x26quot; alt=\x26quot;搜索icon\x26quot;\x3e\n        \x3cimg v-if=\x26quot;iconActive\x26quot; @mouseout=\x26quot;mouseOutToIcon\x26quot; src=\x26quot;..\/..\/static\/image\/search-active.png\x26quot; alt=\x26quot;搜索icon\x26quot;\x3e\n      \x3c\/div\x3e\n    \x3c\/nav\x3e\n    \x3cdiv class=\x26quot;main-container\x26quot;\x3e\n      \x3caside class=\x26quot;aside-nav\x26quot;\x3e\n        \x3cul\x3e\n          \x3cli :class=\x26quot;{ active: isActives[indexOfContent] }\x26quot; v-for=\x26quot;(content, indexOfContent) in asideTab\x26quot; :key=\x26quot;indexOfContent\x26quot; @click=\x26quot;tabChange(indexOfContent)\x26quot;\x3e\n            \x3cspan\x3e\x22{{\x22content\x22}}\x22\x3c\/span\x3e\n            \x3cspan class=\x26quot;count\x26quot;\x3e\n              \x3cspan v-if=\x26quot;indexOfContent === 1\x26quot;\x3e(\x22{{\x22collectNum\x22}}\x22)\x3c\/span\x3e\n              \x3cspan v-if=\x26quot;indexOfContent === 2\x26quot;\x3e(\x22{{\x22likeNum\x22}}\x22)\x3c\/span\x3e              \n            \x3c\/span\x3e\n          \x3c\/li\x3e\n        \x3c\/ul\x3e\n      \x3c\/aside\x3e\n      \x3cmain class=\x26quot;weibo-content\x26quot;\x3e\n        \x3cdiv class=\x26quot;weibo-publish-wrapper\x26quot;\x3e\n          \x3cimg src=\x26quot;..\/..\/static\/image\/tell-people.png\x26quot;\x3e\x3c\/img\x3e\n          \x3ctextarea v-model=\x26quot;newWeiboContent.content\x26quot;\x3e\x3c\/textarea\x3e\n          \x3cbutton @click=\x26quot;publishNewWeiboContent\x26quot;\x3e发布\x3c\/button\x3e\n        \x3c\/div\x3e\n        \x3cdiv \n          class=\x26quot;weibo-news\x26quot; \n          v-for=\x26quot;(news, indexOfNews) in weiboNews\x26quot;\n          :key=\x26quot;indexOfNews\x26quot;\x3e\n          \x3cdiv class=\x26quot;content-wrapper\x26quot;\x3e\n            \x3cdiv class=\x26quot;news-title\x26quot;\x3e\n            \x3cdiv class=\x26quot;news-title__left\x26quot;\x3e\n              \x3cimg :src=\x26quot;news.imgUrl\x26quot;\x3e\n              \x3cdiv class=\x26quot;title-text\x26quot;\x3e\n                \x3cdiv class=\x26quot;title-name\x26quot;\x3e\x22{{\x22news.name\x22}}\x22\x3c\/div\x3e\n                \x3cdiv class=\x26quot;title-time\x26quot;\x3e\x22{{\x22news.resource\x22}}\x22\x3c\/div\x3e\n              \x3c\/div\x3e\n            \x3c\/div\x3e\n            \x3cbutton \n              class=\x26quot;news-title__right add\x26quot; \n              v-if=\x26quot;news.attention === false\x26quot;\n              @click=\x26quot;attention(indexOfNews)\x26quot;\x3e\n              \x3ci class=\x26quot;fa fa-plus\x26quot;\x3e\x3c\/i\x3e\n              关注\n            \x3c\/button\x3e\n             \x3cbutton \n              class=\x26quot;news-title__right cancel\x26quot; \n              v-if=\x26quot;news.attention === true\x26quot;\n              @click=\x26quot;unAttention(indexOfNews)\x26quot;\x3e\n              \x3ci class=\x26quot;fa fa-close\x26quot;\x3e\x3c\/i\x3e\n              取消关注\n            \x3c\/button\x3e\n          \x3c\/div\x3e\n          \x3cdiv class=\x26quot;news-content\x26quot;\x3e\x22{{\x22news.content\x22}}\x22\x3c\/div\x3e\n          \x3cdiv class=\x26quot;news-image\x26quot; v-if=\x26quot;news.images.length\x26quot;\x3e\n            \x3cimg \n            v-for=\x26quot;(img, indexOfImg) in news.images\x26quot;\n            :key=\x26quot;indexOfImg\x26quot;\n            :src=\x26quot;img\x26quot;\x3e\n          \x3c\/div\x3e\n          \x3c\/div\x3e\n          \x3cul class=\x26quot;news-panel\x26quot;\x3e\n            \x3cli @click=\x26quot;handleCollect(indexOfNews)\x26quot;\x3e\n              \x3ci class=\x26quot;fa fa-star-o\x26quot; :class=\x26quot;{collected: news.collect }\x26quot;\x3e\x3c\/i\x3e\n              \x22{{\x22news.collect ? \x26quot;已收藏\x26quot; : \x27收藏\x27\x22}}\x22\n            \x3c\/li\x3e\n            \x3cli\x3e\n              \x3ci class=\x26quot;fa fa-external-link\x26quot;\x3e\x3c\/i\x3e\n              转发\n            \x3c\/li\x3e\n            \x3cli\x3e\n              \x3ci class=\x26quot;fa fa-commenting-o\x26quot;\x3e\x3c\/i\x3e\n              评论\n            \x3c\/li\x3e\n            \x3cli @click=\x26quot;handleLike(indexOfNews)\x26quot;\x3e\n              \x3ci class=\x26quot;fa fa-thumbs-o-up\x26quot; :class=\x26quot;{liked: news.like}\x26quot;\x3e\x3c\/i\x3e\n              \x22{{\x22news.like ? \x27取消赞\x27 : \x27赞\x27\x22}}\x22\n            \x3c\/li\x3e\n          \x3c\/ul\x3e\n        \x3c\/div\x3e\n\n      \x3c\/main\x3e\n      \x3caside class=\x26quot;aside-right\x26quot;\x3e\n        \x3cdiv class=\x26quot;profile-wrapper\x26quot;\x3e\n          \x3cdiv class=\x26quot;profile-top\x26quot;\x3e\n            \x3cimg src=\x26quot;..\/..\/static\/image\/profile.jpg\x26quot;\x3e\n          \x3c\/div\x3e\n          \x3cdiv class=\x26quot;profile-bottom\x26quot;\x3e\n            \x3cdiv class=\x26quot;profile-name\x26quot;\x3eLee_tanghui\x3c\/div\x3e\n            \x3cul class=\x26quot;profile-info\x26quot;\x3e\n              \x3cli \n                v-for=\x26quot;(profile, indexOfProfile) in profileData\x26quot;\n                :key=\x26quot;indexOfProfile\x26quot;\x3e\n                \x3cdiv class=\x26quot;number\x26quot;\x3e\x22{{\x22profile.num\x22}}\x22\x3c\/div\x3e\n                \x3cdiv class=\x26quot;text\x26quot;\x3e\x22{{\x22profile.text\x22}}\x22\x3c\/div\x3e\n              \x3c\/li\x3e\n            \x3c\/ul\x3e\n          \x3c\/div\x3e\n        \x3c\/div\x3e\n      \x3c\/aside\x3e\n    \x3c\/div\x3e\n    \x3cfooter\x3e\n       Wish you like my blog! --- LITANGHUI\n    \x3c\/footer\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\n  \/\/引入假数据\n  import * as mockData from \x27..\/mock-data.js\x27\n\n  export default {\n    mounted() {\n      \/\/模拟获取数据\n      this.profileData = mockData.profileData;\n      this.weiboNews = mockData.weiboNews;\n      this.collectNum = mockData.collectNum;\n      this.likeNum = mockData.likeNum;\n\n    },\n    data() {\n      return {\n        iconActive: false,\n        asideTab: [\x26quot;首页\x26quot;, \x26quot;我的收藏\x26quot;, \x26quot;我的赞\x26quot;],\n        isActives: [true, false, false],\n        profileData: [],\n        weiboNews: [],\n        collectNum: 0,\n        likeNum: 0,\n        newWeiboContent:   {\n          imgUrl: \x27..\/..\/static\/image\/profile.jpg\x27,\n          name: \x27Lee_tanghui\x27,\n          resource: \x27刚刚 来自 网页版微博\x27,\n          content: \x27\x27,\n          images: []\n        },\n      }\n    },\n    methods: {\n      mouseOverToIcon() {\n        this.iconActive = true;\n      },\n      mouseOutToIcon() {\n        this.iconActive = false;\n      },\n      tabChange(indexOfContent) {\n        this.isActives.forEach((item, index) =\x3e {\n          index === indexOfContent ?\n            this.$set(this.isActives, index, true) :\n            this.$set(this.isActives, index, false);\n        })\n      },\n      publishNewWeiboContent() {\n        if(!this.newWeiboContent.content) {\n          alert(\x27请输入内容!\x27)\n          return;\n        }\n        const newWeibo = JSON.parse(JSON.stringify(this.newWeiboContent));\n        this.weiboNews.unshift(newWeibo);\n        this.newWeiboContent.content = \x27\x27;\n        this.profileData[2].num\x2b\x2b;\n      },\n      attention(index) {\n        this.weiboNews[index].attention = true;    \n        this.profileData[0].num\x2b\x2b;    \n      },\n      unAttention(index) {\n        this.weiboNews[index].attention = false;\n        this.profileData[0].num--;\n      },\n      handleCollect(index) {\n        this.weiboNews[index].collect = !this.weiboNews[index].collect;\n        this.weiboNews[index].collect ? \n        this.collectNum\x2b\x2b :\n        this.collectNum--;\n      },\n      handleLike(index) {\n        this.weiboNews[index].like = !this.weiboNews[index].like;\n        this.weiboNews[index].like ? \n        this.likeNum\x2b\x2b :\n        this.likeNum--;\n      }\n    }\n  }\n\x3c\/script\x3e\n\n\x3cstyle lang=\x26quot;less\x26quot;\x3e\n  \/\/css部分略\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/SinaWeibo.vue\x3c\/span\x3e\n\n\x26lt;template\x26gt;\n  \x26lt;div class=\x22weibo-page\x22\x26gt;\n    \x26lt;nav\x26gt;\n      \x26lt;span class=\x22weibo-logo\x22\x26gt;\x26lt;\/span\x26gt;\n      \x26lt;div class=\x22search-wrapper\x22\x26gt;\n        \x26lt;input type=\x22text\x22 placeholder=\x22大家正在搜: 李棠辉的文章好赞!\x22\x26gt;\n        \x26lt;img v-if=\x22!iconActive\x22 @mouseover=\x22mouseOverToIcon\x22 src=\x22..\/..\/static\/image\/search.png\x22 alt=\x22搜索icon\x22\x26gt;\n        \x26lt;img v-if=\x22iconActive\x22 @mouseout=\x22mouseOutToIcon\x22 src=\x22..\/..\/static\/image\/search-active.png\x22 alt=\x22搜索icon\x22\x26gt;\n      \x26lt;\/div\x26gt;\n    \x26lt;\/nav\x26gt;\n    \x26lt;div class=\x22main-container\x22\x26gt;\n      \x26lt;aside class=\x22aside-nav\x22\x26gt;\n        \x26lt;ul\x26gt;\n          \x26lt;li :class=\x22{ active: isActives[indexOfContent] }\x22 v-for=\x22(content, indexOfContent) in asideTab\x22 :key=\x22indexOfContent\x22 @click=\x22tabChange(indexOfContent)\x22\x26gt;\n            \x26lt;span\x26gt;\x22{{\x22content\x22}}\x22\x26lt;\/span\x26gt;\n            \x26lt;span class=\x22count\x22\x26gt;\n              \x26lt;span v-if=\x22indexOfContent === 1\x22\x26gt;(\x22{{\x22collectNum\x22}}\x22)\x26lt;\/span\x26gt;\n              \x26lt;span v-if=\x22indexOfContent === 2\x22\x26gt;(\x22{{\x22likeNum\x22}}\x22)\x26lt;\/span\x26gt;              \n            \x26lt;\/span\x26gt;\n          \x26lt;\/li\x26gt;\n        \x26lt;\/ul\x26gt;\n      \x26lt;\/aside\x26gt;\n      \x26lt;main class=\x22weibo-content\x22\x26gt;\n        \x26lt;div class=\x22weibo-publish-wrapper\x22\x26gt;\n          \x26lt;img src=\x22..\/..\/static\/image\/tell-people.png\x22\x26gt;\x26lt;\/img\x26gt;\n          \x26lt;textarea v-model=\x22newWeiboContent.content\x22\x26gt;\x26lt;\/textarea\x26gt;\n          \x26lt;button @click=\x22publishNewWeiboContent\x22\x26gt;发布\x26lt;\/button\x26gt;\n        \x26lt;\/div\x26gt;\n        \x26lt;div \n          class=\x22weibo-news\x22 \n          v-for=\x22(news, indexOfNews) in weiboNews\x22\n          :key=\x22indexOfNews\x22\x26gt;\n          \x26lt;div class=\x22content-wrapper\x22\x26gt;\n            \x26lt;div class=\x22news-title\x22\x26gt;\n            \x26lt;div class=\x22news-title__left\x22\x26gt;\n              \x26lt;img :src=\x22news.imgUrl\x22\x26gt;\n              \x26lt;div class=\x22title-text\x22\x26gt;\n                \x26lt;div class=\x22title-name\x22\x26gt;\x22{{\x22news.name\x22}}\x22\x26lt;\/div\x26gt;\n                \x26lt;div class=\x22title-time\x22\x26gt;\x22{{\x22news.resource\x22}}\x22\x26lt;\/div\x26gt;\n              \x26lt;\/div\x26gt;\n            \x26lt;\/div\x26gt;\n            \x26lt;button \n              class=\x22news-title__right add\x22 \n              v-if=\x22news.attention === false\x22\n              @click=\x22attention(indexOfNews)\x22\x26gt;\n              \x26lt;i class=\x22fa fa-plus\x22\x26gt;\x26lt;\/i\x26gt;\n              关注\n            \x26lt;\/button\x26gt;\n             \x26lt;button \n              class=\x22news-title__right cancel\x22 \n              v-if=\x22news.attention === true\x22\n              @click=\x22unAttention(indexOfNews)\x22\x26gt;\n              \x26lt;i class=\x22fa fa-close\x22\x26gt;\x26lt;\/i\x26gt;\n              取消关注\n            \x26lt;\/button\x26gt;\n          \x26lt;\/div\x26gt;\n          \x26lt;div class=\x22news-content\x22\x26gt;\x22{{\x22news.content\x22}}\x22\x26lt;\/div\x26gt;\n          \x26lt;div class=\x22news-image\x22 v-if=\x22news.images.length\x22\x26gt;\n            \x26lt;img \n            v-for=\x22(img, indexOfImg) in news.images\x22\n            :key=\x22indexOfImg\x22\n            :src=\x22img\x22\x26gt;\n          \x26lt;\/div\x26gt;\n          \x26lt;\/div\x26gt;\n          \x26lt;ul class=\x22news-panel\x22\x26gt;\n            \x26lt;li @click=\x22handleCollect(indexOfNews)\x22\x26gt;\n              \x26lt;i class=\x22fa fa-star-o\x22 :class=\x22{collected: news.collect }\x22\x26gt;\x26lt;\/i\x26gt;\n              \x22{{\x22news.collect ? \x22已收藏\x22 : \x27收藏\x27\x22}}\x22\n            \x26lt;\/li\x26gt;\n            \x26lt;li\x26gt;\n              \x26lt;i class=\x22fa fa-external-link\x22\x26gt;\x26lt;\/i\x26gt;\n              转发\n            \x26lt;\/li\x26gt;\n            \x26lt;li\x26gt;\n              \x26lt;i class=\x22fa fa-commenting-o\x22\x26gt;\x26lt;\/i\x26gt;\n              评论\n            \x26lt;\/li\x26gt;\n            \x26lt;li @click=\x22handleLike(indexOfNews)\x22\x26gt;\n              \x26lt;i class=\x22fa fa-thumbs-o-up\x22 :class=\x22{liked: news.like}\x22\x26gt;\x26lt;\/i\x26gt;\n              \x22{{\x22news.like ? \x27取消赞\x27 : \x27赞\x27\x22}}\x22\n            \x26lt;\/li\x26gt;\n          \x26lt;\/ul\x26gt;\n        \x26lt;\/div\x26gt;\n\n      \x26lt;\/main\x26gt;\n      \x26lt;aside class=\x22aside-right\x22\x26gt;\n        \x26lt;div class=\x22profile-wrapper\x22\x26gt;\n          \x26lt;div class=\x22profile-top\x22\x26gt;\n            \x26lt;img src=\x22..\/..\/static\/image\/profile.jpg\x22\x26gt;\n          \x26lt;\/div\x26gt;\n          \x26lt;div class=\x22profile-bottom\x22\x26gt;\n            \x26lt;div class=\x22profile-name\x22\x26gt;Lee_tanghui\x26lt;\/div\x26gt;\n            \x26lt;ul class=\x22profile-info\x22\x26gt;\n              \x26lt;li \n                v-for=\x22(profile, indexOfProfile) in profileData\x22\n                :key=\x22indexOfProfile\x22\x26gt;\n                \x26lt;div class=\x22number\x22\x26gt;\x22{{\x22profile.num\x22}}\x22\x26lt;\/div\x26gt;\n                \x26lt;div class=\x22text\x22\x26gt;\x22{{\x22profile.text\x22}}\x22\x26lt;\/div\x26gt;\n              \x26lt;\/li\x26gt;\n            \x26lt;\/ul\x26gt;\n          \x26lt;\/div\x26gt;\n        \x26lt;\/div\x26gt;\n      \x26lt;\/aside\x26gt;\n    \x26lt;\/div\x26gt;\n    \x26lt;footer\x26gt;\n       Wish you like my blog! --- LITANGHUI\n    \x26lt;\/footer\x26gt;\n  \x26lt;\/div\x26gt;\n\x26lt;\/template\x26gt;\n\n\x26lt;script\x26gt;\n  \/\/引入假数据\n  import * as mockData from \x27..\/mock-data.js\x27\n\n  export default {\n    mounted() {\n      \/\/模拟获取数据\n      this.profileData = mockData.profileData;\n      this.weiboNews = mockData.weiboNews;\n      this.collectNum = mockData.collectNum;\n      this.likeNum = mockData.likeNum;\n\n    },\n    data() {\n      return {\n        iconActive: false,\n        asideTab: [\x22首页\x22, \x22我的收藏\x22, \x22我的赞\x22],\n        isActives: [true, false, false],\n        profileData: [],\n        weiboNews: [],\n        collectNum: 0,\n        likeNum: 0,\n        newWeiboContent:   {\n          imgUrl: \x27..\/..\/static\/image\/profile.jpg\x27,\n          name: \x27Lee_tanghui\x27,\n          resource: \x27刚刚 来自 网页版微博\x27,\n          content: \x27\x27,\n          images: []\n        },\n      }\n    },\n    methods: {\n      mouseOverToIcon() {\n        this.iconActive = true;\n      },\n      mouseOutToIcon() {\n        this.iconActive = false;\n      },\n      tabChange(indexOfContent) {\n        this.isActives.forEach((item, index) =\x26gt; {\n          index === indexOfContent ?\n            this.$set(this.isActives, index, true) :\n            this.$set(this.isActives, index, false);\n        })\n      },\n      publishNewWeiboContent() {\n        if(!this.newWeiboContent.content) {\n          alert(\x27请输入内容!\x27)\n          return;\n        }\n        const newWeibo = JSON.parse(JSON.stringify(this.newWeiboContent));\n        this.weiboNews.unshift(newWeibo);\n        this.newWeiboContent.content = \x27\x27;\n        this.profileData[2].num\x2b\x2b;\n      },\n      attention(index) {\n        this.weiboNews[index].attention = true;    \n        this.profileData[0].num\x2b\x2b;    \n      },\n      unAttention(index) {\n        this.weiboNews[index].attention = false;\n        this.profileData[0].num--;\n      },\n      handleCollect(index) {\n        this.weiboNews[index].collect = !this.weiboNews[index].collect;\n        this.weiboNews[index].collect ? \n        this.collectNum\x2b\x2b :\n        this.collectNum--;\n      },\n      handleLike(index) {\n        this.weiboNews[index].like = !this.weiboNews[index].like;\n        this.weiboNews[index].like ? \n        this.likeNum\x2b\x2b :\n        this.likeNum--;\n      }\n    }\n  }\n\x26lt;\/script\x26gt;\n\n\x26lt;style lang=\x22less\x22\x26gt;\n  \/\/css部分略\n\x26lt;\/style\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e\x3cstrong\x3e四. 项目单元测试脚本实战\x3c\/strong\x3e\x3c\/h2\x3e\n\x3cp\x3e我们将以上文提到的\x22项目中的交互逻辑和需求\x22为基础, 为\x3ccode\x3eSinaWeibo.vue\x3c\/code\x3e编写测试脚本, 下面我将展示测试用例编写过程:\x3c\/p\x3e\n\x3cp\x3e1.在文本框中输入内容后点击\x22发布\x22按钮(1), 会新发布内容到微博列表中, 且个人头像等下的微博数量(6)会增加1个\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22it(\x27点击发布按钮,发布新内容\x26amp;个人微博数量增加1个\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const textArea = wrapper.find(\x27.weibo-publish-wrapper textarea\x27);\n    const buttonOfPublish = wrapper.find(\x27.weibo-publish-wrapper button\x27);\n    const lengthOfWeiboNews = wrapper.vm.weiboNews.length;\n    const countOfMyWeibo = wrapper.vm.profileData[2].num;\n    \n    \/\/设置textArea的绑定数据\n    wrapper.setData({newWeiboContent: {\n      imgUrl: \x27..\/..\/static\/image\/profile.jpg\x27,\n      name: \x27Lee_tanghui\x27,\n      resource: \x27刚刚 来自 网页版微博\x27,\n      content: \x27欢迎来到我的微博\x27, \n      images: []\n    \x22}}\x22);\n    \/\/触发点击事件\n    buttonOfPublish.trigger(\x27click\x27);\n    const lengthOfWeiboNewsAfterPublish = wrapper.vm.weiboNews.length;\n    const countOfMyWeiboAfterPublish = wrapper.vm.profileData[2].num;\n\n    \/\/断言: 发布新内容\n    expect(lengthOfWeiboNewsAfterPublish).to.equal(lengthOfWeiboNews \x2b 1);\n    \/\/断言: 个人微博数量增加1个\n    expect(countOfMyWeiboAfterPublish).to.equal(countOfMyWeibo \x2b 1);\n    \n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eit(\x3cspan class=\x22hljs-string\x22\x3e\x27点击发布按钮,发布新内容\x26amp;个人微博数量增加1个\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e textArea = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.weibo-publish-wrapper textarea\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfPublish = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.weibo-publish-wrapper button\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e lengthOfWeiboNews = wrapper.vm.weiboNews.length;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyWeibo = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e].num;\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置textArea的绑定数据\x3c\/span\x3e\n    wrapper.setData({\x3cspan class=\x22hljs-attr\x22\x3enewWeiboContent\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3eimgUrl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/static\/image\/profile.jpg\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Lee_tanghui\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eresource\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27刚刚 来自 网页版微博\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27欢迎来到我的微博\x27\x3c\/span\x3e, \n      \x3cspan class=\x22hljs-attr\x22\x3eimages\x3c\/span\x3e: []\n    \x22}}\x22);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发点击事件\x3c\/span\x3e\n    buttonOfPublish.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e lengthOfWeiboNewsAfterPublish = wrapper.vm.weiboNews.length;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyWeiboAfterPublish = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e].num;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 发布新内容\x3c\/span\x3e\n    expect(lengthOfWeiboNewsAfterPublish).to.equal(lengthOfWeiboNews \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 个人微博数量增加1个\x3c\/span\x3e\n    expect(countOfMyWeiboAfterPublish).to.equal(countOfMyWeibo \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    \n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e测试结果:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654042?w=591\x26amp;h=51\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654042?w=591\x26amp;h=51\x22 alt=\x22通过测试\x22 title=\x22通过测试\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e2.当文本框中无内容时, 不能发布空微博到微博列表, 且弹出提示框, 叫用户输入内容\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 it(\x27当文本框中无内容时, 不能发布空微博到微博列表, 且弹出提示框\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const textArea = wrapper.find(\x27.weibo-publish-wrapper textarea\x27);\n    const buttonOfPublish = wrapper.find(\x27.weibo-publish-wrapper button\x27);\n    const lengthOfWeiboNews = wrapper.vm.weiboNews.length;\n    const countOfMyWeibo = wrapper.vm.profileData[2].num;\n    \n    \/\/设置textArea的绑定数据为空\n    wrapper.setData({newWeiboContent: {\n      imgUrl: \x27..\/..\/static\/image\/profile.jpg\x27,\n      name: \x27Lee_tanghui\x27,\n      resource: \x27刚刚 来自 网页版微博\x27,\n      content: \x27\x27, \n      images: []\n    \x22}}\x22);\n    \/\/触发点击事件\n    buttonOfPublish.trigger(\x27click\x27);\n    const lengthOfWeiboNewsAfterPublish = wrapper.vm.weiboNews.length;\n    const countOfMyWeiboAfterPublish = wrapper.vm.profileData[2].num;\n\n    \/\/断言: 没有发布新内容\n    expect(lengthOfWeiboNewsAfterPublish).to.equal(lengthOfWeiboNews);\n    \/\/断言: 个人微博数量不变\n    expect(countOfMyWeiboAfterPublish).to.equal(countOfMyWeibo);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e it(\x3cspan class=\x22hljs-string\x22\x3e\x27当文本框中无内容时, 不能发布空微博到微博列表, 且弹出提示框\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e textArea = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.weibo-publish-wrapper textarea\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfPublish = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.weibo-publish-wrapper button\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e lengthOfWeiboNews = wrapper.vm.weiboNews.length;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyWeibo = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e].num;\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置textArea的绑定数据为空\x3c\/span\x3e\n    wrapper.setData({\x3cspan class=\x22hljs-attr\x22\x3enewWeiboContent\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3eimgUrl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/static\/image\/profile.jpg\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Lee_tanghui\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eresource\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27刚刚 来自 网页版微博\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e, \n      \x3cspan class=\x22hljs-attr\x22\x3eimages\x3c\/span\x3e: []\n    \x22}}\x22);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发点击事件\x3c\/span\x3e\n    buttonOfPublish.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e lengthOfWeiboNewsAfterPublish = wrapper.vm.weiboNews.length;\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyWeiboAfterPublish = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e].num;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 没有发布新内容\x3c\/span\x3e\n    expect(lengthOfWeiboNewsAfterPublish).to.equal(lengthOfWeiboNews);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 个人微博数量不变\x3c\/span\x3e\n    expect(countOfMyWeiboAfterPublish).to.equal(countOfMyWeibo);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e测试结果:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654043?w=732\x26amp;h=117\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654043?w=732\x26amp;h=117\x22 alt=\x22image_1c2l52h0i11e51fjqm9o8751m7hm.png-32.4kB\x22 title=\x22image_1c2l52h0i11e51fjqm9o8751m7hm.png-32.4kB\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e3.当点击\x22关注\x22(2), 个人头像下关注的数量(5)会增加1个, 且按钮内字体变成\x22取消关注\x22; 当点击\x22取消关注\x22(2), 个人头像下的数量(5)会减少1个, 且按钮内字体变成\x22关注\x22\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27当点击\x26quot;关注\x26quot;, 个人头像下关注的数量会增加1个, 且按钮内字体变成\x26quot;取消关注\x26quot;\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const buttonOfAddAttendion = wrapper.find(\x27.add\x27);\n    const countOfMyAttention = wrapper.vm.profileData[0].num;\n  \n    \/\/触发事件\n    buttonOfAddAttendion.trigger(\x27click\x27);\n    \n    const countOfMyAttentionAfterClick = wrapper.vm.profileData[0].num;\n\n    \/\/断言: 个人头像下关注的数量会增加1个\n    expect(countOfMyAttentionAfterClick).to.equal(countOfMyAttention \x2b 1);\n    \/\/断言: 按钮内字体变成\x26quot;取消关注\n    expect(buttonOfAddAttendion.text()).to.equal(\x27取消关注\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27当点击\x22关注\x22, 个人头像下关注的数量会增加1个, 且按钮内字体变成\x22取消关注\x22\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfAddAttendion = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.add\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyAttention = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].num;\n  \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发事件\x3c\/span\x3e\n    buttonOfAddAttendion.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyAttentionAfterClick = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].num;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 个人头像下关注的数量会增加1个\x3c\/span\x3e\n    expect(countOfMyAttentionAfterClick).to.equal(countOfMyAttention \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 按钮内字体变成\x22取消关注\x3c\/span\x3e\n    expect(buttonOfAddAttendion.text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27取消关注\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27当点击\x26quot;取消关注\x26quot;, 个人头像下关注的数量会减少1个, 且按钮内字体变成\x26quot;关注\x26quot;\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const buttonOfUnAttendion = wrapper.find(\x27.cancel\x27);\n    const countOfMyAttention = wrapper.vm.profileData[0].num;\n  \n    \/\/触发事件\n    buttonOfUnAttendion.trigger(\x27click\x27);\n    \n    const countOfMyAttentionAfterClick = wrapper.vm.profileData[0].num;\n\n    \/\/断言: 个人头像下关注的数量会增加1个\n    expect(countOfMyAttentionAfterClick).to.equal(countOfMyAttention - 1);\n    \/\/断言: 按钮内字体变成\x26quot;取消关注\n    expect(buttonOfUnAttendion.text()).to.equal(\x27关注\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27当点击\x22取消关注\x22, 个人头像下关注的数量会减少1个, 且按钮内字体变成\x22关注\x22\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfUnAttendion = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.cancel\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyAttention = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].num;\n  \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发事件\x3c\/span\x3e\n    buttonOfUnAttendion.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyAttentionAfterClick = wrapper.vm.profileData[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].num;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 个人头像下关注的数量会增加1个\x3c\/span\x3e\n    expect(countOfMyAttentionAfterClick).to.equal(countOfMyAttention - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 按钮内字体变成\x22取消关注\x3c\/span\x3e\n    expect(buttonOfUnAttendion.text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27关注\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e测试结果:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654044?w=879\x26amp;h=156\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654044?w=879\x26amp;h=156\x22 alt=\x22image_1c2lbcvod1d7ton71mod1i6b1bt13.png-62.3kB\x22 title=\x22image_1c2lbcvod1d7ton71mod1i6b1bt13.png-62.3kB\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e4.当点击\x22收藏\x22(3)时, 我的收藏(7)会增加1个数量, 且按钮内文字变成\x22已收藏\x22; 点击\x22已收藏\x22(3)时, 我的收藏(7)会减少1个数量, 且按钮内文字变成\x22收藏\x22\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27当点击\x26quot;收藏\x26quot;时, 我的收藏会增加1个数量, 且按钮内文字变成\x26quot;已收藏\x26quot;\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const buttonOfCollect = wrapper.find(\x27.collectWeibo\x27);\n    const countOfMyCollect = Number(wrapper.find(\x27.collect-num span\x27).text());\n\n    \/\/触发点击事件\n    buttonOfCollect.trigger(\x27click\x27);\n    const countOfMyCollectAfterClick = Number(wrapper.find(\x27.collect-num span\x27).text());\n\n    \/\/断言: 我的收藏数量会加1\n    expect(countOfMyCollectAfterClick).to.equal(countOfMyCollect \x2b 1);\n    \/\/断言: 按钮内文字变成已收藏\n    expect(buttonOfCollect.text()).to.equal(\x27已收藏\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27当点击\x22收藏\x22时, 我的收藏会增加1个数量, 且按钮内文字变成\x22已收藏\x22\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfCollect = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.collectWeibo\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyCollect = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.collect-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发点击事件\x3c\/span\x3e\n    buttonOfCollect.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyCollectAfterClick = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.collect-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 我的收藏数量会加1\x3c\/span\x3e\n    expect(countOfMyCollectAfterClick).to.equal(countOfMyCollect \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 按钮内文字变成已收藏\x3c\/span\x3e\n    expect(buttonOfCollect.text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27已收藏\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27当点击\x26quot;已收藏\x26quot;时, 我的收藏会减少1个数量, 且按钮内文字变成\x26quot;收藏\x26quot;\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const buttonOfUnCollect = wrapper.find(\x27.uncollectWeibo\x27);\n    const countOfMyCollect = Number(wrapper.find(\x27.collect-num span\x27).text());\n\n    \/\/触发点击事件\n    buttonOfUnCollect.trigger(\x27click\x27);\n    const countOfMyCollectAfterClick = Number(wrapper.find(\x27.collect-num span\x27).text());\n\n    \/\/断言: 我的收藏数量会减1\n    expect(countOfMyCollectAfterClick).to.equal(countOfMyCollect - 1 );\n    \/\/断言: 按钮内文字变成已收藏\n    expect(buttonOfUnCollect.text()).to.equal(\x27收藏\x27);\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27当点击\x22已收藏\x22时, 我的收藏会减少1个数量, 且按钮内文字变成\x22收藏\x22\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfUnCollect = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.uncollectWeibo\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyCollect = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.collect-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发点击事件\x3c\/span\x3e\n    buttonOfUnCollect.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyCollectAfterClick = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.collect-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 我的收藏数量会减1\x3c\/span\x3e\n    expect(countOfMyCollectAfterClick).to.equal(countOfMyCollect - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e );\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 按钮内文字变成已收藏\x3c\/span\x3e\n    expect(buttonOfUnCollect.text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27收藏\x27\x3c\/span\x3e);\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e测试结果:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654045?w=908\x26amp;h=186\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654045?w=908\x26amp;h=186\x22 alt=\x22image_1c2lbdfe9i5jrja10cc447rgj1g.png-88.6kB\x22 title=\x22image_1c2lbdfe9i5jrja10cc447rgj1g.png-88.6kB\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e5.当点击\x22赞\x22(4), 我的赞(8)会增加1个数量, 且按钮内文字变成\x22取消赞\x22; 点击\x22取消赞\x22(3)时, 我的赞(8)会减少1个数量, 且按钮内文字变成\x22赞\x22\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  it(\x27当点击\x26quot;赞\x26quot;, 我的赞会增加1个数量, 且按钮内文字变成\x26quot;取消赞\x26quot;\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const buttonOfLike = wrapper.find(\x27.dislikedWeibo\x27);\n    const countOfMyLike = Number(wrapper.find(\x27.like-num span\x27).text());\n\n    \/\/触发点击事件\n    buttonOfLike.trigger(\x27click\x27);\n    const countOfMyLikeAfterClick = Number(wrapper.find(\x27.like-num span\x27).text());\n\n    \/\/断言: 我的赞会增加1个数量\n    expect(countOfMyLikeAfterClick).to.equal(countOfMyLike \x2b 1);\n    \/\/断言: 按钮内文字变成取消赞\n    expect(buttonOfLike.text()).to.equal(\x27取消赞\x27);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  it(\x3cspan class=\x22hljs-string\x22\x3e\x27当点击\x22赞\x22, 我的赞会增加1个数量, 且按钮内文字变成\x22取消赞\x22\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfLike = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.dislikedWeibo\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyLike = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.like-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发点击事件\x3c\/span\x3e\n    buttonOfLike.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyLikeAfterClick = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.like-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 我的赞会增加1个数量\x3c\/span\x3e\n    expect(countOfMyLikeAfterClick).to.equal(countOfMyLike \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 按钮内文字变成取消赞\x3c\/span\x3e\n    expect(buttonOfLike.text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27取消赞\x27\x3c\/span\x3e);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22it(\x27当点击\x26quot;取消赞\x26quot;, 我的赞会减少1个数量, 且按钮内文字变成\x26quot;赞\x26quot;\x27, () =\x3e {\n    const wrapper = mount(SinaWeibo);\n    const buttonOfDislike = wrapper.find(\x27.likedWeibo\x27);\n    const countOfMyLike = Number(wrapper.find(\x27.like-num span\x27).text());\n\n    \/\/触发点击事件\n    buttonOfDislike.trigger(\x27click\x27);\n    const countOfMyLikeAfterClick = Number(wrapper.find(\x27.like-num span\x27).text());\n\n    \/\/断言: 我的赞会增加1个数量\n    expect(countOfMyLikeAfterClick).to.equal(countOfMyLike - 1);\n    \/\/断言: 按钮内文字变成取消赞\n    expect(buttonOfDislike.text()).to.equal(\x27赞\x27);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eit(\x3cspan class=\x22hljs-string\x22\x3e\x27当点击\x22取消赞\x22, 我的赞会减少1个数量, 且按钮内文字变成\x22赞\x22\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = mount(SinaWeibo);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buttonOfDislike = wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.likedWeibo\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyLike = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.like-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发点击事件\x3c\/span\x3e\n    buttonOfDislike.trigger(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e countOfMyLikeAfterClick = \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(wrapper.find(\x3cspan class=\x22hljs-string\x22\x3e\x27.like-num span\x27\x3c\/span\x3e).text());\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 我的赞会增加1个数量\x3c\/span\x3e\n    expect(countOfMyLikeAfterClick).to.equal(countOfMyLike - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/断言: 按钮内文字变成取消赞\x3c\/span\x3e\n    expect(buttonOfDislike.text()).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27赞\x27\x3c\/span\x3e);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e测试结果\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012654046?w=1050\x26amp;h=520\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012654046?w=1050\x26amp;h=520\x22 alt=\x22image_1c2lbdt271iqs1tv34va1jlv5cb1t.png-151.9kB\x22 title=\x22image_1c2lbdt271iqs1tv34va1jlv5cb1t.png-151.9kB\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e\n\x3cstrong\x3e项目地址\x3c\/strong\x3e:\x3c\/h2\x3e\n\x3cblockquote\x3eGit仓库: \x3ca href=\x22https:\/\/github.com\/Lee-Tanghui\/Vue-Testing-Demo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/Lee-Tanghu...\x3c\/a\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e\x3cstrong\x3e参考文章\x3c\/strong\x3e\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2015\/12\/a-mocha-tutorial-of-examples.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e测试框架 Mocha 实例教程 - 阮一峰\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.jianshu.com\/p\/f200a75a15d2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eChai.js断言库API中文文档\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.zhihu.com\/question\/50566681\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e知乎: 如果对vue进行单元测试\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/violetjack0808\/article\/details\/73740395\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue.js学习系列六——Vue单元测试Karma\x2bMocha学习笔记\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Vue单元测试实战教程(Mocha/Karma + Vue-Test-Utils + Chai)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012654035">https://segmentfault.com/a/1190000012654035</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ee1x416s6l/" target="_blank">https://alili.tech/archive/ee1x416s6l/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>