<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="vue &#43; vuex &#43; koa2开发环境搭建及示例开发"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>vue &#43; vuex &#43; koa2开发环境搭建及示例开发 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/eggs1fyc3j7/",
				"appid": "1613049289050283", 
				"title": "vue &#43; vuex &#43; koa2开发环境搭建及示例开发 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-17T02:30:06"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/3adn5cth4i8/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/v6yyypsiyxn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&text=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&text=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&title=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&is_video=false&description=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&title=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&title=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&title=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feggs1fyc3j7%2f&title=vue%20%2b%20vuex%20%2b%20koa2%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e5%8f%8a%e7%a4%ba%e4%be%8b%e5%bc%80%e5%8f%91"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">vue &#43; vuex &#43; koa2开发环境搭建及示例开发</h1><div class="meta"><div class="postdate"><time datetime="2018-12-17" itemprop="datePublished">2018-12-17</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e写在前面\x3c\/h2\x3e\n\x3cp\x3e这篇文章的主要目的是学会使用koa框架搭建web服务，从而提供一些后端接口，供前端调用。\x3cbr\x3e搭建这个环境的目的是： 前端工程师在跟后台工程师商定了接口但还未联调之前，涉及到向后端请求数据的功能能够走前端工程师自己搭建的http路径，而不是直接在前端写几个死数据。即，模拟后端接口。\x3c\/p\x3e\n\x3cp\x3e当然在这整个过程（搭建环境 \x2b 开发示例demo）中，涉及到以下几点知识点。\x3cbr\x3e包括：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3ekoa2的知识点\x3c\/li\x3e\n\x3cli\x3enode的知识点\x3c\/li\x3e\n\x3cli\x3e跨域问题\x3c\/li\x3e\n\x3cli\x3efetch的使用\x3c\/li\x3e\n\x3cli\x3eaxios的使用\x3c\/li\x3e\n\x3cli\x3epromise的涉及\x3c\/li\x3e\n\x3cli\x3evuex -\x26gt; state、mutations、actions的使用\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e第一部分：环境搭建\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3evue \x2b vuex环境\x3c\/h3\x3e\n\x3cp\x3e首先是vue \x2b vue-router \x2b vuex的环境。我们用vue-cli脚手架生成项目，会用vue的同学对这块应该很熟了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 全局安装脚手架工具\nnpm i vue-vli -g\n\/\/ 验证脚手架工具安装成功与否\nvue --version\n\/\/ 构建项目\nvue init webpack 项目名\n\/\/ 测试vue项目是否运行成功\nnpm run dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局安装脚手架工具\x3c\/span\x3e\nnpm i vue-vli -\x3cspan class=\x22hljs-keyword\x22\x3eg\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 验证脚手架工具安装成功与否\x3c\/span\x3e\nvue --\x3cspan class=\x22hljs-keyword\x22\x3eversion\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 构建项目\x3c\/span\x3e\nvue init webpack 项目名\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 测试vue项目是否运行成功\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为脚手架生成的vue项目不包含vuex，所以再安装vuex。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 安装vuex\nnpm i vuex --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 安装vuex\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e vuex --save\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3ekoa2环境\x3c\/h3\x3e\n\x3cp\x3e前端项目构建好了，就开始构建我们的后端服务。\x3c\/p\x3e\n\x3cp\x3e首先在你的开发工具（不管是webstorm还是sublime）里新建一个目录，用来搭建基于koa的web服务。\x3c\/p\x3e\n\x3cp\x3e在这里，我们不妨给这个目录起名为koa-demo。\x3c\/p\x3e\n\x3cp\x3e然后执行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 进入目录\ncd koa-demo\n\/\/ 生成package.json\nnpm init -y\n\/\/ 安装以下依赖项\nnpm i koa\nnpm i koa-router\nnpm i koa-cors\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 进入目录\x3c\/span\x3e\ncd koa-demo\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 生成package.json\x3c\/span\x3e\nnpm init -y\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 安装以下依赖项\x3c\/span\x3e\nnpm \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e koa\nnpm \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e koa-router\nnpm \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e koa-cors\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装好koa和两个中间件，环境就算搭建完成了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e第二部分：示例开发\x3c\/h2\x3e\n\x3cp\x3e搭建环境是为了使用，所以我们立马来写一个demo出来。\x3cbr\x3edemo开发既是一个练习如何在开发环境中写代码的过程，反过来，也是一个验证环境搭建的对不对、好不好用的过程。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e后端接口开发\x3c\/h3\x3e\n\x3cp\x3e本例中，后端我们只提供一个服务，就是给前端提供一个返回json数据的接口。代码中包含注释，所以直接上代码。\x3c\/p\x3e\n\x3cp\x3eserver.js文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\/\/ server.js文件\n\nlet Koa = require(\x27koa\x27);\nlet Router = require(\x27koa-router\x27);\n\nlet cors = require(\x27koa-cors\x27);\n\/\/ 引入modejs的文件系统API\nlet fs = require(\x27fs\x27);\n\nconst app = new Koa();\nconst router = new Router();\n\n\/\/ 提供一个\/getJson接口\nrouter\n    .get(\x27\/getJson\x27, async ctx =\x3e {\n        \/\/ 后端允许cors跨域请求\n        await cors();\n        \/\/ 返回给前端的数据\n        ctx.body = JSON.parse(fs.readFileSync( \x27.\/static\/material.json\x27));\n    \n    });\n\n\/\/ 将koa和两个中间件连起来\napp.use(router.routes()).use(router.allowedMethods());\n\n\/\/ 监听3000端口\napp.listen(3000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ server.js文件\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e Koa = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e Router = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa-router\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e cors = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa-cors\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入modejs的文件系统API\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e fs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Koa();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e router = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 提供一个\/getJson接口\x3c\/span\x3e\nrouter\n    .get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/getJson\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e ctx =\x26gt; {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 后端允许cors跨域请求\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e cors();\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回给前端的数据\x3c\/span\x3e\n        ctx.body = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(fs.readFileSync( \x3cspan class=\x22hljs-string\x22\x3e\x27.\/static\/material.json\x27\x3c\/span\x3e));\n    \n    });\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将koa和两个中间件连起来\x3c\/span\x3e\napp.use(router.routes()).use(router.allowedMethods());\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 监听3000端口\x3c\/span\x3e\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里面用到了一个json文件，在\x27.\/static\/material.json\x27路径，该json文件的代码是：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ material.json文件\n\n[{\n    \x26quot;id\x26quot;: 1,\n    \x26quot;date\x26quot;: \x26quot;2016-05-02\x26quot;,\n    \x26quot;name\x26quot;: \x26quot;张三\x26quot;,\n    \x26quot;address\x26quot;: \x26quot;北京 清华大学\x26quot;,\n}, {\n    \x26quot;id\x26quot;: 2,\n    \x26quot;date\x26quot;: \x26quot;2016-05-04\x26quot;,\n    \x26quot;name\x26quot;: \x26quot;李四\x26quot;,\n    \x26quot;address\x26quot;: \x26quot;上海 复旦大学\x26quot;,\n}, {\n    \x26quot;id\x26quot;: 3,\n    \x26quot;date\x26quot;: \x26quot;2016-05-01\x26quot;,\n    \x26quot;name\x26quot;: \x26quot;王五\x26quot;,\n    \x26quot;address\x26quot;: \x26quot;广东 中山大学\x26quot;,\n}, {\n    \x26quot;id\x26quot;: 4,\n    \x26quot;date\x26quot;: \x26quot;2016-05-03\x26quot;,\n    \x26quot;name\x26quot;: \x26quot;赵六\x26quot;,\n    \x26quot;address\x26quot;: \x26quot;广东 深圳大学\x26quot;,\n}, {\n    \x26quot;id\x26quot;: 5,\n    \x26quot;date\x26quot;: \x26quot;2016-05-05\x26quot;,\n    \x26quot;name\x26quot;: \x26quot;韩梅梅\x26quot;,\n    \x26quot;address\x26quot;: \x26quot;四川 四川大学\x26quot;,\n}, {\n    \x26quot;id\x26quot;: 6,\n    \x26quot;date\x26quot;: \x26quot;2016-05-11\x26quot;,\n    \x26quot;name\x26quot;: \x26quot;刘小律\x26quot;,\n    \x26quot;address\x26quot;: \x26quot;湖南 中南大学\x26quot;,\n}, {\n    \x26quot;id\x26quot;: 7,\n    \x26quot;date\x26quot;: \x26quot;2016-04-13\x26quot;,\n    \x26quot;name\x26quot;: \x26quot;曾坦\x26quot;,\n    \x26quot;address\x26quot;: \x26quot;江苏 南京大学\x26quot;,\n}]\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\/\/ material.json文件\n\n[{\n    \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22date\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222016-05-02\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22张三\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22北京 清华大学\x22\x3c\/span\x3e,\n}, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22date\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222016-05-04\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22李四\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22上海 复旦大学\x22\x3c\/span\x3e,\n}, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22date\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222016-05-01\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22王五\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22广东 中山大学\x22\x3c\/span\x3e,\n}, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22date\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222016-05-03\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22赵六\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22广东 深圳大学\x22\x3c\/span\x3e,\n}, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22date\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222016-05-05\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22韩梅梅\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22四川 四川大学\x22\x3c\/span\x3e,\n}, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22date\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222016-05-11\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22刘小律\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22湖南 中南大学\x22\x3c\/span\x3e,\n}, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22date\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222016-04-13\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22曾坦\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22江苏 南京大学\x22\x3c\/span\x3e,\n}]\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后我们是用以下命令将服务启动\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22node server.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eserver\x3c\/span\x3e.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e测试接口是否良好\x3c\/h3\x3e\n\x3cp\x3e打开浏览器，输入\x3ca href=\x22http:\/\/127.0.0.1\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/127.0.0.1\x3c\/a\x3e:3000\/getJson。看一看页面上是否将json文件中的json数据显示出来，如果能够显示出来，则说明这个提供json数据的服务，我们已经搭建好了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e前端调用后端接口示例\x3c\/h3\x3e\n\x3cp\x3e为突出重点，排除干扰，方便理解。我们的前端就写一个组件，\x3cstrong\x3e组件有两部分：首先是一个按钮，用来调用web服务的getJson接口；然后是一个内容展示区域，拿到后端返回的数据以后，将其在组件的这块区域显示出来\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e首先我们看\x3cstrong\x3e组件文件\x3c\/strong\x3e吧\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n    \x3cdiv class=\x26quot;test\x26quot;\x3e\n        \x3cbutton type=\x26quot;button\x26quot; @click=\x26quot;getJson\x26quot;\x3e从后端取json\x3c\/button\x3e\n        \x3cdiv class=\x26quot;showJson\x26quot;\x3e\x22{{\x22json\x22}}\x22\x3c\/div\x3e\n    \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\n    import {store} from \x27..\/vuex\x27\n    export default {\n        computed: {\n          json(){\n              return store.state.json;\n          }\n        },\n        methods: {\n          getJson(){\n              store.dispatch(\x26quot;getJson\x26quot;);\n          }\n        }\n    }\n\x3c\/script\x3e\n\n\x3cstyle scoped\x3e\n  .showJson{\n    width:500px;\n    margin:10px auto;\n    min-height:500px;\n    background-color: palegreen;\n  }\n\x3c\/style\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22getJson\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e从后端取json\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22showJson\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22json\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {store} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/vuex\x27\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n          json(){\n              \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e store.state.json;\n          }\n        },\n        \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n          getJson(){\n              store.dispatch(\x3cspan class=\x22hljs-string\x22\x3e\x22getJson\x22\x3c\/span\x3e);\n          }\n        }\n    }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3escoped\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.showJson\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e500px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10px\x3c\/span\x3e auto;\n    \x3cspan class=\x22hljs-attribute\x22\x3emin-height\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e500px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: palegreen;\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e非常简单，就不多解释了。\x3cbr\x3e然后看我们的\x3cstrong\x3evuex文件\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\nimport Vuex from \x27vuex\x27;\n\nVue.use(Vuex)\nconst state = {\n    json: [],\n};\n\nconst mutations = {\n  setJson(state, db){\n    state.json = db;\n  }\n}\n\nconst actions = {\n  getJson(context){\n    \/\/ 调用我们的后端getJson接口\n    fetch(\x27http:\/\/127.0.0.1:3000\/json\x27, {\n      method: \x27GET\x27,\n      \/\/ mode:\x27cors\x27,\n      headers: {\n        \x27Accept\x27: \x27application\/json\x27,\n        \x27Content-Type\x27: \x27application\/json\x27,\n      },\n    }).then(function (res) {\n      if(res.status === 200){\n        return res.json()\n      }\n    }).then(function (json) {\n\n      \/\/console.log(typeof Array.from(json), Array.from(json));\n      context.commit(\x27setJson\x27, Array.from(json));\n    })\n  }\n};\n\nexport const store = new Vuex.Store({\n  state: state,\n  mutations: mutations,\n  actions: actions,\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3eimport Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27vue\x27\nimport Vuex \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27vuex\x27;\n\nVue.use(Vuex)\nconst \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e = {\n    json: [],\n};\n\nconst mutations = {\n  \x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3eJson(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, db){\n    \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.json = db;\n  }\n}\n\nconst actions = {\n  getJson(context){\n    \/\/ 调用我们的后端getJson接口\n    fetch(\x27http:\/\/\x3cspan class=\x22hljs-number\x22\x3e127.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.1\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e\/json\x27, {\n      method: \x27GET\x27,\n      \/\/ mode:\x27cors\x27,\n      headers: {\n        \x27Accept\x27: \x27application\/json\x27,\n        \x27Content-Type\x27: \x27application\/json\x27,\n      },\n    }).then(function (res) {\n      if(res.status === \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e){\n        return res.json()\n      }\n    }).then(function (json) {\n\n      \/\/console.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(typeof Array.\x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e(json), Array.\x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e(json));\n      context.commit(\x27\x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3eJson\x27, Array.\x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e(json));\n    })\n  }\n};\n\nexport const store = new Vuex.Store({\n  \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e,\n  mutations: mutations,\n  actions: actions,\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eok, 代码撸完了，获取后端数据之前是这样的。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012922023?w=531\x26amp;h=429\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012922023?w=531\x26amp;h=429\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e获取后端数据之后是这样的。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012922024?w=587\x26amp;h=312\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012922024?w=587\x26amp;h=312\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e说说axios\x3c\/h3\x3e\n\x3cp\x3e想要把本demo的fetch改为axios方式，要做的工作有以下几处：\x3cbr\x3e1、安装axios、在vuex文件引用axios\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i axios\nimport axios from \x27axios\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e i axios\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e axios \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27axios\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2、将fetch部分代码替换为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const actions = {\n  getJson(context){\n    axios.get(\x27\/json\x27, {\n      method: \x27GET\x27,\n      \/\/ mode:\x27cors\x27,\n      headers: {\n        \x27Accept\x27: \x27application\/json\x27,\n        \x27Content-Type\x27: \x27application\/json\x27,\n      },\n    }).then(function (res) {\n      if(res.status === 200){\n        return res.data\n      }\n    }).then(function (json) {\n\n      \/\/console.log(typeof Array.from(json), Array.from(json));\n      context.commit(\x27setJson\x27, Array.from(json));\n    })\n  }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ada\x22\x3e\x3ccode\x3econst actions = {\n  getJson(context){\n    axios.get(\x27\/json\x27, {\n      method: \x3cspan class=\x22hljs-symbol\x22\x3e\x27GET\x3c\/span\x3e\x27,\n      \/\/ mode:\x3cspan class=\x22hljs-symbol\x22\x3e\x27cors\x3c\/span\x3e\x27,\n      headers: {\n        \x3cspan class=\x22hljs-symbol\x22\x3e\x27Accept\x3c\/span\x3e\x27: \x3cspan class=\x22hljs-symbol\x22\x3e\x27application\x3c\/span\x3e\/json\x27,\n        \x3cspan class=\x22hljs-symbol\x22\x3e\x27Content\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3eType\x3c\/span\x3e\x27: \x3cspan class=\x22hljs-symbol\x22\x3e\x27application\x3c\/span\x3e\/json\x27,\n      },\n    }).\x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e\x3c\/span\x3e(res) {\n      if(res.status === 200){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eres.data\x3c\/span\x3e\n      }\n    }).\x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e\x3c\/span\x3e(json) {\n\n      \/\/console.log(typeof Array.from(json), Array.from(json));\n      context.commit(\x3cspan class=\x22hljs-symbol\x22\x3e\x27setJson\x3c\/span\x3e\x27, \x3cspan class=\x22hljs-keyword\x22\x3eArray\x3c\/span\x3e.from(json));\n    })\n  }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e3、又会遇到跨域，在webpack中修改，路径config\/index.js文件中添加proxyTable项的配置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22proxyTable: {\n      \x27\/json\x27: {\n        target: \x27http:\/\/127.0.0.1:3000\x27,\n        changeOrigin: true,\n        pathRewrite: {\n          \x27^\/json\x27: \x27\/json\x27\n        }\n      }\n    },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3eproxyTable\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x27\/json\x27\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attribute\x22\x3etarget\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/127.0.0.1:3000\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3echangeOrigin\x3c\/span\x3e: true,\n        \x3cspan class=\x22hljs-attribute\x22\x3epathRewrite\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-string\x22\x3e\x27^\/json\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/json\x27\x3c\/span\x3e\n        }\n      }\n    },\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e后记\x3c\/h2\x3e\n\x3cp\x3e基于vue脚手架搭建的项目，模拟异步取数据，也可以直接在脚手架生成的\x3cstrong\x3estatic文件夹\x3c\/strong\x3e下放置数据，假装是后台拿过来的数据。\x3c\/p\x3e\n\x3cp\x3e不过搭建一个基于express或者koa的web服务，确实也该是一个前端工程师应该掌握的。\x3c\/p\x3e\n\x3cp\x3eOK，以上就是全文了。\x3cbr\x3e如果这篇文章使你有所收获，不胜荣幸。\x3cbr\x3e欢迎点赞，以期能帮助更多同学！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e关于作者\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/cunzaizhuyi.github.io\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e技术博客\x3c\/a\x3e  || \x3ca href=\x22https:\/\/github.com\/cunzaizhuyi\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGitHub\x3c\/a\x3e  || \x3ca href=\x22https:\/\/juejin.im\/user\/5934c9f5fe88c20061cc7058\/posts\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e掘金主页\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>vue + vuex + koa2开发环境搭建及示例开发</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012918518">https://segmentfault.com/a/1190000012918518</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/eggs1fyc3j7/" target="_blank">https://alili.tech/archive/eggs1fyc3j7/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>