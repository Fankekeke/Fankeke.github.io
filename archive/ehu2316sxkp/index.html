<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="浅析vue的双向数据绑定"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>浅析vue的双向数据绑定 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ehu2316sxkp/",
				"appid": "1613049289050283", 
				"title": "浅析vue的双向数据绑定 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-05T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ofebhmjrmp/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/jbrp77t5o9/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&text=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&text=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&title=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&is_video=false&description=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&title=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&title=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&title=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fehu2316sxkp%2f&title=%e6%b5%85%e6%9e%90vue%e7%9a%84%e5%8f%8c%e5%90%91%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">浅析vue的双向数据绑定</h1><div class="meta"><div class="postdate"><time datetime="2018-12-05" itemprop="datePublished">2018-12-05</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e1.原理\x3c\/h1\x3e\n\x3cp\x3evue的双向数据绑定的原理相信大家都十分了解；主要是通过ES5的\x3ccode\x3eObject对象的defineProperty属性；重写data的set和get函数\x3c\/code\x3e来实现的\x3c\/p\x3e\n\x3cblockquote\x3e所以接下来不使用ES6进行实际的代码开发；过程中如果函数使用父级\x3ccode\x3ethis\x3c\/code\x3e的情况；还是使用\x3ccode\x3e显示缓存中间变量\x3c\/code\x3e和\x3ccode\x3e闭包\x3c\/code\x3e来处理；\x3cem\x3e原因是箭头函数没有独立的\x3ccode\x3e执行上下文this\x3c\/code\x3e；所以箭头函数内部出现\x3ccode\x3ethis\x3c\/code\x3e对象会直接访问父级；所以也能看出箭头函数是无法完全替代function的使用场景的；比如我们需要独立的\x3ccode\x3ethis\x3c\/code\x3e或者\x3ccode\x3eargument\x3c\/code\x3e的时候\x3c\/em\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e1.2 defineProperty是什么\x3c\/h2\x3e\n\x3cp\x3e语法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Object.defineProperty(obj, prop, descriptor)\n参数：\n    obj：必要的目标对象\n    prop：必要的需要定义或者修改的属性名\n    descriptor：必要的目标属性全部拥有的属性\n返回值：\n返回传入的第一个函数；即第一个参数obj\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3eObject.defineProperty(obj, \x3cspan class=\x22hljs-keyword\x22\x3eprop\x3c\/span\x3e, descriptor)\n参数：\n    obj：必要的目标对象\n    \x3cspan class=\x22hljs-keyword\x22\x3eprop\x3c\/span\x3e：必要的需要定义或者修改的属性名\n    descriptor：必要的目标属性全部拥有的属性\n返回值：\n返回传入的第一个函数；即第一个参数obj\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e该方法允许精确的添加或者修改对象的属性；通过赋值来添加的普通属性会创建在属性枚举期间显示（\x3ccode\x3efon...in；object.key\x3c\/code\x3e）；这些添加的值可以被改变也可以删除；也可以给这个属性设置一些特性；比如是否只读不可写；目前提供两种形式：\x3ccode\x3e数据描述（set；get；value;writable;enumerable;confingurable）和存取器描述（set；get）\x3c\/code\x3e\x3c\/p\x3e\n\x3ch4\x3e数据描述\x3c\/h4\x3e\n\x3cp\x3e当修改或者定义对象的某个属性的时候；给这个属性添加一些特性\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {\n    name:\x27xiangha\x27\n}\n\/\/ 对象已有的属性添加特性描述\nObject.defineProperty(obj,\x27name\x27,{\n   configurable:true | false, \/\/ 如果是false则不可以删除\n   enumerable:true | false, \/\/ 如果为false则在枚举时候会忽略\n   value:\x27任意类型的值,默认undefined\x27\n   writable:true | false \/\/ 如果为false则不可采用数据运算符进行赋值\n});\n但是存在一个交叉；如果wrirable为true；而configurable为false的时候；所以需要枚举处理enumerable为false\n--- 我是一个writable栗子 ---\nvar obj = {};\nObject.defineProperty(obj,\x27val\x27,{\n    value:\x27xiangha\x27,\n    writable:false, \/\/ false\n    enumerable:true,\n    configurable:true\n});\nobj.val = \x27书记\x27; \/\/ 这个时候是更改不了a的\n--- 我是一个configurable栗子 ---\nvar obj = {};\nObject.defineProperty(obj,\x27val\x27,{\n    value:\x27xiangha\x27,\n    writable:true, \/\/ true\n    enumerable:true,\n    configurable:false  \/\/ false\n});\nobj.val = \x27书记\x27; \/\/ 这个时候是val发生了改变\ndelete obj.val 会返回false；并且val没有删除\n--- 我是一个enumerable栗子 --- \nvar obj = {};\nObject.defineProperty(obj,\x27val\x27,{\n    value:\x27xiangha\x27,\n    writable:true,\n    enumerable:false, \/\/ false\n    configurable:true\n});\nfor(var i in obj){\n    console.log(obj[i]) \/\/ 没有具体值\n}\n\n综上：对于我们有影响主要是configurable控制是否可以删除；writable控制是否可以修改赋值；enumerable是否可以枚举\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eobj\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    name:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27xiangha\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e对象已有的属性添加特性描述\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3eObject.defineProperty(obj,\x27name\x27,{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e   configurable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e| false, \/\/ 如果是false则不可以删除\n\x3c\/span\x3e\x3cspan class=\x22hljs-attr\x22\x3e   enumerable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e| false, \/\/ 如果为false则在枚举时候会忽略\n\x3c\/span\x3e\x3cspan class=\x22hljs-attr\x22\x3e   value:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27任意类型的值,默认undefined\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e   writable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e| false \/\/ 如果为false则不可采用数据运算符进行赋值\n});\n但是存在一个交叉；如果wrirable为true；而configurable为false的时候；所以需要枚举处理enumerable为false\n--- 我是一个writable栗子 ---\nvar obj = {};\nObject.defineProperty(obj,\x27val\x27,{\n\x3c\/span\x3e\x3cspan class=\x22hljs-attr\x22\x3e    value:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27xiangha\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    writable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    enumerable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    configurable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e});\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3eobj.val\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27书记\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e;\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e这个时候是更改不了a的\x3c\/span\x3e\n\x3cspan class=\x22hljs-bullet\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-bullet\x22\x3e--\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e我是一个configurable栗子\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e---\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eobj\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{};\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3eObject.defineProperty(obj,\x27val\x27,{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    value:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27xiangha\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    writable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    enumerable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    configurable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e  \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e});\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3eobj.val\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27书记\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e;\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e这个时候是val发生了改变\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3edelete\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eobj.val\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e会返回false；并且val没有删除\x3c\/span\x3e\n\x3cspan class=\x22hljs-bullet\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-bullet\x22\x3e--\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e我是一个enumerable栗子\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e---\x3c\/span\x3e \n\x3cspan class=\x22hljs-string\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eobj\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{};\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3eObject.defineProperty(obj,\x27val\x27,{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    value:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27xiangha\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    writable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    enumerable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    configurable:\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e});\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3efor(var\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eobj){\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3econsole.log(obj[i])\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e没有具体值\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3e综上：对于我们有影响主要是configurable控制是否可以删除；writable控制是否可以修改赋值；enumerable是否可以枚举\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以说一旦使用Object.defineProperty()给对象添加属性；那么如果不设置属性的特性；则默认值都为false\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {}; \nObject.defineProperty(obj,\x27name\x27,{}); \/\/ 定义了心属性name后；这个属性的特性的值都为false；这就导致name这个是不能重写不能枚举不能再次设置特性的\nobj.name = \x27书记\x27; \nconsole.log(obj.name); \/\/ undefined\nfor(var i in obj){\n    console.log(obj[i])\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = \x3cspan class=\x22hljs-comment\x22\x3e{}\x3c\/span\x3e; \n\x3cspan class=\x22hljs-keyword\x22\x3eObject\x3c\/span\x3e.defineProperty(obj,\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e{}\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义了心属性name后；这个属性的特性的值都为false；这就导致name这个是不能重写不能枚举不能再次设置特性的\x3c\/span\x3e\nobj.\x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27书记\x27\x3c\/span\x3e; \nconsole.log(obj.\x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ undefined\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e obj)\x3cspan class=\x22hljs-comment\x22\x3e{\n    console.log(obj[i])\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e总结特性：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3evalue：设置属性的值\x3c\/li\x3e\n\x3cli\x3ewritable [\x27raɪtəbl] ：值是否可以重写\x3c\/li\x3e\n\x3cli\x3eenumerable [ɪ\x27nju:mərəbəl]：目标属性是否可以被枚举\x3c\/li\x3e\n\x3cli\x3econfigurable [kən\x27fɪgərəbl]：目标属性是否可以被删除是否可以再次修改特性\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e存取器描述\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {};\nObject.defineProperty(obj,\x27name\x27,{\n    get:function(){} | undefined,\n    set:function(){} | undefined,\n    configuracble:true | false,\n    enumerable:true | false\n})\n注意：当前使用了setter和getter方法；不允许使用writable和value两个属性\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = {};\nObject.defineProperty(obj,\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e,{\n    \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{} | \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{} | \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e,\n    configuracble:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e | \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    enumerable:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e | \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n})\n注意：当前使用了setter和getter方法；不允许使用writable和value两个属性\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3egettet\x26amp;\x26amp; setter\x3c\/strong\x3e\x3cbr\x3e当设置获取对象的某个属性的时候；可以提供getter和setter方法\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {};\nvar value = \x27xiangha\x27;\nObject.defineProperty(obj,\x27name\x27,{\n    get:function(){\n        \/\/ 获取值触发\n        return value\n    }，\n    set：function(val){\n        \/\/ 设置值的时候触发；设置的新值通过参数val拿到\n        value = val；\n    }\n});\nconsole.log(obj.name); \/\/ xiangha\nobj.name = \x27书记\x27;\nconsole,.log(obj.name); \/\/ 书记\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = {};\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = \x3cspan class=\x22hljs-string\x22\x3e\x27xiangha\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.defineProperty(obj,\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e,{\n    \x3cspan class=\x22hljs-attr\x22\x3eget\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取值触发\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e value\n    }，\n    set：\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eval\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 设置值的时候触发；设置的新值通过参数val拿到\x3c\/span\x3e\n        value = val；\n    }\n});\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(obj.name); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ xiangha\x3c\/span\x3e\nobj.name = \x3cspan class=\x22hljs-string\x22\x3e\x27书记\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e,.log(obj.name); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 书记\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eget和set不是必须成对出现对；任写一个就行；如果不设置set和get方法；则为undefined\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e哈哈；前戏终于铺垫完成了\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e补充：如果使用vue开发项目；尝试去打印\x3ccode\x3edata\x3c\/code\x3e对象的时候；会发现data内的每一个属性都有get和set属性方法；这里说明一下vue和angular的双向数据绑定不同\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eangular是用脏数据检测；Model发生改变的时候；会检测所有视图是否绑定了相关的数据；再更新视图\x3c\/li\x3e\n\x3cli\x3evue是使用的发布订阅模式；点对点的绑定数据\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/img\/remote\/1460000014274845?w=730\x26amp;h=390\x22\x3e网上图\x3c\/a\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e2.实现\x3c\/h1\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv id=\x26quot;app\x26quot;\x3e\n    \x3cform\x3e\n      \x3cinput type=\x26quot;text\x26quot;  v-model=\x26quot;number\x26quot;\x3e\n      \x3cbutton type=\x26quot;button\x26quot; v-click=\x26quot;increment\x26quot;\x3e增加\x3c\/button\x3e\n    \x3c\/form\x3e\n    \x3ch3 v-bind=\x26quot;number\x26quot;\x3e\x3c\/h3\x3e\n  \x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22app\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eform\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e  \x3cspan class=\x22hljs-attr\x22\x3ev-model\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22number\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22increment\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e增加\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eform\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22number\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e页面很简单；包含：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x221. 一个input，使用v-model指令\n2. 一个button，使用v-click指令\n3. 一个h3，使用v-bind指令。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-bullet\x22\x3e1. \x3c\/span\x3e一个input，使用v-model指令\n\x3cspan class=\x22hljs-bullet\x22\x3e2. \x3c\/span\x3e一个button，使用v-click指令\n\x3cspan class=\x22hljs-bullet\x22\x3e3. \x3c\/span\x3e一个h3，使用v-bind指令。\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们最后也会类似vue对方式来实现双向数据绑定\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var app = new xhVue({\n      el:\x27#app\x27,\n      data: {\n        number: 0\n      },\n      methods: {\n        increment: function() {\n          this.number \x2b\x2b;\n        },\n      }\n    })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e xhVue({\n      el:\x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e,\n      data: {\n        number: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n      },\n      methods: {\n        increment: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n          \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.number \x2b\x2b;\n        },\n      }\n    })\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2.1 定义\x3c\/h4\x3e\n\x3cp\x3e首先我们需要定义一个xhVue的构造函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function xhVue(options){\n    \n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3exhVue\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(options)\x3c\/span\x3e\x3c\/span\x3e{\n    \n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2.2 添加\x3c\/h4\x3e\n\x3cp\x3e为了初始化这个构造函数；给其添加一个_init属性\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function xhVue(options){\n    this._init(options);\n}\nxhVue.prototype._init = function(options){\n    this.$options = options; \/\/ options为使用时传入的结构体；包括el，data，methods等\n    this.$el = document.querySelector(options.el); \/\/ el就是#app，this.$el是id为app的Element元素\n    this.$data = options.data; \/\/ this.$data = {number:0}\n    this.$methods = options.methods; \/\/ increment\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode\x3efunction xhVue(\x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._init(\x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e);\n}\nxhVue.prototype._init = function(\x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$\x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e = \x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ options为使用时传入的结构体；包括el，data，methods等\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el = document.querySelector(\x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e.el); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ el就是#app，this.$el是id为app的Element元素\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data = \x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e.data; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this.$data = {number:0}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$methods = \x3cspan class=\x22hljs-keyword\x22\x3eoptions\x3c\/span\x3e.methods; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ increment\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2.3 改造升级\x3c\/h4\x3e\n\x3cp\x3e改造\x3ccode\x3e_init\x3c\/code\x3e函数；并且实现\x3ccode\x3e_xhob\x3c\/code\x3e函数；对data进行处理；重写set和get函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22xhVue.prototype._xhob = function(obj){ \/\/ obj = {number:0}\n    var value;\n    for(key in obj){\n        if(obj.hasOwnProperty(ket)){\n            value = obj[key];\n            if(typeof value === \x27object\x27){\n                this._xhob(value);\n            }\n            Object.defineProperty(this.$data,key,{\n                enumerable:true,\n                configurable:true,\n                get:function(){\n                    return value;\n                },\n                set:function(newVal){\n                    if(value !== newVal){\n                        value = newVal;\n                    }\n                }\n            })\n        }\n    }\n}\nxhVue.prototype._init = function(options){\n    this.$options = options;\n    this.$el = document.querySelector(options.el);\n    this.$data = options.data;\n    this.$method = options.methods;\n    this._xhob(this.$data);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3exhVue.prototype._xhob = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(obj)\x3c\/span\x3e\x3c\/span\x3e{ \x3cspan class=\x22hljs-comment\x22\x3e\/\/ obj = {number:0}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e obj){\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(obj.hasOwnProperty(ket)){\n            value = obj[key];\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e value === \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e){\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhob(value);\n            }\n            Object.defineProperty(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data,key,{\n                enumerable:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                configurable:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e value;\n                },\n                \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(newVal)\x3c\/span\x3e\x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(value !== newVal){\n                        value = newVal;\n                    }\n                }\n            })\n        }\n    }\n}\nxhVue.prototype._init = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(options)\x3c\/span\x3e\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$options = options;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el = document.querySelector(options.el);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data = options.data;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$method = options.methods;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhob(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2.4 xhWatcher\x3c\/h4\x3e\n\x3cp\x3e指令类watcher；用来绑定更新函数；实现对DOM更新\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function xhWatcher(name,el,vm,exp,attr){\n    this.name = name; \/\/ 指令名称；对于文本节点；例如text\n    this.el = el; \/\/ 指令对应DOM元素\n    this.vm = vm; \/\/ 指令所属vue实例\n    this.exp = exp; \/\/ 指令对应的值；例如number\n    this.attr = attr; \/\/ 绑定的属性值；例如innerHTML\n    this.update();\n}\nxhWatcher.prototype.update = function(){\n    this.el[this.attr] = this.vm.$data[this.exp];\n    \/\/ 例如h3的innerHTML = this.data.number;当numner改变则会触发本update方法；保证对应的DOM实时更新\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3efunction xhWatcher(name,el,vm,exp,attr){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令名称；对于文本节点；例如text\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.el = el; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令对应DOM元素\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.vm = vm; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令所属vue实例\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.exp = exp; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令对应的值；例如number\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.attr = attr; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 绑定的属性值；例如innerHTML\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.update();\n}\nxhWatcher.prototype.update = function(){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.el[\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.attr] = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.vm.$\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e[\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.exp];\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 例如h3的innerHTML = this.data.number;当numner改变则会触发本update方法；保证对应的DOM实时更新\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2.5 完善_init和_xhob\x3c\/h4\x3e\n\x3cp\x3e继续完善_init和_xhob函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 给init的时候增加一个对象来存储model和view的映射关系；也就是我们前面定义的xhWatcher的实例；当model发生变化时；我们会触发其中的指令另其更新；保证了view也同时更新\nxhVue.prototype._init = function(options){\n    this.$options = options;\n    this.$el = document.querySelector(options.el);\n    this.$data = options.data;\n    this.$method = options.methods;\n    \n    this._binding = {}; \/\/ _binding\n    this._xhob(this.$data);\n}\n\/\/ 通过init出来的_binding\nxhVue.prototype._xhob = function(obj){ \/\/ obj = {number:0}\n    var value;\n    for(key in obj){\n        if(obj.hasOwnProperty(ket)){\n            this._binding[key] = {\n                \/\/ _binding = {number:_directives:[]}\n                _directives = []\n            }\n            value = obj[key];\n            if(typeof value === \x27object\x27){\n                this._xhob(value);\n            }\n            var binding = this._binding[key];\n            Object.defineProperty(this.$data,key,{\n                enumerable:true,\n                configurable:true,\n                get:function(){\n                    return value;\n                },\n                set:function(newVal){\n                    if(value !== newVal){\n                        value = newVal;\n                        \/\/ 当number改变时；触发_binding[number]._directives中已绑定的xhWatcher更新\n                        binding._directives.forEach(function(item){\n                           item.update(); \n                        });\n                    }\n                }\n            })\n        }\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 给init的时候增加一个对象来存储model和view的映射关系；也就是我们前面定义的xhWatcher的实例；当model发生变化时；我们会触发其中的指令另其更新；保证了view也同时更新\x3c\/span\x3e\nxhVue.prototype._init = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(options)\x3c\/span\x3e\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$options = options;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el = document.querySelector(options.el);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data = options.data;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$method = options.methods;\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._binding = {}; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ _binding\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhob(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data);\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过init出来的_binding\x3c\/span\x3e\nxhVue.prototype._xhob = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(obj)\x3c\/span\x3e\x3c\/span\x3e{ \x3cspan class=\x22hljs-comment\x22\x3e\/\/ obj = {number:0}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e obj){\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(obj.hasOwnProperty(ket)){\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._binding[key] = {\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ _binding = {number:_directives:[]}\x3c\/span\x3e\n                _directives = []\n            }\n            value = obj[key];\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e value === \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e){\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhob(value);\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e binding = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._binding[key];\n            Object.defineProperty(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data,key,{\n                enumerable:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                configurable:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e value;\n                },\n                \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(newVal)\x3c\/span\x3e\x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(value !== newVal){\n                        value = newVal;\n                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当number改变时；触发_binding[number]._directives中已绑定的xhWatcher更新\x3c\/span\x3e\n                        binding._directives.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(item)\x3c\/span\x3e\x3c\/span\x3e{\n                           item.update(); \n                        });\n                    }\n                }\n            })\n        }\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2.6 解析指令\x3c\/h4\x3e\n\x3cp\x3e怎么才能将view与model绑定；我们定义一个_xhcomplie函数来解析我们的指令（v-bind；v-model；v-clickde）并这这个过程中对view和model进行绑定\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22xhVue.prototype._xhcompile = function (root) {\n    \/\/ root是id为app的element的元素；也就是根元素\n    var _this = this;\n    var nodes = root.children;\n    for (var i = 0,len = nodes.length; i \x3c len; i\x2b\x2b) {\n        var node = nodes[i];\n        if (node.children.length) {\n            \/\/ 所有元素进行处理\n            this._xhcompile(node)\n        };\n        \/\/ 如果有v-click属性；我们监听他的click事件；触发increment事件，即number\x2b\x2b\n        if (node.hasAttribute(\x27v-click\x27)) {\n            node.onclick = (function () {\n                var attrVal = nodes[i].getAttribute(\x27v-click\x27);\n                \/\/ bind让data的作用域与methods函数的作用域保持一致\n                return _this.$method[attrVal].bind(_this.$data);\n            })();\n        };\n        \/\/ 如果有v-model属性；并且元素是input或者textrea；我们监听他的input事件\n        if (node.hasAttribute(\x27v-model\x27) \x26amp;\x26amp; (node.tagName = \x27INPUT\x27 || node.tagName == \x27TEXTAREA\x27)) {\n            node.addEventListener(\x27input\x27, (function (key) {\n                var attrVal = node.getAttribute(\x27v-model\x27);\n                _this._binding[attrVal]._directives.push(new xhWatcher(\n                    \x27input\x27, \n                    node, \n                    _this,\n                    attrVal, \n                    \x27value\x27\n                ));\n                return function () {\n                    \/\/ 让number的值和node的value保持一致；就实现了双向数据绑定\n                    _this.$data[attrVal] = nodes[key].value\n                }\n            })(i));\n        };\n        \/\/ 如果有v-bind属性；我们要让node的值实时更新为data中number的值\n        if (node.hasAttribute(\x27v-bind\x27)) {\n            var attrVal = node.getAttribute(\x27v-bind\x27);\n            _this._binding[attrVal]._directives.push(new xhWatcher(\n                \x27text\x27, \n                node, \n                _this,\n                attrVal,\n                \x27innerHTML\x27\n            ))\n        }\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs php\x22\x3e\x3ccode\x3exhVue.prototype._xhcompile = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(root)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ root是id为app的element的元素；也就是根元素\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _this = this;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e nodes = root.children;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,len = nodes.length; i \x26lt; len; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e node = nodes[i];\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.children.length) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 所有元素进行处理\x3c\/span\x3e\n            this._xhcompile(node)\n        };\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有v-click属性；我们监听他的click事件；触发increment事件，即number\x2b\x2b\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.hasAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-click\x27\x3c\/span\x3e)) {\n            node.onclick = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attrVal = nodes[i].getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-click\x27\x3c\/span\x3e);\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ bind让data的作用域与methods函数的作用域保持一致\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _this.$method[attrVal].bind(_this.$data);\n            })();\n        };\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有v-model属性；并且元素是input或者textrea；我们监听他的input事件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.hasAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-model\x27\x3c\/span\x3e) \x26amp;\x26amp; (node.tagName = \x3cspan class=\x22hljs-string\x22\x3e\x27INPUT\x27\x3c\/span\x3e || node.tagName == \x3cspan class=\x22hljs-string\x22\x3e\x27TEXTAREA\x27\x3c\/span\x3e)) {\n            node.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e, (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(key)\x3c\/span\x3e \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attrVal = node.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-model\x27\x3c\/span\x3e);\n                _this._binding[attrVal]._directives.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e xhWatcher(\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e, \n                    node, \n                    _this,\n                    attrVal, \n                    \x3cspan class=\x22hljs-string\x22\x3e\x27value\x27\x3c\/span\x3e\n                ));\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 让number的值和node的value保持一致；就实现了双向数据绑定\x3c\/span\x3e\n                    _this.$data[attrVal] = nodes[key].value\n                }\n            })(i));\n        };\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有v-bind属性；我们要让node的值实时更新为data中number的值\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.hasAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-bind\x27\x3c\/span\x3e)) {\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attrVal = node.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-bind\x27\x3c\/span\x3e);\n            _this._binding[attrVal]._directives.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e xhWatcher(\n                \x3cspan class=\x22hljs-string\x22\x3e\x27text\x27\x3c\/span\x3e, \n                node, \n                _this,\n                attrVal,\n                \x3cspan class=\x22hljs-string\x22\x3e\x27innerHTML\x27\x3c\/span\x3e\n            ))\n        }\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e并且将解析函数也加到_init函数中\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22xhVue.prototype._init = function(options){\n    this.$options = options;\n    this.$el = document.querySelector(options.el);\n    this.$data = options.data;\n    this.$method = options.methods;\n    \n    this._binding = {}; \/\/ _binding\n    this._xhob(this.$data);\n    this._xhcompile(this.$el);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3exhVue.prototype._init = function(options){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$options = options;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el = document.querySelector(options.el);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e = options.\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$method = options.methods;\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._binding = {}; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ _binding\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhob(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhcompile(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e最后\x3c\/h1\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3eDocument\x3c\/title\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n    \x3cdiv id=\x26quot;app\x26quot;\x3e\n        \x3cform\x3e\n            \x3cinput type=\x26quot;text\x26quot; v-model=\x26quot;number\x26quot;\x3e\n            \x3cbutton type=\x26quot;button\x26quot; v-click=\x26quot;increment\x26quot;\x3e增加\x3c\/button\x3e\n        \x3c\/form\x3e\n        \x3ch3 v-bind=\x26quot;number\x26quot;\x3e\x3c\/h3\x3e\n    \x3c\/div\x3e\n\x3c\/body\x3e\n\x3cscript\x3e\n    function xhVue(options) {\n        this._init(options);\n    }\n    xhVue.prototype._init = function (options) {\n        this.$options = options;\n        this.$el = document.querySelector(options.el);\n        this.$data = options.data;\n        this.$method = options.methods;\n\n        this._binding = {}; \/\/ _binding\n        this._xhob(this.$data);\n        this._xhcompile(this.$el);\n    }\n\n    xhVue.prototype._xhob = function (obj) {\n        var value;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                this._binding[key] = {\n                    _directives: []\n                }\n                value = obj[key];\n                if (typeof value === \x27object\x27) {\n                    this._xhob(value);\n                }\n                var binding = this._binding[key];\n                Object.defineProperty(this.$data, key, {\n                    enumerable: true,\n                    configurable: true,\n                    get: function () {\n                        console.log(`get${value}`)\n                        return value;\n                    },\n                    set: function (newVal) {\n                        if (value !== newVal) {\n                            value = newVal;\n                            console.log(`set${newVal}`)\n                            \/\/ 当number改变时；触发_binding[number]._directives中已绑定的xhWatcher更新\n                            binding._directives.forEach(function (item) {\n                                item.update();\n                            });\n                        }\n                    }\n                })\n            }\n        }\n    }\n\n    xhVue.prototype._xhcompile = function (root) {\n        \/\/ root是id为app的element的元素；也就是根元素\n        var _this = this;\n        var nodes = root.children;\n        for (var i = 0, len = nodes.length; i \x3c len; i\x2b\x2b) {\n            var node = nodes[i];\n            if (node.children.length) {\n                \/\/ 所有元素进行处理\n                this._xhcompile(node)\n            };\n            \/\/ 如果有v-click属性；我们监听他的click事件；触发increment事件，即number\x2b\x2b\n            if (node.hasAttribute(\x27v-click\x27)) {\n                node.onclick = (function () {\n                    var attrVal = node.getAttribute(\x27v-click\x27);\n                    console.log(attrVal);\n                    \/\/ bind让data的作用域与method函数的作用域保持一致\n                    return _this.$method[attrVal].bind(_this.$data);\n                })();\n            };\n            \/\/ 如果有v-model属性；并且元素是input或者textrea；我们监听他的input事件\n            if (node.hasAttribute(\x27v-model\x27) \x26amp;\x26amp; (node.tagName = \x27INPUT\x27 || node.tagName == \x27TEXTAREA\x27)) {\n                node.addEventListener(\x27input\x27, (function (key) {\n                    var attrVal = node.getAttribute(\x27v-model\x27);\n                    _this._binding[attrVal]._directives.push(new xhWatcher(\n                        \x27input\x27,\n                        node,\n                        _this,\n                        attrVal,\n                        \x27value\x27\n                    ));\n                    return function () {\n                        \/\/ 让number的值和node的value保持一致；就实现了双向数据绑定\n                        _this.$data[attrVal] = nodes[key].value\n                    }\n                })(i));\n            };\n            \/\/ 如果有v-bind属性；我们要让node的值实时更新为data中number的值\n            if (node.hasAttribute(\x27v-bind\x27)) {\n                var attrVal = node.getAttribute(\x27v-bind\x27);\n                _this._binding[attrVal]._directives.push(new xhWatcher(\n                    \x27text\x27,\n                    node,\n                    _this,\n                    attrVal,\n                    \x27innerHTML\x27\n                ))\n            }\n        }\n    }\n\n    function xhWatcher(name, el, vm, exp, attr) {\n        this.name = name; \/\/ 指令名称；对于文本节点；例如text\n        this.el = el; \/\/ 指令对应DOM元素\n        this.vm = vm; \/\/ 指令所属vue实例\n        this.exp = exp; \/\/ 指令对应的值；例如number\n        this.attr = attr; \/\/ 绑定的属性值；例如innerHTML\n        this.update();\n    }\n    xhWatcher.prototype.update = function () {\n        this.el[this.attr] = this.vm.$data[this.exp];\n        \/\/ 例如h3的innerHTML = this.data.number;当numner改变则会触发本update方法；保证对应的DOM实时更新\n    }\n    var app = new xhVue({\n        el: \x27#app\x27,\n        data: {\n            number: 0\n        },\n        methods: {\n            increment: function () {\n                this.number\x2b\x2b;\n            }\n        }\n    });\n\x3c\/script\x3e\n\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eDocument\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22app\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eform\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-model\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22number\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22increment\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e增加\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eform\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22number\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3exhVue\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eoptions\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._init(options);\n    }\n    xhVue.prototype._init = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eoptions\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$options = options;\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(options.el);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data = options.data;\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$method = options.methods;\n\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._binding = {}; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ _binding\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhob(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhcompile(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el);\n    }\n\n    xhVue.prototype._xhob = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value;\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e obj) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (obj.hasOwnProperty(key)) {\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._binding[key] = {\n                    \x3cspan class=\x22hljs-attr\x22\x3e_directives\x3c\/span\x3e: []\n                }\n                value = obj[key];\n                \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e value === \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e) {\n                    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhob(value);\n                }\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e binding = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._binding[key];\n                \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.defineProperty(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$data, key, {\n                    \x3cspan class=\x22hljs-attr\x22\x3eenumerable\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3econfigurable\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3eget\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`get\x3cspan class=\x22hljs-subst\x22\x3e${value}\x3c\/span\x3e`\x3c\/span\x3e)\n                        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e value;\n                    },\n                    \x3cspan class=\x22hljs-attr\x22\x3eset\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3enewVal\x3c\/span\x3e) \x3c\/span\x3e{\n                        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (value !== newVal) {\n                            value = newVal;\n                            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`set\x3cspan class=\x22hljs-subst\x22\x3e${newVal}\x3c\/span\x3e`\x3c\/span\x3e)\n                            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当number改变时；触发_binding[number]._directives中已绑定的xhWatcher更新\x3c\/span\x3e\n                            binding._directives.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) \x3c\/span\x3e{\n                                item.update();\n                            });\n                        }\n                    }\n                })\n            }\n        }\n    }\n\n    xhVue.prototype._xhcompile = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eroot\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ root是id为app的element的元素；也就是根元素\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _this = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e nodes = root.children;\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = nodes.length; i \x26lt; len; i\x2b\x2b) {\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e node = nodes[i];\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.children.length) {\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 所有元素进行处理\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._xhcompile(node)\n            };\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有v-click属性；我们监听他的click事件；触发increment事件，即number\x2b\x2b\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.hasAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-click\x27\x3c\/span\x3e)) {\n                node.onclick = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attrVal = node.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-click\x27\x3c\/span\x3e);\n                    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(attrVal);\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ bind让data的作用域与method函数的作用域保持一致\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _this.$method[attrVal].bind(_this.$data);\n                })();\n            };\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有v-model属性；并且元素是input或者textrea；我们监听他的input事件\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.hasAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-model\x27\x3c\/span\x3e) \x26amp;\x26amp; (node.tagName = \x3cspan class=\x22hljs-string\x22\x3e\x27INPUT\x27\x3c\/span\x3e || node.tagName == \x3cspan class=\x22hljs-string\x22\x3e\x27TEXTAREA\x27\x3c\/span\x3e)) {\n                node.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e, (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ekey\x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attrVal = node.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-model\x27\x3c\/span\x3e);\n                    _this._binding[attrVal]._directives.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e xhWatcher(\n                        \x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e,\n                        node,\n                        _this,\n                        attrVal,\n                        \x3cspan class=\x22hljs-string\x22\x3e\x27value\x27\x3c\/span\x3e\n                    ));\n                    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 让number的值和node的value保持一致；就实现了双向数据绑定\x3c\/span\x3e\n                        _this.$data[attrVal] = nodes[key].value\n                    }\n                })(i));\n            };\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果有v-bind属性；我们要让node的值实时更新为data中number的值\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (node.hasAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-bind\x27\x3c\/span\x3e)) {\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attrVal = node.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27v-bind\x27\x3c\/span\x3e);\n                _this._binding[attrVal]._directives.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e xhWatcher(\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27text\x27\x3c\/span\x3e,\n                    node,\n                    _this,\n                    attrVal,\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27innerHTML\x27\x3c\/span\x3e\n                ))\n            }\n        }\n    }\n\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3exhWatcher\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename, el, vm, exp, attr\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令名称；对于文本节点；例如text\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.el = el; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令对应DOM元素\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.vm = vm; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令所属vue实例\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.exp = exp; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 指令对应的值；例如number\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.attr = attr; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 绑定的属性值；例如innerHTML\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.update();\n    }\n    xhWatcher.prototype.update = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.el[\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.attr] = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.vm.$data[\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.exp];\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 例如h3的innerHTML = this.data.number;当numner改变则会触发本update方法；保证对应的DOM实时更新\x3c\/span\x3e\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e xhVue({\n        \x3cspan class=\x22hljs-attr\x22\x3eel\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3enumber\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n        },\n        \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3eincrement\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.number\x2b\x2b;\n            }\n        }\n    });\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所有的代码；复制到编辑器就可查看效果了～～\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>浅析vue的双向数据绑定</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014423018">https://segmentfault.com/a/1190000014423018</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ehu2316sxkp/" target="_blank">https://alili.tech/archive/ehu2316sxkp/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>