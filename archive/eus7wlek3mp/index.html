<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="webpack-loader 之 url-loader"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>webpack-loader 之 url-loader | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/eus7wlek3mp/",
				"appid": "1613049289050283", 
				"title": "webpack-loader 之 url-loader | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/5ffa085a76/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/zcod7fvhm9f/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&text=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&text=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&title=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&is_video=false&description=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=webpack-loader%20%e4%b9%8b%20url-loader&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&title=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&title=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&title=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feus7wlek3mp%2f&title=webpack-loader%20%e4%b9%8b%20url-loader"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">webpack-loader 之 url-loader</h1><div class="meta"><div class="postdate"><time datetime="2018-12-29" itemprop="datePublished">2018-12-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch4\x3eurl-loader vs file-loader\x3c\/h4\x3e\n\x3cp\x3e\x3cstrong\x3e既生瑜，何生亮？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e人家当然不是以卖萌为生的，卖萌不可耻，但是url-loader是有它的用处的。url-loader对未设置或者小于limit设置的图片进行转换，以base64的格式被img的src所使用；而对于大于limit byte的图片用file-loader进行解析。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWmmU?w=1002\x26amp;h=612\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWmmU?w=1002\x26amp;h=612\x22 alt=\x22url-loader-code-part\x22 title=\x22url-loader-code-part\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWmnB?w=693\x26amp;h=374\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWmnB?w=693\x26amp;h=374\x22 alt=\x22file-loader-code-part\x22 title=\x22file-loader-code-part\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eover~~,稍微瞄一下代码，是不是很简单，自己都在偷偷笑了，哇咔咔\x3c\/p\x3e\n\x3cp\x3e不过虽然寥寥几行，还是有不懂得腻：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e模块入参content是个Buffer类型？\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eBuffer是啥？是node处理二进制数据的接口哦，toString()方法可以帮你把二进制转化成base64格式，\x3ca href=\x22http:\/\/javascript.ruanyifeng.com\/nodejs\/buffer.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBuffer可以吃么，看我\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e为啥是Buffer类型？这个webpack处理有关系喽~，默认情况下，资源文件会被转换成utf-8字符串传给loader处理。这个代码里我们看到它设置了raw，翻译一下：loader这样就可以接受原始的Buffer了。\x3ca href=\x22http:\/\/www.css88.com\/doc\/webpack\/api\/loaders\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何写一个Loader?难道你不想知道么？\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3efile-loader最后一步干了啥？\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eemitFile(name: string, content: Buffer|String, sourceMap: {...})\x3c\/code\x3e 这是 webpack loader context提供的内部方法，根据路径和内容生成一个新的图片，供html以绝对路径的方式进行请求和使用。\x3c\/li\x3e\n\x3cli\x3e在file-loader的option配置中可以将emitFile设置为false，文件不再被重新创建，多用于在服务端模块的使用，图片直接使用服务端的即可。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3eurl-loader 配置\x3c\/h4\x3e\n\x3cp\x3e\x3cstrong\x3e工欲善其事,必先利其器。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e看一下官网webpack给出的url-loader的配置参数吧。\x3cbr\x3e\x3ca href=\x22https:\/\/webpack.js.org\/loaders\/url-loader\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e戳我\x3c\/a\x3e\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth align=\x22left\x22\x3e配置名称\x3c\/th\x3e\n\x3cth align=\x22center\x22\x3e类型\x3c\/th\x3e\n\x3cth\x3e默认值\x3c\/th\x3e\n\x3cth align=\x22left\x22\x3e含义\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3elimit\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e{Number}\x3c\/td\x3e\n\x3ctd\x3eundefined\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e转化为data-url内联使用的文件带下阈值\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3emimetype\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e{String}\x3c\/td\x3e\n\x3ctd\x3e文件扩展名\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e文件的mimetype类型（默认使用文件扩展类型）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22left\x22\x3efallback\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e{String}\x3c\/td\x3e\n\x3ctd\x3efile-loader\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e在文件大于limit时，交于处理的加载器\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e在webpack中配置可如下：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWmG7?w=442\x26amp;h=232\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWmG7?w=442\x26amp;h=232\x22 alt=\x22url-loader配置\x22 title=\x22url-loader配置\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e编码base64的姿势是什么呢？\x3c\/h4\x3e\n\x3cp\x3e\x3cstrong\x3e知其然之其所以然。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e通过url-loader将小图片转换为base64后，面对一长串的它，你是否困惑了呢？它是谁？它又是怎么出现的？\x3c\/p\x3e\n\x3cp\x3e带着这个问题，我们顺路看一下这个小东西的原理吧：\x3c\/p\x3e\n\x3cp\x3e[\x3cstrong\x3e名字的由来\x3c\/strong\x3e]：通过下面64个可打印的字符来表示二进制数据\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWmHh?w=497\x26amp;h=645\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWmHh?w=497\x26amp;h=645\x22 alt=\x22base64对照表\x22 title=\x22base64对照表\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e[\x3cstrong\x3e它的原理\x3c\/strong\x3e]：64=2的6次方，因此每6位都可以用一个base64字符表示。而每1个\x3cbr\x3e字节是8位，那么\x3ccode\x3e3个字节 = 3 * 8 = 24bit = 6 * 4 = 4个base64字符\x3c\/code\x3e(这样看来，用base64\x3cbr\x3e表示二进制，比原来二进制表示多了1\/3倍的字节)。\x3c\/p\x3e\n\x3cp\x3e[\x3cstrong\x3e它的步骤\x3c\/strong\x3e]\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e按照字符长度，每3个8bit的字符为一组（不过3的倍数的字符组，用“=”进行填充）\x3c\/li\x3e\n\x3cli\x3e根据分组，将每个字符用ASCII进行编码，并将其转换为8bit的二进制，从而得到一组3*8=24bit的字节\x3cbr\x3e （如果不够24bit，用0进行填充）\x3c\/li\x3e\n\x3cli\x3e将24bit划为4个6bit，转换成10进制值，在base64表中查找对应的符号，转换后的字符拼接起来就是最后的结果了.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e看一下这个小例子，练练手吧~\x3cbr\x3e“Girl” =\x26gt; “JGlybA==”\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWmHF?w=952\x26amp;h=134\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWmHF?w=952\x26amp;h=134\x22 alt=\x22小栗子\x22 title=\x22小栗子\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e用了它，会变得美好一点么？\x3c\/h4\x3e\n\x3cp\x3e说了这么多原理，那用了它，对我们有什么实际的好处呢？这个分情况讨论呢。\x3c\/p\x3e\n\x3cp\x3e首先我们要了解一下它的优缺点，这样就好判断使用场景了。\x3c\/p\x3e\n\x3cp\x3e优点 vs 缺点\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e对于比较小的图片，使用base64编码，可以减少一次图片的网络请求；那么对于比较大的图片,使用base64就不适合了，编码会和html混在一起，一方面可读性差，另一方面加大了html页面的大小，反而加大了下载页面的大小，得不偿失了呢，因此设置一个合理的limit是非常有必要的；\x3c\/li\x3e\n\x3cli\x3e另一方面，base64编码的图片不能像正常的图片可以进行缓存，因此写在css里面可以让浏览器对css文件进行缓存也不错哦；\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>webpack-loader 之 url-loader</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011487980">https://segmentfault.com/a/1190000011487980</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/eus7wlek3mp/" target="_blank">https://alili.tech/archive/eus7wlek3mp/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>