<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="你不知道的Javascript：有趣的setTimeout"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>你不知道的Javascript：有趣的setTimeout | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/fj4itn3tct9/",
				"appid": "1613049289050283", 
				"title": "你不知道的Javascript：有趣的setTimeout | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-15T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/pjgbxv8z9gm/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/9yn7p1jmmti/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&text=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&text=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&title=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&is_video=false&description=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&title=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&title=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&title=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffj4itn3tct9%2f&title=%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84Javascript%ef%bc%9a%e6%9c%89%e8%b6%a3%e7%9a%84setTimeout"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">你不知道的Javascript：有趣的setTimeout</h1><div class="meta"><div class="postdate"><time datetime="2018-12-15" itemprop="datePublished">2018-12-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e今天在回顾JavaScript进阶用法的时候，发现一个有趣的问题，话不多说，先上代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22for(var j=0;j\x3c10;j\x2b\x2b){\n  setTimeout(function(){console.log(j)},5000)\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e j=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;j\x26lt;\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;j\x2b\x2b){\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(j)},\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e看到这三行代码，也许你会不耐烦道：又要讲闭包？要吐了好么？别急，让我们先来思考一下，这段代码在浏览器中的执行结果是什么？\x3c\/p\x3e\n\x3cp\x3e甲：顺序打印0到9？\x3c\/p\x3e\n\x3cp\x3e乙：这题我见过，打印十个10！\x3c\/p\x3e\n\x3cp\x3e哪个答案正确？我们继续上图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV2X07?w=644\x26amp;h=332\x22 src=\x22https:\/\/static.alili.tech\/img\/bV2X07?w=644\x26amp;h=332\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e执行结果显示，浏览器打印出了十个10（因为图片处理的原因，按下回车到打印之前其实间隔了5秒左右），貌似乙胜出了。但如果你足够细心，你会发现几个问题：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e为什么会循环打印十个10而不是0到9？\x3c\/li\x3e\n\x3cli\x3e从结果来看，for循环执行完跳出之后，才开始执行setTimeout（所以j才等于10），为什么不是每次迭代都执行一次setTimeout呢？\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e如果上述三个问题你都能回答上来，恭喜你，你已经开始掌握了JavaScript深层次的知识，如果不能，那就乖乖往下看吧！\x3c\/p\x3e\n\x3cp\x3e为什么会循环打印十个10\x3c\/p\x3e\n\x3cp\x3e许多人习惯用第二个问题中的执行结果来回答这个问题：“for循环执行完跳出之后，才开始执行setTimeout，所以才打印了十个10”。这样的答案，只能说是既应付了自己，又应付了别人。其实，要解答第一个问题，首先要解答的就是第二的问题。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e为什么不是每次迭代都执行一次setTimeout\x3c\/h2\x3e\n\x3cp\x3e大家都知道，JavaScript在ES6出现以前，是没有块状作用域的，这就意味着， 在for循环中用var定义的变量j，其实是属于全局的，即在全局范围内都可以被访问到，既然如此，那其实整个全局作用域中就只有一个j，每次for循环都i是在更新这个j。\x3c\/p\x3e\n\x3cp\x3e那么现在关键的问题在于，为什么整个for循环会先于setTimeout执行，而不是我们正常理解的，一次迭代执行一次。\x3c\/p\x3e\n\x3cp\x3e这就涉及到了JavaScript的核心特性：单线程。\x3c\/p\x3e\n\x3cp\x3eJavaScript设计的初衷，是浏览器用来与用户进行交互和DOM操作的。这就决定了它必须是单线程的，设想JavaScript同事有两个线程，一个线程在DOM节点添加内容，一个线程删除该节点，浏览器就会出现混乱。所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变。\x3c\/p\x3e\n\x3cp\x3e单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。如果前一个任务耗时很长，后一个任务就不得不一直等着。\x3c\/p\x3e\n\x3cp\x3e为了优化单线程的性能，JavaScript将任务分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）。同步任务指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；异步任务指的是，不进入主线程、而进入\x22任务队列\x22（task queue）的任务，只有主线程中的同步任务执行完毕，异步任务才会进入执行队列执行。只要主线程空了，就会去读取\x22任务队列\x22，这就是JavaScript的运行机制。这个过程会不断重复。\x3c\/p\x3e\n\x3cp\x3e而setTimeout，就被JavaScript定义为异步任务。每次for循环的迭代，都将setTimeout中的回调函数加入任务队列等待执行。也就是说，只有同步任务中的for循环完全结束，主线程中才会去任务队列中找到尚未执行的十个setTimeout（十次迭代）回调函数并顺序执行（先进先出）。而此时，i已经经过循环结束变成了10，所以，此时主线程执行的，是十个一摸一样的打印i的回调函数，即打印十个10。至此就完美回答了第一和第二个问题，文章开头的代码与下面的代码其实是等价的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22for(var i=0;i\x3c10;i\x2b\x2b){}\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\nsetTimeout(console.log(i),5000)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3efor(\x3cspan class=\x22hljs-name\x22\x3evar\x3c\/span\x3e i=0\x3cspan class=\x22hljs-comment\x22\x3e;i\x26lt;10;i\x2b\x2b){}\x3c\/span\x3e\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\nsetTimeout(\x3cspan class=\x22hljs-name\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e),\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e小小的一个setTimeout，牵扯出了很多JavaScript的深层次问题，虽然总结成一篇文章只有区区数百字，但是我在成文的过程中查阅了大量的资料，也做了许多实验。\x3c\/p\x3e\n\x3cp\x3e最后，给出一个很小但是仍然在困扰我的一个问题,希望有兴趣的小伙伴可以跟我一起研究：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22setTimeout(function(){while(true){\x22}}\x22,6000);\nsetTimeout(function(){console.log(1)},10000);\nsetTimeout(function(){console.log(2)},5000);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3esetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e){\x22}}\x22,\x3cspan class=\x22hljs-number\x22\x3e6000\x3c\/span\x3e);\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)},\x3cspan class=\x22hljs-number\x22\x3e10000\x3c\/span\x3e);\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e)},\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上述代码的执行顺序是怎样的？setTimeout的定时，是定时插入执行栈之后立即执行，还是立即插入执行栈定时执行？\x3c\/p\x3e\n\x3cp\x3e期待大家的留言。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>你不知道的Javascript：有趣的setTimeout</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013060968">https://segmentfault.com/a/1190000013060968</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/fj4itn3tct9/" target="_blank">https://alili.tech/archive/fj4itn3tct9/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>