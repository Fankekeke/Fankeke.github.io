<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="javascript 最长公共子序列"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>javascript 最长公共子序列 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/g6uc6q1k5zs/",
				"appid": "1613049289050283", 
				"title": "javascript 最长公共子序列 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-17T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/cj9pkx9kqwp/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/d9a7smtos8/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&text=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&text=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&title=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&is_video=false&description=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&title=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&title=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&title=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg6uc6q1k5zs%2f&title=javascript%20%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">javascript 最长公共子序列</h1><div class="meta"><div class="postdate"><time datetime="2018-12-17" itemprop="datePublished">2018-12-17</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e最长公共子序列（Longest Common Subsequence LCS）是从给定的两个序列X和Y中取出尽可能多的一部分字符，按照它们在原序列排列的先后次序排列得到。LCS问题的算法用途广泛，如在软件不同版本的管理中，用LCS算法找到新旧版本的异同处;在软件测试中，用LCS算法对录制和回放的序列进行比较，在基因工程领域，用LCS算法检查患者DNA连与键康DNA链的异同;在防抄袭系统中，用LCS算法检查论文的抄袭率。LCS算法也可以用于程序代码相似度度量，人体运行的序列检索，视频段匹配等方面，所以对LCS算法进行研究具有很高的应用价值。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e基本概念\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e子序列(subsequence)： 一个特定序列的子序列就是将给定序列中零个或多个元素去掉后得到的结果(不改变元素间相对次序)。例如序列\x26lt;A,B,C,B,D,A,B\x26gt;的子序列有：\x26lt;A,B\x26gt;、\x26lt;B,C,A\x26gt;、\x26lt;A,B,C,D,A\x26gt;等。\x3c\/li\x3e\n\x3cli\x3e公共子序列(common subsequence)： 给定序列X和Y，序列Z是X的子序列，也是Y的子序列，则Z是X和Y的公共子序列。例如X=[A,B,C,B,D,A,B]，Y=[B,D,C,A,B,A[，那么序列Z=[B,C,A]为X和Y的公共子序列，其长度为3。但Z不是X和Y的最长公共子序列，而序列[B,C,B,A]和[B,D,A,B]也均为X和Y的最长公共子序列，长度为4，而X和Y不存在长度大于等于5的公共子序列。对于序列[A,B,C]和序列[E,F,G]的公共子序列只有空序列[]。\x3c\/li\x3e\n\x3cli\x3e最长公共子序列：给定序列X和Y，从它们的所有公共子序列中选出长度最长的那一个或几个。\x3c\/li\x3e\n\x3cli\x3e子串： 将一个序列从最前或最后或同时删掉零个或几个字符构成的新系列。区别与子序列，子序列是可以从中间抠掉字符的。cnblogs这个字符串中子序列有多少个呢？很显然有27个，比如其中的cb,cgs等等都是其子序列\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e给一个图再解释一下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012864960?w=585\x26amp;h=493\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012864960?w=585\x26amp;h=493\x22 alt=\x22image_1c3ofq79gg4f1u7sf3o40gls29.png-95.5kB\x22 title=\x22image_1c3ofq79gg4f1u7sf3o40gls29.png-95.5kB\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们可以看出子序列不见得一定是连续的，连续的是子串。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e问题分析\x3c\/h2\x3e\n\x3cp\x3e我们还是从一个矩阵开始分析,自己推导出状态迁移方程。\x3c\/p\x3e\n\x3cp\x3e首先，我们把问题转换成前端够为熟悉的概念，不要序列序列地叫了，可以认为是数组或字符串。一切从简，我们就估且认定是两个字符串做比较吧。\x3c\/p\x3e\n\x3cp\x3e我们重点留意”子序列“的概念，它可以删掉多个或零个，也可以全部干掉。这时我们的第一个子序列为\x3cstrong\x3e空字符串\x3c\/strong\x3e（如果我们的序列不是字符串，我们还可以 ）！这个真是千万要注意到！许多人就是看不懂《算法导论》的那个图表，还有许多博客的作者不懂装懂。我们总是从左到右比较，当然了第一个字符串，由于作为矩阵的高，就垂直放置了。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3ex\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\x3ctd colspan=\x2211\x22\x3e\x22\x22\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eA\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eB\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eC\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eD\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eA\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eB\x3c\/td\x3e\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e假令X ＝ \x22ABCDAB\x22， Y＝\x22BDCABA\x22，各自取出最短的序列，也就是空字符串与空字符串比较。LCS的方程解为一个数字，那么这个表格也只能填数字。两个空字符串的公同区域的长度为0.\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3ex\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x22\x22\x3c\/td\x3e\n\x3ctd colspan=\x2210\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eA\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eB\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eC\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eD\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eA\x3c\/td\x3e\x3c\/tr\x3e\n\x3ctr\x3e\x3ctd colspan=\x2214\x22\x3eB\x3c\/td\x3e\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e然后我们X不动，继续让空字符串出阵，Y让“B”出阵，很显然，它们的公共区域的长度为0. Y换成其他字符， D啊，C啊， 或者， 它们的连续组合DC、 DDC， 情况没有变， 依然为0.  因此第一行都为0.  然后我们Y不动，Y只出空字任串，那么与上面的分析一样，都为0，第一列都是0.\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3ex\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x22\x22\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eC\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eD\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3eLCS问题与背包问题有点不一样，背包问题还可以设置-1行，而最长公共子序列因为有空子序列的出现，一开始就把左边与上边固定死了。\x3c\/p\x3e\n\x3cp\x3e然后我们再将问题放大些，这次双方都出一个字符，显然只有两都相同时，才有存在不为空字符串的公共子序列，长度也理解数然为1。\x3c\/p\x3e\n\x3cp\x3eA为\x22X\x22, Y为\x22BDCA\x22的子序列的任意一个\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3ex\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x22\x22\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd colspan=\x225\x22\x3e1\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eC\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eD\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e继续往右填空，该怎么填？显然，LCS不能大于X的长度，Y的从A字符串开始的子序列与B的A序列相比，怎么也能等于1。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3ex\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x22\x22\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eC\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eD\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e如果X只从派出前面个字符A,B吧，亦即是“”，“A”, \x22B\x22, \x22AB\x22这四种组合，前两个已经解说过了。那我们先看B，${X_1} == ${Y_0}， 我们得到一个新的公共子串了，应该加1。为什么呢？因为我们这个矩阵是一个状态表，从左到右，从上到下描述状态的迁移过程，并且这些状态是基于已有状态\x3cstrong\x3e累加\x3c\/strong\x3e出来的。\x3cstrong\x3e现在我们需要确认的是，现在我们要填的这个格子的值与它周围已经填好的格子的值是存在何种关系\x3c\/strong\x3e。目前，信息太少，就是一个孤点，直接填1。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3ex\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x22\x22\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd colspan=\x2212\x22\x3e1\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eC\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eD\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e然后我们让Y多出一个D做帮手，{\x22\x22,A,B,AB} vs {\x22\x22,B,D,BD}，显然，继续填1. 一直填到Y的第二个B之前，都是1。 因为到BDCAB时，它们有另一个公共子序列，AB。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3ex\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x22\x22\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd colspan=\x224\x22\x3e2\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eC\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eD\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e到这一步，我们可以总结一些规则了，之后就是通过计算验证我们的想法，加入新的规则或限定条件来完善。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012864990?w=679\x26amp;h=99\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012864990?w=679\x26amp;h=99\x22 alt=\x22image_1c3vdki881bpc127h1rdu11tu128b9.png-22.9kB\x22 title=\x22image_1c3vdki881bpc127h1rdu11tu128b9.png-22.9kB\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3eY将所有字符派上去，X依然是2个字符，经仔细观察，还是填2.\x3c\/p\x3e\n\x3cp\x3e看五行，X再多派一个C，ABC的子序列集合比AB的子序列集合大一些，那么它与Y的B子序列集合大一些，就算不大，就不能比原来的小。显然新增的C不能成为战力，不是两者的公共字符，因此值应该等于AB的子序列集合。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e×\x3c\/th\x3e\n\x3cth\x3e\x22\x22\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eD\x3c\/th\x3e\n\x3cth\x3eC\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3cth\x3eB\x3c\/th\x3e\n\x3cth\x3eA\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x22\x22\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e1\x3c\/td\x3e\n\x3ctd\x3e2\x3c\/td\x3e\n\x3ctd\x3e2\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eC\x3c\/td\x3e\n\x3ctd\x3e0\x3c\/td\x3e\n\x3ctd colspan=\x2211\x22\x3e1\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eD\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eA\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eB\x3c\/td\x3e\n\x3ctd colspan=\x2213\x22\x3e0\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012864961?w=648\x26amp;h=320\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012864961?w=648\x26amp;h=320\x22 alt=\x22image_1c3tbtfjjmhm17n6gt5mkt1s0h9.png-27.8kB\x22 title=\x22image_1c3tbtfjjmhm17n6gt5mkt1s0h9.png-27.8kB\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e并且我们可以确定，如果两个字符串要比较的字符不一样，那么要填的格子是与其左边或上边有关，那边大就取那个。\x3c\/p\x3e\n\x3cp\x3e如果比较的字符一样呢，稍安毋躁，刚好X的C要与Y的C进行比较，即ABC的子序列集合{\x22\x22,A,B,C,AB,BC,ABC}与BDC的子序列集合｛\x22\x22,B,D,C,BD,DC,BDC｝比较，得到公共子串有“”,B,D 。这时还是与之前的结论一样，当字符相等时，它对应的格子值等于左边与右边与左上角的值，并且左边，上边，左上边总是相等的。这些奥秘需要更严格的数学知识来论证。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22假设有两个数组，A和B。A[i]为A的第i个元素，A(i)为由A的第一个元素到第i个元素所组成的前缀。m(i, j)为A(i)和B(j)的最长公共子序列长度。\n\n由于算法本身的递推性质，其实只要证明，对于某个i和j：\n\n  m(i, j) = m(i-1, j-1) \x2b 1 （当A[i] = B[j]时）\n\n  m(i, j) = max( m(i-1, j), m(i, j-1) ) （当A[i] != B[j]时）\n\n第一个式子很好证明，即当A[i] = B[j]时。可以用反证，假设m(i, j) \x3e m(i-1, j-1) \x2b 1 （m(i, j)不可能小于m(i-1, j-1) \x2b 1，原因很明显），那么可以推出m(i-1, j-1)不是最长的这一矛盾结果。\n\n第二个有些trick。当A[i] != B[j]时，还是反证，假设m(i, j) \x3e max( m(i-1, j), m(i, j-1) )。\n\n由反证假设，可得m(i, j) \x3e m(i-1, j)。这个可以推出A[i]一定在m(i, j)对应的LCS序列中（反证可得）。而由于A[i] != B[j]，故B[j]一定不在m(i, j)对应的LCS序列中。所以可推出m(i, j) = m(i, j-1)。这就推出了与反正假设矛盾的结果。\n\n得证。\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs matlab\x22\x3e\x3ccode\x3e假设有两个数组，A和B。A[i]为A的第\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e个元素，A(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e)为由A的第一个元素到第\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e个元素所组成的前缀。m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e)为A(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e)和B(\x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e)的最长公共子序列长度。\n\n由于算法本身的递推性质，其实只要证明，对于某个\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e和\x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e：\n\n  m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e) = m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e （当A[i] = B[j]时）\n\n  m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e) = max( m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e), m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) ) （当A[i] != B[j]时）\n\n第一个式子很好证明，即当A[i] = B[j]时。可以用反证，假设m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e) \x26gt; m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e （m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e)不可能小于m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e，原因很明显），那么可以推出m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)不是最长的这一矛盾结果。\n\n第二个有些trick。当A[i] != B[j]时，还是反证，假设m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e) \x26gt; max( m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e), m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) )。\n\n由反证假设，可得m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e) \x26gt; m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e)。这个可以推出A[i]一定在m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e)对应的LCS序列中（反证可得）。而由于A[i] != B[j]，故B[j]一定不在m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e)对应的LCS序列中。所以可推出m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e) = m(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ej\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e)。这就推出了与反正假设矛盾的结果。\n\n得证。\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们现在用下面的方程来继续填表了。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012864991?w=720\x26amp;h=131\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012864991?w=720\x26amp;h=131\x22 alt=\x22image_1c3vdljfs1g5p1s5lpppcln1s88m.png-36.7kB\x22 title=\x22image_1c3vdljfs1g5p1s5lpppcln1s88m.png-36.7kB\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e程序实现\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/by 司徒正美\nfunction LCS(str1, str2){\n        var rows =  str1.split(\x26quot;\x26quot;)\n        rows.unshift(\x26quot;\x26quot;)\n        var cols =  str2.split(\x26quot;\x26quot;)\n        cols.unshift(\x26quot;\x26quot;)\n        var m = rows.length \n        var n = cols.length \n        var dp = []\n        for(var i = 0; i \x3c m; i\x2b\x2b){ \n            dp[i] = []\n            for(var j = 0; j \x3c n; j\x2b\x2b){ \n                if(i === 0 || j === 0){\n                    dp[i][j] = 0\n                    continue\n                }\n              \n                if(rows[i] === cols[j]){ \n                    dp[i][j] = dp[i-1][j-1] \x2b 1 \/\/对角＋1\n                }else{\n                    dp[i][j] = Math.max( dp[i-1][j], dp[i][j-1]) \/\/对左边，上边取最大\n                }\n            }\n            console.log(dp[i].join(\x26quot;\x26quot;))\/\/调试\n        } \n        return dp[i-1][j-1]\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/by 司徒正美\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eLCS\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estr1, str2\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e rows =  str1.split(\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e)\n        rows.unshift(\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e)\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cols =  str2.split(\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e)\n        cols.unshift(\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e)\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e m = rows.length \n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e n = cols.length \n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dp = []\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; m; i\x2b\x2b){ \n            dp[i] = []\n            \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e j = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; j \x26lt; n; j\x2b\x2b){ \n                \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(i === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e || j === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n                    dp[i][j] = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3econtinue\x3c\/span\x3e\n                }\n              \n                \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(rows[i] === cols[j]){ \n                    dp[i][j] = dp[i\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e][j\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/对角＋1\x3c\/span\x3e\n                }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                    dp[i][j] = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.max( dp[i\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e][j], dp[i][j\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e]) \x3cspan class=\x22hljs-comment\x22\x3e\/\/对左边，上边取最大\x3c\/span\x3e\n                }\n            }\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(dp[i].join(\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e))\x3cspan class=\x22hljs-comment\x22\x3e\/\/调试\x3c\/span\x3e\n        } \n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dp[i\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e][j\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e]\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eLCS可以进一步简化，只要通过挪位置，省去新数组的生成\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/by司徒正美\nfunction LCS(str1, str2){\n    var m = str1.length \n    var n = str2.length\n    var dp = [new Array(n\x2b1).fill(0)] \/\/第一行全是0\n    for(var i = 1; i \x3c= m; i\x2b\x2b){ \/\/一共有m\x2b1行\n        dp[i] = [0] \/\/第一列全是0\n        for(var j = 1; j \x3c= n; j\x2b\x2b){\/\/一共有n\x2b1列\n            if(str1[i-1] === str2[j-1]){ \n                \/\/注意这里，str1的第一个字符是在第二列中，因此要减1，str2同理\n                dp[i][j] = dp[i-1][j-1] \x2b 1 \/\/对角＋1\n            } else {\n                 dp[i][j] = Math.max( dp[i-1][j], dp[i][j-1]) \n            }\n        }\n    } \n    return dp[m][n];\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/by司徒正美\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eLCS\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estr1, str2\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e m = str1.length \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e n = str2.length\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dp = [\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e(n\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).fill(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)] \x3cspan class=\x22hljs-comment\x22\x3e\/\/第一行全是0\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; i \x26lt;= m; i\x2b\x2b){ \x3cspan class=\x22hljs-comment\x22\x3e\/\/一共有m\x2b1行\x3c\/span\x3e\n        dp[i] = [\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] \x3cspan class=\x22hljs-comment\x22\x3e\/\/第一列全是0\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e j = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; j \x26lt;= n; j\x2b\x2b){\x3cspan class=\x22hljs-comment\x22\x3e\/\/一共有n\x2b1列\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(str1[i\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e] === str2[j\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e]){ \n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/注意这里，str1的第一个字符是在第二列中，因此要减1，str2同理\x3c\/span\x3e\n                dp[i][j] = dp[i\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e][j\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/对角＋1\x3c\/span\x3e\n            } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n                 dp[i][j] = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.max( dp[i\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e][j], dp[i][j\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e]) \n            }\n        }\n    } \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dp[m][n];\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e打印一个LCS\x3c\/h2\x3e\n\x3cp\x3e我们再给出打印函数，先看如何打印一个。我们从右下角开始寻找，一直找到最上一行终止。因此目标字符串的构建是倒序。为了避免使用stringBuffer这样麻烦的中间量，我们可以通过递归实现，每次执行程序时，只返回一个字符串，没有则返回一个空字符串， 以\x3ccode\x3eprintLCS(x,y,...) \x2b str[i]\x3c\/code\x3e相加，就可以得到我们要求的字符串。\x3c\/p\x3e\n\x3cp\x3e我们再写出一个方法，来验证我们得到的字符串是否真正的LCS字符串。作为一个已经工作的人，不能写的代码像在校生那样，不做单元测试就放到线上让别人踩坑。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/by 司徒正美，打印一个LCS\nfunction printLCS(dp, str1, str2, i, j){\n    if (i == 0 || j == 0){\n        return \x26quot;\x26quot;;\n    }\n    if( str1[i-1] == str2[j-1] ){\n        return printLCS(dp, str1, str2, i-1, j-1) \x2b str1[i-1];\n    }else{\n        if (dp[i][j-1] \x3e dp[i-1][j]){\n            return printLCS(dp, str1, str2, i, j-1);\n        }else{\n            return printLCS(dp, str1, str2, i-1, j);\n        }\n    }\n}\n\/\/by司徒正美， 将目标字符串转换成正则，验证是否为之前两个字符串的LCS\nfunction validateLCS(el, str1, str2){\n   var re =  new RegExp( el.split(\x26quot;\x26quot;).join(\x26quot;.*\x26quot;) )\n   console.log(el, re.test(str1),re.test(str2))\n   return re.test(str1) \x26amp;\x26amp; re.test(str2)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e\/\/\x3cspan class=\x22hljs-keyword\x22\x3eby \x3c\/span\x3e司徒正美，打印一个LCS\n\x3cspan class=\x22hljs-symbol\x22\x3efunction\x3c\/span\x3e printLCS(dp, \x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3ei, j){\n    \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e (i == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e||\x3c\/span\x3e j == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n        return \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\n    \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e( \x3cspan class=\x22hljs-keyword\x22\x3estr1[i-1] \x3c\/span\x3e== \x3cspan class=\x22hljs-keyword\x22\x3estr2[j-1] \x3c\/span\x3e){\n        return printLCS(dp, \x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3ei-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, j-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-keyword\x22\x3estr1[i-1];\n\x3c\/span\x3e    }\x3cspan class=\x22hljs-meta\x22\x3eelse\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e (dp[i][j-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \x26gt; dp[i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e][j]){\n            return printLCS(dp, \x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3ei, j-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n        }\x3cspan class=\x22hljs-meta\x22\x3eelse\x3c\/span\x3e{\n            return printLCS(dp, \x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3ei-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, j)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n        }\n    }\n}\n\/\/\x3cspan class=\x22hljs-keyword\x22\x3eby司徒正美， \x3c\/span\x3e将目标字符串转换成正则，验证是否为之前两个字符串的LCS\n\x3cspan class=\x22hljs-symbol\x22\x3efunction\x3c\/span\x3e validateLCS(el, \x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2){\n\x3c\/span\x3e   var re =  new RegExp( el.split(\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e).join(\x3cspan class=\x22hljs-string\x22\x3e\x22.*\x22\x3c\/span\x3e) )\n   console.log(el, re.test(\x3cspan class=\x22hljs-keyword\x22\x3estr1),re.test(str2))\n\x3c\/span\x3e   return re.test(\x3cspan class=\x22hljs-keyword\x22\x3estr1) \x3c\/span\x3e\x26amp;\x26amp; re.test(\x3cspan class=\x22hljs-keyword\x22\x3estr2)\n\x3c\/span\x3e}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function LCS(str1, str2){\n    var m = str1.length \n    var n = str2.length\n    \/\/....略，自行补充\n    var s = printLCS(dp, str1, str2, m, n)\n    validateLCS(s, str1, str2)\n    return dp[m][n]\n}\nvar c1 = LCS( \x26quot;ABCBDAB\x26quot;,\x26quot;BDCABA\x26quot;);\nconsole.log(c1) \/\/4 BCBA、BCAB、BDAB\nvar c2 = LCS(\x26quot;13456778\x26quot; , \x26quot;357486782\x26quot; );\nconsole.log(c2) \/\/5 34678 \nvar c3 = LCS(\x26quot;ACCGGTCGAGTGCGCGGAAGCCGGCCGAA\x26quot; ,\x26quot;GTCGTTCGGAATGCCGTTGCTCTGTAAA\x26quot; );\nconsole.log(c3) \/\/20 GTCGTCGGAAGCCGGCCGAA\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eLCS\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estr1, str2\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e m = str1.length \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e n = str2.length\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/....略，自行补充\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e s = printLCS(dp, str1, str2, m, n)\n    validateLCS(s, str1, str2)\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dp[m][n]\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c1 = LCS( \x3cspan class=\x22hljs-string\x22\x3e\x22ABCBDAB\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22BDCABA\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(c1) \x3cspan class=\x22hljs-comment\x22\x3e\/\/4 BCBA、BCAB、BDAB\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c2 = LCS(\x3cspan class=\x22hljs-string\x22\x3e\x2213456778\x22\x3c\/span\x3e , \x3cspan class=\x22hljs-string\x22\x3e\x22357486782\x22\x3c\/span\x3e );\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(c2) \x3cspan class=\x22hljs-comment\x22\x3e\/\/5 34678 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c3 = LCS(\x3cspan class=\x22hljs-string\x22\x3e\x22ACCGGTCGAGTGCGCGGAAGCCGGCCGAA\x22\x3c\/span\x3e ,\x3cspan class=\x22hljs-string\x22\x3e\x22GTCGTTCGGAATGCCGTTGCTCTGTAAA\x22\x3c\/span\x3e );\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(c3) \x3cspan class=\x22hljs-comment\x22\x3e\/\/20 GTCGTCGGAAGCCGGCCGAA\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012864962?w=398\x26amp;h=123\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012864962?w=398\x26amp;h=123\x22 alt=\x22image_1c3v0n1qnhq1sqa36min2goi16.png-11.6kB\x22 title=\x22image_1c3v0n1qnhq1sqa36min2goi16.png-11.6kB\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e打印全部LCS\x3c\/h2\x3e\n\x3cp\x3e思路与上面差不多，我们注意一下，在LCS方法有一个Math.max取值，这其实是整合了三种情况，因此可以分叉出三个字符串。我们的方法将返回一个es6集合对象，方便自动去掉。然后每次都用新的集合合并旧的集合的字任串。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/by 司徒正美 打印所有LCS\nfunction printAllLCS(dp, str1, str2, i, j){\n    if (i == 0 || j == 0){\n        return new Set([\x26quot;\x26quot;])\n    }else if(str1[i-1] == str2[j-1]){\n        var newSet = new Set()\n        printAllLCS(dp, str1, str2, i-1, j-1).forEach(function(el){\n            newSet.add(el \x2b str1[i-1])\n        })\n        return newSet\n    }else{\n        var set = new Set()\n        if (dp[i][j-1] \x3e= dp[i-1][j]){\n            printAllLCS(dp, str1, str2, i, j-1).forEach(function(el){\n              set.add(el)\n            })\n        }\n        if (dp[i-1][j] \x3e= dp[i][j-1]){\/\/必须用\x3e=，不能简单一个else搞定\n            printAllLCS(dp, str1, str2, i-1, j).forEach(function(el){\n              set.add(el)\n            })\n        }   \n        return set\n    } \n }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e\/\/by 司徒正美 打印所有LCS\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eprintAllLCS\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(dp, str1, str2, i, j)\x3c\/span\x3e{\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (i == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e || \x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Set([\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e])\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(str1[i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] == str2[\x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]){\n        var newSet = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Set()\n        printAllLCS(\x3cspan class=\x22hljs-keyword\x22\x3edp\x3c\/span\x3e, str1, str2, i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(el)\x3c\/span\x3e{\x3c\/span\x3e\n            newSet.\x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e \x2b str1[i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e])\n        })\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e newSet\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n        var \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Set()\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3edp\x3c\/span\x3e[i][\x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \x26gt;= \x3cspan class=\x22hljs-keyword\x22\x3edp\x3c\/span\x3e[i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e][\x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e]){\n            printAllLCS(\x3cspan class=\x22hljs-keyword\x22\x3edp\x3c\/span\x3e, str1, str2, i, \x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(el)\x3c\/span\x3e{\x3c\/span\x3e\n              \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e)\n            })\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3edp\x3c\/span\x3e[i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e][\x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e] \x26gt;= \x3cspan class=\x22hljs-keyword\x22\x3edp\x3c\/span\x3e[i][\x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]){\/\/必须用\x26gt;=，不能简单一个\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e搞定\n            printAllLCS(\x3cspan class=\x22hljs-keyword\x22\x3edp\x3c\/span\x3e, str1, str2, i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ej\x3c\/span\x3e).forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(el)\x3c\/span\x3e{\x3c\/span\x3e\n              \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eel\x3c\/span\x3e)\n            })\n        }   \n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eset\x3c\/span\x3e\n    } \n }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function LCS(str1, str2){\n    var m = str1.length \n    var n = str2.length\n    \/\/....略，自行补充\n    var s =  printAllLCS(dp, str1, str2, m, n)\n    console.log(s)\n    s.forEach(function(el){\n        validateLCS(el,str1, str2)\n        console.log(\x26quot;输出LCS\x26quot;,el)\n    })\n    return dp[m][n]\n}\nvar c1 = LCS( \x26quot;ABCBDAB\x26quot;,\x26quot;BDCABA\x26quot;);\nconsole.log(c1) \/\/4 BCBA、BCAB、BDAB\nvar c2 = LCS(\x26quot;13456778\x26quot; , \x26quot;357486782\x26quot; );\nconsole.log(c2) \/\/5 34678 \nvar c3 = LCS(\x26quot;ACCGGTCGAGTGCGCGGAAGCCGGCCGAA\x26quot; ,\x26quot;GTCGTTCGGAATGCCGTTGCTCTGTAAA\x26quot; );\nconsole.log(c3) \/\/20 GTCGTCGGAAGCCGGCCGAA\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eLCS\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estr1, str2\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e m = str1.length \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e n = str2.length\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/....略，自行补充\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e s =  printAllLCS(dp, str1, str2, m, n)\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(s)\n    s.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eel\x3c\/span\x3e)\x3c\/span\x3e{\n        validateLCS(el,str1, str2)\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22输出LCS\x22\x3c\/span\x3e,el)\n    })\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dp[m][n]\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c1 = LCS( \x3cspan class=\x22hljs-string\x22\x3e\x22ABCBDAB\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22BDCABA\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(c1) \x3cspan class=\x22hljs-comment\x22\x3e\/\/4 BCBA、BCAB、BDAB\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c2 = LCS(\x3cspan class=\x22hljs-string\x22\x3e\x2213456778\x22\x3c\/span\x3e , \x3cspan class=\x22hljs-string\x22\x3e\x22357486782\x22\x3c\/span\x3e );\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(c2) \x3cspan class=\x22hljs-comment\x22\x3e\/\/5 34678 \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c3 = LCS(\x3cspan class=\x22hljs-string\x22\x3e\x22ACCGGTCGAGTGCGCGGAAGCCGGCCGAA\x22\x3c\/span\x3e ,\x3cspan class=\x22hljs-string\x22\x3e\x22GTCGTTCGGAATGCCGTTGCTCTGTAAA\x22\x3c\/span\x3e );\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(c3) \x3cspan class=\x22hljs-comment\x22\x3e\/\/20 GTCGTCGGAAGCCGGCCGAA\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012864963?w=392\x26amp;h=404\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012864963?w=392\x26amp;h=404\x22 alt=\x22image_1c3v1al221m5l1cdlmui48vd831j.png-54.5kB\x22 title=\x22image_1c3v1al221m5l1cdlmui48vd831j.png-54.5kB\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e空间优化\x3c\/h2\x3e\n\x3cp\x3e使用滚动数组：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function LCS(str1, str2){\n    var m = str1.length \n    var n = str2.length\n    var dp = [new Array(n\x2b1).fill(0)],now = 1，row \/\/第一行全是0\n    for(var i = 1; i \x3c= m; i\x2b\x2b){ \/\/一共有2行\n        row = dp[now] = [0] \/\/第一列全是0\n        for(var j = 1; j \x3c= n; j\x2b\x2b){\/\/一共有n\x2b1列\n            if(str1[i-1] === str2[j-1]){ \n                \/\/注意这里，str1的第一个字符是在第二列中，因此要减1，str2同理\n                dp[now][j] = dp[i-now][j-1] \x2b 1 \/\/对角＋1\n            } else {\n                dp[now][j] = Math.max( dp[i-now][j], dp[now][j-1]) \n            }\n        }\n        now = 1- now; \/\/1-1=\x3e0;1-0=\x3e1; 1-1=\x3e0 ...\n    } \n    return row ? row[n]: 0\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs excel\x22\x3e\x3ccode\x3efunction LCS(str1, str2){\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e m = str1.length \n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e = str2.length\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e dp = [new Array(\x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).fill(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)],\x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e，\x3cspan class=\x22hljs-built_in\x22\x3erow\x3c\/span\x3e \/\/第一行全是\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n    for(\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; i \x26lt;= m; i\x2b\x2b){ \/\/一共有\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e行\n        \x3cspan class=\x22hljs-built_in\x22\x3erow\x3c\/span\x3e = dp[\x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e] = [\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] \/\/第一列全是\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n        for(\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e j = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; j \x26lt;= \x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e; j\x2b\x2b){\/\/一共有\x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e列\n            \x3cspan class=\x22hljs-built_in\x22\x3eif\x3c\/span\x3e(str1[i-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] === str2[j-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]){ \n                \/\/注意这里，str1的第一个字符是在第二列中，因此要减\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e，str2同理\n                dp[\x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e][j] = dp[i-\x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e][j-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \/\/对角＋\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n            } else {\n                dp[\x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e][j] = Math.max( dp[i-\x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e][j], dp[\x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e][j-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]) \n            }\n        }\n        \x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e- \x3cspan class=\x22hljs-built_in\x22\x3enow\x3c\/span\x3e; \/\/\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e=\x26gt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e=\x26gt;\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e=\x26gt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ...\n    } \n    return \x3cspan class=\x22hljs-built_in\x22\x3erow\x3c\/span\x3e ? \x3cspan class=\x22hljs-built_in\x22\x3erow\x3c\/span\x3e[\x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e]\x3cspan class=\x22hljs-symbol\x22\x3e:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e危险的递归解法\x3c\/h2\x3e\n\x3cp\x3estr1的一个子序列相应于下标序列{1, 2, …, m}的一个子序列，因此，str1共有${2^m}$个不同子序列（str2亦如此，如为${2^n}$），因此复杂度达到惊人的指数时间（${2^m * 2^n}$）。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/警告，字符串的长度一大就会爆栈\nfunction LCS(str1, str2, a, b) {\n      if(a === void 0){\n          a = str1.length - 1\n      }\n      if(b === void 0){\n          b = str2.length - 1\n      }\n      if(a == -1 || b == -1){\n          return 0\n      } \n      if(str1[a] == str2[b]) {\n         return LCS(str1, str2,  a-1, b-1)\x2b1;\n      }\n      if(str1[a] != str2[b]) {\n         var x =  LCS(str1, str2, a, b-1)\n         var y =  LCS(str1, str2, a-1, b)\n         return x \x3e= y ? x : y\n      }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e\/\/警告，字符串的长度一大就会爆栈\n\x3cspan class=\x22hljs-symbol\x22\x3efunction\x3c\/span\x3e LCS(\x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3ea, \x3cspan class=\x22hljs-keyword\x22\x3eb) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e(a === void \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n          a = \x3cspan class=\x22hljs-keyword\x22\x3estr1.length \x3c\/span\x3e- \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n      }\n      \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eb \x3c\/span\x3e=== void \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n          \x3cspan class=\x22hljs-keyword\x22\x3eb \x3c\/span\x3e= \x3cspan class=\x22hljs-keyword\x22\x3estr2.length \x3c\/span\x3e- \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n      }\n      \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e(a == -\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e||\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eb \x3c\/span\x3e== -\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e){\n          return \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n      } \n      \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3estr1[a] \x3c\/span\x3e== \x3cspan class=\x22hljs-keyword\x22\x3estr2[b]) \x3c\/span\x3e{\n         return LCS(\x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3e a-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eb-1)\x2b1;\n\x3c\/span\x3e      }\n      \x3cspan class=\x22hljs-meta\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3estr1[a] \x3c\/span\x3e!= \x3cspan class=\x22hljs-keyword\x22\x3estr2[b]) \x3c\/span\x3e{\n         var x =  LCS(\x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3ea, \x3cspan class=\x22hljs-keyword\x22\x3eb-1)\n\x3c\/span\x3e         var y =  LCS(\x3cspan class=\x22hljs-keyword\x22\x3estr1, \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3estr2, \x3c\/span\x3ea-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eb)\n\x3c\/span\x3e         return x \x26gt;= y ? x : y\n      }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e参考链接\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/hrn1216\/article\/details\/51534607\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/blog.csdn.net\/hrn1216\/...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000002641054\x22\x3ehttps:\/\/segmentfault.com\/a\/11...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.cnblogs.com\/ider\/p\/longest-common-substring-problem-optimization.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.cnblogs.com\/ider\/...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/www.cppblog.com\/mysileng\/archive\/2013\/05\/14\/200265.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.cppblog.com\/mysile...\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>javascript 最长公共子序列</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012864957">https://segmentfault.com/a/1190000012864957</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/g6uc6q1k5zs/" target="_blank">https://alili.tech/archive/g6uc6q1k5zs/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>