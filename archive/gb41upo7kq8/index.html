<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="自己撸个 vue markdown loader"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>自己撸个 vue markdown loader | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/gb41upo7kq8/",
				"appid": "1613049289050283", 
				"title": "自己撸个 vue markdown loader | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-02T02:30:16"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/426hlk0q1mt/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xvcmulhoe/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&text=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&text=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&title=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&is_video=false&description=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&title=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&title=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&title=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgb41upo7kq8%2f&title=%e8%87%aa%e5%b7%b1%e6%92%b8%e4%b8%aa%20vue%20markdown%20loader"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">自己撸个 vue markdown loader</h1><div class="meta"><div class="postdate"><time datetime="2018-12-02" itemprop="datePublished">2018-12-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e自己撸个 vue markdown loader\x3c\/h1\x3e\n\x3cp\x3e最近，当我把 vue-loader 升级到 v15 后发现，自己项目中所使用的一个 vue-markdown-loader 因为兼容问题而没法用了，正当我一筹莫展的时候，无意间看到 vuepress 中使用了当时还处于 v15.0.0 rc 版本的 vue-loader,仔细研究其源码后发现，vuepress 对于 markdown 的支持相当完善，而且代码也规范易懂。于是心生一计，把里面部分相关的代码拿出来魔改一番，做成一个新的 loader 用到自己的项目……\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e关于 webpack loader\x3c\/h2\x3e\n\x3cp\x3e为了干这个，首先得理解 webpack 的 loader 的功能和原理。\x3c\/p\x3e\n\x3cblockquote\x3eloader 用于对模块的源代码进行转换。loader 可以使你在 import 或\x22加载\x22模块时预处理文件。因此，loader 类似于其他构建工具中“任务(task)”，并提供了处理前端构建步骤的强大方法。loader 可以将文件从不同的语言（如 TypeScript）转换为 JavaScript，或将内联图像转换为 data URL。loader 甚至允许你直接在 JavaScript 模块中 import CSS文件！（摘自 webpack 官方中文文档）\x3c\/blockquote\x3e\n\x3cp\x3e由此可见，loader 就像是一个“处理器”，输入特定的内容，处理后进行输出。当必要时，可以把一些合适的 loader 串起来使用，使前一个 loader 的输出变成后一个 loader 的输入，最终得到自己想要的结果。\x3c\/p\x3e\n\x3cp\x3e对于本文要提到的 markdown-loader 来说，它需要进行的处理就是，将 markdown 文件内容解析并包装成一个与 vue 单文件组件内容相似的，然后传给它后面的 vue-loader, 所以一个最简单的 vue markdown-loader 可以长这德性：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = function (src) {\n  const res = (\n    `\x3ctemplate\x3e\\n` \x2b\n    `\x3ch1\x3ehello world\x3c\/h1\x3e\\n` \x2b\n    `\x3c\/template\x3e`\n  )\n  return res\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3esrc\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e res = (\n    \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;template\x26gt;\\n`\x3c\/span\x3e \x2b\n    \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;h1\x26gt;hello world\x26lt;\/h1\x26gt;\\n`\x3c\/span\x3e \x2b\n    \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;\/template\x26gt;`\x3c\/span\x3e\n  )\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然，这个 loader 看起来有点儿智障，因为不管传给它什么，最后输出来的都一样的玩意儿。但它确实做一个 loader 通常做的事…… \x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22smile\x22 title=\x22smile\x22\x3e\x3c\/p\x3e\n\x3cp\x3e下面进入正题，要做一个处理 markdown 的 loader 其逻辑要复杂得多，但实质与上面的差不多，首先我们需要安装一些必要的包。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e安装需要的包\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add -D markdown-it markdown-it-anchor markdown-it-container markdown-it-emoji markdown-it-table-of-contents\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add -D markdown-it markdown-it-anchor markdown-it-container markdown-it-emoji markdown-it-table-of-contents\x3c\/code\x3e\x3c\/pre\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e包名称\x3c\/th\x3e\n\x3cth\x3e功能说明\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3emarkdown-it\x3c\/td\x3e\n\x3ctd\x3e渲染 markdown 基本语法\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3emarkdown-it-anchor\x3c\/td\x3e\n\x3ctd\x3e为各级标题添加锚点\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3emarkdown-it-container\x3c\/td\x3e\n\x3ctd\x3e用于创建自定义的块级容器\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3emarkdown-it-emoji\x3c\/td\x3e\n\x3ctd\x3e渲染 emoji\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3emarkdown-it-table-of-contents\x3c\/td\x3e\n\x3ctd\x3e自动生成目录\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ehighlight.js\x3c\/td\x3e\n\x3ctd\x3e代码高亮\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e编写 loader\x3c\/h2\x3e\n\x3cp\x3e在这个 loader 里，传入的是 markdown 文件的源文件，也就是没作任何解析的内容，我们需要对它进行一些处理，包括解析基本语法、渲染 emoji、添加锚点等处理，并定义一些自定义的块，比较关键的就是，最后要把这些内容包裹到 \x3ccode\x3e\x26lt;template\x26gt;\x3c\/code\x3e 标签中，不然接下来处理它们的 vue-loader 处理不了。\x3c\/p\x3e\n\x3cp\x3e贴上 loader 的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const fs = require(\x27fs\x27)\nconst path = require(\x27path\x27)\nconst hash = require(\x27hash-sum\x27)\nconst LRU = require(\x27lru-cache\x27)\nconst hljs = require(\x27highlight.js\x27)\n\n\/\/ markdown-it 插件\nconst emoji = require(\x27markdown-it-emoji\x27)\nconst anchor = require(\x27markdown-it-anchor\x27)\nconst toc = require(\x27markdown-it-table-of-contents\x27)\n\n\/\/ 自定义块\nconst containers = require(\x27.\/containers\x27)\n\nconst md = require(\x27markdown-it\x27)({\n  html: true,\n  \/\/ 代码高亮\n  highlight: function (str, lang) {\n    if (lang \x26amp;\x26amp; hljs.getLanguage(lang)) {\n      try {\n        return \x27\x3cpre class=\x26quot;hljs\x26quot;\x3e\x3ccode\x3e\x27 \x2b\n          hljs.highlight(lang, str, true).value \x2b\n          \x27\x3c\/code\x3e\x3c\/pre\x3e\x27\n      } catch (__) {}\n    }\n\n    return \x27\x3cpre v-pre class=\x26quot;hljs\x26quot;\x3e\x3ccode\x3e\x27 \x2b md.utils.escapeHtml(str) \x2b \x27\x3c\/code\x3e\x3c\/pre\x3e\x27\n  }\n})\n  \/\/ 使用 emoji 插件渲染 emoji\n  .use(emoji)\n  \/\/ 使用 anchor 插件为标题元素添加锚点\n  .use(anchor, {\n    permalink: true,\n    permalinkBefore: true,\n    permalinkSymbol: \x27#\x27\n  })\n  \/\/ 使用 table-of-contents 插件实现自动生成目录\n  .use(toc, {\n    includeLevel: [2, 3]\n  })\n  \/\/ 定义自定义的块容器\n  .use(containers)\n\nconst cache = LRU({ max: 1000 })\n\nmodule.exports = function (src) {\n  const isProd = process.env.NODE_ENV === \x27production\x27\n\n  const file = this.resourcePath\n  const key = hash(file \x2b src)\n  const cached = cache.get(key)\n\n  \/\/ 重新模式下构建时使用缓存以提高性能\n  if (cached \x26amp;\x26amp; (isProd || \/\\?vue\/.test(this.resourceQuery))) {\n    return cached\n  }\n\n  const html = md.render(src)\n\n  const res = (\n    `\x3ctemplate\x3e\\n` \x2b\n    `\x3cdiv class=\x26quot;content\x26quot;\x3e${html}\x3c\/div\x3e\\n` \x2b\n    `\x3c\/template\x3e\\n`\n  )\n  cache.set(key, res)\n  return res\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e hash = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27hash-sum\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e LRU = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27lru-cache\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e hljs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27highlight.js\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ markdown-it 插件\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e emoji = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27markdown-it-emoji\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e anchor = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27markdown-it-anchor\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e toc = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27markdown-it-table-of-contents\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 自定义块\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e containers = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e md = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27markdown-it\x27\x3c\/span\x3e)({\n  \x3cspan class=\x22hljs-attr\x22\x3ehtml\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 代码高亮\x3c\/span\x3e\n  highlight: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3estr, lang\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (lang \x26amp;\x26amp; hljs.getLanguage(lang)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;pre class=\x22hljs\x22\x26gt;\x26lt;code\x26gt;\x27\x3c\/span\x3e \x2b\n          hljs.highlight(lang, str, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e).value \x2b\n          \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;\/code\x26gt;\x26lt;\/pre\x26gt;\x27\x3c\/span\x3e\n      } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (__) {}\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;pre v-pre class=\x22hljs\x22\x26gt;\x26lt;code\x26gt;\x27\x3c\/span\x3e \x2b md.utils.escapeHtml(str) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;\/code\x26gt;\x26lt;\/pre\x26gt;\x27\x3c\/span\x3e\n  }\n})\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 emoji 插件渲染 emoji\x3c\/span\x3e\n  .use(emoji)\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 anchor 插件为标题元素添加锚点\x3c\/span\x3e\n  .use(anchor, {\n    \x3cspan class=\x22hljs-attr\x22\x3epermalink\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epermalinkBefore\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epermalinkSymbol\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27#\x27\x3c\/span\x3e\n  })\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 table-of-contents 插件实现自动生成目录\x3c\/span\x3e\n  .use(toc, {\n    \x3cspan class=\x22hljs-attr\x22\x3eincludeLevel\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]\n  })\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义自定义的块容器\x3c\/span\x3e\n  .use(containers)\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e cache = LRU({ \x3cspan class=\x22hljs-attr\x22\x3emax\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e })\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3esrc\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e isProd = process.env.NODE_ENV === \x3cspan class=\x22hljs-string\x22\x3e\x27production\x27\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e file = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.resourcePath\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e key = hash(file \x2b src)\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e cached = cache.get(key)\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 重新模式下构建时使用缓存以提高性能\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (cached \x26amp;\x26amp; (isProd || \x3cspan class=\x22hljs-regexp\x22\x3e\/\\?vue\/\x3c\/span\x3e.test(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.resourceQuery))) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e cached\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e html = md.render(src)\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e res = (\n    \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;template\x26gt;\\n`\x3c\/span\x3e \x2b\n    \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;div class=\x22content\x22\x26gt;\x3cspan class=\x22hljs-subst\x22\x3e${html}\x3c\/span\x3e\x26lt;\/div\x26gt;\\n`\x3c\/span\x3e \x2b\n    \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;\/template\x26gt;\\n`\x3c\/span\x3e\n  )\n  cache.set(key, res)\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e以下为上面代码中引用到的 containers.js 中代码\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const container = require(\x27markdown-it-container\x27)\n\nmodule.exports = md =\x3e {\n  md\n    .use(...createContainer(\x27tip\x27, \x27TIP\x27))\n    .use(...createContainer(\x27warning\x27, \x27WARNING\x27))\n    .use(...createContainer(\x27danger\x27, \x27WARNING\x27))\n    \/\/ explicitly escape Vue syntax\n    .use(container, \x27v-pre\x27, {\n      render: (tokens, idx) =\x3e tokens[idx].nesting === 1\n        ? `\x3cdiv v-pre\x3e\\n`\n        : `\x3c\/div\x3e\\n`\n    })\n}\n\nfunction createContainer (klass, defaultTitle) {\n  return [container, klass, {\n    render (tokens, idx) {\n      const token = tokens[idx]\n      const info = token.info.trim().slice(klass.length).trim()\n      if (token.nesting === 1) {\n        return `\x3cdiv class=\x26quot;${klass} custom-block\x26quot;\x3e\x3cp class=\x26quot;custom-block-title\x26quot;\x3e${info || defaultTitle}\x3c\/p\x3e\\n`\n      } else {\n        return `\x3c\/div\x3e\\n`\n      }\n    }\n  }]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e container = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27markdown-it-container\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3emd\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  md\n    .use(...createContainer(\x3cspan class=\x22hljs-string\x22\x3e\x27tip\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27TIP\x27\x3c\/span\x3e))\n    .use(...createContainer(\x3cspan class=\x22hljs-string\x22\x3e\x27warning\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27WARNING\x27\x3c\/span\x3e))\n    .use(...createContainer(\x3cspan class=\x22hljs-string\x22\x3e\x27danger\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27WARNING\x27\x3c\/span\x3e))\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ explicitly escape Vue syntax\x3c\/span\x3e\n    .use(container, \x3cspan class=\x22hljs-string\x22\x3e\x27v-pre\x27\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attr\x22\x3erender\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3etokens, idx\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e tokens[idx].nesting === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n        ? \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;div v-pre\x26gt;\\n`\x3c\/span\x3e\n        : \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;\/div\x26gt;\\n`\x3c\/span\x3e\n    })\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreateContainer\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eklass, defaultTitle\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [container, klass, {\n    render (tokens, idx) {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e token = tokens[idx]\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e info = token.info.trim().slice(klass.length).trim()\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (token.nesting === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;div class=\x22\x3cspan class=\x22hljs-subst\x22\x3e${klass}\x3c\/span\x3e custom-block\x22\x26gt;\x26lt;p class=\x22custom-block-title\x22\x26gt;\x3cspan class=\x22hljs-subst\x22\x3e${info || defaultTitle}\x3c\/span\x3e\x26lt;\/p\x26gt;\\n`\x3c\/span\x3e\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e`\x26lt;\/div\x26gt;\\n`\x3c\/span\x3e\n      }\n    }\n  }]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e使用\x3c\/h2\x3e\n\x3cp\x3e写好了 loader，就可以在 webpack 里使用了，在配置的  \x3ccode\x3emodule.rules\x3c\/code\x3e 数组中加入如下规则：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  test: \/\\.md$\/,\n  use: [\n    {\n      loader: \x27vue-loader\x27, \/\/ 这里的使用的最新的 v15 版本\n      options: {\n        compilerOptions: {\n          preserveWhitespace: false\n        }\n      }\n    },\n    {\n      \/\/ 这里用到的就是刚写的那个 loader\n      loader: require.resolve(\x27.\/markdownLoader\x27)\n    }\n  ]\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.md$\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27vue-loader\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里的使用的最新的 v15 版本\x3c\/span\x3e\n      options: {\n        \x3cspan class=\x22hljs-attr\x22\x3ecompilerOptions\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3epreserveWhitespace\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n        }\n      }\n    },\n    {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里用到的就是刚写的那个 loader\x3c\/span\x3e\n      loader: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.resolve(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/markdownLoader\x27\x3c\/span\x3e)\n    }\n  ]\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后，就可以在自己的组件中引入 markdown 文件了。假如你有一个名叫 something-cool.md 的文件里有下面这样的内容:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# hello world\n\n[[toc]]\n\n## 二级标题1\n\n有钱就是可以为所欲为！ :\x2b1:\n\n## 二级标题2\n\n但我特么真的没钱 :cry:\n\n## 二级标题3\n\n### 三级标题1\n\n### 三级标题2\n\n:::tip\n友情提示\n:::\n\n:::danger\n卧槽，粗大事了……\n:::\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22markdown hljs\x22\x3e\x3ccode class=\x22md\x22\x3e\x3cspan class=\x22hljs-section\x22\x3e# hello world\x3c\/span\x3e\n\n[[toc]]\n\n\x3cspan class=\x22hljs-section\x22\x3e## 二级标题1\x3c\/span\x3e\n\n有钱就是可以为所欲为！ :\x2b1:\n\n\x3cspan class=\x22hljs-section\x22\x3e## 二级标题2\x3c\/span\x3e\n\n但我特么真的没钱 :cry:\n\n\x3cspan class=\x22hljs-section\x22\x3e## 二级标题3\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-section\x22\x3e### 三级标题1\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-section\x22\x3e### 三级标题2\x3c\/span\x3e\n\n:::tip\n友情提示\n:::\n\n:::danger\n卧槽，粗大事了……\n:::\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在你的 vue 项目中就可以有如下姿势：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cmy-markdown\/\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nexport default {\n  components: {\n    \x27my-markdown\x27: () =\x3e import(\x27.\/something-cool.ms\x27)\n  }\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emy-markdown\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponents\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x27my-markdown\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/something-cool.ms\x27\x3c\/span\x3e)\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e结果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014666190\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014666190\x22 alt=\x22result\x22 title=\x22result\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e说明：上图的渲染结果，涉及到一些 css 样式，本文就不一一列出了，因为很长……\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e其它\x3c\/h2\x3e\n\x3cp\x3e可以看到，写个 loader 其实也是蛮简单的，了解其中原理之后，你甚至可以创建自创格式的文件和扩展名，然后写个 loader 处理\/加载这类文件，是不是很骚？！\x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22smile\x22 title=\x22smile\x22\x3e\x3c\/p\x3e\n\x3cp\x3e正如开头提到的，loader 中的代码，借鉴自 vuepress,感谢其开发组人员并尊重其版权，如果大家有兴趣可自己前往查看该项目，本人也并不打算装这个 loader 封装成包并发布，它仅仅是为了自己项目需要折腾的，十分粗陋。\x3c\/p\x3e\n\x3cp\x3e最后，放出自己用到这个 \x3ccode\x3eloader\x3c\/code\x3e 的项目地址，算是广告一波。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/tianyong90\/we-vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewe-vue GitHub 地址\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/wevue.org\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewe-vue 在线文档\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>自己撸个 vue markdown loader</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014666185">https://segmentfault.com/a/1190000014666185</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/gb41upo7kq8/" target="_blank">https://alili.tech/archive/gb41upo7kq8/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>