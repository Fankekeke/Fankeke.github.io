<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="VUE饿了么树形控件添加增删改功能"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>VUE饿了么树形控件添加增删改功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ge3ockwokek/",
				"appid": "1613049289050283", 
				"title": "VUE饿了么树形控件添加增删改功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-28T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/050a6jpasfkg/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wzfgkdp4qh/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&text=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&text=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&title=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&is_video=false&description=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&title=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&title=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&title=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fge3ockwokek%2f&title=VUE%e9%a5%bf%e4%ba%86%e4%b9%88%e6%a0%91%e5%bd%a2%e6%8e%a7%e4%bb%b6%e6%b7%bb%e5%8a%a0%e5%a2%9e%e5%88%a0%e6%94%b9%e5%8a%9f%e8%83%bd"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">VUE饿了么树形控件添加增删改功能</h1><div class="meta"><div class="postdate"><time datetime="2018-12-28" itemprop="datePublished">2018-12-28</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3eelement-ui树形控件：\x3ca href=\x22http:\/\/element.eleme.io\/1.4\/#\/zh-CN\/component\/tree\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e地址\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e在原文档中有个案例是有新增和删除功能，但是后来发现其修改的数据并不能直接影响到树形数据，所以采用了 \x3ccode\x3erender-content\x3c\/code\x3e 的API重新写了个组件。\x3cbr\x3e写个开发的步骤，所以文章比较长emmm\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e2018.07.25更新\x3c\/h2\x3e\n\x3cp\x3eelementUI ^2.2.0提供了一个slot的自定义节点方法，相关代码已在\x3ccode\x3egithub\x3c\/code\x3e更新，原理一样。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e大致效果如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWHQd?w=642\x26amp;h=490\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWHQd?w=642\x26amp;h=490\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e1.省市API\x3c\/h2\x3e\n\x3cp\x3e在网上复制了个省市的list，有两个属性是新增的\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e isEdit \x3c\/code\x3e：控制编辑状态\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e maxexpandId \x3c\/code\x3e：为现下id的最大值\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default{\n    maxexpandId: 95,\n    treelist: [{  \n        id: 1,  \n        name: \x26quot;北京市\x26quot;,  \n        ProSort: 1,  \n        remark: \x26quot;直辖市\x26quot;,\n        pid: \x27\x27,\n        isEdit: false,\n        children: [{\n            id: 35,\n            name: \x26quot;朝阳区\x26quot;,\n            pid: 1,\n            remark: \x27\x27,\n            isEdit: false,\n            children: []\n        }]\n    }{...}]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3edefault\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3emaxexpandId\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e95\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attribute\x22\x3etreelist\x3c\/span\x3e: [{  \n        \x3cspan class=\x22hljs-attribute\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,  \n        \x3cspan class=\x22hljs-attribute\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22北京市\x22\x3c\/span\x3e,  \n        \x3cspan class=\x22hljs-attribute\x22\x3eProSort\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,  \n        \x3cspan class=\x22hljs-attribute\x22\x3eremark\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22直辖市\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3epid\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3eisEdit\x3c\/span\x3e: false,\n        \x3cspan class=\x22hljs-attribute\x22\x3echildren\x3c\/span\x3e: [{\n            \x3cspan class=\x22hljs-attribute\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22朝阳区\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3epid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3eremark\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3eisEdit\x3c\/span\x3e: false,\n            \x3cspan class=\x22hljs-attribute\x22\x3echildren\x3c\/span\x3e: []\n        }]\n    }{...}]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e2.el-tree Component基本\x3c\/h2\x3e\n\x3cp\x3e咱们一步步来，先写个饿了么的组件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n    \x3cel-tree ref=\x26quot;expandMenuList\x26quot; class=\x26quot;expand-tree\x26quot;\n        v-if=\x26quot;isLoadingTree\x26quot;\n        :data=\x26quot;setTree\x26quot;\n        node-key=\x26quot;id\x26quot;\n        highlight-current\n        :props=\x26quot;defaultProps\x26quot;\n        :expand-on-click-node=\x26quot;false\x26quot;\n        :render-content=\x26quot;renderContent\x26quot;\n        :default-expanded-keys=\x26quot;defaultExpandKeys\x26quot;\x3e\x3c\/el-tree\x3e\n\x3c\/template\x3e\n\x3c!--\n* highlight-current ：为了点击时节点高亮\n* expand-on-click-node : 只能箭头控制树形的展开收缩\n* render-content : 节点渲染方式\n* default-expanded-keys ：默认展开节点\n--\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-tree\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22expandMenuList\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22expand-tree\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3ev-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22isLoadingTree\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3e:data\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22setTree\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3enode-key\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3ehighlight-current\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3e:props\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22defaultProps\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3e:expand-on-click-node\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22false\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3e:render-content\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22renderContent\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3e:default-expanded-keys\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22defaultExpandKeys\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-tree\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--\n* highlight-current ：为了点击时节点高亮\n* expand-on-click-node : 只能箭头控制树形的展开收缩\n* render-content : 节点渲染方式\n* default-expanded-keys ：默认展开节点\n--\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同时引入API和节点渲染的组件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import TreeRender from \x27@\/components\/tree_render\x27\nimport api from \x27@\/resource\/api\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e TreeRender \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/components\/tree_render\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e api \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/resource\/api\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后搭建好基础\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22data(){\n  return{\n    maxexpandId: api.maxexpandId,\/\/新增节点开始id\n    non_maxexpandId: api.maxexpandId,\/\/新增节点开始id(不更改)\n    isLoadingTree: false,\/\/是否加载节点树\n    setTree: api.treelist,\/\/节点树数据\n    defaultProps: {\n      children: \x27children\x27,\n      label: \x27name\x27\n    },\n    defaultExpandKeys: [],\/\/默认展开节点列表\n  }\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edata\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n  return{\n    maxexpandId: api\x3cspan class=\x22hljs-selector-class\x22\x3e.maxexpandId\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e\/\/新增节点开始id\x3c\/span\x3e\n    non_maxexpandId: api\x3cspan class=\x22hljs-selector-class\x22\x3e.maxexpandId\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e\/\/新增节点开始id(不更改)\x3c\/span\x3e\n    isLoadingTree: false,\x3cspan class=\x22hljs-comment\x22\x3e\/\/是否加载节点树\x3c\/span\x3e\n    setTree: api\x3cspan class=\x22hljs-selector-class\x22\x3e.treelist\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e\/\/节点树数据\x3c\/span\x3e\n    defaultProps: {\n      children: \x3cspan class=\x22hljs-string\x22\x3e\x27children\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-selector-tag\x22\x3elabel\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e\n    },\n    defaultExpandKeys: [],\x3cspan class=\x22hljs-comment\x22\x3e\/\/默认展开节点列表\x3c\/span\x3e\n  }\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加个渲染的method\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22methods: {\n    renderContent(h,{node,data,store}){\n      let that = this;\/\/指向vue\n      return h(TreeRender,{\n        props: {\n          DATA: data,\/\/节点数据\n          NODE: node,\/\/节点内容\n          STORE: store,\/\/完整树形内容\n        },\n        on: {\/\/绑定方法\n          nodeAdd: ((s,d,n) =\x3e that.handleAdd(s,d,n)),\n          nodeEdit: ((s,d,n) =\x3e that.handleEdit(s,d,n)),\n          nodeDel: ((s,d,n) =\x3e that.handleDelete(s,d,n))\n        }\n      });\n    },\n    handleAdd(s,d,n){\/\/增加节点\n      console.log(s,d,n)\n    },\n    handleEdit(s,d,n){\/\/编辑节点\n      console.log(s,d,n)\n    },\n    handleDelete(s,d,n){\/\/删除节点\n      console.log(s,d,n)\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3emethods: {\n    renderContent(h,{node,data,store}){\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e that = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/指向vue\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e h(TreeRender,{\n        props: {\n          DATA: data,\x3cspan class=\x22hljs-comment\x22\x3e\/\/节点数据\x3c\/span\x3e\n          NODE: node,\x3cspan class=\x22hljs-comment\x22\x3e\/\/节点内容\x3c\/span\x3e\n          STORE: store,\x3cspan class=\x22hljs-comment\x22\x3e\/\/完整树形内容\x3c\/span\x3e\n        },\n        on: {\x3cspan class=\x22hljs-comment\x22\x3e\/\/绑定方法\x3c\/span\x3e\n          nodeAdd: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e) =\x26gt; that.handleAdd(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e)\x3c\/span\x3e),\n          \x3cspan class=\x22hljs-params\x22\x3enodeEdit\x3c\/span\x3e: (\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e) =\x26gt; that.handleEdit(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e)\x3c\/span\x3e),\n          \x3cspan class=\x22hljs-params\x22\x3enodeDel\x3c\/span\x3e: (\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e) =\x26gt; that.handleDelete(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e)\x3c\/span\x3e)\n        }\n      });\n    },\n    \x3cspan class=\x22hljs-params\x22\x3ehandleAdd\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e){\/\/增加节点\n      \x3cspan class=\x22hljs-params\x22\x3econsole\x3c\/span\x3e.\x3cspan class=\x22hljs-params\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e)\n    },\n    \x3cspan class=\x22hljs-params\x22\x3ehandleEdit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e){\/\/编辑节点\n      \x3cspan class=\x22hljs-params\x22\x3econsole\x3c\/span\x3e.\x3cspan class=\x22hljs-params\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e)\n    },\n    \x3cspan class=\x22hljs-params\x22\x3ehandleDelete\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e){\/\/删除节点\n      \x3cspan class=\x22hljs-params\x22\x3econsole\x3c\/span\x3e.\x3cspan class=\x22hljs-params\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3es,d,n\x3c\/span\x3e)\n    }\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e3.tree_render Component基本\x3c\/h2\x3e\n\x3cp\x3e渲染组件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n    \x3cspan class=\x26quot;tree-expand\x26quot;\x3e\n        \x3cspan class=\x26quot;tree-label\x26quot;\x3e\n            \x3cspan\x3e\x22{{\x22DATA.name\x22}}\x22\x3c\/span\x3e\n        \x3c\/span\x3e\n        \x3cspan class=\x26quot;tree-btn\x26quot;\x3e\n            \x3ci class=\x26quot;el-icon-plus\x26quot; @click.stop=\x26quot;nodeAdd(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n            \x3ci class=\x26quot;el-icon-edit\x26quot; @click.stop=\x26quot;nodeEdit(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n            \x3ci class=\x26quot;el-icon-delete\x26quot; @click.stop=\x26quot;nodeDel(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n        \x3c\/span\x3e\n    \x3c\/span\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-expand\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-label\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22DATA.name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-btn\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-plus\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick.stop\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeAdd(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-edit\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick.stop\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEdit(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-delete\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick.stop\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeDel(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加好几个按钮（element-ui自带icon：\x3ca href=\x22http:\/\/element.eleme.io\/1.4\/#\/zh-CN\/component\/icon\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e地址\x3c\/a\x3e）对应的方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default{\n    props: [\x27NODE\x27, \x27DATA\x27, \x27STORE\x27],\n    methods: {\n      nodeAdd(s,d,n){\/\/新增\n        this.$emit(\x27nodeAdd\x27,s,d,n)\n      },\n      nodeEdit(s,d,n){\/\/编辑\n        this.$emit(\x27nodeEdit\x27,s,d,n)\n      },\n      nodeDel(s,d,n){\/\/删除\n        this.$emit(\x27nodeDel\x27,s,d,n)\n      }\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3eexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e{\n    props: [\x3cspan class=\x22hljs-string\x22\x3e\x27NODE\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27DATA\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27STORE\x27\x3c\/span\x3e],\n    methods: {\n      nodeAdd(s,d,n){\x3cspan class=\x22hljs-comment\x22\x3e\/\/新增\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27nodeAdd\x27\x3c\/span\x3e,s,d,n)\n      },\n      nodeEdit(s,d,n){\x3cspan class=\x22hljs-comment\x22\x3e\/\/编辑\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27nodeEdit\x27\x3c\/span\x3e,s,d,n)\n      },\n      nodeDel(s,d,n){\x3cspan class=\x22hljs-comment\x22\x3e\/\/删除\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27nodeDel\x27\x3c\/span\x3e,s,d,n)\n      }\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e4.改\x3c\/h2\x3e\n\x3cp\x3e我们用\x3ccode\x3eisEdit\x3c\/code\x3e来切换\x3ccode\x3einput\x3c\/code\x3e和\x3ccode\x3espan\x3c\/code\x3e的显示状态，首先加个input：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- tree_render component --\x3e\n\x3ctemplate\x3e\n    \x3cspan class=\x26quot;tree-expand\x26quot;\x3e\n        \x3cspan class=\x26quot;tree-label\x26quot; v-if=\x26quot;DATA.isEdit\x26quot;\x3e\n            \x3cel-input class=\x26quot;edit\x26quot; size=\x26quot;mini\x26quot;\n            :ref=\x26quot;\x27treeInput\x27\x2bDATA.id\x26quot;\n            v-model=\x26quot;DATA.name\x26quot;\x3e\x3c\/el-input\x3e\n        \x3c\/span\x3e\n        \x3ctemplate v-else\x3e\n            \x3cspan class=\x26quot;tree-label\x26quot;\x3e\n                \x3cspan\x3e\x22{{\x22DATA.name\x22}}\x22\x3c\/span\x3e\n            \x3c\/span\x3e\n            \x3cspan class=\x26quot;tree-btn\x26quot; v-show=\x26quot;!DATA.isEdit\x26quot;\x3e\n                \x3ci class=\x26quot;el-icon-plus\x26quot; @click.stop=\x26quot;nodeAdd(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n                \x3ci class=\x26quot;el-icon-edit\x26quot; @click.stop=\x26quot;nodeEdit(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n                \x3ci class=\x26quot;el-icon-delete\x26quot; @click.stop=\x26quot;nodeDel(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n            \x3c\/span\x3e\n        \x3c\/template\x3e\n    \x3c\/span\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- tree_render component --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-expand\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-label\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22DATA.isEdit\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22edit\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mini\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attr\x22\x3e:ref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x27treeInput\x27\x2bDATA.id\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attr\x22\x3ev-model\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22DATA.name\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-else\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-label\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22DATA.name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-btn\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22!DATA.isEdit\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-plus\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick.stop\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeAdd(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-edit\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick.stop\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEdit(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-delete\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick.stop\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeDel(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e编辑的时候按钮同时消失，那么什么时候编辑完成呢？\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e编辑完按enter键=》监听input的enter输入\x3c\/li\x3e\n\x3cli\x3e点击其他节点=》input失焦-\x3ccode\x3eblur\x3c\/code\x3e=》编辑时自动聚焦-\x3ccode\x3efocus\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e点击当前节点范围\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e当以上三点发生一项，节点对应的data都要\x3ccode\x3eisEdit = false;\x3c\/code\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3eenter键\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- tree_render component --\x3e\n\x3cel-input @keyup.enter.native=\x26quot;nodeEditPass(STORE,DATA,NODE)\x26quot;\x3e\x3c\/el-input\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- tree_render component --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3ekeyup.enter.native\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEditPass(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/tree_render component\nmethods: {\n    nodeEditPass(s,d,n){\n        d.isEdit = false;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/tree_render component\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3emethods:\x3c\/span\x3e {\n    nodeEditPass(s,d,n){\n        d.isEdit = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3efocus or blur\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- tree_render component --\x3e\n\x3cel-input @blur=\x26quot;nodeEditPass(STORE,DATA,NODE)\x26quot;\x3e\x3c\/el-input\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- tree_render component --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eblur\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEditPass(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e后来发现第一次编辑时能让\x3ccode\x3einput\x3c\/code\x3e聚焦，点击第二个\x3ccode\x3einput\x3c\/code\x3e就不起作用了，加了\x3ccode\x3eautofocus\x3c\/code\x3e属性也同样如此。所以我们要在点击编辑\x3ccode\x3eicon\x3c\/code\x3e的时候，用原生的\x3ccode\x3einput autofocus\x3c\/code\x3e。\x3cbr\x3e  修改方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/tree_render component\nnodeEdit(s,d,n){\/\/编辑\n  d.isEdit = true;\n  this.$nextTick(() =\x3e {\n    this.$refs[\x27treeInput\x27\x2bd.id].$refs.input.focus()\n  })\n  this.$emit(\x27nodeEdit\x27,s,d,n)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/tree_render component\x3c\/span\x3e\nnodeEdit(s,d,n){\x3cspan class=\x22hljs-comment\x22\x3e\/\/编辑\x3c\/span\x3e\n  d.isEdit = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$nextTick(() =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs[\x3cspan class=\x22hljs-string\x22\x3e\x27treeInput\x27\x3c\/span\x3e\x2bd.id].$refs.input.focus()\n  })\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27nodeEdit\x27\x3c\/span\x3e,s,d,n)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e当前节点\x3c\/strong\x3e点击\x3cbr\x3e  采用\x3ccode\x3eel-tree\x3c\/code\x3e已有的API——\x3ccode\x3enode-click\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- el-tree component --\x3e\n\x3cel-tree @node-click=\x26quot;handleNodeClick\x26quot;\x3e\x3c\/el-tree\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- el-tree component --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-tree\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3enode-click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22handleNodeClick\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-tree\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加methods：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/el-tree component\nmethods: {\n    handleNodeClick(d,n,s){\/\/点击节点\n      d.isEdit = false;\/\/放弃编辑状态\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/el-tree component\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3emethods:\x3c\/span\x3e {\n    handleNodeClick(d,n,s){\x3cspan class=\x22hljs-comment\x22\x3e\/\/点击节点\x3c\/span\x3e\n      d.isEdit = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/放弃编辑状态\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e问题来了，如果在编辑状态下点击此节点也同样会影响input，这就无法进入编辑，所以要阻止input\x3cstrong\x3e事件冒泡\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- tree_render component --\x3e\n\x3cel-input @click.stop.native=\x26quot;nodeEditFocus\x26quot;\x3e\x3c\/el-input\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- tree_render component --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick.stop.native\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEditFocus\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-input\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加methods：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/tree_render component\nmethods: {\n    nodeEditFocus(){}\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/tree_render component\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3emethods:\x3c\/span\x3e {\n    nodeEditFocus(){}\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ev-show\x3c\/code\x3e代替\x3ccode\x3ev-if\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e这里有个新的问题，当用户经常编辑修改，\x3ccode\x3ev-if\x3c\/code\x3e模板的开销更高，所以改用v-show。而后者不支持template模板，所以要适当调整一下位置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n    \x3cspan class=\x26quot;tree-expand\x26quot;\x3e\n        \x3cspan class=\x26quot;tree-label\x26quot; v-show=\x26quot;DATA.isEdit\x26quot;\x3e\n            \x3cel-input class=\x26quot;edit\x26quot; size=\x26quot;mini\x26quot; autofocus\n            v-model=\x26quot;DATA.name\x26quot;\n            :ref=\x26quot;\x27treeInput\x27\x2bDATA.id\x26quot;\n            @click.stop.native=\x26quot;nodeEditFocus\x26quot;\n            @blur=\x26quot;nodeEditPass(STORE,DATA,NODE)\x26quot;\n            @keyup.enter.native=\x26quot;nodeEditPass(STORE,DATA,NODE)\x26quot;\x3e\x3c\/el-input\x3e\n        \x3c\/span\x3e\n        \x3cspan v-show=\x26quot;!DATA.isEdit\x26quot;\x3e\n            \x3cspan\x3e\x22{{\x22DATA.name\x22}}\x22\x3c\/span\x3e\n        \x3c\/span\x3e\n        \x3cspan class=\x26quot;tree-btn\x26quot; v-show=\x26quot;!DATA.isEdit\x26quot;\x3e\n            \x3ci class=\x26quot;el-icon-plus\x26quot; @click.stop=\x26quot;nodeAdd(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n            \x3ci class=\x26quot;el-icon-edit\x26quot; @click.stop=\x26quot;nodeEdit(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n            \x3ci class=\x26quot;el-icon-delete\x26quot; @click.stop=\x26quot;nodeDel(STORE,DATA,NODE)\x26quot;\x3e\x3c\/i\x3e\n        \x3c\/span\x3e\n    \x3c\/span\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x26lt;template\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3espan\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-expand\x22\x3c\/span\x3e\x26gt;\n        \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3espan\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-label\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22DATA.isEdit\x22\x3c\/span\x3e\x26gt;\n            \x26lt;el-\x3cspan class=\x22hljs-selector-tag\x22\x3einput\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22edit\x22\x3c\/span\x3e size=\x3cspan class=\x22hljs-string\x22\x3e\x22mini\x22\x3c\/span\x3e autofocus\n            v-model=\x3cspan class=\x22hljs-string\x22\x3e\x22DATA.name\x22\x3c\/span\x3e\n            :ref=\x3cspan class=\x22hljs-string\x22\x3e\x22\x27treeInput\x27\x2bDATA.id\x22\x3c\/span\x3e\n            @click\x3cspan class=\x22hljs-selector-class\x22\x3e.stop\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.native\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEditFocus\x22\x3c\/span\x3e\n            @blur=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEditPass(STORE,DATA,NODE)\x22\x3c\/span\x3e\n            @keyup\x3cspan class=\x22hljs-selector-class\x22\x3e.enter\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.native\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEditPass(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x26lt;\/el-input\x26gt;\n        \x26lt;\/span\x26gt;\n        \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3espan\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22!DATA.isEdit\x22\x3c\/span\x3e\x26gt;\n            \x26lt;span\x26gt;\x22{{\x22DATA.name\x22}}\x22\x26lt;\/span\x26gt;\n        \x26lt;\/span\x26gt;\n        \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3espan\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22tree-btn\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22!DATA.isEdit\x22\x3c\/span\x3e\x26gt;\n            \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-plus\x22\x3c\/span\x3e @click.stop=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeAdd(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x26lt;\/i\x26gt;\n            \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-edit\x22\x3c\/span\x3e @click.stop=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeEdit(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x26lt;\/i\x26gt;\n            \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-delete\x22\x3c\/span\x3e @click.stop=\x3cspan class=\x22hljs-string\x22\x3e\x22nodeDel(STORE,DATA,NODE)\x22\x3c\/span\x3e\x26gt;\x26lt;\/i\x26gt;\n        \x26lt;\/span\x26gt;\n    \x26lt;\/span\x26gt;\n\x26lt;\/template\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e5.增\x3c\/h2\x3e\n\x3cp\x3e新增节点 =》添加一条数据\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e新增的同时展开父节点\x3c\/li\x3e\n\x3cli\x3e是否考虑无限新增\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/el-tree component\nhandleAdd(s,d,n){\/\/增加节点\n  console.log(s,d,n)\n  if(n.level \x3e=6){\n    this.$message.error(\x26quot;最多只支持五级！\x26quot;)\n    return false;\n  }\n  \/\/添加数据\n  d.children.push({\n    id: \x2b\x2bthis.maxexpandId,\n    name: \x27新增节点\x27,\n    pid: d.id,\n    isEdit: false,\n    children: []\n  });\n  \/\/展开节点\n  if(!n.expanded){\n    n.expanded = true;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/el-tree component\x3c\/span\x3e\nhandleAdd(s,d,n){\x3cspan class=\x22hljs-comment\x22\x3e\/\/增加节点\x3c\/span\x3e\n  console.log(s,d,n)\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(n.level \x26gt;=\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$message.error(\x3cspan class=\x22hljs-string\x22\x3e\x22最多只支持五级！\x22\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  }\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加数据\x3c\/span\x3e\n  d.children.push({\n    id: \x2b\x2b\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.maxexpandId,\n    name: \x3cspan class=\x22hljs-string\x22\x3e\x27新增节点\x27\x3c\/span\x3e,\n    pid: d.id,\n    isEdit: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    children: []\n  });\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/展开节点\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!n.expanded){\n    n.expanded = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e新增节点字体加粗 =》给节点添加一个class =》 如何判断是否新增？\x3cbr\x3e我们有一个参数\x3ccode\x3emaxexpandId\x3c\/code\x3e\x3cbr\x3e给\x3ccode\x3etree_render\x3c\/code\x3e添加一个\x3ccode\x3eprop\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/el-tree component\nrenderContent(h,{node,data,store}){\/\/加载节点\n  let that = this;\n  return h(TreeRender,{\n    props: {\n      ...\n      maxexpandId: that.non_maxexpandId\n    },\n    on: {...}\n  });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nimrod\x22\x3e\x3ccode\x3e\/\/el-tree component\nrenderContent(h,{node,data,store}){\/\/加载节点\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e that = this;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e h(\x3cspan class=\x22hljs-type\x22\x3eTreeRender\x3c\/span\x3e,{\n    props: {\n      ...\n      maxexpandId: that.non_maxexpandId\n    },\n    on: \x3cspan class=\x22hljs-meta\x22\x3e{...}\x3c\/span\x3e\n  });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e根据id判断：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/tree_render component\nprops: [\x27NODE\x27, \x27DATA\x27, \x27STORE\x27, \x27maxexpandId\x27]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/tree_render component\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3eprops:\x3c\/span\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x27NODE\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27DATA\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27STORE\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27maxexpandId\x27\x3c\/span\x3e]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- tree_render component --\x3e\n\x3cspan v-show=\x26quot;!DATA.isEdit\x26quot; \n:class=\x26quot;[DATA.id \x3e maxexpandId ? \x27tree-new tree-label\x27 : \x27tree-label\x27]\x26quot;\n:ref=\x26quot;\x27treeLabel\x27\x2bDATA.id\x26quot;\x3e\n    \x3cspan\x3e\x22{{\x22DATA.name\x22}}\x22\x3c\/span\x3e\n\x3c\/span\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- tree_render component --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22!DATA.isEdit\x22\x3c\/span\x3e \n\x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22[DATA.id \x26gt; maxexpandId ? \x27tree-new tree-label\x27 : \x27tree-label\x27]\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e:ref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x27treeLabel\x27\x2bDATA.id\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22DATA.name\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.tree-expand .tree-label.tree-new{\n    font-weight:600;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.tree-expand\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.tree-label\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.tree-new\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3efont-weight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e600\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e6.删\x3c\/h2\x3e\n\x3cp\x3e跟新增同义：删除节点 =》删除一条数据\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e新增节点直接删除\x3c\/li\x3e\n\x3cli\x3e已有节点需提示再删除\x3c\/li\x3e\n\x3cli\x3e已有子级节点不能删除\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22handleDelete(s,d,n){\/\/删除节点\n  console.log(s,d,n)\n  let that = this;\n  \/\/有子级不删除\n  if(d.children \x26amp;\x26amp; d.children.length !== 0){\n    this.$message.error(\x26quot;此节点有子级，不可删除！\x26quot;)\n    return false;\n  }else{\n    \/\/删除操作\n    let delNode = () =\x3e {\n      let list = n.parent.data.children || n.parent.data,\n      \/\/节点同级数据，顶级节点时无children\n        _index = 99999;\/\/要删除的index\n      list.map((c,i) =\x3e {\n        if(d.id == c.id){\n          _index = i;\n        }\n      })\n      let k = list.splice(_index,1);\n      \/\/console.log(_index,k)\n      this.$message.success(\x26quot;删除成功！\x26quot;)\n    }\n    let isDel = () =\x3e {\n      that.$confirm(\x26quot;是否删除此节点？\x26quot;,\x26quot;提示\x26quot;,{\n        confirmButtonText: \x26quot;确认\x26quot;,\n        cancelButtonText: \x26quot;取消\x26quot;,\n        type: \x26quot;warning\x26quot;\n      }).then(() =\x3e {\n        delNode()\/\/此处可通过ajax做删除操作\n      }).catch(() =\x3e {\n        return false;\n      })\n    }\n    \/\/新增节点直接删除，否则要通过请求数据删除\n    d.id \x3e this.non_maxexpandId ? delNode() : isDel()\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3ehandleDelete(s,d,n){\x3cspan class=\x22hljs-comment\x22\x3e\/\/删除节点\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(s,d,n)\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e that = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/有子级不删除\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(d.children \x26amp;\x26amp; d.children.length !== \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$message.error(\x3cspan class=\x22hljs-string\x22\x3e\x22此节点有子级，不可删除！\x22\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/删除操作\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e delNode = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e list = n.parent.data.children || n.parent.data,\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/节点同级数据，顶级节点时无children\x3c\/span\x3e\n        _index = \x3cspan class=\x22hljs-number\x22\x3e99999\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/要删除的index\x3c\/span\x3e\n      list.map(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ec,i\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(d.id == c.id){\n          _index = i;\n        }\n      })\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e k = list.splice(_index,\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/console.log(_index,k)\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$message.success(\x3cspan class=\x22hljs-string\x22\x3e\x22删除成功！\x22\x3c\/span\x3e)\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e isDel = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      that.$confirm(\x3cspan class=\x22hljs-string\x22\x3e\x22是否删除此节点？\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22提示\x22\x3c\/span\x3e,{\n        confirmButtonText: \x3cspan class=\x22hljs-string\x22\x3e\x22确认\x22\x3c\/span\x3e,\n        cancelButtonText: \x3cspan class=\x22hljs-string\x22\x3e\x22取消\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22warning\x22\x3c\/span\x3e\n      }).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        delNode()\x3cspan class=\x22hljs-comment\x22\x3e\/\/此处可通过ajax做删除操作\x3c\/span\x3e\n      }).catch(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n      })\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/新增节点直接删除，否则要通过请求数据删除\x3c\/span\x3e\n    d.id \x26gt; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.non_maxexpandId ? delNode() : isDel()\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e7.拓展\x3c\/h2\x3e\n\x3cp\x3e还有一些特别的需求，例如：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e点击高亮的时候显示icon\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.expand-tree .is-current\x3e.el-tree-node__content .tree-btn,\n.expand-tree .el-tree-node__content:hover .tree-btn{\n  display: inline-block;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.expand-tree\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.is-current\x3c\/span\x3e\x26gt;\x3cspan class=\x22hljs-selector-class\x22\x3e.el-tree-node__content\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.tree-btn\x3c\/span\x3e,\n\x3cspan class=\x22hljs-selector-class\x22\x3e.expand-tree\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.el-tree-node__content\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.tree-btn\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: inline-block;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e添加顶级节点\x3cbr\x3e   添加按钮：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- el-tree component --\x3e\n\x3cel-button @click=\x26quot;handleAddTop\x26quot;\x3e添加顶级节点\x3c\/el-button\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- el-tree component --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22handleAddTop\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e添加顶级节点\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加methods：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/el-tree component\nmethods: {\n  handleAddTop(){\n    this.setTree.push({\n      id: \x2b\x2bthis.maxexpandId,\n      name: \x27新增节点\x27,\n      pid: \x27\x27,\n      isEdit: false,\n      children: []\n    })\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/el-tree component\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3emethods\x3c\/span\x3e: {\n  handleAddTop(){\n    this.setTree.push({\n      \x3cspan class=\x22hljs-attribute\x22\x3eid\x3c\/span\x3e: \x2b\x2bthis.maxexpandId,\n      \x3cspan class=\x22hljs-attribute\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27新增节点\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attribute\x22\x3epid\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attribute\x22\x3eisEdit\x3c\/span\x3e: false,\n      \x3cspan class=\x22hljs-attribute\x22\x3echildren\x3c\/span\x3e: []\n    })\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e默认展开树形第一级\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/el-tree component\nmounted(){\n  this.initExpand()\n},\nmethods: {\n  initExpand(){\n    \/\/isLoadingTree用意也是在此\n    this.setTree.map((a) =\x3e {\n      this.defaultExpandKeys.push(a.id)\n    });\n    this.isLoadingTree = true;\n  },\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/el-tree component\x3c\/span\x3e\nmounted(){\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.initExpand()\n},\nmethods: {\n  initExpand(){\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/isLoadingTree用意也是在此\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setTree.map((a) =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.defaultExpandKeys.push(a.id)\n    });\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.isLoadingTree = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n  },\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e8.github\x3c\/h2\x3e\n\x3cp\x3e还有些具体的样式都放在\x3ca href=\x22https:\/\/github.com\/xiaoniezi\/tree\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e了\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e如有错漏，欢迎指正╰(\x3cem\x3e ◕ ▽ ◕ \x3c\/em\x3e)╯\x3c\/strong\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>VUE饿了么树形控件添加增删改功能</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011574698">https://segmentfault.com/a/1190000011574698</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ge3ockwokek/" target="_blank">https://alili.tech/archive/ge3ockwokek/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>