<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="造轮子之 npm i -g creatshare-app-init 源码浅析"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>造轮子之 npm i -g creatshare-app-init 源码浅析 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ghsi4v3zl9/",
				"appid": "1613049289050283", 
				"title": "造轮子之 npm i -g creatshare-app-init 源码浅析 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-27T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/l51ozjybts/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/417tovjnouf/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&text=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&text=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&title=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&is_video=false&description=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&title=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&title=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&title=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fghsi4v3zl9%2f&title=%e9%80%a0%e8%bd%ae%e5%ad%90%e4%b9%8b%20npm%20i%20-g%20creatshare-app-init%20%e6%ba%90%e7%a0%81%e6%b5%85%e6%9e%90"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">造轮子之 npm i -g creatshare-app-init 源码浅析</h1><div class="meta"><div class="postdate"><time datetime="2018-12-27" itemprop="datePublished">2018-12-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e以我的小经验来看，软件萌新写出来的代码大多“无法直视”。具体现象包括空格和换行符乱用、文件夹和变量的命名多使用拼音等。坐不住的我，便想到了通过 ESLint 配置文件来规范实验室的 JavaScript 代码规范的 Idea。\x3c\/p\x3e\n\x3cp\x3e于是巧遇前实验室毕业学长曾经发布的 npm 包——\x3ca href=\x22https:\/\/github.com\/mennghao\/creatshare-project-quick-init\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecreatshare-project-quick-init\x3c\/a\x3e。安装好这个包，我们便可以在空文件夹下生成一个项目的基础骨架。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/creatshare-app-init\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2558748-f96e77fb26a49852.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2558748-f96e77fb26a49852.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22dist  \/\/发布目录，用于生产环境\nsrc   \/\/开发目录，开发时所需资源\n|----dist  \/\/测试环境目录\n|     |----static\n|             |----css  \/\/编译打包后的css资源\n|             |----js   \/\/打包压缩后的js资源\n|             |----imgs \/\/测试环境图片资源\n|----less  \/\/开发所需less代码\n|----js    \/\/开发所需js代码\n|    |----lib \/\/库或框架资源\n|----imgs  \/\/开发所需图片资源\nindex.html    \/\/开发页面\ngulpfile.js\npackage.json\nREADME.md\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3edist\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/发布目录，用于生产环境\x3c\/span\x3e\nsrc   \x3cspan class=\x22hljs-comment\x22\x3e\/\/开发目录，开发时所需资源\x3c\/span\x3e\n|----\x3cspan class=\x22hljs-built_in\x22\x3edist\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/测试环境目录\x3c\/span\x3e\n|     |----\x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e\n|             |----css  \x3cspan class=\x22hljs-comment\x22\x3e\/\/编译打包后的css资源\x3c\/span\x3e\n|             |----js   \x3cspan class=\x22hljs-comment\x22\x3e\/\/打包压缩后的js资源\x3c\/span\x3e\n|             |----imgs \x3cspan class=\x22hljs-comment\x22\x3e\/\/测试环境图片资源\x3c\/span\x3e\n|----less  \x3cspan class=\x22hljs-comment\x22\x3e\/\/开发所需less代码\x3c\/span\x3e\n|----js    \x3cspan class=\x22hljs-comment\x22\x3e\/\/开发所需js代码\x3c\/span\x3e\n|    |----lib \x3cspan class=\x22hljs-comment\x22\x3e\/\/库或框架资源\x3c\/span\x3e\n|----imgs  \x3cspan class=\x22hljs-comment\x22\x3e\/\/开发所需图片资源\x3c\/span\x3e\nindex.html    \x3cspan class=\x22hljs-comment\x22\x3e\/\/开发页面\x3c\/span\x3e\ngulpfile.js\n\x3cspan class=\x22hljs-keyword\x22\x3epackage\x3c\/span\x3e.json\nREADME.md\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3eWhat a good idea~!\x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e在学长的这个包中，主要构建了 gulp 配置，less 和测试文件的骨架。虽然再无更多内容，但这份构建基础骨架的灵感还是被我愉快的收走了——学前端的人很多，但大多都太缺工程化意识了。于是，这个灵感成为了不错突破口。\x3c\/p\x3e\n\x3cp\x3ecreatshare-app-init 脚手架孕育而生。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e0\x3c\/h1\x3e\n\x3cp\x3e通过这篇文章，你能了解到：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e如何用 NodeJS 编写命令行工具？\x3c\/li\x3e\n\x3cli\x3e如何发布自己的 npm 包？\x3c\/li\x3e\n\x3cli\x3e笔者与 creatshare-app-init 的故事？\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e在本文中，或多或少出现过以下关键字，我的解释是：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e轮子：该词在前端开发日常用语中，表示一个基于原生代码实现，但并没有对前端行业产生积极意义的模块。虽然它的出现方便了一些人的使用，但更多的加大了我们的学习成本。\x3c\/li\x3e\n\x3cli\x3e项目：该词在前端领域常指一个服务于用户的软件立项。\x3c\/li\x3e\n\x3cli\x3e模块：\x3ccode\x3ecreatshare-app-init\x3c\/code\x3e 就是一个模块，是开发前端项目中的一个子集。正如汽车的各个部件一样，多个模块合理组装起来才是一辆汽车。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e1\x3c\/h1\x3e\n\x3cp\x3e尝试解析源码，第一步，从模块根目录下的 \x3ccode\x3epackage.json\x3c\/code\x3e 来看。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;dependencies\x26quot;: {\n    \x26quot;commander\x26quot;: \x26quot;^2.11.0\x26quot;\n},\n\x26quot;devDependencies\x26quot;: {\n    \x26quot;babel-plugin-transform-runtime\x26quot;: \x26quot;^6.23.0\x26quot;,\n    \x26quot;babel-preset-es2015\x26quot;: \x26quot;^6.24.1\x26quot;,\n    \x26quot;babel-preset-stage-2\x26quot;: \x26quot;^6.24.1\x26quot;,\n    \x26quot;babel-runtime\x26quot;: \x26quot;^6.26.0\x26quot;,\n    \x26quot;eslint-config-standard\x26quot;: \x26quot;^10.2.1\x26quot;,\n    \x26quot;eslint-plugin-import\x26quot;: \x26quot;^2.8.0\x26quot;,\n    \x26quot;eslint-plugin-node\x26quot;: \x26quot;^5.2.1\x26quot;,\n    \x26quot;eslint-plugin-promise\x26quot;: \x26quot;^3.6.0\x26quot;,\n    \x26quot;eslint-plugin-standard\x26quot;: \x26quot;^3.0.1\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22dependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22commander\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.11.0\x22\x3c\/span\x3e\n},\n\x3cspan class=\x22hljs-string\x22\x3e\x22devDependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-plugin-transform-runtime\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.23.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-es2015\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.24.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-stage-2\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.24.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-runtime\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.26.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22eslint-config-standard\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^10.2.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22eslint-plugin-import\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.8.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22eslint-plugin-node\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^5.2.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22eslint-plugin-promise\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.6.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22eslint-plugin-standard\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.0.1\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如上，\x3ccode\x3edependencies\x3c\/code\x3e 声明了模块上线时的依赖，\x3ccode\x3edevDependencies\x3c\/code\x3e 声明了模块开发时的依赖。该模块在上线时，即 npm 包被用户用到时，只需要 \x3ccode\x3ecommander\x3c\/code\x3e 库。\x3ccode\x3ecommander\x3c\/code\x3e 库是 NodeJS 命令行接口开发的优选解决方案，受启发于 Ruby 的 commander。在解析 \x3ccode\x3ebin\/index.js\x3c\/code\x3e 源码时将详细拓展。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;name\x26quot;: \x26quot;creatshare-app-init\x26quot;,\n\x26quot;version\x26quot;: \x26quot;2.1.0\x26quot;,\n\x26quot;description\x26quot;: \x26quot;CreatShare 实验室前端项目初始化工具\x26quot;,\n\x26quot;bin\x26quot;: {\n  \x26quot;cs\x26quot;: \x26quot;bin\/index.js\x26quot;\n},\n\x26quot;scripts\x26quot;: {\n  \x26quot;compile\x26quot;: \x26quot;babel src\/ -d lib\/\x26quot;,\n  \x26quot;prepublish\x26quot;: \x26quot;npm run compile\x26quot;,\n  \x26quot;eslint\x26quot;: \x26quot;eslint src bin\x26quot;,\n  \x26quot;test\x26quot;: \x26quot;echo \\\x26quot;Error: no test specified\\\x26quot; \x26amp;\x26amp; exit 1\x26quot;\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22creatshare-app-init\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-string\x22\x3e\x22version\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222.1.0\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-string\x22\x3e\x22description\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22CreatShare 实验室前端项目初始化工具\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-string\x22\x3e\x22bin\x22\x3c\/span\x3e: {\n  \x3cspan class=\x22hljs-string\x22\x3e\x22cs\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22bin\/index.js\x22\x3c\/span\x3e\n},\n\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n  \x3cspan class=\x22hljs-string\x22\x3e\x22compile\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22babel src\/ -d lib\/\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22prepublish\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22npm run compile\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22eslint\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22eslint src bin\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22echo \\\x22\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3eError\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3eno\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e specified\\\x3cspan class=\x22hljs-string\x22\x3e\x22 \x26amp;\x26amp; exit 1\x22\x3c\/span\x3e\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面一段是 \x3ccode\x3epackage.json\x3c\/code\x3e 最开头的内容，字段详情如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3ename\x3c\/code\x3e 字段：声明模块名称。特殊注意该字段不允许大写字母及空格的出现，且其与 \x3ccode\x3eversion\x3c\/code\x3e 字段形成了 npm 模块的唯一标识符。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eversion\x3c\/code\x3e 字段：声明模块当前版本号。这里每当使用 \x3ccode\x3enpm publish\x3c\/code\x3e 将模块发布到 npm 仓库中时，版本号都需要手动自增。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3edescription\x3c\/code\x3e 字段：对模块进行描述，同时有助于被检索。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ebin\x3c\/code\x3e 字段：npm 本身是通过 bin 属性配置一个或多个可解析到 PATH 路径下的可执行模块。模块若被全局安装，则 npm 会为 bin 中配置的文件在 bin 目录下创建一个软连接；模块若被局部安装，软连接会配置在项目内的 \x3ccode\x3e.\/node_modules\/.bin\/\x3c\/code\x3e目录下。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3escript\x3c\/code\x3e 字段：定义模块的脚本配置。如，当我们在模块目录下使用 \x3ccode\x3enpm run compile\x3c\/code\x3e 时，将自动执行 \x3ccode\x3ebabel src\/ -d lib\/\x3c\/code\x3e 命令，进行 ECMAScript6 代码的转译。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2558748-d75bd4916fafc450.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2558748-d75bd4916fafc450.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e2\x3c\/h1\x3e\n\x3cp\x3e刚刚提到 \x3ccode\x3epackage.json\x3c\/code\x3e 配置文件下的 \x3ccode\x3ebin\x3c\/code\x3e 字段声明了 npm 在生成软连接时的配置。这就便是用户在安装好这个目录后，可以随时使用 \x3ccode\x3ecs\x3c\/code\x3e 命令的出处。\x3c\/p\x3e\n\x3cp\x3e我们又提到了该模块在非开发环境下只需用到 \x3ccode\x3ecommander\x3c\/code\x3e 模块，这个模块是 NodeJS 命令行接口开发的优选解决方案。\x3c\/p\x3e\n\x3cp\x3e基于这俩点，我们就从 \x3ccode\x3ebin\x3c\/code\x3e 字段所指向的 \x3ccode\x3ebin\/index.js\x3c\/code\x3e 聊起。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#!\/usr\/bin\/env node\n\nvar program = require(\x27commander\x27)\nvar cs = require(\x27..\/lib\/cs\x27)\n\nprogram\n  .allowUnknownOption()\n  .version(\x272.1.1\x27)\n  .description(\x27CreatShare 互联网实验室前端 Web App 项目脚手架\x27)\n  .option(\x27-e, --enjoy\x27)\n\nprogram.\n  .command(\x27create \x3cdir\x3e\x27)\n  .description(\x27创建一个新的 Web App 项目骨架\x27)\n  .action(function (rootDir) {\n    cs.create(rootDir)\n})\n\nprogram.parse(process.argv)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e#!\/usr\/bin\/env node\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eprogram\x3c\/span\x3e = require(\x3cspan class=\x22hljs-string\x22\x3e\x27commander\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cs = require(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/lib\/cs\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-keyword\x22\x3eprogram\x3c\/span\x3e\n  .allowUnknownOption()\n  .version(\x3cspan class=\x22hljs-string\x22\x3e\x272.1.1\x27\x3c\/span\x3e)\n  .description(\x3cspan class=\x22hljs-string\x22\x3e\x27CreatShare 互联网实验室前端 Web App 项目脚手架\x27\x3c\/span\x3e)\n  .option(\x3cspan class=\x22hljs-string\x22\x3e\x27-e, --enjoy\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-keyword\x22\x3eprogram\x3c\/span\x3e.\n  .command(\x3cspan class=\x22hljs-string\x22\x3e\x27create \x26lt;dir\x26gt;\x27\x3c\/span\x3e)\n  .description(\x3cspan class=\x22hljs-string\x22\x3e\x27创建一个新的 Web App 项目骨架\x27\x3c\/span\x3e)\n  .action(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(rootDir)\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e{\n    cs.create(rootDir)\n}\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-title\x22\x3eprogram\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eparse\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(process.argv)\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就这么二十来行。因为我们要写的模块是要运行在命令行下的，就需要 \x3ccode\x3e#!\/usr\/bin\/env node\x3c\/code\x3e 语句来告诉系统使用 node 环境来运行我们的文件，必不可少。\x3c\/p\x3e\n\x3cp\x3e在引入 \x3ccode\x3ecommander\x3c\/code\x3e 并将其赋值给 \x3ccode\x3eprogram\x3c\/code\x3e 变量后，我们对其使用了如下方法：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e.allowUnknownOption()\x3c\/code\x3e 方法：\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e.version()\x3c\/code\x3e 方法：用于设置命令程序的版本号。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e.description()\x3c\/code\x3e 方法：用于设置命令的描述。可以绑定在跟命令下，这里是 \x3ccode\x3ecs\x3c\/code\x3e 命令；或绑定在子命令下，如 \x3ccode\x3ecs create \x26lt;dir\x26gt;\x3c\/code\x3e 命令。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e.option()\x3c\/code\x3e 方法：定义命令的具体选项。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e.command()\x3c\/code\x3e 方法：定义命令的子命令，这里是 \x3ccode\x3ecs create \x26lt;dir\x26gt;\x3c\/code\x3e 命令。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e.action()\x3c\/code\x3e 方法：用于设置命令执行的相关回调。这里绑定在 \x3ccode\x3ecs create \x26lt;dir\x26gt;\x3c\/code\x3e 命令上，在使用该命令时触发执行回调函数。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e代码最后的 \x3ccode\x3eprocess\x3c\/code\x3e 为进程对象，是 NodeJS 运行时存在的众多全局变量之一。process 对象中的 argv 属性用来捕获命令行参数。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2558748-9464c105f848f58b.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2558748-9464c105f848f58b.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e3\x3c\/h1\x3e\n\x3cp\x3e刚刚在 \x3ccode\x3ebin\/index.js\x3c\/code\x3e 里说明的 \x3ccode\x3e.action\x3c\/code\x3e 回调函数绑定在 \x3ccode\x3ecs create \x26lt;dir\x26gt;\x3c\/code\x3e 命令下。当我们使用该命令时，会触发 \x3ccode\x3ecs.create()\x3c\/code\x3e 语句的执行，这就要提及我们引入的 \x3ccode\x3elib\/cs.js\x3c\/code\x3e 文件了。\x3c\/p\x3e\n\x3cp\x3e打住，第一节里展示的 \x3ccode\x3epackage.json\x3c\/code\x3e 中，\x3ccode\x3escript\x3c\/code\x3e字段里有这么一条语句：\x3ccode\x3e\x22compile\x22: \x22babel src\/ -d lib\/\x22\x3c\/code\x3e。这是说明 \x3ccode\x3elib\/\x3c\/code\x3e 文件夹下的代码是通过 \x3ccode\x3esrc\/\x3c\/code\x3e 文件夹下的代码转译过来的，真正我们需要去关注的是 \x3ccode\x3esrc\/cs.js\x3c\/code\x3e 文件。\x3c\/p\x3e\n\x3cblockquote\x3e为什么需要转译？src 里的 JavaScript 代码或多或少的使用到了 ECMAScript6 新特性，有些用户的 Node 环境并不一定能得到较好的解析。\x3c\/blockquote\x3e\n\x3cp\x3e\x3ccode\x3esrc\/cs.js\x3c\/code\x3e 主要代码片段为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let create = require(\x27.\/create\x27)\nlet path = require(\x27path\x27)\nlet distPath = path.join(__dirname, \x27\/..\/dist\x27)\nlet dist = process.cwd() \x2b \x27\/\x27\n\n\/**\n* [运行 create 命令]\n* @return {[type]} [description]\n*\/\nexports.create = (rootDir) =\x3e {\n  console.log(\x27\\n项目目录开始创建\\n\x27)\n  create.init(distPath, dist, rootDir)\n  helpGuide()\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e create = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/create\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e distPath = path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27\/..\/dist\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e dist = process.cwd() \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n* [运行 create 命令]\n* @return {[type]} [description]\n*\/\x3c\/span\x3e\nexports.create = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3erootDir\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27\\n项目目录开始创建\\n\x27\x3c\/span\x3e)\n  create.init(distPath, dist, rootDir)\n  helpGuide()\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e不难理解，\x3ccode\x3ecreate\x3c\/code\x3e 变量指向 \x3ccode\x3ecs create \x26lt;dir\x26gt;\x3c\/code\x3e 所要执行的源代码；\x3ccode\x3epath\x3c\/code\x3e 是 NodeJS 自带模块，提供文件目录解析功能。\x3c\/p\x3e\n\x3cp\x3e最终 \x3ccode\x3esrc\/index.js\x3c\/code\x3e 使用 \x3ccode\x3eexports.create\x3c\/code\x3e 语句向外部暴露出 \x3ccode\x3ecreate\x3c\/code\x3e 方法。\x3ccode\x3ebin\/index.js\x3c\/code\x3e 便可以将该方法通过 \x3ccode\x3e.action()\x3c\/code\x3e 绑定到 \x3ccode\x3ecs create \x26lt;dir\x26gt;\x3c\/code\x3e 命令上了。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e4\x3c\/h1\x3e\n\x3cp\x3e精彩的来了。都说 ECMAScript6 的指定振奋人心，JavaScript 的魅力越来越大，这里便是一次体验 JavaScript 在 NodeJS 上的新玩法有趣之旅。\x3c\/p\x3e\n\x3cp\x3e在 \x3ccode\x3esrc\/create.js\x3c\/code\x3e 文件中，主要用到了 NodeJS 自带的 \x3ccode\x3efs\x3c\/code\x3e 文件模块，来生成新项目的基础架构。文件最后暴露出的 \x3ccode\x3einit\x3c\/code\x3e 方法源码如下。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22exports.init = (path, dist, rootDir) =\x3e {\n  createRootDir(rootDir)\n  \/\/ 从新目录开始新建项目\n  dist = dist \x2b rootDir\n  copyDir(path, dist)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3eexports.init = (path, \x3cspan class=\x22hljs-built_in\x22\x3edist\x3c\/span\x3e, rootDir) =\x26gt; {\n  createRootDir(rootDir)\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 从新目录开始新建项目\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3edist\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3edist\x3c\/span\x3e \x2b rootDir\n  copyDir(path, \x3cspan class=\x22hljs-built_in\x22\x3edist\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3einit\x3c\/code\x3e 方法获取了 \x3ccode\x3epath\x3c\/code\x3e 参数、\x3ccode\x3edist\x3c\/code\x3e 参数和 \x3ccode\x3erootDir\x3c\/code\x3e 参数。在该方法中，我们先将 \x3ccode\x3erootDir\x3c\/code\x3e 参数传入 \x3ccode\x3ecreateRootDir()\x3c\/code\x3e 函数中创建项目根目录。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2558748-130ef6c78e5d5f27.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2558748-130ef6c78e5d5f27.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在哪里创建项目根目录呢？就在执行 \x3ccode\x3ecs\x3c\/code\x3e 命令时的当前目录下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const createRootDir = (rootDir) =\x3e {\n  fs.access(process.cwd(), function (err) {\n    if (err) {\n      \/\/ 目录不存在时创建目录\n      fs.mkdirSync(rootDir)\n    }\n  })\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e createRootDir = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3erootDir\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  fs.access(process.cwd(), \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 目录不存在时创建目录\x3c\/span\x3e\n      fs.mkdirSync(rootDir)\n    }\n  })\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有了项目根目录，就要将模块下 \x3ccode\x3edist\/\x3c\/code\x3e 文件夹里的所有文件递归拷贝到根目录下。一个参数用来指向 \x3ccode\x3edist\/\x3c\/code\x3e 文件夹，另一个参数用来指向根目录，便可以开始递归复制。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * [初始化静态资源]\n * @param  {[type]} src  [初始化资源路径]\n * @param  {[type]} dist [当前终端所在目录]\n * @return {[type]}      [description]\n *\/\nconst copyDir = (src, dist) =\x3e {\n  fs.access(dist, function (err) {\n    if (err) {\n      \/\/ 目录不存在时创建目录\n      fs.mkdirSync(dist)\n    }\n    _copy(null, src, dist)\n  })\n\n  function _copy (err, src, dist) {\n    if (err) { throw err }\n    fs.readdir(src, function (err, files) {\n      if (err) { throw err }\n      \/\/ 过滤不生成的文件\n      miscFiles.forEach(function (v) {\n        if (!files.includes(v)) return\n        files = files.filter(function (k) {\n          return k !== v\n        })\n      })\n      \/\/ 遍历目录中的文件\n      files.forEach(function (path) {\n        var _src = src \x2b \x27\/\x27 \x2b path\n        var _dist = dist \x2b \x27\/\x27 \x2b path\n        fs.stat(_src, function (err, st) {\n          if (err) { throw err }\n          \/\/ 判断是文件还是目录\n          if (st.isFile()) {\n            fs.writeFileSync(_dist, fs.readFileSync(_src))\n          } else if (st.isDirectory()) {\n            \/\/ 当是目录是，递归复制\n            copyDir(_src, _dist)\n          }\n        })\n      })\n    })\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs php\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * [初始化静态资源]\n * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e  {[type]} src  [初始化资源路径]\n * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e  {[type]} dist [当前终端所在目录]\n * \x3cspan class=\x22hljs-doctag\x22\x3e@return\x3c\/span\x3e {[type]}      [description]\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e copyDir = (src, dist) =\x26gt; {\n  fs.access(dist, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(err)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 目录不存在时创建目录\x3c\/span\x3e\n      fs.mkdirSync(dist)\n    }\n    _copy(\x3cspan class=\x22hljs-keyword\x22\x3enull\x3c\/span\x3e, src, dist)\n  })\n\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e_copy\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(err, src, dist)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) { \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err }\n    fs.readdir(src, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(err, files)\x3c\/span\x3e \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) { \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err }\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 过滤不生成的文件\x3c\/span\x3e\n      miscFiles.\x3cspan class=\x22hljs-keyword\x22\x3eforEach\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(v)\x3c\/span\x3e \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!files.includes(v)) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n        files = files.filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(k)\x3c\/span\x3e \x3c\/span\x3e{\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e k !== v\n        })\n      })\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 遍历目录中的文件\x3c\/span\x3e\n      files.\x3cspan class=\x22hljs-keyword\x22\x3eforEach\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(path)\x3c\/span\x3e \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _src = src \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e \x2b path\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _dist = dist \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e \x2b path\n        fs.stat(_src, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(err, st)\x3c\/span\x3e \x3c\/span\x3e{\n          \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) { \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err }\n          \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断是文件还是目录\x3c\/span\x3e\n          \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (st.isFile()) {\n            fs.writeFileSync(_dist, fs.readFileSync(_src))\n          } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (st.isDirectory()) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当是目录是，递归复制\x3c\/span\x3e\n            copyDir(_src, _dist)\n          }\n        })\n      })\n    })\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3efs\x3c\/code\x3e 文件模块的具体内容推荐阅读阮一峰的开源电子书——《JavaScript 标准参考教程》中的“NodeJS”章节，来深入浅出 \x3ccode\x3efs\x3c\/code\x3e 模块的用法。\x3c\/p\x3e\n\x3cp\x3e完美，这时我们就可以发布我们的脚手架包了。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e5\x3c\/h1\x3e\n\x3cp\x3e如何发布一个 npm 包到 npm 仓库中，供其他人使用？当我们照着第一步，将 \x3ccode\x3epackage.json\x3c\/code\x3e 配置好后，其实模块的准备工作已经做好了。\x3c\/p\x3e\n\x3cp\x3e还没有做的就是在域名为 npmjs.com 的官网上注册一个账号。这样，当我们直接在模块根目录使用 \x3ccode\x3enpm publish\x3c\/code\x3e 命令的时候，输入正确的 npmjs.com 账号、密码，就能成功发布你的开源包了！\x3c\/p\x3e\n\x3cp\x3e纵然读博文是一个有趣的体验，但也可以亲自动手试一试哦。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2558748-d2b38882c155aef1.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2558748-d2b38882c155aef1.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader6\x22\x3e6\x3c\/h1\x3e\n\x3cp\x3e也就是说，酷炫的生成新项目骨架的来源，只是简单的递归复制该模块下的 \x3ccode\x3edist\/\x3c\/code\x3e 文件夹到新项目中。但我们需要关注的重点在于，\x3ccode\x3edist\/\x3c\/code\x3e 文件夹下，到底装了什么？\x3c\/p\x3e\n\x3cp\x3e“初级 Web App 项目初始化工具”一说，也就名归有主了。\x3ccode\x3edist\/\x3c\/code\x3e 模板，也就是新项目的骨架如下。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.\n├── .babelrc             # ES6 代码转义规则配置\n├── .eslint.js           # JavaScript 代码规范\n├── .gitignore           # Git 不跟踪的特殊文件\n├── LICENSE              # 开源协议\n├── README.md            # 项目介绍\n├── material             # README.md 引用的图片库\n├── package.json         # 项目配置文件\n├── src                  # 源码开发目录\n│\x26nbsp;\x26nbsp; ├── favicon.ico      # 网页标题小图标\n│\x26nbsp;\x26nbsp; ├── html             # HTML 页面模板目录\n│\x26nbsp;\x26nbsp; ├── image            # 图片资源目录\n│\x26nbsp;\x26nbsp; ├── manifest.json    # 网络应用清单\n│\x26nbsp;\x26nbsp; ├── script           # 脚本文件资源目录\n│\x26nbsp;\x26nbsp; └── style            # 样式文件资源目录\n├── webpack.config.js    # Webpack 多文件打包基础配置\n├── webpack.dev.js       # Webpack 开发环境配置\n├── webpack.prod.js      # Webpack 发布上线配置\n└── yarn.lock            # yarn 包管理器的依赖说明\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode\x3e.\n├── .\x3cspan class=\x22hljs-keyword\x22\x3ebabelrc \x3c\/span\x3e            \x3cspan class=\x22hljs-comment\x22\x3e# ES6 代码转义规则配置\x3c\/span\x3e\n├── .eslint.\x3cspan class=\x22hljs-keyword\x22\x3ejs \x3c\/span\x3e          \x3cspan class=\x22hljs-comment\x22\x3e# JavaScript 代码规范\x3c\/span\x3e\n├── .gitignore           \x3cspan class=\x22hljs-comment\x22\x3e# Git 不跟踪的特殊文件\x3c\/span\x3e\n├── LICENSE              \x3cspan class=\x22hljs-comment\x22\x3e# 开源协议\x3c\/span\x3e\n├── README.md            \x3cspan class=\x22hljs-comment\x22\x3e# 项目介绍\x3c\/span\x3e\n├── material             \x3cspan class=\x22hljs-comment\x22\x3e# README.md 引用的图片库\x3c\/span\x3e\n├── package.\x3cspan class=\x22hljs-keyword\x22\x3ejson \x3c\/span\x3e        \x3cspan class=\x22hljs-comment\x22\x3e# 项目配置文件\x3c\/span\x3e\n├── src                  \x3cspan class=\x22hljs-comment\x22\x3e# 源码开发目录\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── favicon.ico      \x3cspan class=\x22hljs-comment\x22\x3e# 网页标题小图标\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── html             \x3cspan class=\x22hljs-comment\x22\x3e# HTML 页面模板目录\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── image            \x3cspan class=\x22hljs-comment\x22\x3e# 图片资源目录\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── manifest.\x3cspan class=\x22hljs-keyword\x22\x3ejson \x3c\/span\x3e   \x3cspan class=\x22hljs-comment\x22\x3e# 网络应用清单\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── \x3cspan class=\x22hljs-keyword\x22\x3escript \x3c\/span\x3e          \x3cspan class=\x22hljs-comment\x22\x3e# 脚本文件资源目录\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; └── style            \x3cspan class=\x22hljs-comment\x22\x3e# 样式文件资源目录\x3c\/span\x3e\n├── webpack.config.\x3cspan class=\x22hljs-keyword\x22\x3ejs \x3c\/span\x3e   \x3cspan class=\x22hljs-comment\x22\x3e# Webpack 多文件打包基础配置\x3c\/span\x3e\n├── webpack.dev.\x3cspan class=\x22hljs-keyword\x22\x3ejs \x3c\/span\x3e      \x3cspan class=\x22hljs-comment\x22\x3e# Webpack 开发环境配置\x3c\/span\x3e\n├── webpack.prod.\x3cspan class=\x22hljs-keyword\x22\x3ejs \x3c\/span\x3e     \x3cspan class=\x22hljs-comment\x22\x3e# Webpack 发布上线配置\x3c\/span\x3e\n└── yarn.lock            \x3cspan class=\x22hljs-comment\x22\x3e# yarn 包管理器的依赖说明\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e新项目骨架中默认推荐了：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e使用 Webpack 来打包多页面；\x3c\/li\x3e\n\x3cli\x3e使用 ESLint 来规范自己项目的 JavaScript 代码；\x3c\/li\x3e\n\x3cli\x3e使用 Babel 来编译使用 ECMAScript 新特性的 JavaScript 代码。\x3c\/li\x3e\n\x3cli\x3e使用 MIT 开源协议；\x3c\/li\x3e\n\x3cli\x3e源代码都放在 \x3ccode\x3esrc\/\x3c\/code\x3e 目录下；\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3esrc\/\x3c\/code\x3e 目录要对不同的代码进行合理的分层。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2558748-0d9615b2209f0902.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2558748-0d9615b2209f0902.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader7\x22\x3eEnd\x3c\/h1\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e现在的不足，是未来的畅想。\x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e这个模块并不完美，一个健壮的命令还应该能支持足够多的参数，运行足够有意义的子命令。比如我们常用 \x3ccode\x3eman\x3c\/code\x3e 命令来看另一个命令的使用手册，那要让用户能用到 \x3ccode\x3eman cs\x3c\/code\x3e 命令，还需要我们在代码中加入 \x3ccode\x3eman\x3c\/code\x3e 字段等等。。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e我又为什么，这么热衷于分享这个轮子？\x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e记得有一个前端群里曾有人问过：\x3c\/p\x3e\n\x3cblockquote\x3e“怎么没有 VueJS 的源码解析？”\x3c\/blockquote\x3e\n\x3cp\x3e时，我说过：\x3c\/p\x3e\n\x3cblockquote\x3e“大牛很忙，关注的是前端前沿，不写这些源码解析博文是个好事。\x3cp\x3e“当我们想有一个源码解析教程的时候，这是一个打开新世界的契机——未尝不使我们亲自来写，通过分享走向学习效率金字塔的最高层？”\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e这样的能力并不是人人都能具备，也不必要让人人都具备。我曾在大一傲气的说过“做最好的自己，影响该影响的人”，现在想起来除了有立刻找地洞钻进去的冲动外，反而还是觉得有一定的道理（笑。这时候允许我自称为一次“教主”，我们的理念是：\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e读文档，读文档，读文档。\x3c\/em\x3e\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e\x3cem\x3e写博客，写博客，写博客。\x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cul\x3e\n\x3cli\x3eHello，我是韩亦乐，现任本科软工男一枚。软件工程专业的一路学习中，我有很多感悟，也享受持续分享的过程。如果想了解更多或能及时收到我的最新文章，欢迎订阅我的个人微信号：韩亦乐。\x3ca href=\x22http:\/\/www.jianshu.com\/u\/ecbf49bf207b\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我的简书个人主页\x3c\/a\x3e中，有我的订阅号二维码和 \x3ca href=\x22https:\/\/github.com\/hylerrix\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub 主页地址\x3c\/a\x3e；\x3ca href=\x22https:\/\/www.zhihu.com\/people\/hylerrix\/activities\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我的知乎主页\x3c\/a\x3e 中也会坚持产出，欢迎关注。\x3c\/li\x3e\n\x3cli\x3e本文内部编号经由\x3ca href=\x22https:\/\/github.com\/hylerrix\/FSD-Debris\/issues\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我的 Github 相关仓库\x3c\/a\x3e统一管理；本文可能发布在多个平台但仅在上述仓库中长期维护；本文同时采用\x3ca href=\x22https:\/\/creativecommons.org\/licenses\/by-nc-nd\/4.0\/deed.zh\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e【知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议】\x3c\/a\x3e进行许可。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2558748-39f785a767794693.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2558748-39f785a767794693.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>造轮子之 npm i -g creatshare-app-init 源码浅析</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011837284">https://segmentfault.com/a/1190000011837284</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ghsi4v3zl9/" target="_blank">https://alili.tech/archive/ghsi4v3zl9/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>