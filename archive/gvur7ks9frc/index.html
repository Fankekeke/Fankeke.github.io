<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="一个页面从输入URL到加载显示完成，发生了什么？"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>一个页面从输入URL到加载显示完成，发生了什么？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/gvur7ks9frc/",
				"appid": "1613049289050283", 
				"title": "一个页面从输入URL到加载显示完成，发生了什么？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-11-30T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/sgevbl3t87/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/gvj6x9oerih/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&text=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&text=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&title=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&is_video=false&description=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&title=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&title=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&title=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgvur7ks9frc%2f&title=%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e4%bb%8e%e8%be%93%e5%85%a5URL%e5%88%b0%e5%8a%a0%e8%bd%bd%e6%98%be%e7%a4%ba%e5%ae%8c%e6%88%90%ef%bc%8c%e5%8f%91%e7%94%9f%e4%ba%86%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">一个页面从输入URL到加载显示完成，发生了什么？</h1><div class="meta"><div class="postdate"><time datetime="2018-11-30" itemprop="datePublished">2018-11-30</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e面试经典题——URL加载\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e一、涉及基本知识点：\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3e1. 计算机网络\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e五层因特尔协议栈：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e应用层（dns、http）：DNS解析成IP并完成http请求发送；\x3c\/li\x3e\n\x3cli\x3e传输层（tcp、udp）：三次握手四次挥手模式建立tcp连接；\x3c\/li\x3e\n\x3cli\x3e网络层（IP、ARP）：IP寻址；\x3c\/li\x3e\n\x3cli\x3e数据链路层（PPP）：将请求数据封装成帧；\x3c\/li\x3e\n\x3cli\x3e物理层：利用物理介质传输比特流（传输的时候通过双绞线、电磁波等）\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eOIS七层框架\x3c\/strong\x3e:多了两层即，会话层（处理两个通信系统中交换信息的表示方式）和表示层（管理不同用户和进程之间的对话）。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eget和post的区别\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eget产生一个tcp数据包，post产生两个\x3c\/li\x3e\n\x3cli\x3eget请求时会把headers和data数据一起发送出去；\x3c\/li\x3e\n\x3cli\x3epost请求时，浏览器先发送headers，服务器100继续，浏览器再发送data。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eDNS查询得到IP\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e请求信息：首先查看域名的本地DNS缓存，该缓存存储计算机最近检索到的信息，如果计算机不知道答案，那么就需要执行一个DNS查询来查找答案；\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e询问递归式DNS服务器：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e如果信息不存储在本地，计算机会联系您的ISP（网络提供商）的递归DNS服务器；\x3c\/li\x3e\n\x3cli\x3e这些专用计算机会为你执行一个DNS查询工作；\x3c\/li\x3e\n\x3cli\x3e递归服务器有自己的缓存，所以这个查询过程通常在这里完成，并将信息还回给用户；\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e询问根域名服务器\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e如果递归服务器没有答案，他们会查询根域名服务器；\x3c\/li\x3e\n\x3cli\x3e根域名服务器是一种计算机，它扮演着一种DNS的电话接线员的角色，他们不知道答案，但可以将我们的疑问指向知道在哪里可以找到答案的人。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e询问TLD域名服务器：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e根域名服务器将查看请求的第一部分，按从右到左的顺序，从www.dyn.com中找到.com，并将请求指向.com对应的顶级域名服务器（TLD）.com;\x3c\/li\x3e\n\x3cli\x3e每个TLD，如（.com,.org,.us）都有自己的顶级域名服务器，\x3c\/li\x3e\n\x3cli\x3e这些服务器没有我们需要的信息，但他们可以直接将我们引导到有信息的服务器。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e询问权威的DNS服务器\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eTLD域名服务器会继续检查请求的下一部分（dyn）www.dyn.com，并将查询指向负责此特定域名的服务器；\x3c\/li\x3e\n\x3cli\x3e这些权威的服务器将负责了解关于特定域的所有信息，并将信息存储在DNS记录。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e找回记录：\x3cbr\x3e -递归服务器从权威服务器中检索dyn.com的记录，并将记录存储在本地缓存；\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e如果其他任何人请求dyn.com的主机记录，递归服务器已经有答案了，并不需要再次进行查找；\x3c\/li\x3e\n\x3cli\x3e所有记录都有一个期限，一段时间后，递归服务器将需要要求一个新的记录副本，以确保信息不回过时。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e接收答案：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e有了答案，递归服务器将记录返回到计算机，\x3c\/li\x3e\n\x3cli\x3e您的计算机将记录存储在缓存中，从记录中读取IP地址，然后将这些信息传递给浏览器；\x3c\/li\x3e\n\x3cli\x3e然后浏览器就可以根据IP地址和服务器进行连接建立。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eTCPIP请求\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3ehttp的本质就是TCPIP请求；\x3c\/li\x3e\n\x3cli\x3e需要经历3次握手建立连接，4次挥手断开连接；\x3c\/li\x3e\n\x3cli\x3eTCP将http长报文划分为短报文，通过三次握手与服务器端建立连接，进行可靠传输。\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e三次握手：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e客户端：你是XXX服务端吗？\x3c\/li\x3e\n\x3cli\x3e服务端： 我是XXX服务端，你是客户端吗？\x3c\/li\x3e\n\x3cli\x3e客服端： 是的，我是客户端\x3c\/li\x3e\n\x3cli\x3e建立连接成功后，接下来就可以进行正式的传输数据。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e四次挥手断开连接\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e主动方：我已经关闭了向你那边的信息发送通道，只能被动接受信息了；\x3c\/li\x3e\n\x3cli\x3e被动方： 收到通道关闭的信息；\x3c\/li\x3e\n\x3cli\x3e被动方： 我现在也关闭了向你那边发送信息的通道\x3c\/li\x3e\n\x3cli\x3e主动方： 左后收到信息，连接断开，之后双方无法通信\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eTCP\/IP的并发限制：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e浏览器对同一个域名下并发的TCP连接是有限制的（2-10个不等）\x3c\/li\x3e\n\x3cli\x3e而且在http1.0中往往一个资源的下载就需要一个tcp\/ip请求\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cstrong\x3e2. 浏览器机制\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e（1）进程和线程的概念\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e进程是CPU资源分配的最小单位，是能拥有资源和独立运行的最小单位；\x3c\/li\x3e\n\x3cli\x3e线程是CPU调度的最小单位，线程是建立在进程的基础上的一次程序运行单位，一个进程可以拥有多个线程；\x3c\/li\x3e\n\x3cli\x3e通俗的讲：进程是一个工厂，工厂有它独立的资源，工厂之间相互独立-\x26gt;进程之间相互独立，线程是工厂中的工人，多个工人之间可以协作完成任务，工厂内有一个或多个工人，工人之间共享空间。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e\x3cstrong\x3e（2）多进程的浏览器\x3c\/strong\x3e\x3c\/p\x3e\n\x3cblockquote\x3e浏览器是多进程的，有一个主控进程，以及每一个tab页面都会开一个进程（某些情况下多个tab由于优化策略会合并）\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e浏览器主要进程：\x3c\/li\x3e\x3c\/ul\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eBrowser进程：浏览器的主进程，负责协调、主控，只有一个，作用：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e负责浏览器界面的显示、与用户交互（如前进、后退等）\x3c\/li\x3e\n\x3cli\x3e负责各个页面的管理，创建和销毁其他进程；\x3c\/li\x3e\n\x3cli\x3e将Renderer进程得到的内存中的Bitmap绘制到用户界面上\x3c\/li\x3e\n\x3cli\x3e网络资源的管理和下载等\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3e第三方插件进程： 每种类型的插件对应一个进程，仅当该插件使用时才创建；\x3c\/strong\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eGPU进程\x3c\/strong\x3e： 最多一个，用于3D绘制等；\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e浏览器渲染进程（Renderer进程、浏览器内核、内部是多线程）\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e默认没打开一个tab页面，就会启动一个Renderer进程；\x3c\/li\x3e\n\x3cli\x3e负责页面的渲染，脚本的执行，事件的处理。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e浏览器多进程的优势\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e避免单个page crash影响整个浏览器；\x3c\/li\x3e\n\x3cli\x3e避免第三方插件crash影响整个浏览器\x3c\/li\x3e\n\x3cli\x3e多进程充分利用多核优势；\x3c\/li\x3e\n\x3cli\x3e方便使用沙盒模型隔离插件等进程，提高浏览器稳定性\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e简单点理解：如果浏览器是单进程，那么某个tab页或第三方插件崩溃了，就会导致整个浏览器崩溃，体验度极差，不过多进程内存消耗会更大，有点用空间换时间。\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e浏览器内核（渲染进程）\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e浏览器渲染进程内部是多线程，包含主要线程有：\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e1.GUI渲染线程：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e（1）负责浏览器界面的渲染，解析HTML、CSS，构建DOM树和RenderObject树，布局和绘制等；\x3c\/li\x3e\n\x3cli\x3e（2） 当界面需要重绘（Repaint）或由于某种操作引发回流（reflow）时该线程会执行；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e注意：GUI渲染线程和JS引擎线程是互斥的\x3c\/strong\x3e，当JS引擎执行时GUI线程会被挂起，GUI更新会保存在一个队列中等JS引擎空闲时立即执行。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e2.JS引擎线程：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eJS内核，负责处理JavaScript脚本程序（V8引擎）\x3c\/li\x3e\n\x3cli\x3e负责解析JavaScript脚本，运行代码；\x3c\/li\x3e\n\x3cli\x3eJS引擎一直等待着任务队列中的任务到来，然后加以处理，一个tab页面（renderer进程）中无论什么时候都只有一个JS线程在运行JS程序；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e注意：由于GUI渲染线程和JS引擎线程是互斥的\x3c\/strong\x3e，所以如果JS程序运行时间过长，这样会导致页面渲染不连贯，导致页面渲染加载阻塞；\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e3.事件触发线程：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e归属于浏览器，而不是JS引擎，用来控制事件循环；\x3c\/li\x3e\n\x3cli\x3e当JS引擎执行代码块如setTimeOut时（也可以来自浏览器内核的其他线程，如鼠标单击事件、AJAX异步请求等），会将对应的任务添加到事件线程中；\x3c\/li\x3e\n\x3cli\x3e当对应的事件符合触发条件被触发时，该线程就会把事件添加到JS的待处理队列的队尾，等待JS引擎的处理；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e注意：由于JS的单线程的关系\x3c\/strong\x3e所以这些待处理队列中的事件都得排队等待JS引擎处理（当JS引擎空闲时才会去执行）。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e4.定时触发器线程：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3esetTimeOut与setInterval所在的线程；\x3c\/li\x3e\n\x3cli\x3e浏览器的定时计数器并不是由JavaScript引擎计数的，（因为JavaScript是单线程，如果处于阻塞状态就会影响计时的准确）因此通过单独的线程来计时并触发定时（计时完毕后，添加到事件队列，等待JS引擎空闲时执行）\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e5.异步http请求线程：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e在XMLHttpRequest在连接后是通过浏览器新开一个线程请求的\x3c\/li\x3e\n\x3cli\x3e将检测到状态变更时，如果设置有回调函数，异步线程就将产生状态变更事件，将这个回调在放到事件队列中，再由JavaScript引擎执行。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e一、 一个页面从输入URL到加载显示完成，这个过程发生了什么？\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e简洁版：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e浏览器根据请求的URL交给DNS域名解析，找到真实的IP，向服务器发起请求；\x3c\/li\x3e\n\x3cli\x3e服务器交给后台处理完成后返回数据，浏览器接收文件（HTML、CSS、JavaScript等）；\x3c\/li\x3e\n\x3cli\x3e浏览器对加载到的资源（HTML、CSS、JavaScript等）进行语法解析，构建相应的内部数据结构（DOM树、CSS树、render树等）；\x3c\/li\x3e\n\x3cli\x3e载入解析到的资源文件、渲染页面、完成。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e详细版：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e首先浏览器开启一个线程来处理这个请求，对URL分析判断，如果是http协议就按照Web方式来处理；\x3c\/li\x3e\n\x3cli\x3e其次浏览器会对URL进行解析，一般包括（协议头、主机域名或IP地址、端口号、请求路径、查询参数、hash等），然后开启网络线程发出一个完整到http请求；\x3c\/li\x3e\n\x3cli\x3e当然一般我们输入的URL是服务器域名，这时就需要DNS通过域名查询得到对应的IP；\x3c\/li\x3e\n\x3cli\x3eDNS首先会查看浏览器DNS缓存，没有就查询计算机本地DNS缓存，还没有就询问递归式DNS服务器（即网络提供商，一般这个服务器都会有自己的缓存，所以IP查询一般在这里完成），如果没有缓存，那就需要通过根域名和TLD域名服务器指到对应的权威DNS服务器找回记录，并缓存到递归式服务器，然后递归服务器在将记录返回给本地。\x3c\/li\x3e\n\x3cli\x3e有了IP地址，此时网络层便会通过IP地址寻的对应服务器的物理地址\x3c\/li\x3e\n\x3cli\x3e寻得服务器地址，客户端在网络传输层便可以和服务器通过三次握手建立tcpip连接\x3c\/li\x3e\n\x3cli\x3e连接建立后网络数据链路层将数据包装成帧；\x3c\/li\x3e\n\x3cli\x3e最后物理层利用物理介质进行传输；\x3c\/li\x3e\n\x3cli\x3e到了服务器，就会通过相反的方式将数据一层一层的还原回去；\x3c\/li\x3e\n\x3cli\x3e请求到了后台服务器，一般会有统一的验证，如安全验证、跨域验证等，验证未通过就直接返回相应的http报文\x3c\/li\x3e\n\x3cli\x3e验证通过后，就会进入后台代码，此时程序收到请求，然后执行对应的操作（如查询数据库等）；\x3c\/li\x3e\n\x3cli\x3e如果浏览器访问过，且缓存上有对应的资源，便会与服务器最后修改时间对比，一致便返回304，告诉浏览器可使用本地缓存；\x3c\/li\x3e\n\x3cli\x3e前端浏览器接收到响应成功的报文后便开始下载网页\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e下载完的网页将被交给浏览器内核（渲染进程）进行处理：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e根据顶部定义的DTD类型进行对应的解析方式；\x3c\/li\x3e\n\x3cli\x3e渲染进程内部是多线程的，网页的解析将会被交给内部的GUI渲染线程处理；\x3c\/li\x3e\n\x3cli\x3e首先渲染线程中的HTML解释器，将HTML网页和资源从字节流解释转换成字符流；\x3c\/li\x3e\n\x3cli\x3e再通过词法分析器将字符流解释成词语；\x3c\/li\x3e\n\x3cli\x3e之后经过语法分析器根据词语构建成节点；最后通过这些节点组建一个DOM树；\x3c\/li\x3e\n\x3cli\x3e这个过程中，如果遇到的DOM节点是JavaScript代码，就会调用JavaScript引擎对JavaScript代码进行解释执行，此时由JavaScript引擎和GUI渲染线程的互斥，GUI渲染线程就会被挂起，渲染过程停止；如果JavaScript代码的运行中对DOM树进行了修改，那么DOM的构建需要从新开始；\x3c\/li\x3e\n\x3cli\x3e如果节点需要依赖其他资源，如（图片，CSS等），便会调用网络模块的资源加载器来加载它们，但它们是异步的，不会阻塞当前DOM树的构建；\x3c\/li\x3e\n\x3cli\x3e如果遇到的是JavaScript资源URL（没有标记异步），则需要停止当前DOM的构建，直到JavaScript的资源加载并被JavaScript引擎执行后才继续构建DOM；\x3c\/li\x3e\n\x3cli\x3e对于CSS，CSS解释器会将CSS文件解释成内部表示结构，生成CSS规则树；\x3c\/li\x3e\n\x3cli\x3e然后合并CSS规则树和DOM树，生成render渲染树；\x3c\/li\x3e\n\x3cli\x3e最后对render树进行布局和绘制，并将结果通过IO线程传递给Browser控制进程进行显示。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>一个页面从输入URL到加载显示完成，发生了什么？</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014872028">https://segmentfault.com/a/1190000014872028</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/gvur7ks9frc/" target="_blank">https://alili.tech/archive/gvur7ks9frc/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>