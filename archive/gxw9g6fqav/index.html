<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React结合TypeScript和Mobx初体验"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React结合TypeScript和Mobx初体验 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/gxw9g6fqav/",
				"appid": "1613049289050283", 
				"title": "React结合TypeScript和Mobx初体验 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-11-29T09:34:56"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/alhnm8xgk0n/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/lvzs2rj11tj/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&text=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&text=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&title=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&is_video=false&description=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&title=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&title=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&title=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgxw9g6fqav%2f&title=React%e7%bb%93%e5%90%88TypeScript%e5%92%8cMobx%e5%88%9d%e4%bd%93%e9%aa%8c"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React结合TypeScript和Mobx初体验</h1><div class="meta"><div class="postdate"><time datetime="2018-11-29" itemprop="datePublished">2018-11-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVba6Ts?w=1218\x26amp;h=525\x22 src=\x22https:\/\/static.alili.tech\/img\/bVba6Ts?w=1218\x26amp;h=525\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e为什么要使用TypeScript\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e侦测错误\x3c\/h3\x3e\n\x3cp\x3e通过静态类型检测可以尽早检测出程序中隐藏的的逻辑错误，对于JavaScript动态的弱类型语言，虽然灵活性高，但是对于初学者来说，如果不熟悉JavaScript内部的语言机制，很容易造成隐藏的事故。但是通过TypeScript的静态类型检测可以规避这些问题，因为其能够约束变量产生的类型。结合IDE编辑器可以推导变量对应的类型以及内部的结构，提高代码的健壮性和可维护性。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e抽象\x3c\/h3\x3e\n\x3cp\x3e类型系统能够强化规范编程，TypeScript提供定义接口。在开发大型复杂的应用软件时十分重要，一个系统模块可以抽象的看做一个TypeScript定义的接口。让设计脱离实现，最终体现出一种 IDL（接口定义语言，Interface Define Language），让程序设计回归本质。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e文档\x3c\/h3\x3e\n\x3cp\x3eTypeScript可以自动根据类型标注生成文档，对于简单的功能实现都不需要编写注释。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e为什么要使用Mobx\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eMobX 和 Redux 的比较\x3c\/h3\x3e\n\x3cp\x3e先要明白 mobx 和 redux 的定位是不同的。redux 管理的是 (STORE -\x26gt; VIEW -\x26gt; ACTION) 的整个闭环，而 mobx 只关心 STORE -\x26gt; VIEW 的部分。\x3c\/p\x3e\n\x3cp\x3eRedux优缺点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e数据流流动很自然，因为任何 dispatch 都会触发广播，依据对象引用是否变化来控制更新粒度。\x3c\/li\x3e\n\x3cli\x3e通过充分利用时间回溯的特征，可以增强业务的可预测性与错误定位能力。\x3c\/li\x3e\n\x3cli\x3e时间回溯代价高，因为每次都要更新引用，除非增加代码复杂度，或使用 immutable。\x3c\/li\x3e\n\x3cli\x3e时间回溯的另一个代价是 action 与 reducer 完全脱节，原因是可回溯必然不能保证引用关系。\x3c\/li\x3e\n\x3cli\x3e引入中间件，解决异步带来的副作用，业务逻辑或多或少参杂着 magic。\x3c\/li\x3e\n\x3cli\x3e灵活利用中间件，可以通过约定完成许多复杂的工作。\x3c\/li\x3e\n\x3cli\x3e对 typescript 支持困难。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3eMobx优缺点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e数据流流动不自然，只有用到的数据才会引发绑定，局部精确更新，但避免了粒度控制烦恼。\x3c\/li\x3e\n\x3cli\x3e没有时间回溯能力，因为数据只有一份引用。自始至终一份引用，不需要 immutable，也没有复制对象的额外开销。\x3c\/li\x3e\n\x3cli\x3e数据流动由函数调用一气呵成，便于调试。\x3c\/li\x3e\n\x3cli\x3e业务开发不是脑力活，而是体力活，少一些 magic，多一些效率。\x3c\/li\x3e\n\x3cli\x3e由于没有 magic，所以没有中间件机制，没法通过 magic 加快工作效率（这里 magic 是指 action 分发到 reducer 的过程）。\x3c\/li\x3e\n\x3cli\x3e完美支持 typescript。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3eSO: 前端数据流不太复杂的情况，使用 Mobx，因为更加清晰，也便于维护；如果前端数据流极度复杂，建议谨慎使用 Redux，通过中间件减缓巨大业务复杂度\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e使用Create-React-App来建立TypeScript的环境\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i -g create-react-app\ncreate-react-app tinylog-ui --scripts-version=react-scripts-ts\ncd tinylog-ui\/\nnpm start\nnpm run eject\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3enpm i -g create-react-app\ncreate-react-app tinylog-ui --scripts-version=react-scripts-ts\n\x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e tinylog-ui\/\nnpm start\nnpm run eject\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eTPS: 最后一个命令使用eject将所有内建的配置暴露出来\x3c\/p\x3e\n\x3cp\x3e通过create-react-app可以很方便地对整个项目完成环境初始化，如果愿意折腾TypeScript和webpack的环境可以试试，这里忽略webpack和TypeScript的环境搭建过程，而是使用create-react-app来实现环境搭建。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e加入React-Router\x3c\/h2\x3e\n\x3cp\x3e单页应用怎么可以没有前端路由呢，所以我们要加入React-Rotuer, 这里使用的React-Router的版本是v4.2.0\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e路由配置使用姿势\x3c\/h3\x3e\n\x3cp\x3e对于React-Router，这里使用到的模块有Router, Route, Switch\x3c\/p\x3e\n\x3cblockquote\x3eReact Router 是建立在 history 之上的。 简而言之，一个 history 知道如何去监听浏览器地址栏的变化， 并解析这个 URL 转化为 location 对象， 然后 router 使用它匹配到路由，最后正确地渲染对应的组件。\x3c\/blockquote\x3e\n\x3cp\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import * as React from \x27react\x27;\nimport * as ReactDOM from \x27react-dom\x27;\nimport { Router, Route, Switch } from \x27react-router\x27;\nimport { createBrowserHistory } from \x27history\x27;\nimport registerServiceWorker from \x27.\/registerServiceWorker\x27;\nimport { Root } from \x27.\/containers\/Root\x27;\nimport \x27.\/index.css\x27;\nimport Container from \x27.\/containers\/Container\x27;\nimport SignIn from \x27.\/containers\/Auth\/signIn\x27;\nimport SignUp from \x27.\/containers\/Auth\/signUp\x27;\n\nconst history = createBrowserHistory();\n\nReactDOM.render(\n  \x3cRoot\x3e\n    \x3cRouter history={history}\x3e\n      \x3cSwitch\x3e\n        \x3cRoute\n          path=\x26quot;\/signIn\x26quot;\n          component={SignIn}\n        \/\x3e\n        \x3cRoute\n          path=\x26quot;\/signUp\x26quot;\n          component={SignUp}\n        \/\x3e\n        \x3cRoute\n          path=\x26quot;\/\x26quot;\n          component={Container}\n        \/\x3e\n      \x3c\/Switch\x3e\n    \x3c\/Router\x3e\n  \x3c\/Root\x3e,\n  document.getElementById(\x27root\x27) as HTMLElement\n);\nregisterServiceWorker();\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode class=\x22tsx\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e ReactDOM \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Router, Route, Switch } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createBrowserHistory } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27history\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e registerServiceWorker \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/registerServiceWorker\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Root } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Root\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/index.css\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Container \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Container\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e SignIn \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Auth\/signIn\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e SignUp \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Auth\/signUp\x27\x3c\/span\x3e;\n\nconst history = createBrowserHistory();\n\nReactDOM.render(\n  \x26lt;Root\x26gt;\n    \x26lt;Router history={history}\x26gt;\n      \x26lt;Switch\x26gt;\n        \x26lt;Route\n          path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/signIn\x22\x3c\/span\x3e\n          component={SignIn}\n        \/\x26gt;\n        \x26lt;Route\n          path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/signUp\x22\x3c\/span\x3e\n          component={SignUp}\n        \/\x26gt;\n        \x26lt;Route\n          path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e\n          component={Container}\n        \/\x26gt;\n      \x26lt;\/Switch\x26gt;\n    \x26lt;\/Router\x26gt;\n  \x26lt;\/Root\x26gt;,\n  \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27root\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e HTMLElement\n);\nregisterServiceWorker();\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e页面的编写\x3c\/h3\x3e\n\x3cp\x3e这里描述一写Container这个组件的编写\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import * as React from \x27react\x27;\nimport Header from \x27..\/..\/layout\/Header\x27;\nimport { IAuth } from \x27..\/..\/interfaces\x27;\nimport { Route, Switch } from \x27react-router\x27;\nimport App from \x27..\/App\x27;\nimport Website from \x27..\/Website\x27;\n\n\/\/ 这部分是坑点，一开始不知道配置，后发现react-rotuer的4.0版本下需要配置prop的接口\ninterface Container extends RouteComponentProps\x3c{}\x3e {\n}\n\nclass Container extends React.Component\x3cContainer, {}\x3e {\n  render () {\n    return (\n      \x3cdiv\x3e\n        \x3cHeader {...this.props} \/\x3e\n        \x3cSwitch\x3e\n          \x3cRoute path=\x26quot;\/website\x26quot; component={Website}\/\x3e\n          \x3cRoute  path=\x26quot;\/\x26quot; component={App}\/\x3e\n        \x3c\/Switch\x3e\n      \x3c\/div\x3e\n    )\n  }\n}\n\nexport default Container;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode class=\x22tsx\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Header \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/layout\/Header\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { IAuth } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/interfaces\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Route, Switch } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/App\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Website \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/Website\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e 这部分是坑点，一开始不知道配置，后发现react-rotuer的\x3cspan class=\x22hljs-number\x22\x3e4.0\x3c\/span\x3e版本下需要配置prop的接口\ninterface Container extends RouteComponentProps\x26lt;{}\x26gt; {\n}\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eContainer\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e\x26lt;\x3cspan class=\x22hljs-title\x22\x3eContainer\x3c\/span\x3e, {}\x26gt; {\x3c\/span\x3e\n  render () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x26lt;div\x26gt;\n        \x26lt;Header {...\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props} \/\x26gt;\n        \x26lt;Switch\x26gt;\n          \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/website\x22\x3c\/span\x3e component={Website}\/\x26gt;\n          \x26lt;Route  path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e component={App}\/\x26gt;\n        \x26lt;\/Switch\x26gt;\n      \x26lt;\/div\x26gt;\n    )\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e Container;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样，当我们访问url为\x27\/\x27的时候，默认会进入Container，其中Container里面是一层子页面，会匹配url，如果url为\x27\/website\x27, 则进入Website页面，若为\x27\/\x27,则进入App页面。\x3c\/p\x3e\n\x3cp\x3e具体关于React-Router的使用请阅读\x3ca href=\x22https:\/\/reacttraining.com\/react-router\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact-Router文档\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e加入Mobx\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i mobx react-mobx mobx-react-router -S \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm i mobx react-mobx mobx-react-router -S \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e重新修改index.tsx的入口配置\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import * as React from \x27react\x27;\nimport * as ReactDOM from \x27react-dom\x27;\nimport { Router, Route, Switch } from \x27react-router\x27;\nimport { createBrowserHistory } from \x27history\x27;\nimport { useStrict } from \x27mobx\x27;\nimport { Provider } from \x27mobx-react\x27;\nimport { RouterStore, syncHistoryWithStore } from \x27mobx-react-router\x27;\n\/\/ 定义需要使用到的store来进行数据状态的管理\nimport { \n  TokenStore, \n  AuthStore, \n  HostStore, \n  OverViewStore,\n  AssetsStore,\n  CommonDataStore,\n  PageStore,\n  RealTimeStore  \n} from \x27.\/stores\x27;\nimport registerServiceWorker from \x27.\/registerServiceWorker\x27;\nimport { Root } from \x27.\/containers\/Root\x27;\nimport \x27.\/index.css\x27;\nimport Container from \x27.\/containers\/Container\x27;\nimport SignIn from \x27.\/containers\/Auth\/signIn\x27;\nimport SignUp from \x27.\/containers\/Auth\/signUp\x27;\n\/\/ 引入Echarts\nimport \x27.\/macarons\x27;\nimport \x27echarts\/map\/js\/world\x27;\n\n\/\/ 开启mobx的严格模式，规范数据修改操作只能在action中进行\nuseStrict(true);\n\nconst browserHistory = createBrowserHistory();\nconst routerStore =  new RouterStore();\n\/\/ 同步路由与mobx的数据状态\nconst history = syncHistoryWithStore(browserHistory, routerStore);\nconst rootStore = {\n  token: new TokenStore(),\n  auth: new AuthStore(),\n  host: new HostStore(),\n  overview: new OverViewStore(),\n  assets: new AssetsStore(),\n  commmon: new CommonDataStore(),\n  page: new PageStore(),\n  realtime: new RealTimeStore(),\n  router: routerStore\n};\n\nReactDOM.render(\n  \x3cProvider {...rootStore}\x3e\n    \x3cRoot\x3e\n      \x3cRouter history={history}\x3e\n        \x3cSwitch\x3e\n          \x3cRoute\n            path=\x26quot;\/signIn\x26quot;\n            component={SignIn}\n          \/\x3e\n          \x3cRoute\n            path=\x26quot;\/signUp\x26quot;\n            component={SignUp}\n          \/\x3e\n          \x3cRoute\n            path=\x26quot;\/\x26quot;\n            component={Container}\n          \/\x3e\n        \x3c\/Switch\x3e\n      \x3c\/Router\x3e\n    \x3c\/Root\x3e\n  \x3c\/Provider\x3e,\n  document.getElementById(\x27root\x27) as HTMLElement\n);\nregisterServiceWorker();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode class=\x22tsx\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e ReactDOM \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Router, Route, Switch } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createBrowserHistory } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27history\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { useStrict } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27mobx\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Provider } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27mobx-react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { RouterStore, syncHistoryWithStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27mobx-react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义需要使用到的store来进行数据状态的管理\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { \n  TokenStore, \n  AuthStore, \n  HostStore, \n  OverViewStore,\n  AssetsStore,\n  CommonDataStore,\n  PageStore,\n  RealTimeStore  \n} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/stores\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e registerServiceWorker \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/registerServiceWorker\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Root } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Root\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/index.css\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Container \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Container\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e SignIn \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Auth\/signIn\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e SignUp \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Auth\/signUp\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入Echarts\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/macarons\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27echarts\/map\/js\/world\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 开启mobx的严格模式，规范数据修改操作只能在action中进行\x3c\/span\x3e\nuseStrict(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e browserHistory = createBrowserHistory();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e routerStore =  \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e RouterStore();\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 同步路由与mobx的数据状态\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e history = syncHistoryWithStore(browserHistory, routerStore);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e rootStore = {\n  \x3cspan class=\x22hljs-attr\x22\x3etoken\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e TokenStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3eauth\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AuthStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3ehost\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HostStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3eoverview\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e OverViewStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3eassets\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AssetsStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3ecommmon\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e CommonDataStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3epage\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e PageStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3erealtime\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e RealTimeStore(),\n  \x3cspan class=\x22hljs-attr\x22\x3erouter\x3c\/span\x3e: routerStore\n};\n\nReactDOM.render(\n  \x26lt;Provider {...rootStore}\x26gt;\n    \x26lt;Root\x26gt;\n      \x26lt;Router history={history}\x26gt;\n        \x26lt;Switch\x26gt;\n          \x26lt;Route\n            path=\x22\/signIn\x22\n            component={SignIn}\n          \/\x26gt;\n          \x26lt;Route\n            path=\x22\/signUp\x22\n            component={SignUp}\n          \/\x26gt;\n          \x26lt;Route\n            path=\x22\/\x22\n            component={Container}\n          \/\x26gt;\n        \x26lt;\/Switch\x26gt;\n      \x26lt;\/Router\x26gt;\n    \x26lt;\/Root\x26gt;\n  \x26lt;\/Provider\x26gt;,\n  document.getElementById(\x27root\x27) as HTMLElement\n);\nregisterServiceWorker();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3eContainer容器的修改\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import * as React from \x27react\x27;\nimport Header from \x27..\/..\/layout\/Header\x27;\nimport { IAuth } from \x27..\/..\/interfaces\x27;\nimport { Route, Switch } from \x27react-router\x27;\n\/\/ 使用inject和observer来进行数据监听和数据依赖声明\nimport { inject, observer } from \x27mobx-react\x27;\nimport App from \x27..\/App\x27;\nimport Website from \x27..\/Website\x27;\n\ninterface Container extends IAuth {\n}\n\n@inject(\x27router\x27, \x27auth\x27)\n@observer\nclass Container extends React.Component\x3cContainer, {}\x3e {\n  render () {\n    return (\n      \x3cdiv\x3e\n        \x3cHeader {...this.props} \/\x3e\n        \x3cSwitch\x3e\n          \x3cRoute path=\x26quot;\/website\x26quot; component={Website}\/\x3e\n          \x3cRoute  path=\x26quot;\/\x26quot; component={App}\/\x3e\n        \x3c\/Switch\x3e\n      \x3c\/div\x3e\n    )\n  }\n}\n\nexport default Container;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode class=\x22tsx\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Header \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/layout\/Header\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { IAuth } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/interfaces\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Route, Switch } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e 使用inject和observer来进行数据监听和数据依赖声明\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { inject, observer } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27mobx-react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/App\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Website \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/Website\x27\x3c\/span\x3e;\n\ninterface Container extends IAuth {\n}\n\n@inject(\x3cspan class=\x22hljs-string\x22\x3e\x27router\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27auth\x27\x3c\/span\x3e)\n@observer\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eContainer\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e\x26lt;\x3cspan class=\x22hljs-title\x22\x3eContainer\x3c\/span\x3e, {}\x26gt; {\x3c\/span\x3e\n  render () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x26lt;div\x26gt;\n        \x26lt;Header {...\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props} \/\x26gt;\n        \x26lt;Switch\x26gt;\n          \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/website\x22\x3c\/span\x3e component={Website}\/\x26gt;\n          \x26lt;Route  path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e component={App}\/\x26gt;\n        \x26lt;\/Switch\x26gt;\n      \x26lt;\/div\x26gt;\n    )\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e Container;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e@observable 可以在实例字段和属性 getter 上使用。 对于对象的哪部分需要成为可观察的，@observable 提供了细粒度的控制。\x3cp\x3e@inject 相当于Provider 的高阶组件。可以用来从 React 的context中挑选 store 作为 prop 传递给目标组件\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e组件的接口定义\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { RouteComponentProps } from \x27react-router\x27;\nimport {\n  RouterStore,\n  AuthStore\n} from \x27..\/stores\x27;\n\nexport interface IBase extends RouteComponentProps\x3c{}\x3e {\n  router: RouterStore;\n}\n\nexport interface IAuth extends IBase {\n  auth: AuthStore;\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22typescript hljs\x22\x3e\x3ccode class=\x22ts\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { RouteComponentProps } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {\n  RouterStore,\n  AuthStore\n} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/stores\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e IBase \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e RouteComponentProps\x26lt;{}\x26gt; {\n  router: RouterStore;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e IAuth \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e IBase {\n  auth: AuthStore;\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3eStore的配置\x3c\/h3\x3e\n\x3cp\x3e先看一下RouterStore:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { History } from \x27history\x27;\nimport { RouterStore as BaseRouterStore, syncHistoryWithStore } from \x27mobx-react-router\x27;\n\n\/\/ 路由状态同步\nclass RouterStore extends BaseRouterStore {\n  public history;\n  constructor(history?: History) {\n    super();\n    if (history) {\n      this.history = syncHistoryWithStore(history, this);\n    }\n  }\n}\n\nexport default RouterStore;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22typescript hljs\x22\x3e\x3ccode class=\x22ts\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { History } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27history\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { RouterStore \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e BaseRouterStore, syncHistoryWithStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27mobx-react-router\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 路由状态同步\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e RouterStore \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e BaseRouterStore {\n  \x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e history;\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ehistory?: History\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e();\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (history) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.history = syncHistoryWithStore(history, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    }\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e RouterStore;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后是AuthStore:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { ISignIn, ISignUp } from \x27.\/..\/interfaces\/index\x27;\nimport { observable, action } from \x27mobx\x27;\nimport api from \x27..\/api\/auth\x27; \nimport { IUser } from \x27..\/models\x27;\n\n\/\/ 登录注册状态\nclass AuthStore {\n  @observable token;\n  @observable id;\n  @observable email;\n  constructor () {\n    this.id = \x27\x27;\n    this.token = \x27\x27;\n    this.email = \x27\x27;\n  }\n  setLocalStorage ({ id, token, email }: IUser) {\n    localStorage.setItem(\x27id\x27, id);\n    localStorage.setItem(\x27token\x27, token);\n    localStorage.setItem(\x27email\x27, email);\n  }\n  clearStorage () {\n    localStorage.clear();\n  }\n  @action async signIn (data: ISignIn) {\n    try {\n      const { data: res } = await api.signIn(data);\n      this.id = res.data.id;\n      this.token = res.data.token;\n      this.email = res.data.email;\n      this.setLocalStorage({\n        id: this.id,\n        token: this.token,\n        email: this.email\n      });\n      return res;\n    } catch (error) {\n      return error;\n    }\n  }\n  \n  @action async signUp (data: ISignUp) {\n    try {\n      const { data: res } = await api.signUp(data);\n      this.id = res.data.id;\n      this.token = res.data.token;\n      this.email = res.data.email;\n      this.setLocalStorage({\n        id: this.id,\n        token: this.token,\n        email: this.email\n      });\n      return res;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  @action signOut () {\n    this.id = \x27\x27;\n    this.token = \x27\x27;\n    this.email = \x27\x27;\n    this.clearStorage()\n  }\n}\n\nexport default AuthStore;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22typescript hljs\x22\x3e\x3ccode class=\x22ts\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { ISignIn, ISignUp } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/..\/interfaces\/index\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { observable, action } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27mobx\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e api \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/api\/auth\x27\x3c\/span\x3e; \n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { IUser } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/models\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 登录注册状态\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e AuthStore {\n  \x3cspan class=\x22hljs-meta\x22\x3e@observable\x3c\/span\x3e token;\n  \x3cspan class=\x22hljs-meta\x22\x3e@observable\x3c\/span\x3e id;\n  \x3cspan class=\x22hljs-meta\x22\x3e@observable\x3c\/span\x3e email;\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.token = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.email = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n  }\n  setLocalStorage ({ id, token, email }: IUser) {\n    localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27id\x27\x3c\/span\x3e, id);\n    localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27token\x27\x3c\/span\x3e, token);\n    localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27email\x27\x3c\/span\x3e, email);\n  }\n  clearStorage () {\n    localStorage.clear();\n  }\n  \x3cspan class=\x22hljs-meta\x22\x3e@action\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e signIn (data: ISignIn) {\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { data: res } = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e api.signIn(data);\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id = res.data.id;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.token = res.data.token;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.email = res.data.email;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setLocalStorage({\n        id: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id,\n        token: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.token,\n        email: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.email\n      });\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res;\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (error) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e error;\n    }\n  }\n  \n  \x3cspan class=\x22hljs-meta\x22\x3e@action\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e signUp (data: ISignUp) {\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { data: res } = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e api.signUp(data);\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id = res.data.id;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.token = res.data.token;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.email = res.data.email;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setLocalStorage({\n        id: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id,\n        token: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.token,\n        email: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.email\n      });\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res;\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (error) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e error;\n    }\n  }\n\n  \x3cspan class=\x22hljs-meta\x22\x3e@action\x3c\/span\x3e signOut () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.token = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.email = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.clearStorage()\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e AuthStore;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eAuth是用于网站的登录注册事件以及对应的Token的数据状态保存，登录注册事件的接口请求等操作。\x3c\/p\x3e\n\x3cp\x3e具体的有关Mobx的用法请阅读\x3ca href=\x22https:\/\/cn.mobx.js.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMobx文档\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e目录结构\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22app\n├── api             后端提供的接口数据请求\n├── components      编写的可复用组件\n├── config          侧边栏以及导航栏配置\n├── constants       常量编写\n├── interfaces      接口编写\n├── layout          布局外框\n├── stores          mobx的数据状态管理\n├── index.css       全局样式\n├── index.tsx       页面入口\n├── reset.css       浏览器重置样式\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3eapp\n├── api             后端提供的接口数据请求\n├── components      编写的可复用组件\n├── config          侧边栏以及导航栏配置\n├── constants       常量编写\n├── interfaces      接口编写\n├── layout          布局外框\n├── stores          mobx的数据状态管理\n├── index\x3cspan class=\x22hljs-selector-class\x22\x3e.css\x3c\/span\x3e       全局样式\n├── index\x3cspan class=\x22hljs-selector-class\x22\x3e.tsx\x3c\/span\x3e       页面入口\n├── reset\x3cspan class=\x22hljs-selector-class\x22\x3e.css\x3c\/span\x3e       浏览器重置样式\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e本项目使用了Ant-Design来作为依赖的组件库，具体怎么使用以及配置请参考\x3ca href=\x22https:\/\/ant.design\/docs\/react\/use-in-typescript-cn\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAnt-Design\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e到这里其实以及完成对React下TypeScript结合React-Router和Mobx的配置。具体的业务模块如何编写有兴趣可以参阅项目\x3ca href=\x22https:\/\/github.com\/tinylog\/tinylog-ui\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etinylog-ui\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e个人表达能力有限，无法描述得太清晰，请见谅！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React结合TypeScript和Mobx初体验</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000015002112">https://segmentfault.com/a/1190000015002112</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/gxw9g6fqav/" target="_blank">https://alili.tech/archive/gxw9g6fqav/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>