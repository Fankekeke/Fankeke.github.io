<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="javascript 哈希表"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>javascript 哈希表 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/h1b0itxsqln/",
				"appid": "1613049289050283", 
				"title": "javascript 哈希表 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-14T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/gonqm94a5af/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/0tt7zyqlg0p/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&text=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&text=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&title=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&is_video=false&description=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&title=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&title=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&title=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh1b0itxsqln%2f&title=javascript%20%e5%93%88%e5%b8%8c%e8%a1%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">javascript 哈希表</h1><div class="meta"><div class="postdate"><time datetime="2018-12-14" itemprop="datePublished">2018-12-14</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e其实javascript的对象就是一个哈希表，为了学习真正的数据结构，我们还是有必要自己重新实现一下。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e基本概念\x3c\/h2\x3e\n\x3cp\x3e哈希表（hash table ）是一种根据关键字直接访问内存存储位置的数据结构，通过哈希表，数据元素的存放位置和数据元素的关键字之间建立起某种对应关系，建立这种对应关系的函数称为哈希函数\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3f9x?w=608\x26amp;h=325\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3f9x?w=608\x26amp;h=325\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e哈希表的构造方法\x3c\/h2\x3e\n\x3cp\x3e假设要存储的数据元素个数是n，设置一个长度为m(m \x26gt; n)的连续存储单元，分别以每个数据元素的关键字Ki(0\x26lt;=i\x26lt;=n-1)为自变量，通过哈希函数hash(Ki)，把Ki映射为内存单元的某个地址hash(Ki),并将数据元素存储在内存单元中\x3c\/p\x3e\n\x3cp\x3e从数学的角度看，哈希函数实际上是关键字到内存单元的映射，因此我们希望通过哈希函数通过尽量简单的运算使得哈希函数计算出的花溪地址尽量均匀的背影射到一系列的内存单元中，构造哈希函数有三个要点：（1）运算过程要尽量简单高效，以提高哈希表的插入和检索效率；（2）哈希函数应该具有较好的散列型，以降低哈希冲突的概率；第三，哈希函数应具有较大的压缩性，以节省内存。\x3c\/p\x3e\n\x3cp\x3e以下有三种常用方法：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e直接地址法：以关键字的某个线性函数值为哈希地址，可以表示为hash(K)=aK\x2bC;优点是不会产生冲突，缺点是空间复杂度可能会较高，适用于元素较少的情况\x3c\/li\x3e\n\x3cli\x3e除留余数法：它是由数据元素关键字除以某个常数所留的余数为哈希地址，该方法计算简单，适用范围广，是经常使用的一种哈希函数，可以表示为：\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3ehash(K=K mod C;该方法的关键是常数的选取，一般要求是接近或等于哈希表本身的长度，研究理论表明，该常数选素数时效果最好\x3c\/blockquote\x3e\n\x3cul\x3e\n\x3cli\x3e数字分析法：该方法是取数据元素关键字中某些取值较均匀的数字来作为哈希地址的方法，这样可以尽量避免冲突，但是该方法只适合于所有关键字已知的情况，对于想要设计出更加通用的哈希表并不适用\x3c\/li\x3e\n\x3cli\x3e平方求和法：对当前字串转化为Unicode值，并求出这个值的平方，去平方值中间的几位为当前数字的hash值，具体取几位要取决于当前哈希表的大小。\x3c\/li\x3e\n\x3cli\x3e分段求和法：根据当前哈希表的位数把所要插入的数值分成若干段，把若干段进行相加，舍去调最高位结果就是这个值的哈希值。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e哈希冲突的解决方案\x3c\/h2\x3e\n\x3cp\x3e在构造哈希表时，存在这样的问题：对于两个不同的关键字，通过我们的哈希函数计算哈希地址时却得到了相同的哈希地址，我们将这种现象称为哈希冲突\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3f92?w=783\x26amp;h=312\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3f92?w=783\x26amp;h=312\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e哈希冲突主要与两个因素有关，（1）填装因子，填装因子是指哈希表中已存入的数据元素个数与哈希地址空间的大小的比值，a=n\/m ; a越小，冲突的可能性就越小，相反则冲突可能性较大；但是a越小空间利用率也就越小，a越大，空间利用率越高，为了兼顾哈希冲突和存储空间利用率，通常将a控制在0.6-0.9之间，而.net中的HashTable则直接将a的最大值定义为0.72 （虽然微软官方MSDN中声明HashTable默认填装因子为1.0，但实际上都是0.72的倍数），（2）与所用的哈希函数有关，如果哈希函数得当，就可以使哈希地址尽可能的均匀分布在哈希地址空间上，从而减少冲突的产生，但一个良好的哈希函数的得来很大程度上取决于大量的实践，不过幸好前人已经总结实践了很多高效的哈希函数，可以参考大神Lucifer文章：数据结构：HahTable：   \x3ca href=\x22http:\/\/www.cnblogs.com\/lucifer1982\/archive\/2008\/06\/18\/1224319.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.cnblogs.com\/lucife...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e1）开放定址法\x3c\/p\x3e\n\x3cblockquote\x3eHi=(H(key) \x2b di) MOD m i=1,2,...k(k\x26lt;=m-1)\x3cbr\x3e其中H(key)为哈希函数；m为哈希表表长；di为增量序列。有3中增量序列：\x3cbr\x3e1）线性探测再散列：di=1,2,3,...,m-1\x3cbr\x3e2）二次探测再散列：di=1^2,-1^2,2^2,-2^2,....\x2b-k^2(k\x26lt;=m\/2)\x3cbr\x3e3）伪随机探测再散列：di=伪随机数序列\x3c\/blockquote\x3e\n\x3cp\x3e缺点：\x3c\/p\x3e\n\x3cp\x3e我们可以看到一个现象：当表中i,i\x2b1,i\x2b2位置上已经填有记录时，下一个哈希地址为i,i\x2b1,i\x2b2和i\x2b3的记录都将填入i\x2b3的位置，这种在处理冲突过程中发生的两个第一个哈希地址不同的记录争夺同一个后继哈希地址的现象称为“二次聚集”，即在处理同义词的冲突过程中又添加了非同义词的冲突。但另一方面，用线性探测再散列处理冲突可以保证做到：只要哈希表未填满，总能找到一个不发生冲突的地址Hk。而二次探测再散列只有在哈希表长m为形如4j\x2b3（j为整数）的素数时才可能。即开放定址法会造成二次聚集的现象，对查找不利。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3gaj?w=701\x26amp;h=312\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3gaj?w=701\x26amp;h=312\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e2)再哈希法\x3cbr\x3eHi = RHi（key），i=1,2,...k RHi均是不同的哈希函数，即在同义词产生地址冲突时计算另一个哈希函数地址，直到不发生冲突为止。这种方法不易产生聚集，但是增加了计算时间。\x3c\/p\x3e\n\x3cp\x3e缺点：增加了计算时间。\x3c\/p\x3e\n\x3cp\x3e3)链地址法（拉链法）\x3c\/p\x3e\n\x3cp\x3e将所有关键字为同义词的记录存储在同一线性链表中。\x3c\/p\x3e\n\x3cp\x3e优点:\x3c\/p\x3e\n\x3cp\x3e①拉链法处理冲突简单，且无堆积现象，即非同义词决不会发生冲突，因此平均查找长度较短；\x3cbr\x3e②由于拉链法中各链表上的结点空间是动态申请的，故它更适合于造表前无法确定表长的情况；\x3cbr\x3e③开放定址法为减少冲突，要求装填因子α较小，故当结点规模较大时会浪费很多空间。而拉链法中可取α≥1，且结点较大时，拉链法中增加的指针域可忽略不计，因此节省空间；\x3cbr\x3e④在用拉链法构造的散列表中，删除结点的操作易于实现。只要简单地删去链表上相应的结点即可。而对开放地址法构造的散列表，删除结点不能简单地将被删结 点的空间置为空，否则将截断在它之后填人散列表的同义词结点的查找路径。这是因为各种开放地址法中，空地址单元(即开放地址)都是查找失败的条件。因此在 用开放地址法处理冲突的散列表上执行删除操作，只能在被删结点上做删除标记，而不能真正删除结点\x3c\/p\x3e\n\x3cp\x3e缺点：\x3cbr\x3e拉链法的缺点是：指针需要额外的空间，故当结点规模较小时，开放定址法较为节省空间，而若将节省的指针空间用来扩大散列表的规模，可使装填因子变小，这又减少了开放定址法中的冲突，从而提高平均查找速度\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3gav?w=816\x26amp;h=316\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3gav?w=816\x26amp;h=316\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e4)建立一个公共溢出区\x3cbr\x3e假设哈希函数的值域为[0,m-1]，则设向量HashTable[0...m-1]为基本表，每个分量存放一个记录，另设立向量OverTable[0....v]为溢出表。所有关键字和基本表中关键字为同义词的记录，不管他们由哈希函数得到的哈希地址是什么，一旦发生冲突，都填入溢出表。\x3c\/p\x3e\n\x3cp\x3e一个简单哈希函数不做冲突处理的哈希表实现\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ by 司徒正美\nclass Hash{\n    constructor(){\n        this.table = new Array(1024);\n    }\n    hash(data) {\n    \/\/就将字符串中的每个字符的ASCLL码值相加起来，再对数组的长度取余\n        var total = 0;\n        for(var i = 0; i \x3c data.length; i\x2b\x2b) {\n            total \x2b= data.charCodeAt(i);\n        }\n        console.log(\x26quot;Hash Value: \x26quot; \x2bdata\x2b \x26quot; -\x3e \x26quot; \x2btotal);\n        return total % this.table.length;\n    }\n    insert(key, val){\n        var pos = this.hash(key);\n        this.table[pos] = val;\n    }\n    get(key){\n        var pos = this.hash(key);\n        return this.table[pos] \n    }\n    show(){\n        for(var i = 0; i \x3c this.table.length; i\x2b\x2b) {\n            if(this.table[i] != undefined) {\n                console.log(i \x2b \x26quot;:\x26quot; \x2bthis.table[i]);\n            }\n        }\n    }\n    }\n    var someNames = [\x26quot;David\x26quot;,\x26quot;Jennifer\x26quot;,\x26quot;Donnie\x26quot;,\x26quot;Raymond\x26quot;,\x26quot;Cynthia\x26quot;,\x26quot;Mike\x26quot;,\x26quot;Clayton\x26quot;,\x26quot;Danny\x26quot;,\x26quot;Jonathan\x26quot;];\n    var hash = new Hash();\n    for(var i = 0; i \x3c someNames.length; \x2b\x2bi) {\n    hash.insert(someNames[i],someNames[i]);\n    }\n    \n    hash.show(); \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ by 司徒正美\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eHash\x3c\/span\x3e\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(){\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e);\n    }\n    hash(data) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/就将字符串中的每个字符的ASCLL码值相加起来，再对数组的长度取余\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e total = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; data.length; i\x2b\x2b) {\n            total \x2b= data.charCodeAt(i);\n        }\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22Hash Value: \x22\x3c\/span\x3e \x2bdata\x2b \x3cspan class=\x22hljs-string\x22\x3e\x22 -\x26gt; \x22\x3c\/span\x3e \x2btotal);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e total % \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table.length;\n    }\n    insert(key, val){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pos = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.hash(key);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[pos] = val;\n    }\n    get(key){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pos = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.hash(key);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[pos] \n    }\n    show(){\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table.length; i\x2b\x2b) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[i] != \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e) {\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(i \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22:\x22\x3c\/span\x3e \x2b\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[i]);\n            }\n        }\n    }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e someNames = [\x3cspan class=\x22hljs-string\x22\x3e\x22David\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Jennifer\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Donnie\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Raymond\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Cynthia\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Mike\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Clayton\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Danny\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Jonathan\x22\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hash = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Hash();\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; someNames.length; \x2b\x2bi) {\n    hash.insert(someNames[i],someNames[i]);\n    }\n    \n    hash.show(); \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3gfL?w=834\x26amp;h=650\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3gfL?w=834\x26amp;h=650\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e采用的是平方取中法构建哈希函数，开放地址法线性探测法进行解决冲突。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Hash{\n    constructor(){\n        this.table = new Array(1000);\n    }\n    hash(data) {\n        var total = 0;\n        for(var i = 0; i \x3c data.length; i\x2b\x2b) {\n            total \x2b= data.charCodeAt(i);\n        }\n            \/\/把字符串转化为字符用来求和之后进行平方运算\n        var s = total * total \x2b \x26quot;\x26quot;\n            \/\/保留中间2位\n        var index = s.charAt( s.length\/2 -1) *10 \x2b s.charAt( s.length\/2  ) * 1\n        console.log(\x26quot;Hash Value: \x26quot; \x2bdata\x2b \x26quot; -\x3e \x26quot; \x2bindex);\n        return index;\n    }\n    solveClash(index, value){\n        var table = this.table\n        \/\/进行线性开放地址法解决冲突\n        for(var i=0; index\x2bi\x3c1000;i\x2b\x2b){\n            if(table[index\x2bi] == null){\n                table[index\x2bi] = value;\n                break;\n            }\n        }\n    }\n    insert(key, val){\n        var index = this.hash(key);\n        \/\/把取中当做哈希表中索引\n        if(this.table[index] == null){\n            this.table[index] = val;\n        }else{\n            this.solveClash(index, val);\n        }\n    }\n    get(key){\n        var pos = this.hash(key);\n        return this.table[pos] \n    }\n    show(){\n        for(var i = 0; i \x3c this.table.length; i\x2b\x2b) {\n            if(this.table[i] != undefined) {\n                console.log(i \x2b \x26quot;:\x26quot; \x2bthis.table[i]);\n            }\n        }\n    }\n}\nvar someNames = [\x26quot;David\x26quot;,\x26quot;Jennifer\x26quot;,\x26quot;Donnie\x26quot;,\x26quot;Raymond\x26quot;,\x26quot;Cynthia\x26quot;,\x26quot;Mike\x26quot;,\x26quot;Clayton\x26quot;,\x26quot;Danny\x26quot;,\x26quot;Jonathan\x26quot;];\nvar hash = new Hash();\nfor(var i = 0; i \x3c someNames.length; \x2b\x2bi) {\n    hash.insert(someNames[i],someNames[i]);\n}\n\nhash.show(); \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eHash\x3c\/span\x3e\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(){\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n    }\n    hash(data) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e total = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; data.length; i\x2b\x2b) {\n            total \x2b= data.charCodeAt(i);\n        }\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/把字符串转化为字符用来求和之后进行平方运算\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e s = total * total \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/保留中间2位\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e index = s.charAt( s.length\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) *\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e \x2b s.charAt( s.length\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e  ) * \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22Hash Value: \x22\x3c\/span\x3e \x2bdata\x2b \x3cspan class=\x22hljs-string\x22\x3e\x22 -\x26gt; \x22\x3c\/span\x3e \x2bindex);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e index;\n    }\n    solveClash(index, value){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e table = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/进行线性开放地址法解决冲突\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; index\x2bi\x26lt;\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;i\x2b\x2b){\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(table[index\x2bi] == \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e){\n                table[index\x2bi] = value;\n                \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n            }\n        }\n    }\n    insert(key, val){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e index = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.hash(key);\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/把取中当做哈希表中索引\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[index] == \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e){\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[index] = val;\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.solveClash(index, val);\n        }\n    }\n    get(key){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pos = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.hash(key);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[pos] \n    }\n    show(){\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table.length; i\x2b\x2b) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[i] != \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e) {\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(i \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22:\x22\x3c\/span\x3e \x2b\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.table[i]);\n            }\n        }\n    }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e someNames = [\x3cspan class=\x22hljs-string\x22\x3e\x22David\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Jennifer\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Donnie\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Raymond\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Cynthia\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Mike\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Clayton\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Danny\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22Jonathan\x22\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hash = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Hash();\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; someNames.length; \x2b\x2bi) {\n    hash.insert(someNames[i],someNames[i]);\n}\n\nhash.show(); \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3gjB?w=562\x26amp;h=652\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3gjB?w=562\x26amp;h=652\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e几种常见的hash函数\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3eDJBHash\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22unsigned int DJBHash(char *str)    \n{    \n    unsigned int hash = 5381;    \n     \n    while (*str){    \n        hash = ((hash \x3c\x3c 5) \x2b hash) \x2b (*str\x2b\x2b); \/* times 33 *\/    \n    }    \n    hash \x26amp;= ~(1 \x3c\x3c 31); \/* strip the highest bit *\/    \n    return hash;    \n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22cpp hljs\x22\x3e\x3ccode class=\x22cpp\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eunsigned\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDJBHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3echar\x3c\/span\x3e *str)\x3c\/span\x3e    \n\x3c\/span\x3e{    \n    \x3cspan class=\x22hljs-keyword\x22\x3eunsigned\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e5381\x3c\/span\x3e;    \n     \n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (*str){    \n        hash = ((hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) \x2b hash) \x2b (*str\x2b\x2b); \x3cspan class=\x22hljs-comment\x22\x3e\/* times 33 *\/\x3c\/span\x3e    \n    }    \n    hash \x26amp;= ~(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e31\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/* strip the highest bit *\/\x3c\/span\x3e    \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;    \n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ejavascript版\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function DJBHash(str)    {    \n    var hash = 5381;   \n    var len = str.length , i = 0\n     \n    while (len--){    \n        hash = (hash \x3c\x3c 5) \x2b hash \x2b str.charCodeAt(i\x2b\x2b); \/* times 33 *\/    \n    }    \n    hash \x26amp;= ~(1 \x3c\x3c 31); \/* strip the highest bit *\/    \n    return hash;    \n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDJBHash\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estr\x3c\/span\x3e)    \x3c\/span\x3e{    \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e5381\x3c\/span\x3e;   \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e len = str.length , i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n     \n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (len--){    \n        hash = (hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) \x2b hash \x2b str.charCodeAt(i\x2b\x2b); \x3cspan class=\x22hljs-comment\x22\x3e\/* times 33 *\/\x3c\/span\x3e    \n    }    \n    hash \x26amp;= ~(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e31\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/* strip the highest bit *\/\x3c\/span\x3e    \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;    \n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eJS\x3c\/h3\x3e\n\x3cp\x3eJustin Sobel写的一个位操作的哈希函数。\x3cbr\x3e原版\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long JSHash(String str)  \n   {  \n      long hash = 1315423911;  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         hash ^= ((hash \x3c\x3c 5) \x2b str.charAt(i) \x2b (hash \x3e\x3e 2));  \n      }  \n      return hash;  \n   }  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e JSHash(\x3cspan class=\x22hljs-keyword\x22\x3eString\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3estr\x3c\/span\x3e)  \n   {  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e1315423911\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-built_in\x22\x3estr\x3c\/span\x3e.length(); i\x2b\x2b)  \n      {  \n         hash ^= ((hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-built_in\x22\x3estr\x3c\/span\x3e.charAt(i) \x2b (hash \x26gt;\x26gt; \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e));  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ejavascript版\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function JSHash(str)  {  \n      var hash = 1315423911;  \n      for(var i = 0; i \x3c str.length; i\x2b\x2b)  {  \n         hash ^= ((hash \x3c\x3c 5) \x2b str.charCodeAt(i) \x2b (hash \x3e\x3e 2));  \n      }  \n      return hash;  \n}  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs matlab\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eJSHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(str)\x3c\/span\x3e  {  \x3c\/span\x3e\n      var hash = \x3cspan class=\x22hljs-number\x22\x3e1315423911\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var \x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e \x26lt; str.\x3cspan class=\x22hljs-built_in\x22\x3elength\x3c\/span\x3e; \x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e\x2b\x2b)  {  \n         hash ^= ((hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) \x2b str.charCodeAt(i) \x2b (hash \x26gt;\x26gt; \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e));  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n}  \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3ePJW\x3c\/h3\x3e\n\x3cp\x3e该散列算法是基于贝尔实验室的彼得J温伯格的的研究。在Compilers一书中（原则，技术和工具），建议采用这个算法的散列函数的哈希方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long PJWHash(String str)  \n   {  \n      long BitsInUnsignedInt = (long)(4 * 8);  \n      long ThreeQuarters     = (long)((BitsInUnsignedInt  * 3) \/ 4);  \n      long OneEighth         = (long)(BitsInUnsignedInt \/ 8);  \n      long HighBits          = (long)(0xFFFFFFFF) \x3c\x3c (BitsInUnsignedInt - OneEighth);  \n      long hash              = 0;  \n      long test              = 0;  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         hash = (hash \x3c\x3c OneEighth) \x2b str.charAt(i);  \n         if((test = hash \x26amp; HighBits)  != 0)  \n         {  \n            hash = (( hash ^ (test \x3e\x3e ThreeQuarters)) \x26amp; (~HighBits));  \n         }  \n      }  \n      return hash;  \n   }  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePJWHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String str)\x3c\/span\x3e  \n   \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e BitsInUnsignedInt = (\x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e)(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e);  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e ThreeQuarters     = (\x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e)((BitsInUnsignedInt  * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e OneEighth         = (\x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e)(BitsInUnsignedInt \/ \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e);  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e HighBits          = (\x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e)(\x3cspan class=\x22hljs-number\x22\x3e0xFFFFFFFF\x3c\/span\x3e) \x26lt;\x26lt; (BitsInUnsignedInt - OneEighth);  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash              = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e test              = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length(); i\x2b\x2b)  \n      {  \n         hash = (hash \x26lt;\x26lt; OneEighth) \x2b str.charAt(i);  \n         \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e((test = hash \x26amp; HighBits)  != \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)  \n         {  \n            hash = (( hash ^ (test \x26gt;\x26gt; ThreeQuarters)) \x26amp; (~HighBits));  \n         }  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ejavascript版\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function PJWHash( str)  {  \n      var BitsInUnsignedInt = 4 * 8;  \n      var ThreeQuarters     =  (BitsInUnsignedInt  * 3) \/ 4;  \n      var OneEighth         = (BitsInUnsignedInt \/ 8);  \n      var HighBits          = (0xFFFFFFFF) \x3c\x3c (BitsInUnsignedInt - OneEighth);  \n      var hash              = 0;  \n      var test              = 0;  \n      for(var i = 0; i \x3c str.length; i\x2b\x2b)  {  \n         hash = (hash \x3c\x3c OneEighth) \x2b str.charCodeAt(i);  \n         if((test = hash \x26amp; HighBits)  != 0)  \n         {  \n            hash = (( hash ^ (test \x3e\x3e ThreeQuarters)) \x26amp; (~HighBits));  \n         }  \n      }  \n      return hash;  \n} \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePJWHash\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e str\x3c\/span\x3e)  \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e BitsInUnsignedInt = \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ThreeQuarters     =  (BitsInUnsignedInt  * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e OneEighth         = (BitsInUnsignedInt \/ \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e);  \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e HighBits          = (\x3cspan class=\x22hljs-number\x22\x3e0xFFFFFFFF\x3c\/span\x3e) \x26lt;\x26lt; (BitsInUnsignedInt - OneEighth);  \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hash              = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e test              = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length; i\x2b\x2b)  {  \n         hash = (hash \x26lt;\x26lt; OneEighth) \x2b str.charCodeAt(i);  \n         \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e((test = hash \x26amp; HighBits)  != \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)  \n         {  \n            hash = (( hash ^ (test \x26gt;\x26gt; ThreeQuarters)) \x26amp; (~HighBits));  \n         }  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n} \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果将上面的哈表的hash函数改成这个，打印如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3gpD?w=534\x26amp;h=684\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3gpD?w=534\x26amp;h=684\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e性能会大幅下隆，因为这让我们的table数组表得非常庞大。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eELF\x3c\/h3\x3e\n\x3cp\x3e和PJW很相似，在Unix系统中使用的较多。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long ELFHash(String str)  \n   {  \n      long hash = 0;  \n      long x    = 0;  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         hash = (hash \x3c\x3c 4) \x2b str.charAt(i);  \n         if((x = hash \x26amp; 0xF0000000L) != 0)  \n         {  \n            hash ^= (x \x3e\x3e 24);  \n         }  \n         hash \x26amp;= ~x;  \n      }  \n      return hash;  \n   }  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eELFHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String str)\x3c\/span\x3e  \n   \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e x    = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length(); i\x2b\x2b)  \n      {  \n         hash = (hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e) \x2b str.charAt(i);  \n         \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e((x = hash \x26amp; \x3cspan class=\x22hljs-number\x22\x3e0xF0000000L\x3c\/span\x3e) != \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)  \n         {  \n            hash ^= (x \x26gt;\x26gt; \x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e);  \n         }  \n         hash \x26amp;= ~x;  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }  \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3eBKDR\x3c\/h3\x3e\n\x3cp\x3e这个算法来自Brian Kernighan 和 Dennis Ritchie的 The C Programming Language。这是一个很简单的哈希算法,使用了一系列奇怪的数字,形式如31,3131,31...31,看上去和DJB算法很相似。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long BKDRHash(String str)  \n   {  \n      long seed = 131; \/\/ 31 131 1313 13131 131313 etc..  \n      long hash = 0;  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         hash = (hash * seed) \x2b str.charAt(i);  \n      }  \n      return hash;  \n   }  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eBKDRHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String str)\x3c\/span\x3e  \n   \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e seed = \x3cspan class=\x22hljs-number\x22\x3e131\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 31 131 1313 13131 131313 etc..  \x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length(); i\x2b\x2b)  \n      {  \n         hash = (hash * seed) \x2b str.charAt(i);  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }  \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eSDBM\x3c\/h3\x3e\n\x3cp\x3e这个算法在开源的SDBM中使用，似乎对很多不同类型的数据都能得到不错的分布。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long SDBMHash(String str)  \n   {  \n      long hash = 0;  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         hash = str.charAt(i) \x2b (hash \x3c\x3c 6) \x2b (hash \x3c\x3c 16) - hash;  \n      }  \n      return hash;  \n   }  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSDBMHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String str)\x3c\/span\x3e  \n   \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length(); i\x2b\x2b)  \n      {  \n         hash = str.charAt(i) \x2b (hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e) \x2b (hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e16\x3c\/span\x3e) - hash;  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }  \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3eDJB\x3c\/h3\x3e\n\x3cp\x3e这个算法是Daniel J.Bernstein 教授发明的，是目前公布的最有效的哈希函数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long DJBHash(String str)  \n   {  \n      long hash = 5381;  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         hash = ((hash \x3c\x3c 5) \x2b hash) \x2b str.charAt(i);  \n      }  \n      return hash;  \n   }  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDJBHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String str)\x3c\/span\x3e  \n   \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e5381\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length(); i\x2b\x2b)  \n      {  \n         hash = ((hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) \x2b hash) \x2b str.charAt(i);  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }  \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3eDEK\x3c\/h3\x3e\n\x3cp\x3e由伟大的Knuth在《编程的艺术 第三卷》的第六章排序和搜索中给出。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long DEKHash(String str)  \n   {  \n      long hash = str.length();  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         hash = ((hash \x3c\x3c 5) ^ (hash \x3e\x3e 27)) ^ str.charAt(i);  \n      }  \n      return hash;  \n   }  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDEKHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String str)\x3c\/span\x3e  \n   \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash = str.length();  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length(); i\x2b\x2b)  \n      {  \n         hash = ((hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e) ^ (hash \x26gt;\x26gt; \x3cspan class=\x22hljs-number\x22\x3e27\x3c\/span\x3e)) ^ str.charAt(i);  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }  \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3eAP\x3c\/h3\x3e\n\x3cp\x3e由Arash Partow贡献的一个哈希函数，继承了上面以旋转以为和加操作\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public long APHash(String str)  \n{  \n      long hash = 0xAAAAAAAA;  \n      for(int i = 0; i \x3c str.length(); i\x2b\x2b)  \n      {  \n         if ((i \x26amp; 1) == 0)  \n         {  \n            hash ^= ((hash \x3c\x3c 7) ^ str.charAt(i) * (hash \x3e\x3e 3));  \n         }  \n         else  \n         {  \n            hash ^= (~((hash \x3c\x3c 11) \x2b str.charAt(i) ^ (hash \x3e\x3e 5)));  \n         }  \n      }  \n      return hash;  \n   }   \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAPHash\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String str)\x3c\/span\x3e  \n\x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e hash = \x3cspan class=\x22hljs-number\x22\x3e0xAAAAAAAA\x3c\/span\x3e;  \n      \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; str.length(); i\x2b\x2b)  \n      {  \n         \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((i \x26amp; \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)  \n         {  \n            hash ^= ((hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e) ^ str.charAt(i) * (hash \x26gt;\x26gt; \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e));  \n         }  \n         \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e  \n         {  \n            hash ^= (~((hash \x26lt;\x26lt; \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e) \x2b str.charAt(i) ^ (hash \x26gt;\x26gt; \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e)));  \n         }  \n      }  \n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hash;  \n   }   \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV3gr6?w=1544\x26amp;h=836\x22 src=\x22https:\/\/static.alili.tech\/img\/bV3gr6?w=1544\x26amp;h=836\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e其中数据1为100000个字母和数字组成的随机串哈希冲突个数。数据2为100000个有意义的英文句子哈希冲突个数。数据3为数据1的哈希值与 1000003(大素数)求模后存储到线性表中冲突的个数。数据4为数据1的哈希值与10000019(更大素数)求模后存储到线性表中冲突的个数。\x3c\/p\x3e\n\x3cp\x3e经过比较，得出以上平均得分。平均数为平方平均数。可以发现，BKDRHash无论是在实际效果还是编码实现中，效果都是最突出的。APHash也是较为优秀的算法。DJBHash,JSHash,RSHash与SDBMHash各有千秋。PJWHash与ELFHash效果最差，但得分相似，其算法本质是相似的。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>javascript 哈希表</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013132249">https://segmentfault.com/a/1190000013132249</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/h1b0itxsqln/" target="_blank">https://alili.tech/archive/h1b0itxsqln/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>