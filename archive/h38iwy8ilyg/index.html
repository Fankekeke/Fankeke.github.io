<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Vue仿饿了么app项目总结"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Vue仿饿了么app项目总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/h38iwy8ilyg/",
				"appid": "1613049289050283", 
				"title": "Vue仿饿了么app项目总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-13T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/0g4s45wsdvuv/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/1jjailw41yxi/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&text=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&text=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&title=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&is_video=false&description=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&title=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&title=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&title=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fh38iwy8ilyg%2f&title=Vue%e4%bb%bf%e9%a5%bf%e4%ba%86%e4%b9%88app%e9%a1%b9%e7%9b%ae%e6%80%bb%e7%bb%93"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Vue仿饿了么app项目总结</h1><div class="meta"><div class="postdate"><time datetime="2018-12-13" itemprop="datePublished">2018-12-13</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e这是我第一个基于 Vue 的项目作品，目的很简单，学以致用，将之前的前端知识积累加上目前流行的前端框架，以项目的形式展现出来。\x3c\/p\x3e\n\x3cp\x3e源代码：\x3ca href=\x22https:\/\/github.com\/nanyang24\/eleme-vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/nanyang24\/...\x3c\/a\x3e\x3cbr\x3e演示地址：\x3ca href=\x22https:\/\/ele.n-y.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/ele.n-y.io\/\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e构建\x3c\/h2\x3e\n\x3cp\x3eVue有自己的脚手架构建工具vue-cli,使用起来非常方便，使用webpack来集成各种开发便捷工具，比如：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eHot-reload Vue的热更新，修改代码之后无需手动刷新网页，对前端开发来说非常方便\x3c\/li\x3e\n\x3cli\x3ePostCss，再也不用去管兼容性的问题了，只针对chrome这样的现代浏览器写css代码，会自动编译生成兼容多款浏览器的css代码\x3c\/li\x3e\n\x3cli\x3eESlint，统一代码风格，规避低级错误，对于有代码洁癖的人来说是不可或缺的\x3c\/li\x3e\n\x3cli\x3eBable，ES2015出来已经有一段时间了，但是不少浏览器还没有兼容ES6，有了bable，放心使用ES6语法，它会自动转义成ES5语法\x3c\/li\x3e\n\x3cli\x3eSCSS，一款 CSS预处理器，编译后成正常的CSS文件。为CSS增加一些编程的特性\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e…\x3c\/p\x3e\n\x3cp\x3e除此之外，vue-cli已经使用node配置了一套本地服务器和安装命令等，本地运行和打包只需要一个命令就可以搞定，非常的方便\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e实现功能\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3eGoods、Ratings、Seller 组件视图均可上下滚动\x3c\/li\x3e\n\x3cli\x3e商品页 点击左侧menu，右侧list对应跳转到相应位置\x3c\/li\x3e\n\x3cli\x3e点击list查看商品详情页，父子组件的通信\x3c\/li\x3e\n\x3cli\x3e评论内容可以筛选查看\x3c\/li\x3e\n\x3cli\x3e购物车组件，包括添加删除商品及动效，购物控件与购物车组件之间为兄弟组件通信，点击购物车图标，展示已选择的商品列表\x3c\/li\x3e\n\x3cli\x3e商家实景图片可以左右滑动\x3c\/li\x3e\n\x3cli\x3eloaclStorage 缓存商家信息（id、name）\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e组件关系\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22├──app.vue\n  │  ├──header.vue--头部组件\n  │  │  ├──star.vue--星星评分组件\n  │  ├──goods.vue--商品组件\n  │  │  ├──shopcart.vue--购物车组件,包括小球飞入购物车动画\n  │  │  ├──cartcontrol.vue--购买加减图标控件--选中数量返回给父组件goods，goods响应后，重新计算选中数量，将数据发送给购物车组件，\n  │  │  ├──food.vue--商品详情页\n  │  │  │  ├──ratingselect.vue--评价内容筛选组件\n  │  ├──ratings.vue--评论组件\n  │  │  ├──ratingselect.vue--评价内容筛选组件\n  │  ├──seller.vue--商家组件\n\n独立组件\n  ├──split.vue--关于分割线组件\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs brainfuck\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e├──app\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──header\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e头部组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──star\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e星星评分组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──goods\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e商品组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──shopcart\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e购物车组件\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e包括小球飞入购物车动画\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──cartcontrol\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e购买加减图标控件\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e选中数量返回给父组件goods，goods响应后，重新计算选中数量，将数据发送给购物车组件，\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──food\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e商品详情页\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──ratingselect\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e评价内容筛选组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──ratings\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e评论组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──ratingselect\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e评价内容筛选组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e│\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e├──seller\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e商家组件\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e独立组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e├──split\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3evue\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e关于分割线组件\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e项目结构\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22common\/---- 文件夹存放的是通用的css和fonts\ncomponents\/---- 文件夹用来存放 Vue 组件\nrouter\/---- 文件夹存放的是vue-router相关配置（linkActiveClass,routes注册组件路由）\nbuild\/---- 文件是 webpack 的打包编译配置文件\nconfig\/---- 文件夹存放的是一些配置项，比如我们服务器访问的端口配置等\ndist\/---- 该文件夹一开始是不存在，在项目经过 build 之后才会生成\nprod.server.js---- 该文件是测试是模拟的服务器配置，用来运行dist里面的文件，在config\/index.js中,build对象中添加一条端口设置port：9000，\nApp.vue---- 根组件，所有的子组件都将在这里被引用\nindex.html---- 整个项目的入口文件，将会引用我们的根组件 App.vue\nmain.js---- 入口文件的 js 逻辑，在 webpack 打包之后将被注入到 index.html 中\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3ecommon\/---- 文件夹存放的是通用的css和fonts\ncomponents\/---- 文件夹用来存放 Vue 组件\nrouter\/---- 文件夹存放的是vue-router相关配置（linkActiveClass,routes注册组件路由）\nbuild\/---- 文件是 webpack 的打包编译配置文件\nconfig\/---- 文件夹存放的是一些配置项，比如我们服务器访问的端口配置等\ndist\/---- 该文件夹一开始是不存在，在项目经过 build 之后才会生成\nprod\x3cspan class=\x22hljs-selector-class\x22\x3e.server\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js----\x3c\/span\x3e 该文件是测试是模拟的服务器配置，用来运行dist里面的文件，在config\/index.js中,build对象中添加一条端口设置port：\x3cspan class=\x22hljs-number\x22\x3e9000\x3c\/span\x3e，\nApp\x3cspan class=\x22hljs-selector-class\x22\x3e.vue----\x3c\/span\x3e 根组件，所有的子组件都将在这里被引用\nindex\x3cspan class=\x22hljs-selector-class\x22\x3e.html----\x3c\/span\x3e 整个项目的入口文件，将会引用我们的根组件 App\x3cspan class=\x22hljs-selector-class\x22\x3e.vue\x3c\/span\x3e\nmain\x3cspan class=\x22hljs-selector-class\x22\x3e.js----\x3c\/span\x3e 入口文件的 js 逻辑，在 webpack 打包之后将被注入到 index\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e 中\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e开发过程问题汇总：\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e1、better-scroll 插件在移动端使用时需要设置 click：true，否则移动端滑动无效\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e2、分开设置css样式：\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e图标icon.css--文字图标样式，通过icommon.io网站 将svg图片转成文字图标样式\x3c\/li\x3e\n\x3cli\x3e公共base.css--处理设备像素比的一些样式，针对border-1px问题，不同设备像素比，显示的线条粗细不同\x3c\/li\x3e\n\x3cli\x3e工具mixin.css--设置border-1px样式和背景样式\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e移动端 border-1px 实现原理\x3c\/h4\x3e\n\x3cp\x3e当样式像素一定时,因手机有320px,640px等.各自的缩放比差异,所以设备显示像素就会有1Npx，2Npx。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e公式：设备上像素 = 样式像素 * 设备像素比\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e为了保证设计稿高度还原，采用 \x3ccode\x3emedia \x2b scale\x3c\/code\x3e 的方法解决\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22屏幕宽度： 320px 480px 640px\n设备像素比： 1    1.5    2\n\n通过查询它的设备像素比 devicePixelRatio\n\n在设备像素比为1.5倍时, round(1px 1.5 \/ 0.7) = 1px \n在设备像素比为2倍时, round(1px 2 \/ 0.5) = 1px\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3e屏幕宽度： \x3cspan class=\x22hljs-number\x22\x3e320\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e480\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e640\x3c\/span\x3epx\n设备像素比： \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e    \x3cspan class=\x22hljs-number\x22\x3e1.5\x3c\/span\x3e    \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\n通过查询它的设备像素比 devicePixelRatio\n\n在设备像素比为\x3cspan class=\x22hljs-number\x22\x3e1.5\x3c\/span\x3e倍时, round(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e1.5\x3c\/span\x3e \/ \x3cspan class=\x22hljs-number\x22\x3e0.7\x3c\/span\x3e) = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3epx \n在设备像素比为\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e倍时, round(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e \/ \x3cspan class=\x22hljs-number\x22\x3e0.5\x3c\/span\x3e) = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3epx\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e实现代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ SCSS 语法\n@mixin border-1px($color) {\n  position: relative;\n  \x26amp;::after {\n    display: block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    border-top: 1px solid $color;\n    content: \x27\x27;\n  }\n}\n\n@mixin border-none() {\n  \x26amp;::after{\n    display: none;\n  }\n}\n\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n  .border-1px {\n    \x26amp;::after {\n      -webkit-transform: scaleY(0.7);\n      transform: scaleY(0.7);\n    }\n  }\n}\n\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n  .border-1px {\n    \x26amp;::after {\n      -webkit-transform: scaleY(0.5);\n      transform: scaleY(0.5);\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scss\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ SCSS 语法\x3c\/span\x3e\n@\x3cspan class=\x22hljs-keyword\x22\x3emixin\x3c\/span\x3e border-1px(\x3cspan class=\x22hljs-variable\x22\x3e$color\x3c\/span\x3e) {\n  \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n  \x26amp;::after {\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebottom\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder-top\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-variable\x22\x3e$color\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n  }\n}\n\n@\x3cspan class=\x22hljs-keyword\x22\x3emixin\x3c\/span\x3e border-none() {\n  \x26amp;::after{\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: none;\n  }\n}\n\n@\x3cspan class=\x22hljs-keyword\x22\x3emedia\x3c\/span\x3e (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.border-1px\x3c\/span\x3e {\n    \x26amp;::after {\n      -webkit-\x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: scaleY(\x3cspan class=\x22hljs-number\x22\x3e0.7\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: scaleY(\x3cspan class=\x22hljs-number\x22\x3e0.7\x3c\/span\x3e);\n    }\n  }\n}\n\n@\x3cspan class=\x22hljs-keyword\x22\x3emedia\x3c\/span\x3e (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.border-1px\x3c\/span\x3e {\n    \x26amp;::after {\n      -webkit-\x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: scaleY(\x3cspan class=\x22hljs-number\x22\x3e0.5\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: scaleY(\x3cspan class=\x22hljs-number\x22\x3e0.5\x3c\/span\x3e);\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e3、sticky-footer布局\x3c\/h3\x3e\n\x3cp\x3e在 header 组件的详情页采用 sticky-footer 布局，主要特点是如果页面内容不够长的时候，页脚块粘贴在视窗底部；如果内容足够长时，页脚块会被内容向下推送\x3c\/p\x3e\n\x3ch4\x3e实现：\x3c\/h4\x3e\n\x3cp\x3e父级 position:fixed，内容设 为padding-bottom:64px，页脚相对定位，margin-top:-64px，clear:both\x3cbr\x3e为了保证兼容性，父级要清除浮动\x3c\/p\x3e\n\x3cp\x3e参考：\x3cbr\x3e\x3ca href=\x22https:\/\/www.cnblogs.com\/shicongbuct\/p\/6487122.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.cnblogs.com\/shico...\x3c\/a\x3e   \x3cbr\x3e\x3ca href=\x22https:\/\/www.w3cplus.com\/css3\/css-secrets\/sticky-footers.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.w3cplus.com\/css3\/...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e4、要求自适应的布局\x3c\/h3\x3e\n\x3ch4\x3e1、左侧宽度固定，右侧宽度自适应\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 左侧固定width：80px，右侧自适应\nparent:\n    display:fiexd;\nchild-left:\n    flex:0 0 80px\nchild-right:\n    flex:1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 左侧固定width：80px，右侧自适应\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3eparent\x3c\/span\x3e:\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e:fiexd;\n\x3cspan class=\x22hljs-attribute\x22\x3echild-left\x3c\/span\x3e:\n    \x3cspan class=\x22hljs-attribute\x22\x3eflex\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e80px\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3echild-right\x3c\/span\x3e:\n    \x3cspan class=\x22hljs-attribute\x22\x3eflex\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2、元素宽度自适应设备宽度，且元素要求等宽高样式\x3c\/h4\x3e\n\x3cp\x3e例如：商品详情页面的商品图片展示样式\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ stylus语法\n.img_header {\n    position:relative\n    width:100% \/\/ width是 设备宽度\n    height:0\n    padding-top:100% \/\/ 高度设为0,使用padding撑开\n    .img {\n        position:absolute \/\/定位布局\n        top:0\n        left:0\n        width:100%\n        height:100%\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ stylus语法\x3c\/span\x3e\n.\x3cspan class=\x22hljs-class\x22\x3eimg_header \x3c\/span\x3e{\n\x3cspan class=\x22hljs-symbol\x22\x3e    position:\x3c\/span\x3erelative\n\x3cspan class=\x22hljs-symbol\x22\x3e    width:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e% \x3cspan class=\x22hljs-comment\x22\x3e\/\/ width是 设备宽度\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e    height:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n    padding-top:\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e% \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 高度设为0,使用padding撑开\x3c\/span\x3e\n    .\x3cspan class=\x22hljs-class\x22\x3eimg \x3c\/span\x3e{\n\x3cspan class=\x22hljs-symbol\x22\x3e        position:\x3c\/span\x3eabsolute \x3cspan class=\x22hljs-comment\x22\x3e\/\/定位布局\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        top:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        left:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        width:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e%\n\x3cspan class=\x22hljs-symbol\x22\x3e        height:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e%\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e5、背景模糊效果\x3c\/h3\x3e\n\x3cp\x3efilter：blur(10px),注意，所有在内的子元素也会模糊，包括文字，所以采用定位布局，背景单独占用一个层，ios有一个设置backdrop-filter:blur(10px)，只会模糊背景,但不支持android\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e6、transition过渡\x3c\/h3\x3e\n\x3cp\x3e在购买控件中使用transition过渡效果，实现添加减少按钮的动效，和小球飞入购物车的动效（模仿贝塞尔曲线的效果）\x3c\/p\x3e\n\x3cp\x3evue2.x里面定义了transition过渡状态，\x3cbr\x3ename - string, 用于自动生成 CSS 过渡类名。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22例如：name: \x27fade\x27 将自动拓展为.fade-enter，.fade-enter-active等。默认类名为 \x26quot;v\x26quot;\n\nfade-enter\nfade-enter-active\nfade-leave\nfade-leave-active\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs x86asm\x22\x3e\x3ccode\x3e例如：name: \x3cspan class=\x22hljs-string\x22\x3e\x27fade\x27\x3c\/span\x3e 将自动拓展为.fade-\x3cspan class=\x22hljs-keyword\x22\x3eenter\x3c\/span\x3e，.fade-\x3cspan class=\x22hljs-keyword\x22\x3eenter\x3c\/span\x3e-active等。默认类名为 \x3cspan class=\x22hljs-string\x22\x3e\x22v\x22\x3c\/span\x3e\n\nfade-\x3cspan class=\x22hljs-keyword\x22\x3eenter\x3c\/span\x3e\nfade-\x3cspan class=\x22hljs-keyword\x22\x3eenter\x3c\/span\x3e-active\nfade-\x3cspan class=\x22hljs-keyword\x22\x3eleave\x3c\/span\x3e\nfade-\x3cspan class=\x22hljs-keyword\x22\x3eleave\x3c\/span\x3e-active\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e包括transition过渡的钩子函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22before-enter\nbefore-leave\nbefore-appear\nenter\nleave\nappear\nafter-enter\nafter-leave\nafter-appear\nenter-cancelled\nleave-cancelled (v-show only)\nappear-cancelled\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebefore\x3c\/span\x3e-enter\n\x3cspan class=\x22hljs-keyword\x22\x3ebefore\x3c\/span\x3e-leave\n\x3cspan class=\x22hljs-keyword\x22\x3ebefore\x3c\/span\x3e-appear\nenter\nleave\nappear\n\x3cspan class=\x22hljs-keyword\x22\x3eafter\x3c\/span\x3e-enter\n\x3cspan class=\x22hljs-keyword\x22\x3eafter\x3c\/span\x3e-leave\n\x3cspan class=\x22hljs-keyword\x22\x3eafter\x3c\/span\x3e-appear\nenter-cancelled\nleave-\x3cspan class=\x22hljs-title\x22\x3ecancelled\x3c\/span\x3e (v-show only)\nappear-cancelled\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e7、seller组件：\x3c\/h3\x3e\n\x3ch4\x3e问题一：seller页面中商品商家实景图片横向滚动\x3c\/h4\x3e\n\x3cp\x3e解决方案：每个 li 要 display：inline-block，因为width不会自动撑开父级ul，所以需要将计算后的宽度赋值给ul的width，（每一张图片的width\x2bmargin）*图片数量-一个margin，因为最后一张图片没有margin\x3cbr\x3e同时new BScroll里面要设置scrollX: true,eventPassthrough: \x27vertical\x27, \/\/ 滚动方向横向\x3c\/p\x3e\n\x3ch4\x3e问题二：打开seller页面，无法滚动\x3c\/h4\x3e\n\x3cp\x3e问题分析：出现这种现象是因为better-scroll插件是严格基于DOM的，数据是采用异步传输的，页面刚打开，DOM并没有被渲染，所以，要确保DOM渲染了，才能使用 better-scroll，\x3cbr\x3e解决方案：用到mounted钩子函数，同时必须搭配this.$nextTick()\x3c\/p\x3e\n\x3ch4\x3e问题三：在seller页面，刷新后，无法滚动\x3c\/h4\x3e\n\x3cp\x3e问题分析：出现这种情况是因为mounted函数在整个生命周期中只会只行一次\x3cbr\x3e解决方案：使用watch方法监控数据变化，并执行滚动函数 \x3ccode\x3ethis._initScroll();this._initPicScroll();\x3c\/code\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e8、缓存数据\x3c\/h3\x3e\n\x3cp\x3e使用window.localStorage保存和设置缓存信息，封装在store.js文件内\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/将页面信息保存到localStorage里\nexport function saveToLocal(id, key, value) {\n  let store = window.localStorage._store_; \/\/ 新定义一个key值_store_，存放要保存的数据对象\n  \/\/ _store_ {\n  \/\/   store[id]: {\n  \/\/     key: value\n  \/\/   }\n  \/\/ }\n  if (!store) {\n    store = {};\n    store[id] = {};\n  } else {\n    store = JSON.parse(store); \/\/ String格式--\x3e json格式\n    if (!store[id]) {\n      store[id] = {};\n    }\n  }\n  store[id][key] = value;\n  window.localStorage._store_ = JSON.stringify(store); \/\/ 将json格式转成String格式，存放到window.localStorage._store中\n}\n\n\n\n\/\/将localStorage信息设置到页面中\nexport function loadFromLocal(id, key, defaults) {\n  let store = window.localStorage._store_;\n  if (!store) { \/\/ 一开始是没有的，因为没有点击事件，所以显示默认数据\n    return defaults;\n  }\n  store = JSON.parse(store)[id]; \/\/ 将json格式--\x3eString格式\n  \/\/ console.log(store); \/\/ {\x26quot;isFavorite\x26quot;:true}\n  if (!store) {\n    return defaults;\n  }\n  let ret = store[key];\n  return ret || defaults;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/将页面信息保存到localStorage里\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esaveToLocal\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eid, key, value\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e store = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.localStorage._store_; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 新定义一个key值_store_，存放要保存的数据对象\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ _store_ {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/   store[id]: {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/     key: value\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/   }\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ }\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!store) {\n    store = {};\n    store[id] = {};\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    store = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(store); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ String格式--\x26gt; json格式\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!store[id]) {\n      store[id] = {};\n    }\n  }\n  store[id][key] = value;\n  \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.localStorage._store_ = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(store); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将json格式转成String格式，存放到window.localStorage._store中\x3c\/span\x3e\n}\n\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/将localStorage信息设置到页面中\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eloadFromLocal\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eid, key, defaults\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e store = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.localStorage._store_;\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!store) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一开始是没有的，因为没有点击事件，所以显示默认数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e defaults;\n  }\n  store = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(store)[id]; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将json格式--\x26gt;String格式\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ console.log(store); \/\/ {\x22isFavorite\x22:true}\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!store) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e defaults;\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ret = store[key];\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e ret || defaults;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e9、解析url，得到商家信息，包括id，name，在获取数据时，直接赋值，商家的id或name会被丢掉\x3c\/h3\x3e\n\x3cp\x3e使用window.localStorage.search获取url地址，并进行解析 \x3cbr\x3e封装在util.js文件内\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * 解析URL参数\n * @example ?id=12345\x26amp;a=b\n * @return Object {id:12345, a:b}\n **\/\n\nexport function urlParse() {\n  let url = window.location.search;\n  let obj = {};\n  let reg = \/[?\x26amp;][^?\x26amp;]\x2b=[^?\x26amp;]\x2b\/g;\n  let arr = url.match(reg);\n  \/\/ [\x27?id=12345\x27, \x27\x26amp;a=b\x27]\n  if (arr) {\n    arr.forEach((item) =\x3e {\n      let temArr = item.substring(1).split(\x27=\x27);\n      let key = decodeURIComponent(temArr[0]);\n      let value = decodeURIComponent(temArr[1]);\n      obj[key] = value;\n    });\n  }\n  return obj;\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 解析URL参数\n * @example ?id=12345\x26amp;a=b\n * @return Object {id:12345, a:b}\n **\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eurlParse\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e url = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.location.search;\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj = {};\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e reg = \x3cspan class=\x22hljs-regexp\x22\x3e\/[?\x26amp;][^?\x26amp;]\x2b=[^?\x26amp;]\x2b\/g\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr = url.match(reg);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [\x27?id=12345\x27, \x27\x26amp;a=b\x27]\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (arr) {\n    arr.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e temArr = item.substring(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).split(\x3cspan class=\x22hljs-string\x22\x3e\x27=\x27\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e key = \x3cspan class=\x22hljs-built_in\x22\x3edecodeURIComponent\x3c\/span\x3e(temArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e value = \x3cspan class=\x22hljs-built_in\x22\x3edecodeURIComponent\x3c\/span\x3e(temArr[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]);\n      obj[key] = value;\n    });\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e obj;\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们需要将得到的 id 和 name 带到数据中，实际上在获取数据的时候，并没有带着id和name，这时就要用到 es6 语法中\x3ccode\x3eObject.assign()\x3c\/code\x3e,官方解释为：可以把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.seller = Object.assign({}, this.seller, response.data);\n\n\/\/即将vm.seller属性和请求返回数据对象合并到空对象，然后赋值给vm.seller,这里加上this.seller即提供了一种可扩展的机制，倘若原来的属性中有预定义的其他属性。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.seller = Object.assign({}, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.seller, response.\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/即将vm.seller属性和请求返回数据对象合并到空对象，然后赋值给vm.seller,这里加上this.seller即提供了一种可扩展的机制，倘若原来的属性中有预定义的其他属性。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e10、goods,ratings,seller组件之间切换时会重新渲染\x3c\/h3\x3e\n\x3cp\x3e解决方案：在 app.vu 内使用 keep-alive，保留各组件状态，避免重新渲染\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ckeep-alive\x3e\n    \x3crouter-view :seller=\x26quot;seller\x26quot;\x3e\x3c\/router-view\x3e\n\x3c\/keep-alive\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e\x26lt;keep-alive\x26gt;\n    \x26lt;router-view \x3cspan class=\x22hljs-symbol\x22\x3e:seller=\x3cspan class=\x22hljs-string\x22\x3e\x22seller\x22\x3c\/span\x3e\x26gt;\x26lt;\/router-view\x26gt;\x3c\/span\x3e\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/keep-alive\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3eVue 使用技巧\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e1、vue-router\x3c\/h3\x3e\n\x3cp\x3e使用\x3ccode\x3e\x26lt;router-link\x26gt;\x3c\/code\x3e组件完成导航，\x3ccode\x3e\x26lt;router-link\x26gt;\x3c\/code\x3e 默认会被渲染成一个 \x3ccode\x3e\x26lt;a\x26gt;\x3c\/code\x3e 标签，但必须使用 \x3ccode\x3eto属性\x3c\/code\x3e，指定连接\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ app.vue\n \x3c!-- 导航 --\x3e\n\x3crouter-link to=\x26quot;\/home\x26quot;\x3ehome\x3c\/router-link\x3e\n\x3crouter-link to=\x26quot;\/about\x26quot;\x3eabout\x3c\/router-link\x3e\n\n\x3c!-- 路由出口 组件渲染容器 --\x3e\n\x3crouter-view\x3e\x3c\/router-view\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\/\/ app.vue\n \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 导航 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3erouter-link\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/home\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ehome\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3erouter-link\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3erouter-link\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/about\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eabout\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3erouter-link\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 路由出口 组件渲染容器 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3erouter-view\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3erouter-view\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ router: index.js\n\nimport Vue from \x27vue\x27;\nimport Router from \x27vue-router\x27;\nimport goods from \x27components\/goods\/goods.vue\x27;\nimport ratings from \x27components\/ratings\/ratings.vue\x27;\nimport seller from \x27components\/seller\/seller.vue\x27;\n\nVue.use(Router);\n\nconst routes = [{\n  path: \x27\/\x27,\n  redirect: \x27\/goods\x27\n}, {\n  path: \x27\/goods\x27,\n  component: goods\n}, {\n  path: \x27\/ratings\x27,\n  component: ratings\n}, {\n  path: \x27\/seller\x27,\n  component: seller\n}];\n\nexport default new Router({\n  routes,\n  linkActiveClass: \x27active\x27\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ router: index.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Router \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e goods \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/goods\/goods.vue\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ratings \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/ratings\/ratings.vue\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e seller \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/seller\/seller.vue\x27\x3c\/span\x3e;\n\nVue.use(Router);\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e routes = [{\n  \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eredirect\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/goods\x27\x3c\/span\x3e\n}, {\n  \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/goods\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: goods\n}, {\n  \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/ratings\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: ratings\n}, {\n  \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/seller\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: seller\n}];\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router({\n  routes,\n  \x3cspan class=\x22hljs-attr\x22\x3elinkActiveClass\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27active\x27\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader18\x22\x3e2、axios\x3c\/h3\x3e\n\x3cp\x3e在vue1.x的时候，vue的官方推荐HTTP请求工具是vue-resource，但是在vue2.0的时候将推荐工具改成了axios。\x3c\/p\x3e\n\x3cp\x3e如果想像以前使用 vue-resource 那样 this.$http.get 调用，要这样定义：\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eVue.prototype.$http = axios;\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e通过 this.$http.get 来定义通过vue实例来发送get请求，然后通过then后面的回调函数将请求成功的数据接收，通过状态码来判断是否成功以及复制给vue的数据对象。由于这里是用的mock数据（模拟后台数据），所以用的模拟状态码。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const ERR_OK = 0;\/\/表示没有错误信息，即获取数据成功\nthis.$http.get(\x27\/api\/seller\x27).then((response) =\x3e {\n  response = response.data;\n  if (response.errno === ERR_OK) {\n    this.seller = Object.assign({}, this.seller, response.data);\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3econst ERR_OK = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/表示没有错误信息，即获取数据成功\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$http.\x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27\/api\/seller\x27\x3c\/span\x3e).then((response) =\x26gt; {\n  response = response.\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (response.errno === ERR_OK) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.seller = Object.assign({}, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.seller, response.\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e);\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3e3、组件间通讯\x3c\/h3\x3e\n\x3cp\x3evue是组件式开发，所以组件间通讯是必不可少的\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e父传子: props\x3c\/li\x3e\n\x3cli\x3e子传父: $emit\x3c\/li\x3e\n\x3cli\x3e兄弟通讯: 1. event bus: 利用一个中间组件来作为信息传递中介；2. vuex: 信息树\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e父传子: props\x3c\/h4\x3e\n\x3cp\x3evue提供了一种方式，即在子组件定义 props 来接受父组件传递来的数据对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 父组件\n\x3cv-header :seller=\x26quot;seller\x26quot;\x3e\x3c\/v-header\x3e\n\n\/\/ 子组件 header.vue\nprops: {\n  seller: {\n    type: Object\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 父组件\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;v-header :seller=\x22seller\x22\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/v-header\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 子组件 header.vue\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eprops:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e  seller:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e    type:\x3c\/span\x3e Object\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e子传父: $emit\x3c\/h4\x3e\n\x3cp\x3e如果是子组件想传递数据给父组件，需要派发自定义事件，使用 $emit 派发，\x3cbr\x3e父组件使用v-on接收监控（v-on可以简写成@）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 子组件 RatingSelect.vue，派发自定义事件isContent，将this.onlyContent数据传给父级\n\nthis.$emit(\x27isContent\x27, this.onlyContent);\nthis.$emit(\x27selRatings\x27, this.selectType);\n\n\/\/ 父组件 foodInfo.vue 在子组件的模板标签里，使用v-on监控isContent传过来的数据\n\n\x3cv-ratingselect @selRatings=\x26quot;filterRatings\x26quot; @isContent=\x26quot;iscontent\x26quot;\x3e\x3c\/v-ratingselect\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 子组件 RatingSelect.vue，派发自定义事件isContent，将this.onlyContent数据传给父级\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27isContent\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onlyContent);\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27selRatings\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.selectType);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 父组件 foodInfo.vue 在子组件的模板标签里，使用v-on监控isContent传过来的数据\x3c\/span\x3e\n\n\x26lt;v-ratingselect \x3cspan class=\x22hljs-meta\x22\x3e@selRatings\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22filterRatings\x22\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e@isContent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22iscontent\x22\x3c\/span\x3e\x26gt;\x26lt;\/v-ratingselect\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader20\x22\x3e非父子组件之间通信\x3c\/h3\x3e\n\x3col\x3e\n\x3cli\x3e大型项目可以用 Vue官方推荐的vuex\x3c\/li\x3e\n\x3cli\x3eEventBus ：\x3ca href=\x22https:\/\/n-y.io\/vue-eventbus\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/n-y.io\/vue-eventbus\/\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e子组件A $emit 派发具体事件，由父组件 @ 监听得到数据\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e父组件再利用 $refs 直接访问子组件B的方法，间接实现数据从子组件A传递至子组件B\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader21\x22\x3e4、组件提取管理\x3c\/h3\x3e\n\x3cp\x3e将相同样式或功能的区块单独提出来，作为一个组件。\x3cbr\x3e另外组件中用到的图片等资源就近维护，即可以考虑在组件文件夹中新建images文件夹。\x3c\/p\x3e\n\x3cp\x3e抽离组件遵循原则：\x3cbr\x3e要尽量遵循单一职责原则，复用性更高，不要设置额外的margin等影响布局的东西\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader22\x22\x3e5、打开app应用，默认显示 goods 页面内容\x3c\/h3\x3e\n\x3cp\x3e想要达到这种目的，有两种方法，一种是利用重定向，另一种是利用vue-router的导航式编程。\x3c\/p\x3e\n\x3ch4\x3e1、重定向\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/在router的index.js文件中设置，要多写一个对象，指向目标组件\n\nVue.use(Router);\n\nconst routes = [{\n  path: \x27\/\x27,\n  redirect: \x27\/goods\x27   \/\/ 重定向\n}, {\n  path: \x27\/goods\x27,\n  component: goods\n}, {\n  path: \x27\/ratings\x27,\n  component: ratings\n}, {\n  path: \x27\/seller\x27,\n  component: seller\n}];\n\nexport default new Router({\n  routes,\n  linkActiveClass: \x27active\x27\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/在router的index.js文件中设置，要多写一个对象，指向目标组件\x3c\/span\x3e\n\nVue.use(Router);\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e routes = [{\n  path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\n  redirect: \x3cspan class=\x22hljs-string\x22\x3e\x27\/goods\x27\x3c\/span\x3e   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 重定向\x3c\/span\x3e\n}, {\n  path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/goods\x27\x3c\/span\x3e,\n  component: goods\n}, {\n  path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/ratings\x27\x3c\/span\x3e,\n  component: ratings\n}, {\n  path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/seller\x27\x3c\/span\x3e,\n  component: seller\n}];\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router({\n  routes,\n  linkActiveClass: \x3cspan class=\x22hljs-string\x22\x3e\x27active\x27\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2、导航式编程\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22router.push(\x27\/Goods\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3erouter.\x3cspan class=\x22hljs-keyword\x22\x3epush\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27\/Goods\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader23\x22\x3e项目难点\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader24\x22\x3e1、关于购物车添加按钮的动画\x3c\/h3\x3e\n\x3ch4\x3ehtml代码\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e生成一个动画小球的div,并且生成五个小球,五个是为了生成一定数量的小球来作为操作使用,按照小球动画的速度,一般来说五个也可以保证有足够的小球数量来运行动画\x3c\/li\x3e\n\x3cli\x3e动画的内容分别是外层和内层,外层控制动画小球的轨道和方向,内层控制动画小球自身的运行状态\x3c\/li\x3e\n\x3cli\x3e动画使用vue的js钩子实现\x3c\/li\x3e\n\x3cli\x3e因为小球动画只有一个方向(只执行单方向从上到下滚落),所以只用了before-enter,enter,after-enter\x3c\/li\x3e\n\x3cli\x3e用v-show控制小球的可见性,在动画执行期间可见,其余时候隐藏\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \x3cdiv class=\x26quot;ball-container\x26quot;\x3e\n      \x3cdiv v-for=\x26quot;ball in balls\x26quot;\x3e\n      \/\/用了两种方式的动画,css和js钩子\n        \x3ctransition name=\x26quot;drop\x26quot; @before-enter=\x26quot;beforeDrop\x26quot; @enter=\x26quot;dropping\x26quot; @after-enter=\x26quot;afterDrop\x26quot;\x3e\n        \/\/外层动画\n          \x3cdiv class=\x26quot;ball\x26quot; v-show=\x26quot;ball.show\x26quot;\x3e\n          \/\/内层动画\n            \x3cdiv class=\x26quot;inner inner-hook\x26quot;\x3e\x3c\/div\x3e\n          \x3c\/div\x3e\n        \x3c\/transition\x3e\n      \x3c\/div\x3e\n    \x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode\x3e    \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22ball-container\x22\x3c\/span\x3e\x26gt;\n      \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ball in balls\x22\x3c\/span\x3e\x26gt;\n     \x3cspan class=\x22hljs-comment\x22\x3e \/\/用了两种方式的动画,css和js钩子\x3c\/span\x3e\n        \x26lt;transition name=\x3cspan class=\x22hljs-string\x22\x3e\x22drop\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-keyword\x22\x3ebefore\x3c\/span\x3e-enter=\x3cspan class=\x22hljs-string\x22\x3e\x22beforeDrop\x22\x3c\/span\x3e @enter=\x3cspan class=\x22hljs-string\x22\x3e\x22dropping\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-keyword\x22\x3eafter\x3c\/span\x3e-enter=\x3cspan class=\x22hljs-string\x22\x3e\x22afterDrop\x22\x3c\/span\x3e\x26gt;\n       \x3cspan class=\x22hljs-comment\x22\x3e \/\/外层动画\x3c\/span\x3e\n          \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22ball\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22ball.show\x22\x3c\/span\x3e\x26gt;\n         \x3cspan class=\x22hljs-comment\x22\x3e \/\/内层动画\x3c\/span\x3e\n            \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22inner inner-hook\x22\x3c\/span\x3e\x26gt;\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n          \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n        \x26lt;\/transition\x26gt;\n      \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n    \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3ejs代码\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e设置了balls数组来代表五个小球\x3c\/li\x3e\n\x3cli\x3e设置了dropBalls数组正在运行的小球\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 data(){\n      return {\n        balls: [\n          {show: false},\n          {show: false},\n          {show: false},\n          {show: false},\n          {show: false}\n        ],\n        dropBalls: []\n      }\n    },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-string\x22\x3edata(){\x3c\/span\x3e\n      \x3cspan class=\x22hljs-string\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        balls:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[\x3c\/span\x3e\n          \x3cspan class=\x22hljs-string\x22\x3e{show:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n          \x3cspan class=\x22hljs-string\x22\x3e{show:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n          \x3cspan class=\x22hljs-string\x22\x3e{show:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n          \x3cspan class=\x22hljs-string\x22\x3e{show:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n          \x3cspan class=\x22hljs-string\x22\x3e{show:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e],\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        dropBalls:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[]\x3c\/span\x3e\n      \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e只要触发了drop事件,不止是drop事件里面的代码会执行,另外几个vue的js监听钩子也会一起按顺序执行\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e触发了 drop 事件\x3c\/li\x3e\n\x3cli\x3ebeforeDrop 开始执行\x3c\/li\x3e\n\x3cli\x3edropping 开始执行\x3c\/li\x3e\n\x3cli\x3eafterDrop 开始执行\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3edrop 事件的触发可以通过点击 cartcontrol 组件的添加小球按钮 addCart 事件触发使用 \x3ccode\x3e$emit\x3c\/code\x3e ，也可以父组件  \x3ccode\x3ethis.$refs.shopcart.drop(target);\x3c\/code\x3e 直接触发\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e这么做的目的是实现，在子组件 cartcontrol 点击之后，可以将具体点击的 dom 传给父组件 goods 然后再传给子组件 shopcart，（因为目前他们之间的通道就是这样，shopcart子组件并没有导入cartcontrol子组件，所以没有直接通讯）这样就实现了多个组件之间的通讯（也可以使用 EventBus 和 vuex），从而可以实现需求，例如这里就是实现点击子组件 cartcontrol 后添加一个动画,将小球滑落到另外一个组件shopcart\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$emit\x3c\/code\x3e 是触发当前实例上的事件。附加参数都会传给监听器回调。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22methods: {\n      drop(el) { \n      \/\/触发一次事件就会将所有小球进行遍历\n        for (let i = 0; i \x3c this.balls.length; i\x2b\x2b) {\n          let ball = this.balls[i];\n          if (!ball.show) { \/\/将false的小球放到dropBalls\n            ball.show = true;\n            ball.el = el; \/\/设置小球的el属性为一个dom对象\n            this.dropBalls.push(ball); \n            return;\n          }\n        }\n      },\n\n      beforeDrop(el){ \/\/这个方法的执行是因为这是一个vue的监听事件\n        let count = this.balls.length;\n        while (count--) {\n          let ball = this.balls[count];\n          if (ball.show) {\n            let rect = ball.el.getBoundingClientRect(); \/\/获取小球的相对于视口的位移(小球高度)\n            let x = rect.left - 32;\n            let y = -(window.innerHeight - rect.top - 22); \/\/负数,因为是从左上角往下的的方向\n            el.style.display = \x27\x27; \/\/清空display\n            el.style.webkitTransform = `translate3d(0,${y}px,0)`; \n            el.style.transform = `translate3d(0,${y}px,0)`;\n            \/\/处理内层动画\n            let inner = el.getElementsByClassName(\x27inner-hook\x27)[0]; \/\/使用inner-hook类来单纯被js操作\n            inner.style.webkitTransform = `translate3d(${x}px,0,0)`;\n            inner.style.transform = `translate3d(${x}px,0,0)`;\n          }\n        }\n      },\n\n      dropping(el, done) { \/\/这个方法的执行是因为这是一个vue的监听事件\n        \/* eslint-disable no-unused-vars *\/\n        let rf = el.offsetHeight; \/\/触发重绘html\n        this.$nextTick(() =\x3e { \/\/让动画效果异步执行,提高性能\n          el.style.webkitTransform = \x27translate3d(0,0,0)\x27;\n          el.style.transform = \x27translate3d(0,0,0)\x27;\n          \/\/处理内层动画\n          let inner = el.getElementsByClassName(\x27inner-hook\x27)[0]; \/\/使用inner-hook类来单纯被js操作\n          inner.style.webkitTransform = \x27translate3d(0,0,0)\x27;\n          inner.style.transform = \x27translate3d(0,0,0)\x27;\n          el.addEventListener(\x27transitionend\x27, done); \/\/Vue为了知道过渡的完成，必须设置相应的事件监听器。\n        });\n      },\n\n      afterDrop(el) { \/\/这个方法的执行是因为这是一个vue的监听事件\n        let ball = this.dropBalls.shift(); \/\/完成一次动画就删除一个dropBalls的小球\n        if (ball) {\n          ball.show = false;\n          el.style.display = \x27none\x27; \/\/隐藏小球\n        }\n      }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3emethods\x3c\/span\x3e: {\n      drop(el) { \n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发一次事件就会将所有小球进行遍历\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.balls.length; i\x2b\x2b) {\n          \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ball = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.balls[i];\n          \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!ball.show) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/将false的小球放到dropBalls\x3c\/span\x3e\n            ball.show = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n            ball.el = el; \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置小球的el属性为一个dom对象\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.dropBalls.push(ball); \n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n          }\n        }\n      },\n\n      beforeDrop(el){ \x3cspan class=\x22hljs-comment\x22\x3e\/\/这个方法的执行是因为这是一个vue的监听事件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e count = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.balls.length;\n        \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (count--) {\n          \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ball = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.balls[count];\n          \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (ball.show) {\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3erect\x3c\/span\x3e = ball.el.getBoundingClientRect(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取小球的相对于视口的位移(小球高度)\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x = \x3cspan class=\x22hljs-built_in\x22\x3erect\x3c\/span\x3e.left - \x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e y = -(\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerHeight - \x3cspan class=\x22hljs-built_in\x22\x3erect\x3c\/span\x3e.top - \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/负数,因为是从左上角往下的的方向\x3c\/span\x3e\n            el.style.display = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/清空display\x3c\/span\x3e\n            el.style.webkitTransform = \x3cspan class=\x22hljs-string\x22\x3e`translate3d(0,\x3cspan class=\x22hljs-subst\x22\x3e${y}\x3c\/span\x3epx,0)`\x3c\/span\x3e; \n            el.style.transform = \x3cspan class=\x22hljs-string\x22\x3e`translate3d(0,\x3cspan class=\x22hljs-subst\x22\x3e${y}\x3c\/span\x3epx,0)`\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/处理内层动画\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e inner = el.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27inner-hook\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]; \x3cspan class=\x22hljs-comment\x22\x3e\/\/使用inner-hook类来单纯被js操作\x3c\/span\x3e\n            inner.style.webkitTransform = \x3cspan class=\x22hljs-string\x22\x3e`translate3d(\x3cspan class=\x22hljs-subst\x22\x3e${x}\x3c\/span\x3epx,0,0)`\x3c\/span\x3e;\n            inner.style.transform = \x3cspan class=\x22hljs-string\x22\x3e`translate3d(\x3cspan class=\x22hljs-subst\x22\x3e${x}\x3c\/span\x3epx,0,0)`\x3c\/span\x3e;\n          }\n        }\n      },\n\n      dropping(el, done) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/这个方法的执行是因为这是一个vue的监听事件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/* eslint-disable no-unused-vars *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e rf = el.offsetHeight; \x3cspan class=\x22hljs-comment\x22\x3e\/\/触发重绘html\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$nextTick(() =\x26gt; { \x3cspan class=\x22hljs-comment\x22\x3e\/\/让动画效果异步执行,提高性能\x3c\/span\x3e\n          el.style.webkitTransform = \x3cspan class=\x22hljs-string\x22\x3e\x27translate3d(0,0,0)\x27\x3c\/span\x3e;\n          el.style.transform = \x3cspan class=\x22hljs-string\x22\x3e\x27translate3d(0,0,0)\x27\x3c\/span\x3e;\n          \x3cspan class=\x22hljs-comment\x22\x3e\/\/处理内层动画\x3c\/span\x3e\n          \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e inner = el.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27inner-hook\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]; \x3cspan class=\x22hljs-comment\x22\x3e\/\/使用inner-hook类来单纯被js操作\x3c\/span\x3e\n          inner.style.webkitTransform = \x3cspan class=\x22hljs-string\x22\x3e\x27translate3d(0,0,0)\x27\x3c\/span\x3e;\n          inner.style.transform = \x3cspan class=\x22hljs-string\x22\x3e\x27translate3d(0,0,0)\x27\x3c\/span\x3e;\n          el.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27transitionend\x27\x3c\/span\x3e, done); \x3cspan class=\x22hljs-comment\x22\x3e\/\/Vue为了知道过渡的完成，必须设置相应的事件监听器。\x3c\/span\x3e\n        });\n      },\n\n      afterDrop(el) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/这个方法的执行是因为这是一个vue的监听事件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ball = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.dropBalls.shift(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/完成一次动画就删除一个dropBalls的小球\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (ball) {\n          ball.show = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n          el.style.display = \x3cspan class=\x22hljs-string\x22\x3e\x27none\x27\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/隐藏小球\x3c\/span\x3e\n        }\n      }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e关于 \x3ca href=\x22https:\/\/cn.vuejs.org\/v2\/guide\/transitions.html#\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etransitionend\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e关于drop方法,是实现每一个ball的show属性和el属性处理,并且点击一次会自动将一个小球放到 dropBalls 数组里面,放到里面就代表的是一个小球已经被开始执行动画,但是由于动画是异步的,所以先主动设置.\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e关于 \x3ccode\x3egetBoundingClientRect\x3c\/code\x3e (位移的计算是从左上角开始)\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e使用  \x3ccode\x3egetBoundingClientRect\x3c\/code\x3e 获取到当前元素的坐标,然后需要位移的left减去元素的宽获取真正的最终位移x坐标\x3c\/li\x3e\n\x3cli\x3e使用 \x3ccode\x3egetBoundingClientRect\x3c\/code\x3e 获取到当前元素的坐标,然后需要当前屏幕的高度减去元素的 top 再减去元素本身的高度获取到真正的最终位移 y 坐标,并且这个是负数,因为是从左上角往下的方向\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e关于html重绘\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e因为浏览器对于重绘是有要求并且是有队列完成的,这是主要为了性能,虽然动画隐藏了小球display none,但没有触发html重绘,或者说没有立即触发html重绘,所以需要手动\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3elet rf = el.offsetHeight;\x3c\/code\x3e \x3cstrong\x3e这是一个手动触发html重绘的方法\x3c\/strong\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2015\/09\/web-page-performance-in-depth.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e网页性能管理详解\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/www.cnblogs.com\/zichi\/p\/4720000.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e高性能JavaScript 重排与重绘\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3ecss代码\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    .ball-container\n      .ball\n        position: fixed \/\/小球动画必须脱离html布局流\n        left: 32px\n        bottom: 22px\n        z-index: 200 \n        transition: all 0.4s cubic-bezier(0.49, -0.29, 0.75, 0.41)\n        .inner\n          width: 16px\n          height: 16px\n          border-radius: 50%\n          background: rgb(0, 160, 220)\n          transition: all 0.4s linear\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e    \x3cspan class=\x22hljs-selector-class\x22\x3e.ball-container\x3c\/span\x3e\n      \x3cspan class=\x22hljs-selector-class\x22\x3e.ball\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: fixed \/\/小球动画必须脱离html布局流\n        \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e32px\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attribute\x22\x3ebottom\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e22px\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attribute\x22\x3ez-index\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e \n        \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: all \x3cspan class=\x22hljs-number\x22\x3e0.4s\x3c\/span\x3e cubic-bezier(\x3cspan class=\x22hljs-number\x22\x3e0.49\x3c\/span\x3e, -\x3cspan class=\x22hljs-number\x22\x3e0.29\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0.75\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0.41\x3c\/span\x3e)\n        \x3cspan class=\x22hljs-selector-class\x22\x3e.inner\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e16px\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e16px\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attribute\x22\x3eborder-radius\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: rgb(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e160\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e220\x3c\/span\x3e)\n          \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: all \x3cspan class=\x22hljs-number\x22\x3e0.4s\x3c\/span\x3e linear\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e关于cubic-bezier(0.49, -0.29, 0.75, 0.41),是动画抛物曲线(贝塞尔曲线)的配置，基于css3实现，参考贝塞尔曲线与CSS3动画、SVG和canvas的基情 ,至于抛物线放在外层就是为了控制内层的元素的轨道和方向的.\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader25\x22\x3e2、星星组件star.vue\x3c\/h3\x3e\n\x3cp\x3e整个流程是:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e绑定星星类型的class(48,36,24尺寸),使用starType\x3c\/li\x3e\n\x3cli\x3e使用class来显示星星,有3种类型,全星,半星,无星,使用star-item代表星星本身,然后分别使用on,off,half代表三种不同类型的星星\x3c\/li\x3e\n\x3cli\x3e一个span代表一个星星项目,并且使用v-for循环将星星项目输出\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e最后形成的星星html就类似这样\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;star star-48\x26quot;\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item half\x26quot;\x3e\x3c\/span\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star star-48\x22\x3c\/span\x3e\x26gt;\n\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;span \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;span \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;span \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;span \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item half\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/div\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3ehtml部分\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv class=\x26quot;star\x26quot; :class=\x26quot;starType\x26quot;\x3e\n    \x3cspan v-for=\x26quot;itemClass in itemClasses\x26quot; :class=\x26quot;itemClass\x26quot; class=\x26quot;star-item\x26quot;\x3e\x3c\/span\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x26lt;template\x26gt;\n  \x26lt;div \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star\x22\x3c\/span\x3e :\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22starType\x22\x3c\/span\x3e\x26gt;\n    \x26lt;span v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22itemClass in itemClasses\x22\x3c\/span\x3e :\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22itemClass\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item\x22\x3c\/span\x3e\x26gt;\x26lt;\/span\x26gt;\n  \x26lt;\/div\x26gt;\n\x26lt;\/template\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3ejs部分\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e设置常量是为了方便解耦\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e星星计算比较巧妙(根据分数转换为星星数)\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e对于分数score进行乘以2然后向下取整，然后再除以2，是为了获取所有星星的数量，并且这个数量是0.5倍数的,例如4.6 2就是9.2，然后向下取整是9，然后再除以2就是4.5，那么就可以得到一个0.5倍数的星星数，可以转换为4个全星\x2b一个半星\x3c\/li\x3e\n\x3cli\x3e对于非整数的星星算作是半个星星，需要知道是否有存在这种情况，所以分数score%1 ，例如 8 % 1是0，8.5 % 1就不是0，并且这个半星只会出现一次，因为半星状态就只要一个\x3c\/li\x3e\n\x3cli\x3e没有星星的部分是要补全的，这里使用while循环来处理这种情况\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript\x3e\n  \/\/设置常量\n  const LENGTH = 5;\n  const CLS_ON = \x27on\x27;\n  const CLS_HALF = \x27half\x27;\n  const CLS_OFF = \x27off\x27;\n\n  export default{\n    props: {\n      size: { \/\/传入的size变量\n        type: Number \/\/设置变量类型\n      },\n      score: { \/\/传入的score变量\n        type: Number\n      }\n    },\n    computed: {\n      starType(){ \/\/通过计算属性,返回组装过的类型,用来对应class类型\n        return \x27star-\x27 \x2b this.size;\n      },\n      itemClasses(){\n        let result = []; \/\/返回的是一个数组,用来遍历输出星星\n        let score = Math.floor(this.score * 2) \/ 2; \/\/计算所有星星的数量\n        let hasDecimal = score % 1 !== 0; \/\/非整数星星判断\n        let integer = Math.floor(score); \/\/整数星星判断\n        for (let i = 0; i \x3c integer; i\x2b\x2b) { \/\/整数星星使用on\n          result.push(CLS_ON);\/\/一个整数星星就push一个CLS_ON到数组\n        }\n        if (hasDecimal) { \/\/非整数星星使用half\n          result.push(CLS_HALF);\/\/类似\n        }\n        while (result.length \x3c LENGTH) { \/\/余下的用无星星补全,使用off\n          result.push(CLS_OFF);\/\/类似\n        }\n        return result;\n      }\n    }\n  }\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置常量\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e LENGTH = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CLS_ON = \x3cspan class=\x22hljs-string\x22\x3e\x27on\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CLS_HALF = \x3cspan class=\x22hljs-string\x22\x3e\x27half\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CLS_OFF = \x3cspan class=\x22hljs-string\x22\x3e\x27off\x27\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3eprops\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/传入的size变量\x3c\/span\x3e\n        type: \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置变量类型\x3c\/span\x3e\n      },\n      \x3cspan class=\x22hljs-attr\x22\x3escore\x3c\/span\x3e: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/传入的score变量\x3c\/span\x3e\n        type: \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e\n      }\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n      starType(){ \x3cspan class=\x22hljs-comment\x22\x3e\/\/通过计算属性,返回组装过的类型,用来对应class类型\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27star-\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.size;\n      },\n      itemClasses(){\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e result = []; \x3cspan class=\x22hljs-comment\x22\x3e\/\/返回的是一个数组,用来遍历输出星星\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e score = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.score * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算所有星星的数量\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e hasDecimal = score % \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e !== \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/非整数星星判断\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e integer = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(score); \x3cspan class=\x22hljs-comment\x22\x3e\/\/整数星星判断\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; integer; i\x2b\x2b) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/整数星星使用on\x3c\/span\x3e\n          result.push(CLS_ON);\x3cspan class=\x22hljs-comment\x22\x3e\/\/一个整数星星就push一个CLS_ON到数组\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (hasDecimal) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/非整数星星使用half\x3c\/span\x3e\n          result.push(CLS_HALF);\x3cspan class=\x22hljs-comment\x22\x3e\/\/类似\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (result.length \x26lt; LENGTH) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/余下的用无星星补全,使用off\x3c\/span\x3e\n          result.push(CLS_OFF);\x3cspan class=\x22hljs-comment\x22\x3e\/\/类似\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result;\n      }\n    }\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3ecss部分\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e引入mixin.styl是为了使用bg-image的mixin,因为之前做了一个mixin是专门处理2x和3x图片的转换\x3c\/li\x3e\n\x3cli\x3e因为这里有3种类型的星星图片,分别是48尺寸,36尺寸,24尺寸,所以对于每一个类别的图片分别使用一种class做对应\x3c\/li\x3e\n\x3cli\x3e每一种星星的尺寸都是有一种相对应的图片的,例如48尺寸的星星就会有,并且图片放在相对应的vue文件目录下\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22star48_half@2x.png\nstar48_half@3x.png\nstar48_off@2x.png\nstar48_off@3x.png\nstar48_on@2x.png\nstar48_on@3x.png\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs llvm\x22\x3e\x3ccode\x3estar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_half\x3cspan class=\x22hljs-title\x22\x3e@2\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_half\x3cspan class=\x22hljs-title\x22\x3e@3\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_off\x3cspan class=\x22hljs-title\x22\x3e@2\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_off\x3cspan class=\x22hljs-title\x22\x3e@3\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_on\x3cspan class=\x22hljs-title\x22\x3e@2\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_on\x3cspan class=\x22hljs-title\x22\x3e@3\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cstyle lang=\x26quot;scss\x26quot; rel=\x26quot;stylesheet\/scss\x26quot;\x3e\n  @import \x26quot;..\/..\/common\/css\/mixin\x26quot;;\n\n  .star {\n    font-size: 0;\n    .star-item {\n      display: inline-block;\n      background-repeat: no-repeat;\n    }\n    \x26amp;.star-48 {  \/\/48尺寸的星星\n      .star-item {  \/\/每一个星星的基本css信息\n        width: 20px;\n        height: 20px;\n        margin-right: 22px;   \/\/每一个星星dom都有外边距\n        background-size: 20px 20px;\n        \x26amp;:last-child {  \/\/最后一个的外边距就是0\n          margin-right: 0;\n        }\n        \x26amp;.on {  \/\/全星状态的class\n          @include bg-img(\x27star48_on\x27)\n        }\n        \x26amp;.half {  \/\/半星状态的class\n          @include bg-img(\x27star48_half\x27)\n        }\n        \x26amp;.off {   \/\/无星状态的class\n          @include bg-img(\x27star48_off\x27)\n        }\n      }\n    }\n    \x26amp;.star-36 {\n      .star-item {\n        width: 15px;\n        height: 15px;\n        margin-right: 6px;\n        background-size: 15px 15px;\n        \x26amp;:last-child {\n          margin-right: 0;\n        }\n        \x26amp;.on {\n          @include bg-img(\x27star36_on\x27)\n        }\n        \x26amp;.half {\n          @include bg-img(\x27star36_half\x27)\n        }\n        \x26amp;.off {\n          @include bg-img(\x27star36_off\x27)\n        }\n      }\n    }\n    \x26amp;.star-24 {\n      .star-item {\n        width: 10px;\n        height: 10px;\n        margin-right: 3px;\n        background-size: 10px 10px;\n        \x26amp;:last-child {\n          margin-right: 0;\n        }\n        \x26amp;.on {\n          @include bg-img(\x27star24_on\x27)\n        }\n        \x26amp;.half {\n          @include bg-img(\x27star24_half\x27)\n        }\n        \x26amp;.off {\n          @include bg-img(\x27star24_off\x27)\n        }\n      }\n    }\n  }\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ruby\x22\x3e\x3ccode\x3e\x26lt;style lang=\x3cspan class=\x22hljs-string\x22\x3e\x22scss\x22\x3c\/span\x3e rel=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\/scss\x22\x3c\/span\x3e\x26gt;\n  @import \x3cspan class=\x22hljs-string\x22\x3e\x22..\/..\/common\/css\/mixin\x22\x3c\/span\x3e;\n\n  .star {\n    font-\x3cspan class=\x22hljs-symbol\x22\x3esize:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    .star-item {\n      \x3cspan class=\x22hljs-symbol\x22\x3edisplay:\x3c\/span\x3e inline-block;\n      background-\x3cspan class=\x22hljs-symbol\x22\x3erepeat:\x3c\/span\x3e no-repeat;\n    }\n    \x26amp;.star-\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e {  \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e尺寸的星星\n      .star-item {  \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e每一个星星的基本css信息\n        \x3cspan class=\x22hljs-symbol\x22\x3ewidth:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx;\n        \x3cspan class=\x22hljs-symbol\x22\x3eheight:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx;\n        margin-\x3cspan class=\x22hljs-symbol\x22\x3eright:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3epx;   \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e每一个星星dom都有外边距\n        background-\x3cspan class=\x22hljs-symbol\x22\x3esize:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx;\n        \x26amp;\x3cspan class=\x22hljs-symbol\x22\x3e:last-child\x3c\/span\x3e {  \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e最后一个的外边距就是\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n          margin-\x3cspan class=\x22hljs-symbol\x22\x3eright:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\n        \x26amp;.on {  \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e全星状态的\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star48_on\x27\x3c\/span\x3e)\n        }\n        \x26amp;.half {  \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e半星状态的\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star48_half\x27\x3c\/span\x3e)\n        }\n        \x26amp;.off {   \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e无星状态的\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star48_off\x27\x3c\/span\x3e)\n        }\n      }\n    }\n    \x26amp;.star-\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e {\n      .star-item {\n        \x3cspan class=\x22hljs-symbol\x22\x3ewidth:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx;\n        \x3cspan class=\x22hljs-symbol\x22\x3eheight:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx;\n        margin-\x3cspan class=\x22hljs-symbol\x22\x3eright:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3epx;\n        background-\x3cspan class=\x22hljs-symbol\x22\x3esize:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx;\n        \x26amp;\x3cspan class=\x22hljs-symbol\x22\x3e:last-child\x3c\/span\x3e {\n          margin-\x3cspan class=\x22hljs-symbol\x22\x3eright:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\n        \x26amp;.on {\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star36_on\x27\x3c\/span\x3e)\n        }\n        \x26amp;.half {\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star36_half\x27\x3c\/span\x3e)\n        }\n        \x26amp;.off {\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star36_off\x27\x3c\/span\x3e)\n        }\n      }\n    }\n    \x26amp;.star-\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e {\n      .star-item {\n        \x3cspan class=\x22hljs-symbol\x22\x3ewidth:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx;\n        \x3cspan class=\x22hljs-symbol\x22\x3eheight:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx;\n        margin-\x3cspan class=\x22hljs-symbol\x22\x3eright:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3epx;\n        background-\x3cspan class=\x22hljs-symbol\x22\x3esize:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx;\n        \x26amp;\x3cspan class=\x22hljs-symbol\x22\x3e:last-child\x3c\/span\x3e {\n          margin-\x3cspan class=\x22hljs-symbol\x22\x3eright:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\n        \x26amp;.on {\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star24_on\x27\x3c\/span\x3e)\n        }\n        \x26amp;.half {\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star24_half\x27\x3c\/span\x3e)\n        }\n        \x26amp;.off {\n          @include bg-img(\x3cspan class=\x22hljs-string\x22\x3e\x27star24_off\x27\x3c\/span\x3e)\n        }\n      }\n    }\n  }\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/style\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader26\x22\x3e3、ratingselect组件\x3c\/h3\x3e\n\x3ch4\x3ehtml代码\x3c\/h4\x3e\n\x3cblockquote\x3e备注:父组件food.vue传入的数据\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \x3cratingselect @select=\x26quot;selectRating\x26quot; @toggle=\x26quot;toggleContent\x26quot; :selectType=\x26quot;selectType\x26quot;\n                        :onlyContent=\x26quot;onlyContent\x26quot; :desc=\x26quot;desc\x26quot;\n                        :ratings=\x26quot;food.ratings\x26quot;\x3e\x3c\/ratingselect\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e    \x26lt;ratingselect \x3cspan class=\x22hljs-variable\x22\x3e@select\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectRating\x22\x3c\/span\x3e \x3cspan class=\x22hljs-variable\x22\x3e@toggle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22toggleContent\x22\x3c\/span\x3e \x3cspan class=\x22hljs-symbol\x22\x3e:selectType=\x3cspan class=\x22hljs-string\x22\x3e\x22selectType\x22\x3c\/span\x3e\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-symbol\x22\x3e:onlyContent=\x3cspan class=\x22hljs-string\x22\x3e\x22onlyContent\x22\x3c\/span\x3e\x3c\/span\x3e \x3cspan class=\x22hljs-symbol\x22\x3e:desc=\x3cspan class=\x22hljs-string\x22\x3e\x22desc\x22\x3c\/span\x3e\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-symbol\x22\x3e:ratings=\x3cspan class=\x22hljs-string\x22\x3e\x22food.ratings\x22\x3c\/span\x3e\x26gt;\x26lt;\/ratingselect\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e方法有：\x3ccode\x3e@select=\x22selectRating\x22 @toggle=\x22toggleContent\x22\x3c\/code\x3e，通过将字组件的方法和父组件的方法进行关联，这样就能够实现跨组件通讯和操作\x3c\/li\x3e\n\x3cli\x3e属性有：\x3ccode\x3e:selectType=\x22selectType\x22:onlyContent=\x22onlyContent\x22 :desc=\x22desc\x22:ratings=\x22food.ratings\x22\x3c\/code\x3e，这是通过pros传入到子组件的属性，将父组件的数据传到子组件里面，也带有一种通过父组件来初始化子组件属性的意思.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \x3cdiv class=\x26quot;ratingselect\x26quot;\x3e\n  \x3c!--有使用一个border-1px的mixin--\x3e\n    \x3cdiv class=\x26quot;rating-type border-1px\x26quot;\x3e\n    \x3c!--绑定一个select方法控制切换,绑定class控制切换之后的按钮样式显示--\x3e\n      \x3cspan @click=\x26quot;select(2,$event)\x26quot; class=\x26quot;block positive\x26quot; :class=\x26quot;{\x27active\x27:selectType ===2}\x26quot;\x3e\x22{{\x22desc.all\x22}}\x22\x3cspan\n        class=\x26quot;count\x26quot;\x3e\x22{{\x22ratings.length\x22}}\x22\x3c\/span\x3e\x3c\/span\x3e\n      \x3cspan @click=\x26quot;select(0,$event)\x26quot; class=\x26quot;block positive\x26quot; :class=\x26quot;{\x27active\x27:selectType ===0}\x26quot;\x3e\x22{{\x22desc.positive\x22}}\x22\x3cspan\n        class=\x26quot;count\x26quot;\x3e\x22{{\x22positives.length\x22}}\x22\x3c\/span\x3e\x3c\/span\x3e\n      \x3cspan @click=\x26quot;select(1,$event)\x26quot; class=\x26quot;block negative\x26quot; :class=\x26quot;{\x27active\x27:selectType ===1}\x26quot;\x3e\x22{{\x22desc.negative\x22}}\x22\x3cspan\n        class=\x26quot;count\x26quot;\x3e\x22{{\x22negatives.length\x22}}\x22\x3c\/span\x3e\x3c\/span\x3e\n    \x3c\/div\x3e\n    \x3c!--绑定一个toggleContent方法来控制有内容和无内容的显示--\x3e\n    \x3cdiv @click=\x26quot;toggleContent\x26quot; class=\x26quot;switch\x26quot; :class=\x26quot;{\x27on\x27:onlyContent}\x26quot;\x3e\n      \x3cspan class=\x26quot;icon-check_circle\x26quot;\x3e\x3c\/span\x3e\n      \x3cspan class=\x26quot;text\x26quot;\x3e只看有内容的评价\x3c\/span\x3e\n    \x3c\/div\x3e\n  \x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ratingselect\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--有使用一个border-1px的mixin--\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22rating-type border-1px\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--绑定一个select方法控制切换,绑定class控制切换之后的按钮样式显示--\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22select(2,$event)\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22block positive\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\x27active\x27:selectType ===2}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22desc.all}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22count\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22ratings.length}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22select(0,$event)\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22block positive\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\x27active\x27:selectType ===0}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22desc.positive}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22count\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22positives.length}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22select(1,$event)\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22block negative\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\x27active\x27:selectType ===1}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22desc.negative}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22count\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22negatives.length}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--绑定一个toggleContent方法来控制有内容和无内容的显示--\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22toggleContent\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22switch\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\x27on\x27:onlyContent}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22icon-check_circle\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e只看有内容的评价\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e@click=\x22select(2,$event)\x22\x3c\/code\x3e  select方法传入类型和事件,然后在methods里面调用父组件的方法,实现子组件控制父组件的目的\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e:class=\x22{\x27active\x27:selectType ===2}\x22\x3c\/code\x3e  根据类型来确定显示的class,实现不同类型显示不同样式的目的\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3epositives.length\x3c\/code\x3e 使用计算属性自动计算类型数组的长度,用来显示不同类型的数量\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3e@click=\x22toggleContent\x22 :class=\x22{\x27on\x27:onlyContent}\x22\x3c\/code\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3etoggleContent\x3c\/code\x3e 控制是否展示有内容的rate,也是在methods里面调用父组件的方法,实现子组件控制父组件的目的\x3c\/li\x3e\n\x3cli\x3e绑定\x3ccode\x3eon\x3c\/code\x3e这个class来控制该按钮的样式\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3eJS代码\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  const POSITIVE = 0; \/\/设置显示常量\n  const NEGATIVE = 1;\n  const ALL = 2;\n\n  export default{\n    props: {\n      ratings: { \/\/传入ratings数组,跟food.ratings关联\n        type: Array,\n        default(){\n          return [];\n        }\n      },\n      selectType: { \/\/跟selectType关联,通过在父组件里面设置这3个值来实现控制子组件的操作\n        type: Number,\n        default: ALL\n      },\n      onlyContent: { \/\/跟onlyContent关联\n        type: Boolean,\n        default: true\n      },\n      desc: { \/\/跟desc关联\n        type: Object,\n        default(){\n          return {\n            all: \x27全部\x27,\n            positive: \x27满意\x27,\n            negative: \x27不满意\x27\n          }\n        }\n      }\n    },\n    computed: {\n      positives(){ \/\/自动过滤rateType(正面的rate)\n        return this.ratings.filter((rating) =\x3e { \/\/js的filter函数会返回一个处理后的(为true)结果的结果数组\n          return rating.rateType === POSITIVE;\n        })\n      },\n      negatives(){ \/\/自动过滤rateType(反面的rate)\n        return this.ratings.filter((rating) =\x3e {\n          return rating.rateType === NEGATIVE;\n        })\n      }\n    },\n    methods: {\n      select(type, event) { \/\/ 选择rateType并且通知父组件\n        if (!event._constructed) {\n          return;\n        }\n        this.$emit(\x27select\x27, type); \/\/ 派发事件，父组件监听此事件\n      },\n      toggleContent(event) { \/\/ 选择是否显示有内容的rate,并且通知父组件\n        if (!event._constructed) {\n          return;\n        }\n        this.$emit(\x27toggle\x27);\n      }\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e POSITIVE = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置显示常量\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e NEGATIVE = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ALL = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e{\n    props: {\n      ratings: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/传入ratings数组,跟food.ratings关联\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e(){\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [];\n        }\n      },\n      selectType: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/跟selectType关联,通过在父组件里面设置这3个值来实现控制子组件的操作\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e: ALL\n      },\n      onlyContent: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/跟onlyContent关联\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eBoolean\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n      },\n      desc: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/跟desc关联\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e(){\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n            all: \x3cspan class=\x22hljs-string\x22\x3e\x27全部\x27\x3c\/span\x3e,\n            positive: \x3cspan class=\x22hljs-string\x22\x3e\x27满意\x27\x3c\/span\x3e,\n            negative: \x3cspan class=\x22hljs-string\x22\x3e\x27不满意\x27\x3c\/span\x3e\n          }\n        }\n      }\n    },\n    computed: {\n      positives(){ \x3cspan class=\x22hljs-comment\x22\x3e\/\/自动过滤rateType(正面的rate)\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ratings.filter(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3erating\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/js的filter函数会返回一个处理后的(为true)结果的结果数组\x3c\/span\x3e\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e rating.rateType === POSITIVE;\n        })\n      },\n      negatives(){ \x3cspan class=\x22hljs-comment\x22\x3e\/\/自动过滤rateType(反面的rate)\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.ratings.filter(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3erating\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e rating.rateType === NEGATIVE;\n        })\n      }\n    },\n    methods: {\n      select(\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e, event) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 选择rateType并且通知父组件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!event._constructed) {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27select\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 派发事件，父组件监听此事件\x3c\/span\x3e\n      },\n      toggleContent(event) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 选择是否显示有内容的rate,并且通知父组件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!event._constructed) {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27toggle\x27\x3c\/span\x3e);\n      }\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader27\x22\x3e4、商品区域goods.vue\x3c\/h3\x3e\n\x3ch4\x3eHTML\x3c\/h4\x3e\n\x3col\x3e\n\x3cli\x3ev-for使用已经很常见了,不过这里需要了解，vue1和2有区别,现在是用vue2,所以index变量传递会变成现在这种模式 \x3ccode\x3e(item,index) in goods\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3evue传递原生事件使用$event\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3e:class=\x22{\x27current\x27:currentIndex === index}\x22\x3c\/code\x3e 是vue的绑定class的使用方法，通过绑定一个class变量来直接操作，并且这里的逻辑会跟js代码里面对应\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e通过currentIndex和index做对比，来确认是否添加current类，他们之间的对比关系也就是 menu 区域和 foods 区域的显示区域的对比关系\x3c\/li\x3e\n\x3cli\x3e通过添加current类来实现当前页面的区域的样式变化\x3c\/li\x3e\n\x3cli\x3ecurrentIndex是一个计算属性，可以随时变化并且直接反应到dom上(看js里面逻辑)\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3ev-show\x3c\/code\x3e 和 \x3ccode\x3ev-if\x3c\/code\x3e 的区别官网已经说过\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3ev-if 是“真正的”条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。\x3c\/li\x3e\n\x3cli\x3ev-if 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e一般来说， v-if 有更高的切换开销，而 v-show 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 v-show 较好；如果在运行时条件不太可能改变，则使用 v-if 较好。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3e$refs\x3c\/code\x3e 的使用是vue操作dom的一种方式:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3eref 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 $refs 对象上。\x3c\/li\x3e\n\x3cli\x3e如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素; 如果用在子组件上，引用就指向组件实例:\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3cli\x3ehook钩子类的使用,需要结合js里面的语法来看,这个类只是用来操作,不会产生dom的渲染,方便js控制清晰.\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch4\x3eJS\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e\x26lt;food @add=\x22addFood\x22 :food=\x22selectedFood\x22 ref=\x22food\x22\x26gt;\x3c\/code\x3e 是通过selectFood方法写入到vue实例里面,然后传给子组件food\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x26lt;shopcart ref=\x22shopcart\x22 :selectFoods=\x22selectFoods\x22\x3c\/code\x3e  这里selectFoods被自动添加了count属性,是为了让购物车更加简单的计算已选择的food\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e这里最关键的是menu和food两个区域的对应处理:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e在vue实例生命周期的开始created分别加载\x3ccode\x3e_initScroll\x3c\/code\x3e和\x3ccode\x3e_calculateHeight\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e通过 \x3ccode\x3e_calculateHeight\x3c\/code\x3e 计算foods内部每一个块的高度,组成一个数组listHeight\x3c\/li\x3e\n\x3cli\x3e在 \x3ccode\x3e_initScroll\x3c\/code\x3e 里面,设置了bscroll插件的一个监听事件scroll,将food区域当前的滚动到的位置的y坐标设置到一个vue实例属性 \x3ccode\x3escrollY this.scrollY = Math.abs(Math.round(pos.y));\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e通过计算属性currentIndex,获取到food滚动区域对应的menu区域的子块的索引,然后通过设置一个class来做样式切换变化\x3ccode\x3e:class=\x22{\x27current\x27:currentIndex === index}\x3c\/code\x3e，实现联动\x3c\/li\x3e\n\x3cli\x3e另外当点击menu 区域的时候,会触发selectMenu事件,也会根据点击到的menu子块的索引然后去触发food区域滚动到对应的高度区块区间\x3ccode\x3ethis.foodsScroll.scrollToElement(el, 300);\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e这样完成整个对应.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e抛物线小球动画横跨多个vue组件(也可以说是横跨了多个DOM)\x3c\/li\x3e\n\x3cli\x3ebetter-scroll需要安装,npm安装,具体参看better-scroll官网\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e关于在\x3ccode\x3eselectMenu\x3c\/code\x3e中点击，在pc界面会出现两次事件,在移动端就只出现一次事件的问题:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e原因:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3ebsScrooler会监听事件(例如touchmove,click之类),并且阻止默认事件(prevent stop),并且他只会监听移动端的,pc端的没有监听\x3c\/li\x3e\n\x3cli\x3e在pc页面上 bsScroller也派发了一次click事件,原生也派发了一次click事件\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e解决:\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e针对bsScroole的事件,有\x3ccode\x3e_constructed: true\x3c\/code\x3e，所以做处理,return 掉非bsScroll的事件\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader28\x22\x3eSCSS 预处理器\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader29\x22\x3ecss预处理器\x3c\/h3\x3e\n\x3cp\x3eindex.scss是SCSS文件的入口文件，里面使用 @import 引入各种SCSS文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@import \x26quot;.\/base\x26quot;;\n@import \x26quot;.\/mixin\x26quot;;\n@import \x26quot;.\/icon.css\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e@\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/base\x22\x3c\/span\x3e;\n@\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/mixin\x22\x3c\/span\x3e;\n@\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/icon.css\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在入口文件main.js中全局引用index.scss\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import \x27common\/css\/index.scss\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x3cspan class=\x22hljs-meta-keyword\x22\x3eimport\x3c\/span\x3e \x27common\/css\/index.scss\x27;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader30\x22\x3e关于ESlint\x3c\/h2\x3e\n\x3cp\x3eeslint 是一个js代码风格检查器，配合vue-cli脚手架中的热更新，可以很方便的定位和提示错误。在公司多人协作开发时可以确保代码风格保持一致，可以很方便的阅读他人的代码。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader31\x22\x3e手机测试网页技巧\x3c\/h2\x3e\n\x3cp\x3e将 localhost 换成自己的ip (Windows在命令行执行ipconfig查看，mac执行ifconfig查看)\x3c\/p\x3e\n\x3cp\x3e然后复制地址栏地址，进入草料二维码，然后生成二维码，然后用手机扫一扫就可以查看了，前提是，你手机和电脑必须在同一个局域网。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader32\x22\x3e项目运行\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22克隆项目到本地\ngit clone git@github.com:nanyang24\/eleme-vue.git\n\n安装依赖\nnpm install\n\n本地开发，开启服务器，浏览器访问http:\/\/localhost:8080\nnpm run dev\n\n构建生产\nnpm run build\n\n运行打包文件\nnode prod.server.js \n\n会看到 Listening at http:\/\/localhost:9000 在浏览器中打开即可\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e克隆项目到本地\ngit clone git@github\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e:nanyang24\/eleme-vue\x3cspan class=\x22hljs-selector-class\x22\x3e.git\x3c\/span\x3e\n\n安装依赖\nnpm install\n\n本地开发，开启服务器，浏览器访问http:\x3cspan class=\x22hljs-comment\x22\x3e\/\/localhost:8080\x3c\/span\x3e\nnpm run dev\n\n构建生产\nnpm run build\n\n运行打包文件\nnode prod\x3cspan class=\x22hljs-selector-class\x22\x3e.server\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e \n\n会看到 Listening at http:\x3cspan class=\x22hljs-comment\x22\x3e\/\/localhost:9000 在浏览器中打开即可\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader33\x22\x3e学习参考\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3eVue2.0 官网： \x3ca href=\x22https:\/\/vuefe.cn\/v2\/guide\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/vuefe.cn\/v2\/guide\/\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3evue-cli：\x3ca href=\x22https:\/\/github.com\/vuejs\/vue-cli\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/vuejs\/vue-cli\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3evue-router 2.0文档：\x3ca href=\x22https:\/\/router.vuejs.org\/zh-cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/router.vuejs.org\/zh-cn\/\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3eaxios：\x3ca href=\x22https:\/\/github.com\/axios\/axios\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/axios\/axios\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3ewebpack官网：\x3ca href=\x22https:\/\/webpack.js.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/webpack.js.org\/\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3ebetter-scroll 插件使用：\x3ca href=\x22https:\/\/github.com\/ustbhuangyi\/better-scroll\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/ustbhuangy...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3eSCSS 预处理器： \x3ca href=\x22https:\/\/www.sass.hk\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.sass.hk\/\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3eESlint 代码风格检查：\x3ca href=\x22http:\/\/eslint.org\/docs\/rules\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/eslint.org\/docs\/rules\/\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3eES6 入门: \x3ca href=\x22http:\/\/es6.ruanyifeng.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/es6.ruanyifeng.com\/\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3eSticky footers \x3ca href=\x22http:\/\/www.w3cplus.com\/css3\/css-secrets\/sticky-footers.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.w3cplus.com\/css3\/c...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3eFlex 弹性布局: \x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2015\/07\/flex-grammar.html?utm_source=tuicool\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.ruanyifeng.com\/blo...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e设备像素比：\x3ca href=\x22http:\/\/www.zhangxinxu.com\/wordpress\/2012\/08\/window-devicepixelratio\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.zhangxinxu.com\/wor...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e贝塞尔曲线生成器：\x3ca href=\x22http:\/\/cubic-bezier.com\/#.17,.67,.83,.67\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/cubic-bezier.com\/#.17,...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3elocalStorage 本地存储: \x3ca href=\x22http:\/\/www.cnblogs.com\/st-leslie\/p\/5617130.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.cnblogs.com\/st-les...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Vue仿饿了么app项目总结</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013336235">https://segmentfault.com/a/1190000013336235</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/h38iwy8ilyg/" target="_blank">https://alili.tech/archive/h38iwy8ilyg/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>