<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="微信小程序：截图组件welCropper，实现原理及其使用"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>微信小程序：截图组件welCropper，实现原理及其使用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/hfcycbgu0op/",
				"appid": "1613049289050283", 
				"title": "微信小程序：截图组件welCropper，实现原理及其使用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-30T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/zymw4vllds/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rvr6wzop5af/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&text=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&text=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&is_video=false&description=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhfcycbgu0op%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%9a%e6%88%aa%e5%9b%be%e7%bb%84%e4%bb%b6welCropper%ef%bc%8c%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%8f%8a%e5%85%b6%e4%bd%bf%e7%94%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">微信小程序：截图组件welCropper，实现原理及其使用</h1><div class="meta"><div class="postdate"><time datetime="2018-12-30" itemprop="datePublished">2018-12-30</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-2c383e1129188a2a.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/400\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-2c383e1129188a2a.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/400\x22 alt=\x22封面\x22 title=\x22封面\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-32d08cf020285001.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-32d08cf020285001.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22截图\x22 title=\x22截图\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e最近做项目的时候，需要做一个截图功能。用了一个别人写的截图工具，发现截出的\x3cstrong\x3e图质量下降了\x3c\/strong\x3e，但是我们图片要用来做识别, 需要保证截出的图质量不下降。而且也不支持通过拖动来调整截图框的大小。所以这个截图工具无法满足需求。因为所以，就自己动手写了一个截图组件。\x3c\/p\x3e\n\x3cp\x3e下面介绍一下实现原理和使用方法。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e实现原理\x3c\/h2\x3e\n\x3cp\x3e组件\x3ccode\x3ewxml\x3c\/code\x3e的层次结构图如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-e8bad56fc67e707d.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/700\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-e8bad56fc67e707d.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/700\x22 alt=\x22hierarchy.png\x22 title=\x22hierarchy.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eoriginal canvas\x3c\/code\x3e 用来绘制原图大小的图片，这样能保证截图后的质量不会下降，这个canvas是隐藏的。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3emovable-area\x3c\/code\x3e是\x3ccode\x3emovable-view\x3c\/code\x3e的容器，是官方提供的拖拽移动组件，用来移动截取框的四个角。这个组件支持多个点同时移动。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3escale canvas\x3c\/code\x3e用来绘制适应屏幕比例大小的图片（aspectFit），因为通常原图大小是超过屏幕长宽的。（一开始白线框和图片都在这一层，但后来发现每次移动都要绘制一次图片，这样会造成卡顿、性能下降。所以就想到通过增加一个\x3ccode\x3emove canvas\x3c\/code\x3e来专门绘制白线框来降低绘制图片带来的资源消耗，因为图片是静止的，不需要重复绘制。）\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3emove canvas\x3c\/code\x3e是根据四个\x3ccode\x3emovable-view\x3c\/code\x3e的位置绘制出截图框。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e最后截图，通过四个点的位置计算出截图框的位置，然后放大对应原图大小的位置，得到在原图中的\x3ccode\x3e(x, y, width, height)\x3c\/code\x3e，最后通过官方提供的\x3ccode\x3ecanvas\x3c\/code\x3e接口截图。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22wx.canvasToTempFilePath({\n  x: x,\n  y: y,\n  width: w,\n  height: h,\n  destWidth: w,\n  destHeight: h,\n  canvasId: \x27originalCanvas\x27,\n  success: function (res) {\n  }\n)}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ewx\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.canvasToTempFilePath\x3c\/span\x3e({\n  \x3cspan class=\x22hljs-attribute\x22\x3ex\x3c\/span\x3e: x,\n  \x3cspan class=\x22hljs-attribute\x22\x3ey\x3c\/span\x3e: y,\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: w,\n  \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: h,\n  \x3cspan class=\x22hljs-attribute\x22\x3edestWidth\x3c\/span\x3e: w,\n  \x3cspan class=\x22hljs-attribute\x22\x3edestHeight\x3c\/span\x3e: h,\n  \x3cspan class=\x22hljs-attribute\x22\x3ecanvasId\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27originalCanvas\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attribute\x22\x3esuccess\x3c\/span\x3e: function (res) {\n  }\n)}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e旋转原理\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-77c109cfd849e99b.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/600\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-77c109cfd849e99b.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/600\x22 alt=\x22设置旋转圆点\x22 title=\x22设置旋转圆点\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-8b6ee48d13920bd4.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-8b6ee48d13920bd4.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 alt=\x22旋转\x22 title=\x22旋转\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e特点\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e保证截图质量不会被压缩（也可以选择压缩图）\x3c\/li\x3e\n\x3cli\x3e截图框能够通过拖拽四个角来调整选区大小\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e使用\x3c\/h2\x3e\n\x3cp\x3e假设我们的应用文件结构如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n.\/\n├── app.js\n├── app.json\n├── app.wxss\n├── pages\n│\x26nbsp;\x26nbsp; └── index\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; ├── index.js\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; ├── index.json\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; ├── index.wxml\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; └── index.wxss\n└── welCropper\n    ├── welCropper.js\n    ├── welCropper.wxml\n    └── welCropper.wxss\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\n.\/\n├── app\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n├── app\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e\n├── app\x3cspan class=\x22hljs-selector-class\x22\x3e.wxss\x3c\/span\x3e\n├── pages\n│\x26nbsp;\x26nbsp; └── index\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; ├── index\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; ├── index\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; ├── index\x3cspan class=\x22hljs-selector-class\x22\x3e.wxml\x3c\/span\x3e\n│\x26nbsp;\x26nbsp;  \x26nbsp;\x26nbsp; └── index\x3cspan class=\x22hljs-selector-class\x22\x3e.wxss\x3c\/span\x3e\n└── welCropper\n    ├── welCropper\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n    ├── welCropper\x3cspan class=\x22hljs-selector-class\x22\x3e.wxml\x3c\/span\x3e\n    └── welCropper.wxss\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用组件时，需要传入\x3ccode\x3ecropperData\x3c\/code\x3e、\x3ccode\x3ecropperMovableItems\x3c\/code\x3e、\x3ccode\x3ecropperChangableData\x3c\/code\x3e，因为数据和事件都是绑定在\x3ccode\x3ePage\x3c\/code\x3e上的，所以要避免使用组件里面已经被占用的命名。\x3cbr\x3e\x3cem\x3e\x3cstrong\x3e\/pages\/index\/index.wxml\x3c\/strong\x3e\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- 引入组件 --\x3e\n\x3cimport src=\x26quot;\/welCropper\/welCropper.wxml\x26quot; \/\x3e\n\n\x3c!-- 调用组件 --\x3e\n\x3ctemplate is=\x26quot;welCropper\x26quot; data=\x26quot;\x22{{\x22data:cropperData, cropperMovableItems:cropperMovableItems, cropperChangableData:cropperChangableData\x22}}\x22\x26quot;\x3e\x3c\/template\x3e\n\n\x3c!-- 用于选择图片，传入cropper中 --\x3e\n\x3cbutton bindtap=\x27selectTap\x27\x3eselect image\x3c\/button\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 引入组件 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/welCropper\/welCropper.wxml\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 调用组件 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eis\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22welCropper\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22data:cropperData, cropperMovableItems:cropperMovableItems, cropperChangableData:cropperChangableData\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 用于选择图片，传入cropper中 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ebindtap\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27selectTap\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3eselect image\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3e\x3cstrong\x3e\/pages\/index\/index.js\x3c\/strong\x3e\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 获取显示区域长宽\nconst device = wx.getSystemInfoSync()\nconst W = device.windowWidth\nconst H = device.windowHeight - 50\n\nlet cropper = require(\x27..\/..\/welCropper\/welCropper.js\x27);\n\nconsole.log(device)\n\nPage({\n    data: {\n    },\n    onLoad: function () {\n        var that = this\n        \/\/ 初始化组件数据和绑定事件\n        cropper.init.apply(that, [W, H]);\n    },\n    selectTap() {\n        var that = this\n\n        wx.chooseImage({\n            count: 1, \/\/ 默认9\n            sizeType: [\x27original\x27, \x27compressed\x27], \/\/ 可以指定是原图还是压缩图，默认二者都有\n            sourceType: [\x27album\x27, \x27camera\x27], \/\/ 可以指定来源是相册还是相机，默认二者都有\n            success(res) {\n                const tempFilePath = res.tempFilePaths[0]\n                console.log(tempFilePath)\n                \n                \/\/ 将选取图片传入cropper，并显示cropper\n                \/\/ mode=rectangle 返回图片path\n                \/\/ mode=quadrangle 返回4个点的坐标，并不返回图片。这个模式需要配合后台使用，用于perspective correction\n                let modes = [\x26quot;rectangle\x26quot;, \x26quot;quadrangle\x26quot;]\n                let mode = modes[0]   \/\/rectangle, quadrangle\n                that.showCropper({\n                    src: tempFilePath,\n                    mode: mode,\n                    sizeType: [\x27original\x27, \x27compressed\x27],   \/\/\x27original\x27(default) | \x27compressed\x27\n                    callback: (res) =\x3e {\n                        if (mode == \x27rectangle\x27) {\n                            console.log(\x26quot;crop callback:\x26quot; \x2b res)\n                            wx.previewImage({\n                                current: \x27\x27,\n                                urls: [res]\n                            })\n                        }\n                        else {\n                            wx.showModal({\n                                title: \x27\x27,\n                                content: JSON.stringify(res),\n                            })\n\n                            console.log(res)\n                        }\n\n                        \/\/ that.hideCropper() \/\/隐藏，我在项目里是点击完成就上传，所以如果回调是上传，那么隐藏掉就行了，不用previewImage\n                    }\n                })\n            }\n        })\n    }\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取显示区域长宽\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e device = wx.getSystemInfoSync()\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e W = device.windowWidth\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e H = device.windowHeight - \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e cropper = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/welCropper\/welCropper.js\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(device)\n\nPage({\n    \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eonLoad\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e that = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化组件数据和绑定事件\x3c\/span\x3e\n        cropper.init.apply(that, [W, H]);\n    },\n    selectTap() {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e that = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e\n\n        wx.chooseImage({\n            \x3cspan class=\x22hljs-attr\x22\x3ecount\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 默认9\x3c\/span\x3e\n            sizeType: [\x3cspan class=\x22hljs-string\x22\x3e\x27original\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27compressed\x27\x3c\/span\x3e], \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可以指定是原图还是压缩图，默认二者都有\x3c\/span\x3e\n            sourceType: [\x3cspan class=\x22hljs-string\x22\x3e\x27album\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27camera\x27\x3c\/span\x3e], \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可以指定来源是相册还是相机，默认二者都有\x3c\/span\x3e\n            success(res) {\n                \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e tempFilePath = res.tempFilePaths[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(tempFilePath)\n                \n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将选取图片传入cropper，并显示cropper\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ mode=rectangle 返回图片path\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ mode=quadrangle 返回4个点的坐标，并不返回图片。这个模式需要配合后台使用，用于perspective correction\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e modes = [\x3cspan class=\x22hljs-string\x22\x3e\x22rectangle\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22quadrangle\x22\x3c\/span\x3e]\n                \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e mode = modes[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]   \x3cspan class=\x22hljs-comment\x22\x3e\/\/rectangle, quadrangle\x3c\/span\x3e\n                that.showCropper({\n                    \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e: tempFilePath,\n                    \x3cspan class=\x22hljs-attr\x22\x3emode\x3c\/span\x3e: mode,\n                    \x3cspan class=\x22hljs-attr\x22\x3esizeType\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27original\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27compressed\x27\x3c\/span\x3e],   \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x27original\x27(default) | \x27compressed\x27\x3c\/span\x3e\n                    callback: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eres\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n                        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (mode == \x3cspan class=\x22hljs-string\x22\x3e\x27rectangle\x27\x3c\/span\x3e) {\n                            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22crop callback:\x22\x3c\/span\x3e \x2b res)\n                            wx.previewImage({\n                                \x3cspan class=\x22hljs-attr\x22\x3ecurrent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n                                \x3cspan class=\x22hljs-attr\x22\x3eurls\x3c\/span\x3e: [res]\n                            })\n                        }\n                        \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n                            wx.showModal({\n                                \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n                                \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(res),\n                            })\n\n                            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(res)\n                        }\n\n                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ that.hideCropper() \/\/隐藏，我在项目里是点击完成就上传，所以如果回调是上传，那么隐藏掉就行了，不用previewImage\x3c\/span\x3e\n                    }\n                })\n            }\n        })\n    }\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后引入组件的样式\x3cbr\x3e\x3cem\x3e\x3cstrong\x3e\/pages\/index\/index.wxss\x3c\/strong\x3e\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@import \x26quot;\/welCropper\/welCropper.wxss\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e@\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22\/welCropper\/welCropper.wxss\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e注意\x3c\/h2\x3e\n\x3cul\x3e\x3cli\x3e因为\x3ccode\x3ewx.canvasToTempFilePath\x3c\/code\x3e输出的是\x3ccode\x3e.png\x3c\/code\x3e图片，截出来的图有可能远远大于原图（比如3通道图变成4通道的图）\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e源代码\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/tomfriwel\/welCropper\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub:tomfriwel\/welCropper\x3c\/a\x3e，将\x3ccode\x3ewelCropper\x3c\/code\x3e文件夹复制到自己项目，引入调用就行了。\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/callmesoul\/wepy-corpper\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewepy 版本：github: callmesoul\/wepy-corpper\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e\x3cstrong\x3e\x3cem\x3e如果出现什么bug、问题或者建议可以告诉我，我会尽量改进。\x3c\/em\x3e\x3c\/strong\x3e\x3c\/h4\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e效果图\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-bedf30dc0d9ca735.gif?imageMogr2\/auto-orient\/strip\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-bedf30dc0d9ca735.gif?imageMogr2\/auto-orient\/strip\x22 alt=\x22效果动图mode=rectangle\x22 title=\x22效果动图mode=rectangle\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-b24ca97a376501aa.gif?imageMogr2\/auto-orient\/strip\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-b24ca97a376501aa.gif?imageMogr2\/auto-orient\/strip\x22 alt=\x22效果动图mode=quadrangle\x22 title=\x22效果动图mode=quadrangle\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-160c32c03e14a938.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-160c32c03e14a938.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 alt=\x22效果图mode=rectangle\x22 title=\x22效果图mode=rectangle\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e如果将\x3ccode\x3emovable-view\x3c\/code\x3e显示出来是这样的：\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-06e62d35b74b0f04.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-06e62d35b74b0f04.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 alt=\x22显示movable-view后\x22 title=\x22显示movable-view后\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/2158535-7a45c633faa6e908.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/2158535-7a45c633faa6e908.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/300\x22 alt=\x22mode=quadrangle\x22 title=\x22mode=quadrangle\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>微信小程序：截图组件welCropper，实现原理及其使用</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011307688">https://segmentfault.com/a/1190000011307688</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/hfcycbgu0op/" target="_blank">https://alili.tech/archive/hfcycbgu0op/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>