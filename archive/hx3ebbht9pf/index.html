<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="微信小程序 使用filter过滤器几种方式"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>微信小程序 使用filter过滤器几种方式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/hx3ebbht9pf/",
				"appid": "1613049289050283", 
				"title": "微信小程序 使用filter过滤器几种方式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-24T02:30:06"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/jhctflrvqva/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/novhac91wy/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&text=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&text=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&is_video=false&description=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fhx3ebbht9pf%2f&title=%e5%be%ae%e4%bf%a1%e5%b0%8f%e7%a8%8b%e5%ba%8f%20%e4%bd%bf%e7%94%a8filter%e8%bf%87%e6%bb%a4%e5%99%a8%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">微信小程序 使用filter过滤器几种方式</h1><div class="meta"><div class="postdate"><time datetime="2018-12-24" itemprop="datePublished">2018-12-24</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/326507-e81e06b2cb7187e9.jpeg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/326507-e81e06b2cb7187e9.jpeg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22管道.jpeg\x22 title=\x22管道.jpeg\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e由于微信小程序 技术生态比较闭合，导致很多 现代前端框架很多积累出的成果都没有实现(可能未来会逐一实现).  用惯了现代 再耍小程序 总感觉很不顺手. \x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e需要结果的请直接看最后的WXS\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3eView Filter\x3c\/h3\x3e\n\x3cp\x3efilter 理解为管道加工处理,  你扔给我一组数据  经过各种不同类型的管道加工 产出新的数据 但是又不会影响修改原数据,  最终展示给用户.\x3c\/p\x3e\n\x3cp\x3e现有前端框架filter一般:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 time | dateTime(\x27yyy-mm-dd\x27)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-built_in\x22\x3etime\x3c\/span\x3e | \x3cspan class=\x22hljs-keyword\x22\x3edateTime\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27yyy-mm-dd\x27\x3c\/span\x3e)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用 | 作为管道符  传递参数进行序列化\x3c\/p\x3e\n\x3ch4\x3e缺陷:\x3c\/h4\x3e\n\x3cp\x3e截止目前,小程序官方并没有管道实现方式,以下列出了替代几种方案，供大家选择使用.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e直接修改原数据\x3c\/h3\x3e\n\x3cp\x3e在请求完成之后 对返回值data进行一次数据处理 比如 抽象一个_formatListData方法对 返回进行二次处理.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n _formatListData(list) {\n     return list.map((item) =\x3e {\n          let date = FormatUtil.getDateTime(item.childBirth);\n          item.filterChildBirth = `${date.y}-${date.M}-${date.d}`;\n      return item;\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\n _formatListData(\x3cspan class=\x22hljs-built_in\x22\x3elist\x3c\/span\x3e) {\n     \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3elist\x3c\/span\x3e.map((item) =\x26gt; {\n          \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e = FormatUtil.getDateTime(item.childBirth);\n          item.filterChildBirth = \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${date.y}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${date.M}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${date.d}\x3c\/span\x3e`\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e item;\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这种方式会给原数据添加新字段 filterChildBirth  (原字段为 childBirth) . 最终展示也是显示filterChildBirth 到view上面，多个需要filter的字段都通过这种方式去处理,很明显 对一些业务型filter倒还好   如果遇到filter需要 共享 就比较坑.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eES6 get\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\ndata : {\n  time : 1511748300571\n}\n\n get time (){    \n  return FormatUtil.getDate(this.data.time);\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e : {\n  time : \x3cspan class=\x22hljs-number\x22\x3e1511748300571\x3c\/span\x3e\n}\n\n \x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e time (){    \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e FormatUtil.getDate(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e.time);\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过get方法来实现对字段显示过滤. 只能操作对象 对数组中的item 比较无力.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eWXS\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e微信小程序的架构分为 app-service 和 page-frame，分别运行于不同的线程。你在开发时写的所有 JS 都是运行在 app-service 线程里的，而每个页面各自的 WXML\/WXSS 则运行在 page-frame 中。app-service 与 page-frame 之间通过桥协议通信（包括 setData 调用、canvas指令和各种DOM事件），涉及消息序列化、跨线程通信与evaluateJavascript()。这个架构的好处是：分开了业务主线程和显示界面，即便业务主线程非常繁忙，也不会阻塞用户在 page-frame 上的交互。一个小程序可以有多个 page-frame （webview），页面间切换动画比SPA更流畅。坏处是：在 page-frame 上无法调用业务 JS。跨线程通信的成本很高，不适合需要频繁通信的场景。业务 JS 无法直接控制 DOM。\x3cbr\x3e作者：鲁小夫\x3cbr\x3e链接：\x3ca href=\x22https:\/\/www.zhihu.com\/question\/64322737\/answer\/223446446\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.zhihu.com\/questio...\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e了解了wxs 设计初衷，我们也就知道能做什么事情了.\x3cbr\x3e\x3cstrong\x3ewxs 目前主要是增强 wxml 标签的表达能力\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eps : \x3cstrong\x3e因为运行在不同线程所以 js与wxs 不能相互引用的.  这就有可能在js中使用公共方法 在wxs中需要重新写一份(为了共享filter) 造成代码冗余.\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e通过wxs 实现共享filter:\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e首先我们建立共享filter文件夹,实现一个日期格式化\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/upload-images.jianshu.io\/upload_images\/326507-b29a1af47d4c2feb.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 src=\x22https:\/\/static.alili.techhttp:\/\/upload-images.jianshu.io\/upload_images\/326507-b29a1af47d4c2feb.png?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\x22 alt=\x22image.png\x22 title=\x22image.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3eWXS 实现日期格式化（es6语法不能使用)\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22   var DateFr = {\n\n    getDate: function (time, splitStr) {\n\n   if (!time) return \x27\x27;\n\n   var date =getDate(time);\n   var M = date.getMonth() \x2b 1;\n   var y = date.getFullYear();\n   var d = date.getDate();\n\n   if (M \x3c 10) M = \x26quot;0\x26quot; \x2b M;\n   if (d \x3c 10) d = \x26quot;0\x26quot; \x2b d;\n\n   if (splitStr)\n     return y \x2bsplitStr \x2b M \x2bsplitStr\x2bd;\n   else\n     return {\n       y: y,\n       M: M,\n       d: d\n     };\n     }\n   }\n\n   module.exports = {\n     getDate: DateFr.getDate\n   }\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e   \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e DateFr = {\n\n    \x3cspan class=\x22hljs-attribute\x22\x3egetDate\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3etime, splitStr\x3c\/span\x3e) \x3c\/span\x3e{\n\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!time) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n\n   \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e =getDate(time);\n   \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e M = \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.getMonth() \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n   \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e y = \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.getFullYear();\n   \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e d = \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.getDate();\n\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (M \x26lt; \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e) M = \x3cspan class=\x22hljs-string\x22\x3e\x220\x22\x3c\/span\x3e \x2b M;\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (d \x26lt; \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e) d = \x3cspan class=\x22hljs-string\x22\x3e\x220\x22\x3c\/span\x3e \x2b d;\n\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (splitStr)\n     \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e y \x2bsplitStr \x2b M \x2bsplitStr\x2bd;\n   \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e\n     \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n       \x3cspan class=\x22hljs-attribute\x22\x3ey\x3c\/span\x3e: y,\n       \x3cspan class=\x22hljs-attribute\x22\x3eM\x3c\/span\x3e: M,\n       \x3cspan class=\x22hljs-attribute\x22\x3ed\x3c\/span\x3e: d\n     };\n     }\n   }\n\n   \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n     \x3cspan class=\x22hljs-attribute\x22\x3egetDate\x3c\/span\x3e: DateFr.getDate\n   }\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e在业务页面wxml中引用wxs\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n     \x3cwxs module=\x26quot;dateFr\x26quot; src=\x26quot;..\/..\/..\/..\/filter\/dateFr.wxs\x26quot;\x3e\x3c\/wxs\x3e\n      \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\n     \x26lt;wxs \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dateFr\x22\x3c\/span\x3e src=\x3cspan class=\x22hljs-string\x22\x3e\x22..\/..\/..\/..\/filter\/dateFr.wxs\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ewxs\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n      \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用filter\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22      \x3ctext \x3e\x22{{\x22dateFr.getTime(item.createdAt,\x27:\x27)\x22}}\x22\x3c\/text\x3e\n   \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e      \x26lt;\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e \x26gt;\x22{{\x22dateFr.getTime(\x3cspan class=\x22hljs-built_in\x22\x3eitem\x3c\/span\x3e.createdAt,\x27:\x27)\x22}}\x22\x26lt;\/\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e\x26gt;\n   \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e结尾\x3c\/h3\x3e\n\x3cp\x3ewxs 基本满足filter的场景:\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e共享filter场景 采用3\x3cbr\x3e业务filter很多场景 采用1,3\x3cbr\x3e简单业务filter 数据非数组型场景 采用2\x3cbr\x3e小程序还有很长的路要走,仍需继续努力.\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>微信小程序 使用filter过滤器几种方式</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012246412">https://segmentfault.com/a/1190000012246412</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/hx3ebbht9pf/" target="_blank">https://alili.tech/archive/hx3ebbht9pf/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>