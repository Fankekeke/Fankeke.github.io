<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[面试专题]JS设计模式"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[面试专题]JS设计模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/i5rocgeevoq/",
				"appid": "1613049289050283", 
				"title": "[面试专题]JS设计模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-02T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/u2ol9eld6u/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/41gx5y1hb4q/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&text=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&text=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&title=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&is_video=false&description=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&title=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&title=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&title=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fi5rocgeevoq%2f&title=%5b%e9%9d%a2%e8%af%95%e4%b8%93%e9%a2%98%5dJS%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[面试专题]JS设计模式</h1><div class="meta"><div class="postdate"><time datetime="2019-01-02" itemprop="datePublished">2019-01-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3eJS设计模式\x3c\/h1\x3e\n\x3chr\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e发布订阅模式:\x3c\/h3\x3e\n\x3cp\x3e这种设计模式可以大大降低程序模块之间的耦合度，便于更加灵活的扩展和维护。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 一个播放器类\nclass Player {\n\n  constructor() {\n    \/\/ 初始化观察者列表\n    this.watchers = {}\n\n    \/\/ 模拟2秒后发布一个\x27play\x27事件\n    setTimeout(() =\x3e {\n      this._publish(\x27play\x27, true)\n    }, 2000)\n\n    \/\/ 模拟4秒后发布一个\x27pause\x27事件\n    setTimeout(() =\x3e {\n      this._publish(\x27pause\x27, true)\n    }, 4000)\n  }\n\n  \/\/ 发布事件\n  _publish(event, data) {\n    if (this.watchers[event] \x26amp;\x26amp; this.watchers[event].length) {\n      this.watchers[event].forEach(callback =\x3e callback.bind(this)(data))\n    }\n  }\n\n  \/\/ 订阅事件\n  subscribe(event, callback) {\n    this.watchers[event] = this.watchers[event] || []\n    this.watchers[event].push(callback)\n  }\n\n  \/\/ 退订事件\n  unsubscribe(event = null, callback = null) {\n    \/\/ 如果传入指定事件函数，则仅退订此事件函数\n    if (callback\x26amp;\x26amp;event) {\n      if (this.watchers[event] \x26amp;\x26amp; this.watchers[event].length) {\n        this.watchers[event].splice(this.watchers[event].findIndex(cb =\x3e Object.is(cb, callback)), 1)\n      }\n\n    \/\/ 如果仅传入事件名称，则退订此事件对应的所有的事件函数\n    } else if (event) {\n      this.watchers[event] = []\n\n    \/\/ 如果未传入任何参数，则退订所有事件\n    } else {\n      this.watchers = {}\n    }\n  }\n}\n\n\/\/ 实例化播放器\nconst player = new Player()\nconsole.log(player)\n\n\/\/ 播放事件回调函数1\nconst onPlayerPlay1 = function(data) {\n  console.log(\x271: Player is play, the `this` context is current player\x27, this, data)\n}\n\n\/\/ 播放事件回调函数2\nconst onPlayerPlay2 = data =\x3e {\n  console.log(\x272: Player is play\x27, data)\n}\n\n\/\/ 暂停事件回调函数\nconst onPlayerPause = data =\x3e {\n  console.log(\x27Player is pause\x27, data)\n}\n\n\/\/ 加载事件回调函数\nconst onPlayerLoaded = data =\x3e {\n  console.log(\x27Player is loaded\x27, data)\n}\n\n\/\/ 可订阅多个不同事件\nplayer.subscribe(\x27play\x27, onPlayerPlay1)\nplayer.subscribe(\x27play\x27, onPlayerPlay2)\nplayer.subscribe(\x27pause\x27, onPlayerPause)\nplayer.subscribe(\x27loaded\x27, onPlayerLoaded)\n\n\/\/ 可以退订指定订阅事件\nplayer.unsubscribe(\x27play\x27, onPlayerPlay2)\n\/\/ 退订指定事件名称下的所有订阅事件\nplayer.unsubscribe(\x27play\x27)\n\/\/ 退订所有订阅事件\nplayer.unsubscribe()\n\n\/\/ 可以在外部手动发出事件（真实生产场景中，发布特性一般为类内部私有方法）\nplayer._publish(\x27loaded\x27, true)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一个播放器类\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePlayer\x3c\/span\x3e \x3c\/span\x3e{\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化观察者列表\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers = {}\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 模拟2秒后发布一个\x27play\x27事件\x3c\/span\x3e\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._publish(\x3cspan class=\x22hljs-string\x22\x3e\x27play\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e)\n    }, \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e)\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 模拟4秒后发布一个\x27pause\x27事件\x3c\/span\x3e\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._publish(\x3cspan class=\x22hljs-string\x22\x3e\x27pause\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e)\n    }, \x3cspan class=\x22hljs-number\x22\x3e4000\x3c\/span\x3e)\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发布事件\x3c\/span\x3e\n  _publish(event, data) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event] \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event].length) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event].forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ecallback\x3c\/span\x3e =\x26gt;\x3c\/span\x3e callback.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e)(data))\n    }\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 订阅事件\x3c\/span\x3e\n  subscribe(event, callback) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event] = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event] || []\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event].push(callback)\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 退订事件\x3c\/span\x3e\n  unsubscribe(event = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, callback = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果传入指定事件函数，则仅退订此事件函数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (callback\x26amp;\x26amp;event) {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event] \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event].length) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event].splice(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event].findIndex(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ecb\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.is(cb, callback)), \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n      }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果仅传入事件名称，则退订此事件对应的所有的事件函数\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (event) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers[event] = []\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果未传入任何参数，则退订所有事件\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.watchers = {}\n    }\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 实例化播放器\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e player = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Player()\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(player)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 播放事件回调函数1\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e onPlayerPlay1 = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x271: Player is play, the `this` context is current player\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, data)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 播放事件回调函数2\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e onPlayerPlay2 = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x272: Player is play\x27\x3c\/span\x3e, data)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 暂停事件回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e onPlayerPause = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Player is pause\x27\x3c\/span\x3e, data)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 加载事件回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e onPlayerLoaded = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Player is loaded\x27\x3c\/span\x3e, data)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可订阅多个不同事件\x3c\/span\x3e\nplayer.subscribe(\x3cspan class=\x22hljs-string\x22\x3e\x27play\x27\x3c\/span\x3e, onPlayerPlay1)\nplayer.subscribe(\x3cspan class=\x22hljs-string\x22\x3e\x27play\x27\x3c\/span\x3e, onPlayerPlay2)\nplayer.subscribe(\x3cspan class=\x22hljs-string\x22\x3e\x27pause\x27\x3c\/span\x3e, onPlayerPause)\nplayer.subscribe(\x3cspan class=\x22hljs-string\x22\x3e\x27loaded\x27\x3c\/span\x3e, onPlayerLoaded)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可以退订指定订阅事件\x3c\/span\x3e\nplayer.unsubscribe(\x3cspan class=\x22hljs-string\x22\x3e\x27play\x27\x3c\/span\x3e, onPlayerPlay2)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 退订指定事件名称下的所有订阅事件\x3c\/span\x3e\nplayer.unsubscribe(\x3cspan class=\x22hljs-string\x22\x3e\x27play\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 退订所有订阅事件\x3c\/span\x3e\nplayer.unsubscribe()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可以在外部手动发出事件（真实生产场景中，发布特性一般为类内部私有方法）\x3c\/span\x3e\nplayer._publish(\x3cspan class=\x22hljs-string\x22\x3e\x27loaded\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e中介者模式 Mediator Pattern:\x3c\/h3\x3e\n\x3cp\x3e观察者模式通过维护一堆列表来管理对象间的多对多关系，中介者模式通过统一接口来维护一对多关系，且通信者之间不需要知道彼此之间的关系，只需要约定好API即可。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 汽车\nclass Bus {\n\n  constructor() {\n\n    \/\/ 初始化所有乘客\n    this.passengers = {}\n  }\n\n  \/\/ 发布广播\n  broadcast(passenger, message = passenger) {\n    \/\/ 如果车上有乘客\n    if (Object.keys(this.passengers).length) {\n\n      \/\/ 如果是针对某个乘客发的，就单独给他听\n      if (passenger.id \x26amp;\x26amp; passenger.listen) {\n\n        \/\/ 乘客他爱听不听\n        if (this.passengers[passenger.id]) {\n          this.passengers[passenger.id].listen(message)\n        }\n\n      \/\/ 不然就广播给所有乘客\n      } else {\n        Object.keys(this.passengers).forEach(passenger =\x3e {\n          if (this.passengers[passenger].listen) {\n            this.passengers[passenger].listen(message)\n          }\n        })\n      }\n    }\n  }\n\n  \/\/ 乘客上车\n  aboard(passenger) {\n    this.passengers[passenger.id] = passenger\n  }\n\n  \/\/ 乘客下车\n  debus(passenger) {\n    this.passengers[passenger.id] = null\n    delete this.passengers[passenger.id]\n    console.log(`乘客${passenger.id}下车`)\n  }\n\n  \/\/ 开车\n  start() {\n    this.broadcast({ type: 1, content: \x27前方无障碍，开车！Over\x27})\n  }\n\n  \/\/ 停车\n  end() {\n    this.broadcast({ type: 2, content: \x27老司机翻车，停车！Over\x27})\n  }\n}\n\n\/\/ 乘客\nclass Passenger {\n\n  constructor(id) {\n    this.id = id\n  }\n\n  \/\/ 听广播\n  listen(message) {\n    console.log(`乘客${this.id}收到消息`, message)\n    \/\/ 乘客发现停车了，于是自己下车\n    if (Object.is(message.type, 2)) {\n      this.debus()\n    }\n  }\n\n  \/\/ 下车\n  debus() {\n    console.log(`我是乘客${this.id}，我现在要下车`, bus)\n    bus.debus(this)\n  }\n}\n\n\/\/ 创建一辆汽车\nconst bus = new Bus()\n\n\/\/ 创建两个乘客\nconst passenger1 = new Passenger(1)\nconst passenger2 = new Passenger(2)\n\n\/\/ 俩乘客分别上车\nbus.aboard(passenger1)\nbus.aboard(passenger2)\n\n\/\/ 2秒后开车\nsetTimeout(bus.start.bind(bus), 2000)\n\n\/\/ 3秒时司机发现2号乘客没买票，2号乘客被驱逐下车\nsetTimeout(() =\x3e {\n  bus.broadcast(passenger2, { type: 3, content: \x27同志你好，你没买票，请下车!\x27 })\n  bus.debus(passenger2)\n}, 3000)\n\n\/\/ 4秒后到站停车\nsetTimeout(bus.end.bind(bus), 3600)\n\n\/\/ 6秒后再开车，车上已经没乘客了\nsetTimeout(bus.start.bind(bus), 6666)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 汽车\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e Bus {\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) {\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化所有乘客\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers = {}\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发布广播\x3c\/span\x3e\n  broadcast(passenger, message = passenger) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果车上有乘客\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers).length) {\n\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果是针对某个乘客发的，就单独给他听\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (passenger.id \x26amp;\x26amp; passenger.listen) {\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 乘客他爱听不听\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers[passenger.id]) {\n          \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers[passenger.id].listen(message)\n        }\n\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不然就广播给所有乘客\x3c\/span\x3e\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers).forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3epassenger\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers[passenger].listen) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers[passenger].listen(message)\n          }\n        })\n      }\n    }\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 乘客上车\x3c\/span\x3e\n  aboard(passenger) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers[passenger.id] = passenger\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 乘客下车\x3c\/span\x3e\n  debus(passenger) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers[passenger.id] = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3edelete\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.passengers[passenger.id]\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`乘客\x3cspan class=\x22hljs-subst\x22\x3e${passenger.id}\x3c\/span\x3e下车`\x3c\/span\x3e)\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 开车\x3c\/span\x3e\n  start() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.broadcast({ \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, content: \x3cspan class=\x22hljs-string\x22\x3e\x27前方无障碍，开车！Over\x27\x3c\/span\x3e})\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 停车\x3c\/span\x3e\n  end() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.broadcast({ \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, content: \x3cspan class=\x22hljs-string\x22\x3e\x27老司机翻车，停车！Over\x27\x3c\/span\x3e})\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 乘客\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e Passenger {\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eid\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id = id\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 听广播\x3c\/span\x3e\n  listen(message) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`乘客\x3cspan class=\x22hljs-subst\x22\x3e${this.id}\x3c\/span\x3e收到消息`\x3c\/span\x3e, message)\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 乘客发现停车了，于是自己下车\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.is(message.type, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e)) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.debus()\n    }\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 下车\x3c\/span\x3e\n  debus() {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`我是乘客\x3cspan class=\x22hljs-subst\x22\x3e${this.id}\x3c\/span\x3e，我现在要下车`\x3c\/span\x3e, bus)\n    bus.debus(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e)\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建一辆汽车\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bus = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Bus()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建两个乘客\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e passenger1 = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Passenger(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e passenger2 = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Passenger(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 俩乘客分别上车\x3c\/span\x3e\nbus.aboard(passenger1)\nbus.aboard(passenger2)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 2秒后开车\x3c\/span\x3e\nsetTimeout(bus.start.bind(bus), \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 3秒时司机发现2号乘客没买票，2号乘客被驱逐下车\x3c\/span\x3e\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  bus.broadcast(passenger2, { \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, content: \x3cspan class=\x22hljs-string\x22\x3e\x27同志你好，你没买票，请下车!\x27\x3c\/span\x3e })\n  bus.debus(passenger2)\n}, \x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 4秒后到站停车\x3c\/span\x3e\nsetTimeout(bus.end.bind(bus), \x3cspan class=\x22hljs-number\x22\x3e3600\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 6秒后再开车，车上已经没乘客了\x3c\/span\x3e\nsetTimeout(bus.start.bind(bus), \x3cspan class=\x22hljs-number\x22\x3e6666\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e代理模式 Proxy Pattern:\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e为其他对象提供一种代理以控制对这个对象的访问。\x3cbr\x3e代理模式使得代理对象控制具体对象的引用。代理几乎可以是任何对象：文件，资源，内存中的对象，或者是一些难以复制的东西。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eES6中的Proxy对象\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const target = {}\nconst handler = {\n    get(target, property) {\n        if (property in target) {\n            return target[property]\n        } else {\n            throw new ReferenceError(\x26quot;Property \\\x26quot;\x26quot; \x2b property \x2b \x26quot;\\\x26quot; does not exist.\x26quot;)\n        }\n    }\n}\nconst p = new Proxy(target, {})\np.a = 3  \/\/ 被转发到代理的操作\nconsole.log(p.c) \/\/\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e target = {}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e handler = {\n    get(target, \x3cspan class=\x22hljs-keyword\x22\x3eproperty\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e) {\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3eproperty\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e in target) {\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e target[\x3cspan class=\x22hljs-keyword\x22\x3eproperty\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e]\x3c\/span\x3e\n        } \x3cspan class=\x22hljs-title\x22\x3eelse\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eReferenceError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Property \\\x22\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3eproperty\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e \x2b \x22\\\x22 does not exist.\x22)\x3c\/span\x3e\n        }\n    }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e p = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eProxy\x3c\/span\x3e(target, {})\np.a = \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 被转发到代理的操作\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(p.c) \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e单例模式 Singleton Pattern:\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e保证一个类只有一个实例，并提供一个访问它的全局访问点（调用一个类，任何时候返回的都是同一个实例）。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e实现方法：使用一个变量来标志当前是否已经为某个类创建过对象，如果创建了，则在下一次获取该类的实例时，直接返回之前创建的对象，否则就创建一个对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 类数实例：\nclass Singleton {\n  constructor(name) {\n    this.name = name\n    this.instance = null   \/\/ \n  }\n  getName() {\n    alert(this.name)\n  }\n  static getInstance(name) {\n    if (!this.instance) {\n      this.instance = new Singleton(name)\n    }\n    return this.instance\n  }\n}\nconst ins = new Singleton(\x27hhhh\x27)\nconst instanceA = Singleton.getInstance(\x27seven1\x27)\nconst instanceB = Singleton.getInstance(\x27seven2\x27)\n\/\/闭包包装实例：\nconst SingletonP = (function() {\n  let instance\n  return class Singleton {\n\n    constructor(name) {\n      if (instance) {\n        return instance\n      } else {\n        this.init(name)\n        instance = this\n        return this\n      }\n    }\n\n    init(name) {\n      this.name = name\n      console.log(\x27已初始化\x27)\n    }\n  }\n})()\n\nconst instanceA = new SingletonP(\x27seven1\x27)\nconst instanceB = new SingletonP(\x27seven2\x27)\n\/\/ ES5 iife\nvar SingletonTester = (function () {\n    function Singleton(args) {\n        var args = args || {};\n        \/\/设置name参数\n        this.name = \x27SingletonTester\x27;\n    }\n    \/\/实例容器\n    var instance;\n    return {\n        name: \x27SingletonTester\x27,\n        getInstance: function (args) {\n            if (instance === undefined) {\n                instance = new Singleton(args);\n            }\n            return instance;\n        }\n    };\n})();\n\nvar singletonTest = SingletonTester.getInstance({ pointX: 5 });\nconsole.log(singletonTest.pointX); \/\/ 输出 5 \n\/\/ 构造函数的属性\nfunction Universe() {\n    if (typeof Universe.instance === \x27object\x27) {\n        return Universe.instance;\n    }\n    this.start_time = 0;\n    this.bang = \x26quot;Big\x26quot;;\n    Universe.instance = this;\n}\n\/\/ 测试\nvar uni = new Universe();\nvar uni2 = new Universe();\nconsole.log(uni === uni2); \/\/ true\n\/\/ 重写构造函数\nfunction Universe() {\n    var instance = this;\n    \/\/ 其它内容\n    this.start_time = 0;\n    this.bang = \x26quot;Big\x26quot;;\n    \/\/ 重写构造函数\n    Universe = function () {\n        return instance;\n    };\n}\n\/\/ 测试\nvar uni = new Universe();\nvar uni2 = new Universe();\nuni.bang = \x26quot;123\x26quot;;\nconsole.log(uni === uni2); \/\/ true\nconsole.log(uni2.bang); \/\/ 123\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 类数实例：\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSingleton\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(name) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x3c\/span\x3e\n  }\n  getName() {\n    alert(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name)\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e getInstance(name) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Singleton(name)\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.instance\n  }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ins = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Singleton(\x3cspan class=\x22hljs-string\x22\x3e\x27hhhh\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e instanceA = Singleton.getInstance(\x3cspan class=\x22hljs-string\x22\x3e\x27seven1\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e instanceB = Singleton.getInstance(\x3cspan class=\x22hljs-string\x22\x3e\x27seven2\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/闭包包装实例：\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e SingletonP = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e instance\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSingleton\x3c\/span\x3e \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(name) {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (instance) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e instance\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.init(name)\n        instance = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e\n      }\n    }\n\n    init(name) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27已初始化\x27\x3c\/span\x3e)\n    }\n  }\n})()\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e instanceA = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e SingletonP(\x3cspan class=\x22hljs-string\x22\x3e\x27seven1\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e instanceB = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e SingletonP(\x3cspan class=\x22hljs-string\x22\x3e\x27seven2\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ES5 iife\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e SingletonTester = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSingleton\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eargs\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e args = args || {};\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置name参数\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = \x3cspan class=\x22hljs-string\x22\x3e\x27SingletonTester\x27\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/实例容器\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e instance;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27SingletonTester\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3egetInstance\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eargs\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (instance === \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e) {\n                instance = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Singleton(args);\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e instance;\n        }\n    };\n})();\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e singletonTest = SingletonTester.getInstance({ \x3cspan class=\x22hljs-attr\x22\x3epointX\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e });\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(singletonTest.pointX); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出 5 \x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 构造函数的属性\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eUniverse\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e Universe.instance === \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Universe.instance;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.start_time = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.bang = \x3cspan class=\x22hljs-string\x22\x3e\x22Big\x22\x3c\/span\x3e;\n    Universe.instance = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 测试\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e uni = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Universe();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e uni2 = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Universe();\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(uni === uni2); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 重写构造函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eUniverse\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e instance = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 其它内容\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.start_time = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.bang = \x3cspan class=\x22hljs-string\x22\x3e\x22Big\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 重写构造函数\x3c\/span\x3e\n    Universe = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e instance;\n    };\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 测试\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e uni = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Universe();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e uni2 = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Universe();\nuni.bang = \x3cspan class=\x22hljs-string\x22\x3e\x22123\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(uni === uni2); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(uni2.bang); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 123\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e工厂模式 Factory Pattern:\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e工厂模式定义一个用于创建对象的接口，这个接口由子类决定实例化哪一个类。该模式使一个类的实例化延迟到了子类。而子类可以重写接口方法以便创建的时候指定自己的对象类型。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e简单说：假如我们想在网页面里插入一些元素，而这些元素类型不固定，可能是图片、链接、文本，根据工厂模式的定义，在工厂模式下，工厂函数只需接受我们要创建的元素的类型，其他的工厂函数帮我们处理。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 文本工厂\nclass Text {\n    constructor(text) {\n        this.text = text\n    }\n    insert(where) {\n        const txt = document.createTextNode(this.text)\n        where.appendChild(txt)\n    }\n}\n\n\/\/ 链接工厂\nclass Link {\n    constructor(url) {\n        this.url = url\n    }\n    insert(where) {\n        const link = document.createElement(\x27a\x27)\n        link.href = this.url\n        link.appendChild(document.createTextNode(this.url))\n        where.appendChild(link)\n    }\n}\n\n\/\/ 图片工厂\nclass Image {\n    constructor(url) {\n        this.url = url\n    }\n    insert(where) {\n        const img = document.createElement(\x27img\x27)\n        img.src = this.url\n        where.appendChild(img)\n    }\n}\n\n\/\/ DOM工厂\nclass DomFactory {\n\n  constructor(type) {\n    return new (this[type]())\n  }\n\n  \/\/ 各流水线\n  link() { return Link }\n  text() { return Text }\n  image() { return Image }\n}\n\n\/\/ 创建工厂\nconst linkFactory = new DomFactory(\x27link\x27)\nconst textFactory = new DomFactory(\x27text\x27)\n\nlinkFactory.url = \x27https:\/\/surmon.me\x27\nlinkFactory.insert(document.body)\n\ntextFactory.text = \x27HI! I am surmon.\x27\ntextFactory.insert(document.body)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 文本工厂\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e Text {\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.text = text\n    }\n    insert(where) {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e txt = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createTextNode(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.text)\n        where.appendChild(txt)\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 链接工厂\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e Link {\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eurl\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.url = url\n    }\n    insert(where) {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e link = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e)\n        link.href = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.url\n        link.appendChild(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createTextNode(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.url))\n        where.appendChild(link)\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 图片工厂\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e Image {\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eurl\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.url = url\n    }\n    insert(where) {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e img = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27img\x27\x3c\/span\x3e)\n        img.src = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.url\n        where.appendChild(img)\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ DOM工厂\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e DomFactory {\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e[\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e]())\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 各流水线\x3c\/span\x3e\n  link() { \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Link }\n  text() { \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Text }\n  image() { \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Image }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建工厂\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e linkFactory = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e DomFactory(\x3cspan class=\x22hljs-string\x22\x3e\x27link\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e textFactory = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e DomFactory(\x3cspan class=\x22hljs-string\x22\x3e\x27text\x27\x3c\/span\x3e)\n\nlinkFactory.url = \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/surmon.me\x27\x3c\/span\x3e\nlinkFactory.insert(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body)\n\ntextFactory.text = \x3cspan class=\x22hljs-string\x22\x3e\x27HI! I am surmon.\x27\x3c\/span\x3e\ntextFactory.insert(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e装饰者模式 Decorative Pattern:\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e装饰者(decorator)模式能够在不改变对象自身的基础上，在程序运行期间给对像动态的添加职责（方法或属性）。与继承相比，装饰者是一种更轻便灵活的做法。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e简单说：可以动态的给某个对象添加额外的职责，而不会影响从这个类中派生的其它对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ES7装饰器\nfunction isAnimal(target) {\n    target.isAnimal = true\n    return target\n}\n\n\/\/ 装饰器\n@isAnimal\nclass Cat {\n    \/\/ ...\n}\nconsole.log(Cat.isAnimal)    \/\/ true\n\n\n\n作用于类属性的装饰器：\n\nfunction readonly(target, name, descriptor) {\n    discriptor.writable = false\n    return discriptor\n}\n\nclass Cat {\n    @readonly\n    say() {\n        console.log(\x26quot;meow ~\x26quot;)\n    }\n}\n\nvar kitty = new Cat()\nkitty.say = function() {\n    console.log(\x26quot;woof !\x26quot;)\n}\nkitty.say()    \/\/ meow ~\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3eES7装饰器\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eisAnimal\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etarget\x3c\/span\x3e) \x3c\/span\x3e{\n    target.isAnimal = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e target\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 装饰器\x3c\/span\x3e\n@isAnimal\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCat\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(Cat.isAnimal)    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\n\n\n作用于类属性的装饰器：\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ereadonly\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etarget, name, descriptor\x3c\/span\x3e) \x3c\/span\x3e{\n    discriptor.writable = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e discriptor\n}\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCat\x3c\/span\x3e \x3c\/span\x3e{\n    @readonly\n    say() {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22meow ~\x22\x3c\/span\x3e)\n    }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e kitty = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Cat()\nkitty.say = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22woof !\x22\x3c\/span\x3e)\n}\nkitty.say()    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ meow ~\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e参考:\x3cbr\x3e\x3ca href=\x22http:\/\/www.cnblogs.com\/TomXu\/archive\/2011\/12\/15\/2288411.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e输入理解js系列\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/surmon.me\/article\/55\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e来自ES6入门实践\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[面试专题]JS设计模式</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010914032">https://segmentfault.com/a/1190000010914032</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/i5rocgeevoq/" target="_blank">https://alili.tech/archive/i5rocgeevoq/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>