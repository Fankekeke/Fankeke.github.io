<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="翻译 | 关键CSS和Webpack: 减少阻塞渲染的CSS的自动化解决方案"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>翻译 | 关键CSS和Webpack: 减少阻塞渲染的CSS的自动化解决方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/im7jng0liim/",
				"appid": "1613049289050283", 
				"title": "翻译 | 关键CSS和Webpack: 减少阻塞渲染的CSS的自动化解决方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/znl2caoziq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/aucuy5cgmp/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&text=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&text=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&is_video=false&description=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fim7jng0liim%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e5%85%b3%e9%94%aeCSS%e5%92%8cWebpack%3a%20%e5%87%8f%e5%b0%91%e9%98%bb%e5%a1%9e%e6%b8%b2%e6%9f%93%e7%9a%84CSS%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">翻译 | 关键CSS和Webpack: 减少阻塞渲染的CSS的自动化解决方案</h1><div class="meta"><div class="postdate"><time datetime="2018-12-29" itemprop="datePublished">2018-12-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011503289?w=600\x26amp;h=321\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011503289?w=600\x26amp;h=321\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e原文地址: \x3ca href=\x22https:\/\/vuejsdevelopers.com\/2017\/07\/24\/critical-css-webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCritical CSS and Webpack: Automatically Minimize Render-Blocking CSS\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e原文作者: Anthony Gore\x3c\/li\x3e\n\x3cli\x3e译者: 蜗牛(GivenCui)\x3c\/li\x3e\n\x3cli\x3e校对者: veizz\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3chr\x3e\n\x3cp\x3e\x22消除阻塞渲染的CSS和JavaScript\x22。 这一条Google Page Speed Insights的建议总让我困惑。  \x3c\/p\x3e\n\x3cp\x3e当一个网页被访问时，Google希望它仅加载对初始视图有用的内容，并使用空闲时间来加载其他内容。这种方式可以使用户尽可能早地看到页面。    \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011503290?w=560\x26amp;h=206\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011503290?w=560\x26amp;h=206\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们可以做很多事情来减少阻塞渲染的JavaScript，例如code splitting、tree shaking，缓存等。  \x3c\/p\x3e\n\x3cp\x3e但是如何减少阻塞渲染的CSS？为此，可以拆分并优先加载首次渲染所需要的CSS（关键CSS)，然后再加载其它CSS。  \x3c\/p\x3e\n\x3cp\x3e可以通过编程的方式筛选出关键CSS，在本文中，我将向你展示如何通过Webpack的自动化流程来实现该方案。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么是阻塞渲染\x3c\/h2\x3e\n\x3cp\x3e如果资源是“阻塞渲染”的，则表示浏览器在资源下载或处理完成之前不会显示该页面。  \x3c\/p\x3e\n\x3cp\x3e通常，我们在html的\x3ccode\x3ehead\x3c\/code\x3e标签中添加CSS样式表，这种方式会阻塞渲染，如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3chead\x3e\n  \x3clink rel=\x26quot;stylesheet\x26quot; href=\x26quot;\/style.css\x26quot;\x3e\n  ...\n\x3c\/head\x3e\n\x3cbody\x3e\n  \x3cp\x3e在style.css下载完之前，你看不到我！！！\x3c\/p\x3e\n\x3c\/body\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/style.css\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  ...\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e在style.css下载完之前，你看不到我！！！\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当这个html页面被网络浏览器加载时，它将从上到下被逐行解析。当浏览器解析到\x3ccode\x3elink\x3c\/code\x3e标签时，它将立即开始下载CSS样式表，在完成之前不会渲染页面。  \x3c\/p\x3e\n\x3cp\x3e对于一个大型网站，尤其是像使用了Bootstrap这种庞大框架的网站，样式表有几百KB，用户必须耐心等待其完全下载完才能看到页面。  \x3c\/p\x3e\n\x3cp\x3e那么，我们是否应该把link标签放到\x3ccode\x3ebody\x3c\/code\x3e中，以防止阻塞渲染？你可以这么做，但是阻塞渲染也不是全无优点，我们实际上可以利用它。如果页面渲染时没有加载任何CSS，我们会遇到丑陋的\x22内容闪现\x22。  \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011503291?w=1860\x26amp;h=1359\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011503291?w=1860\x26amp;h=1359\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们想要的完美解决方案就应该是：首屏相关的关键CSS使用阻塞渲染的方式加载，所有的非关键CSS在首屏渲染完成后加载。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e关键CSS\x3c\/h2\x3e\n\x3cp\x3e这里是我用Webpack和Bootstrap编写的一个简单的网页, 下面的截图是首次渲染后的样式。  \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011503292?w=1860\x26amp;h=1359\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011503292?w=1860\x26amp;h=1359\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e点击Sign Up today按钮会弹出一个模态框, 模态框弹出时的样式如下:  \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011503293?w=1860\x26amp;h=1359\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011503293?w=1860\x26amp;h=1359\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e首次渲染需要的样式包括导航条的样式、超大屏幕样式、按钮样式、其它布局和字体的公用样式。但是我们并不需要模态框的样式，因为它不会立即在页面中显示。考虑到这些，下面是我们拆分关键CSS和非关键CSS的可能的方式：  \x3c\/p\x3e\n\x3cp\x3e\x3cem\x3ecritical.css\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.nav {\n  ...\n}\n\n.jumbtron {\n  ...\n}\n\n.btn {\n  ...\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.nav\x3c\/span\x3e {\n  ...\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.jumbtron\x3c\/span\x3e {\n  ...\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.btn\x3c\/span\x3e {\n  ...\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3enon_critical.css\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.modal {\n  ...\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.modal\x3c\/span\x3e {\n  ...\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你已经有这个概念，那么你可能会提出两个疑问：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e我们如何用程序区分关键CSS和非关键CSS?\x3c\/li\x3e\n\x3cli\x3e如何让页面在首次渲染之前加载关键CSS，之后加载非关键CSS？\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e示例项目\x3c\/h2\x3e\n\x3cp\x3e我将简要介绍一下这个项目的基本配置，这样我们在遇到解决方案时，方便快速消化。  \x3cbr\x3e首先, 在入口文件中引入Bootsrap SASS。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3emain.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22require(\x26quot;bootstrap-sass\/assets\/stylesheets\/_bootstrap.scss\x26quot;);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs abnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3erequire(\x3cspan class=\x22hljs-string\x22\x3e\x22bootstrap-sass\/assets\/stylesheets\/_bootstrap.scss\x22\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我使用\x3cem\x3esass-loader\x3c\/em\x3e来处理sass，与\x3cem\x3eExtract Text Plugin\x3c\/em\x3e一起使用，将编译出来的css放到单独的文件中。\x3c\/p\x3e\n\x3cp\x3e使用\x3cem\x3eHTML Webpack Plugin\x3c\/em\x3e来创建一个HTML文件，它引入编译后的CSS。这在我们的解决方案中是必需的，你马上就会看到。  \x3c\/p\x3e\n\x3cp\x3e\x3cem\x3ewebpack.config.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  module: {\n    rules: [\n      {\n        test: \/\\.scss$\/,\n        use: ExtractTextPlugin.extract({\n          fallback: \x27style-loader\x27,\n          use: [\x27css-loader\x27, \x27sass-loader\x27]\n        })\n      },\n      ...\n    ]\n  },\n  ...\n  plugins: [\n    new ExtractTextPlugin({ filename: \x27style.css\x27 }),\n    new HtmlWebpackPlugin({\n      filename: \x27index.html\x27,\n      template: \x27index.html\x27,\n      inject: true\n    })\n  ] \n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sml\x22\x3e\x3ccode\x3emodule.exports = {\n  module: {\n    rules: [\n      {\n        test: \/\\.scss$\/,\n        use: \x3cspan class=\x22hljs-type\x22\x3eExtractTextPlugin\x3c\/span\x3e.extract({\n          fallback: \x3cspan class=\x22hljs-symbol\x22\x3e\x27style\x3c\/span\x3e-loader\x27,\n          use: [\x3cspan class=\x22hljs-symbol\x22\x3e\x27css\x3c\/span\x3e-loader\x27, \x3cspan class=\x22hljs-symbol\x22\x3e\x27sass\x3c\/span\x3e-loader\x27]\n        })\n      },\n      ...\n    ]\n  },\n  ...\n  plugins: [\n    new \x3cspan class=\x22hljs-type\x22\x3eExtractTextPlugin\x3c\/span\x3e({ filename: \x3cspan class=\x22hljs-symbol\x22\x3e\x27style\x3c\/span\x3e.css\x27 }),\n    new \x3cspan class=\x22hljs-type\x22\x3eHtmlWebpackPlugin\x3c\/span\x3e({\n      filename: \x3cspan class=\x22hljs-symbol\x22\x3e\x27index\x3c\/span\x3e.html\x27,\n      template: \x3cspan class=\x22hljs-symbol\x22\x3e\x27index\x3c\/span\x3e.html\x27,\n      inject: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    })\n  ] \n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行构建之后，这里是HTML文件的样子。请注意，CSS文件在\x3ccode\x3ehead\x3c\/code\x3e标签里引入，因此将会阻塞渲染。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eindex.html\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;utf-8\x26quot;\x3e\n    \x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width,initial-scale=1\x26quot;\x3e\n    \x3ctitle\x3evuestrap-code-split\x3c\/title\x3e\n    \x3clink href=\x26quot;\/style.css\x26quot; rel=\x26quot;stylesheet\x26quot;\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n  \x3c!--App content goes here, omitted for brevity.--\x3e\n  \x3cscript type=\x26quot;text\/javascript\x26quot; src=\x26quot;\/build_main.js\x26quot;\x3e\x3c\/script\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22utf-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width,initial-scale=1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3evuestrap-code-split\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/style.css\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--App content goes here, omitted for brevity.--\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/build_main.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e编程识别关键CSS\x3c\/h2\x3e\n\x3cp\x3e手动区分关键CSS维护起来会非常痛苦。以编程方式来实现的话，我们可以使用Addy Osmani的\x3ca href=\x22https:\/\/github.com\/addyosmani\/critical\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCritical\x3c\/a\x3e。这是一个Node.js模块，它将读入HTML文档，并识别关键CSS。Critical能做的还不止这些，你很快就能体会到。\x3c\/p\x3e\n\x3cp\x3eCritical识别关键CSS的方式如下：指定屏幕尺寸并使用PhantomJS加载页面，提取在渲染页面中用到的所有CSS规则。\x3c\/p\x3e\n\x3cp\x3e以下为对项目的设置:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const critical = require(\x26quot;critical\x26quot;);\n\ncritical.generate({\n  \n  \/* Webpack打包输出的路径 *\/\n  base: path.join(path.resolve(__dirname), \x27dist\/\x27),\n  src: \x27index.html\x27,\n  dest: \x27index.html\x27,\n  inline: true,\n  extract: true,\n\n  \/* iPhone6的尺寸，你可以按需要修改 *\/\n  width: 375,\n  height: 565,\n  \n  \/* 确保调用打包后的JS文件 *\/\n  penthouse: {\n    blockJSRequests: false,\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ecritical\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3erequire(\x22critical\x22);\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3ecritical.generate({\x3c\/span\x3e\n  \n  \x3cspan class=\x22hljs-string\x22\x3e\/*\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eWebpack打包输出的路径\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  base:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3epath.join(path.resolve(__dirname),\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27dist\/\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e),\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  src:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  dest:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  inline:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  extract:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-string\x22\x3e\/*\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eiPhone6的尺寸，你可以按需要修改\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  width:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e375\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  height:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e565\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n  \n  \x3cspan class=\x22hljs-string\x22\x3e\/*\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e确保调用打包后的JS文件\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  penthouse:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    blockJSRequests:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n  \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e});\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行时，会将Webpack打包输出文件中HTML更新为:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n  \x3cmeta charset=\x26quot;utf-8\x26quot;\x3e\n  \x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width,initial-scale=1\x26quot;\x3e\n  \x3ctitle\x3eBootstrap Critical\x3c\/title\x3e\n  \x3cstyle type=\x26quot;text\/css\x26quot;\x3e\n    \/* 关键CSS通过内部样式表方式引入 *\/\n    body {\n      font-family: Helvetica Neue,Helvetica,Arial,sans-serif;\n      font-size: 14px;\n      line-height: 1.42857;\n      color: #333;\n      background-color: #fff;\n    }\n    ...\n  \x3c\/style\x3e\n  \x3clink href=\x26quot;\/style.96106fab.css\x26quot; rel=\x26quot;preload\x26quot; as=\x26quot;style\x26quot; onload=\x26quot;this.rel=\x27stylesheet\x27\x26quot;\x3e\n  \x3cnoscript\x3e\n      \x3clink href=\x26quot;\/style.96106fab.css\x26quot; rel=\x26quot;stylesheet\x26quot;\x3e\n  \x3c\/noscript\x3e\n  \x3cscript\x3e\n    \/*用来加载非关键CSS的脚本*\/\n  \x3c\/script\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n  \x3c!-- 这里是App的内容 --\x3e\n  \x3cscript type=\x26quot;text\/javascript\x26quot; src=\x26quot;\/build_main.js\x26quot;\x3e\x3c\/script\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22utf-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width,initial-scale=1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eBootstrap Critical\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/css\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 关键CSS通过内部样式表方式引入 *\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attribute\x22\x3efont-family\x3c\/span\x3e: Helvetica Neue,Helvetica,Arial,sans-serif;\n      \x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e14px\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1.42857\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#333\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\n    }\n    ...\n  \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/style.96106fab.css\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22preload\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eas\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22style\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonload\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22this.rel=\x27stylesheet\x27\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3enoscript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/style.96106fab.css\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3enoscript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*用来加载非关键CSS的脚本*\/\x3c\/span\x3e\n  \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 这里是App的内容 --\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/build_main.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e它还将输出一个新的CSS文件，例如\x3cem\x3estyle.96106fab.css\x3c\/em\x3e（文件自动Hash命名）。这个CSS文件与原始样式表相同，只是不包含关键CSS。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e内联嵌入关键CSS样式\x3c\/h2\x3e\n\x3cp\x3e你会注意到，关键CSS已经嵌入到文档的头部。这是最佳的，因为页面不必从服务器加载它。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e预加载非关键CSS\x3c\/h2\x3e\n\x3cp\x3e你还会注意到，非关键CSS使用了一个看起来更复杂的\x3ccode\x3elink\x3c\/code\x3e标签来加载。\x3ccode\x3erel=\x22preload\x22\x3c\/code\x3e通知浏览器开始获取非关键CSS以供之后用。其关键在于，\x3ccode\x3epreload\x3c\/code\x3e不阻塞渲染，无论资源是否加载完成，浏览器都会接着绘制页面。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3elink\x3c\/code\x3e标签中的\x3ccode\x3eonload\x3c\/code\x3e属性允许我们在非关键CSS加载完成时运行脚本。\x3cem\x3eCritical\x3c\/em\x3e模块可以自动将此脚本嵌入到文档中，这种方式提供了将非关键CSS加载到页面中的跨浏览器兼容方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3clink href=\x26quot;\/style.96106fab.css\x26quot; rel=\x26quot;preload\x26quot; as=\x26quot;style\x26quot; onload=\x26quot;this.rel=\x27stylesheet\x27\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;link href=\x3cspan class=\x22hljs-string\x22\x3e\x22\/style.96106fab.css\x22\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22preload\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22style\x22\x3c\/span\x3e onload=\x3cspan class=\x22hljs-string\x22\x3e\x22this.rel=\x27stylesheet\x27\x22\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e把Critical组件添加到webpack打包流程中\x3c\/h2\x3e\n\x3cp\x3e我创建了一个名为\x3ca href=\x22https:\/\/github.com\/anthonygore\/html-critical-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHTML Critical Webpack Plugin\x3c\/a\x3e的插件，该插件仅仅是\x3cem\x3eCritical\x3c\/em\x3e模块的封装。它将在\x3cem\x3eHTML Webpack Plugin\x3c\/em\x3e输出文件后运行。\x3c\/p\x3e\n\x3cp\x3e你可以在Webpack的项目中这样引入：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const HtmlCriticalPlugin = require(\x26quot;html-critical-webpack-plugin\x26quot;);\n\nmodule.export = {\n  ...\n  plugins: [\n    new HtmlWebpackPlugin({ ... }),\n    new ExtractTextPlugin({ ... }),\n    new HtmlCriticalPlugin({\n      base: path.join(path.resolve(__dirname), \x27dist\/\x27),\n      src: \x27index.html\x27,\n      dest: \x27index.html\x27,\n      inline: true,\n      minify: true,\n      extract: true,\n      width: 375,\n      height: 565,\n      penthouse: {\n        blockJSRequests: false,\n      }\n    })\n  ] \n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eHtmlCriticalPlugin\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3erequire(\x22html-critical-webpack-plugin\x22);\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3emodule.export\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n  \x3cspan class=\x22hljs-string\x22\x3e...\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e  plugins:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e[\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eHtmlWebpackPlugin({\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e...\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e}),\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eExtractTextPlugin({\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e...\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e}),\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eHtmlCriticalPlugin({\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      base:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3epath.join(path.resolve(__dirname),\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27dist\/\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e),\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      src:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      dest:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      inline:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      minify:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      extract:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      width:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e375\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      height:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e565\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e      penthouse:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        blockJSRequests:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n      \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e})\x3c\/span\x3e\n  \x3cspan class=\x22hljs-string\x22\x3e]\x3c\/span\x3e \n\x3cspan class=\x22hljs-string\x22\x3e};\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e注意：你应该只在生产版本中使用，因为它将使你的开发环境的构建很慢\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e表现结果\x3c\/h2\x3e\n\x3cp\x3e现在已经抽离了关键CSS，并且把非关键CSS的加载放到空闲时间，这在性能方面会有怎样的提升呢?\x3c\/p\x3e\n\x3cp\x3e我使用Chrome的Lighthouse扩展插件进行测试。请记住，我们尝试优化的指标是\x3ca href=\x22https:\/\/developers.google.com\/web\/tools\/lighthouse\/audits\/first-meaningful-paint\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e“首次有效绘制”\x3c\/a\x3e，也就是用户需要多久才能看到真正可浏览的页面。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e不使用区分关键CSS技术的表现\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011503294?w=1589\x26amp;h=803\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011503294?w=1589\x26amp;h=803\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e使用区分关键CSS技术的表现\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011503295?w=1586\x26amp;h=800\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011503295?w=1586\x26amp;h=800\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e正如你所看到的，我的应用程序First Meaningful paint时间缩短了将近1秒，到达可交互状态的时间节省了0.5秒。实际中，你的应用程序可能无法获得如此惊人的改善，因为我的CSS很笨重（我包含了整个Bootstrap库），而且在这样一个简单的应用程序中，我没有很多关键CSS规则。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010887896\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010887896\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010953661\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010953661\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3eiKcamp原创新书《移动Web前端高效开发实战》已在亚马逊、京东、当当开售。\x3c\/p\x3e\n\x3cp\x3eiKcamp官网：\x3ca href=\x22http:\/\/www.ikcamp.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.ikcamp.com\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>翻译 | 关键CSS和Webpack: 减少阻塞渲染的CSS的自动化解决方案</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011503284">https://segmentfault.com/a/1190000011503284</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/im7jng0liim/" target="_blank">https://alili.tech/archive/im7jng0liim/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>