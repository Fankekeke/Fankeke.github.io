<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JavaScript实现[网易云音乐Web站登录窗口]拖拽功能"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JavaScript实现[网易云音乐Web站登录窗口]拖拽功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/j2raafyvjp/",
				"appid": "1613049289050283", 
				"title": "JavaScript实现[网易云音乐Web站登录窗口]拖拽功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-04T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/waipgafczye/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/dmvc83jl1zn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&text=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&text=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&title=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&is_video=false&description=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&title=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&title=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&title=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fj2raafyvjp%2f&title=JavaScript%e5%ae%9e%e7%8e%b0%5b%e7%bd%91%e6%98%93%e4%ba%91%e9%9f%b3%e4%b9%90Web%e7%ab%99%e7%99%bb%e5%bd%95%e7%aa%97%e5%8f%a3%5d%e6%8b%96%e6%8b%bd%e5%8a%9f%e8%83%bd"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JavaScript实现[网易云音乐Web站登录窗口]拖拽功能</h1><div class="meta"><div class="postdate"><time datetime="2019-01-04" itemprop="datePublished">2019-01-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e说明\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e你可能发现有很多网站他们的登录窗口或者说是登录框是可以拖动的, 更有甚者他们的站点提示框都可以拖动, 你也许可能会对这个功能的实现感兴趣, 那么这篇文章可能会对你有所帮助！具体的网站示例以 \x3ccode\x3e网易云音乐\x3c\/code\x3e Web站点为例，具体效果如下图所示:\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741485\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741485\x22 alt=\x22网易云音乐登录窗口\x22 title=\x22网易云音乐登录窗口\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eJavaScript实现登录窗口的拖拽原理解析\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e预先假设要实现的登录框允许点击鼠标获取拖拽事件的具体位置就是登录框的标题区块也就是下图所示登录区块黑色部分在文章中以 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e 说明问题, 并且假定 \x3ccode\x3e红色十字\x3c\/code\x3e 图标就是鼠标状态:\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741486\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741486\x22 alt=\x22允许点击鼠标获取拖拽事件的具体位置\x22 title=\x22允许点击鼠标获取拖拽事件的具体位置\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e当鼠标在 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e 点击鼠标时触发 \x3ccode\x3eonmousedown\x3c\/code\x3e 事件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e获取鼠标在 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e 点击时的具体位置\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741487\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741487\x22 alt=\x22点击时的具体位置\x22 title=\x22点击时的具体位置\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e当鼠标移动时改变 \x3ccode\x3e登录窗口\x3c\/code\x3e 左上角位置(也是就是坐标点位置)距离页面可视区左上角位置, 那么这个 \x3ccode\x3e登录窗口\x3c\/code\x3e 也就移动了, 也就实现了 \x3ccode\x3e登录窗口\x3c\/code\x3e 的拖拽功能\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e当鼠标移动时触发 \x3ccode\x3eonmousemove\x3c\/code\x3e 事件\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e当鼠标抬起时, 触发 \x3ccode\x3eonmouseup\x3c\/code\x3e 事件\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e释放 \x3ccode\x3eonmousemove\x3c\/code\x3e 事件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e释放 \x3ccode\x3eonmouseup\x3c\/code\x3e 事件自身\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e以上过程就是一个完整的 \x3ccode\x3e登录窗口\x3c\/code\x3e 拖拽的过程, 不过要注意以下几点:\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e拖拽移动 \x3ccode\x3e登录窗口\x3c\/code\x3e 时为 \x3ccode\x3edocument\x3c\/code\x3e 绑定 \x3ccode\x3eonmousemove\x3c\/code\x3e 事件, 而不是 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e为什么这样做呢? 如果只是为 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e 绑定 \x3ccode\x3eonmousemove\x3c\/code\x3e 件事, 当鼠标移动的快了就会导致事件绑定丢失, 不过你可以去验证\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e下图是将 \x3ccode\x3eonmousemove\x3c\/code\x3e 绑定到 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e 这样其是不对的！\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741488\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741488\x22 alt=\x22示例\x22 title=\x22示例\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e下图是将 \x3ccode\x3eonmousemove\x3c\/code\x3e 绑定到 \x3ccode\x3edocument\x3c\/code\x3e 上的事件, 这样才是最完美的, 因为你不管怎么拖它都不会丢失事件绑定\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741489\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741489\x22 alt=\x22示例\x22 title=\x22示例\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e抬起鼠标时同样也是为 \x3ccode\x3edocument\x3c\/code\x3e 绑定 \x3ccode\x3eonmouseup\x3c\/code\x3e 事件, 而不是 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e为什么呢？如果只是为 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e 绑定 \x3ccode\x3eonmouseup\x3c\/code\x3e 事件, 你会发现当鼠标移动到脱离文档可视区域时，抬起点击的鼠标按键你会发现当再一次移动鼠标时它依然可以移动这就不符合常理了不是嘛！那就给 \x3ccode\x3edocument\x3c\/code\x3e 绑定 \x3ccode\x3eonmouseup\x3c\/code\x3e 事件时，它就可以很好的解决这个怪异的问题！\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e下图是将 \x3ccode\x3eonmouseup\x3c\/code\x3e 绑定到 \x3ccode\x3e允许点击鼠标获取拖拽事件区域\x3c\/code\x3e 这样其是不对的！\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741490\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741490\x22 alt=\x22示例\x22 title=\x22示例\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e下图是将 \x3ccode\x3eonmouseup\x3c\/code\x3e 绑定到 \x3ccode\x3edocument\x3c\/code\x3e 上的事件, 这样才是最完美的\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741491\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741491\x22 alt=\x22示例\x22 title=\x22示例\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不过你会发现拖不回来了, 这是问题也是后面要说的优化问题, 先留一坑，一会填坑时再说！\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eJavaScript实现登录窗口的拖拽效果\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3eJS拖拽\x3c\/title\x3e\n    \x3cstyle\x3e\n        \/* public style start *\/\n        * { margin: 0; padding: 0; }\n        body, textarea, select, input, button {font-size: 12px;color: white;font-family: Arial, Helvetica, sans-serif;-webkit-text-size-adjust: none;}\n        .fl-l { float: left }\n        .fl-r { float: right }\n        .clearfix:after {visibility:hidden;display:block;font-size:0;content:\x27.\x27;clear:both;height:0;}\n        .clearfix {*zoom:1;}\n        \/* public style end *\/\n\n        \/* dialog window style start *\/\n\n        \/* dialog window main *\/\n        #dialog {\n            height: 200px;\n            width: 400px;\n            background-color: #EAF6DB;\n            border: 1px solid lightslategray;\n            position: absolute;\n            top: 200px;\n            left: 400px;\n        }\n\n        \/* dialog window title section *\/\n        .dialog-title {\n            height: 40px;\n            line-height: 40px;\n            background-color: #3a3333;\n            cursor: move;\n        }\n\n        \/* dialog window title inner detail *\/\n        .login, .close {\n            display: inline-block;\n            margin: 0 15px;\n        }\n    \x3c\/style\x3e\n    \x3cscript\x3e\n        window.onload = function () {\n            \/\/ 获取DOM元素\n            var oDialog_title = document.getElementById( \x27dialog-title\x27 );  \/\/ 允许点击鼠标获取拖拽事件区域\n            var oDialog = oDialog_title.parentNode; \/\/ 登录窗口\n\n            \/\/ 初始化鼠标默认位置\n            var iDisX = 0;\n            var iDisY = 0;\n\n            \/\/ 为获取到的DOM元素添加鼠标按下事件 `onmousedown`\n            oDialog_title.onmousedown = function ( ent ) {\n                \/\/ 保存鼠标事件对象\n                var oEvent = ent || event;\n\n                \/\/ 距离计算鼠标位于弹出框内的位置\n                iDisX = oEvent.clientX - oDialog.offsetLeft;    \/\/ 鼠标X轴位置 - 弹出框X外左边距\n                iDisY = oEvent.clientY - oDialog.offsetTop;     \/\/ 鼠标Y轴位置 - 弹出框Y外上边距\n\n                \/\/ 点击弹出框后拖动鼠标, 移动弹出框\n                document.onmousemove = function ( ent ) {\n                    \/\/ 保存鼠标事件对象\n                    var oEvent = ent || event;\n\n                    \/\/ 当鼠标移动时改变弹出框的位置\n                    oDialog.style.left = oEvent.clientX - iDisX \x2b \x27px\x27;\n                    oDialog.style.top = oEvent.clientY - iDisY \x2b \x27px\x27;\n                };\n\n                \/\/ 当点击鼠标拖动弹出框, 抬起鼠标时\n                document.onmouseup = function () {\n                    \/\/ 清除弹出框的移动事件及本身\n                    document.onmousemove = null;\n                    document.onmouseup = null;\n                };\n\n                \/\/ 阻止默认事件, 如果不加这个阻止默认事件, 在firefox下会有一个获取焦点的光标一直在闪动, 在3.0及以下会出现拖动出现重影的情况\n                return false;\n            };\n\n\n        };\n    \x3c\/script\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n    \x3c!-- 假设这个DIV就是一个登录窗口 --\x3e\n    \x3cdiv id=\x26quot;dialog\x26quot;\x3e\n        \x3cdiv id=\x26quot;dialog-title\x26quot; class=\x26quot;dialog-title clearfix\x26quot;\x3e\n            \x3cspan class=\x26quot;fl-l login\x26quot;\x3e登录\x3c\/span\x3e\n            \x3cspan class=\x26quot;fl-r close\x26quot;\x3eX\x3c\/span\x3e\n        \x3c\/div\x3e\n    \x3c\/div\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eJS拖拽\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n        \/* public style start *\/\n        * { margin: 0; padding: 0; }\n        body, textarea, select, input, button {font-size: 12px;color: white;font-family: Arial, Helvetica, sans-serif;-webkit-text-size-adjust: none;}\n        .fl-l { float: left }\n        .fl-r { float: right }\n        .clearfix:after {visibility:hidden;display:block;font-size:0;content:\x27.\x27;clear:both;height:0;}\n        .clearfix {*zoom:1;}\n        \/* public style end *\/\n\n        \/* dialog window style start *\/\n\n        \/* dialog window main *\/\n        #dialog {\n            height: 200px;\n            width: 400px;\n            background-color: #EAF6DB;\n            border: 1px solid lightslategray;\n            position: absolute;\n            top: 200px;\n            left: 400px;\n        }\n\n        \/* dialog window title section *\/\n        .dialog-title {\n            height: 40px;\n            line-height: 40px;\n            background-color: #3a3333;\n            cursor: move;\n        }\n\n        \/* dialog window title inner detail *\/\n        .login, .close {\n            display: inline-block;\n            margin: 0 15px;\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取DOM元素\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDialog_title = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById( \x3cspan class=\x22hljs-string\x22\x3e\x27dialog-title\x27\x3c\/span\x3e );  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 允许点击鼠标获取拖拽事件区域\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDialog = oDialog_title.parentNode; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 登录窗口\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化鼠标默认位置\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iDisX = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iDisY = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 为获取到的DOM元素添加鼠标按下事件 `onmousedown`\x3c\/span\x3e\n            oDialog_title.onmousedown = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e ent \x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存鼠标事件对象\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oEvent = ent || event;\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 距离计算鼠标位于弹出框内的位置\x3c\/span\x3e\n                iDisX = oEvent.clientX - oDialog.offsetLeft;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标X轴位置 - 弹出框X外左边距\x3c\/span\x3e\n                iDisY = oEvent.clientY - oDialog.offsetTop;     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标Y轴位置 - 弹出框Y外上边距\x3c\/span\x3e\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 点击弹出框后拖动鼠标, 移动弹出框\x3c\/span\x3e\n                \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmousemove = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e ent \x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存鼠标事件对象\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oEvent = ent || event;\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当鼠标移动时改变弹出框的位置\x3c\/span\x3e\n                    oDialog.style.left = oEvent.clientX - iDisX \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                    oDialog.style.top = oEvent.clientY - iDisY \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                };\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当点击鼠标拖动弹出框, 抬起鼠标时\x3c\/span\x3e\n                \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmouseup = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 清除弹出框的移动事件及本身\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmousemove = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n                    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmouseup = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n                };\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止默认事件, 如果不加这个阻止默认事件, 在firefox下会有一个获取焦点的光标一直在闪动, 在3.0及以下会出现拖动出现重影的情况\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n            };\n\n\n        };\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 假设这个DIV就是一个登录窗口 --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog-title\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog-title clearfix\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22fl-l login\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e登录\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22fl-r close\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eX\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e以上就是以一个简单的DIV模拟 \x3ccode\x3e登录窗口\x3c\/code\x3e 实现的一个简单拖拽过程\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eJavaScript实现登录窗口的拖拽具体效果\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741492\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741492\x22 alt=\x22JavaScript实现登录窗口的拖拽具体效果\x22 title=\x22JavaScript实现登录窗口的拖拽具体效果\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e你可能已经发现了这个 \x3ccode\x3e登录窗口\x3c\/code\x3e 与 \x3ccode\x3e网易云音乐\x3c\/code\x3e 最大的区别在于它可以拖拽出文档可视区域, 它甚至可以拖拽到文档不可见区域, 那就永远拖不回了, 就像那已分手并结婚了的前女友永远也回不来一样\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741493\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741493\x22 alt=\x22就像那已分手并结婚了的前女友永远也回不来一样\x22 title=\x22就像那已分手并结婚了的前女友永远也回不来一样\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e(好了, 找一没人的地哭晕在厕所好了 \x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22sob\x22 title=\x22sob\x22\x3e 是不是同时又想起来那几句话[得不到的永远在骚动, 失去的永远在怀念, 身边的永远成为风景, ......]), 以上是逗逼时刻就当没发生一样好了 \x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22joy\x22 title=\x22joy\x22\x3e\x3c\/p\x3e\n\x3cp\x3e其实这也是上面留的一个坑, 现在来优化填坑, 就是实现和 \x3ccode\x3e网易云音乐\x3c\/code\x3e 网站 \x3ccode\x3e登录窗口\x3c\/code\x3e 一样的效果, 禁止 \x3ccode\x3e登录窗口\x3c\/code\x3e 拖拽出文档可视区以外! 下面是填坑时刻, 非战斗人员请火速离开现场  \x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22joy\x22 title=\x22joy\x22\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3eJavaScript实现登录窗口的拖拽优化填坑\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e其实思路很简单就是当 \x3ccode\x3e登录窗口\x3c\/code\x3e 的四个边和文档窗口的其一边界重合时, 就让 \x3ccode\x3e登录窗口\x3c\/code\x3e 的那一个边的外边距值与重合的文档那一个边的值相等, 那这个事情就妥妥的搞定了!\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e只需要修改 \x3ccode\x3edocumnet.onmousemove\x3c\/code\x3e 事件方法 \x3ccode\x3e登录窗口\x3c\/code\x3e 当前位置即可!\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 当鼠标移动时改变弹出框的位置\noDialog.style.left = oEvent.clientX - iDisX \x2b \x27px\x27;\noDialog.style.top = oEvent.clientY - iDisY \x2b \x27px\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nsis\x22\x3e\x3ccode class=\x22console\x22\x3e\/\/ 当鼠标移动时改变弹出框的位置\noDialog.style.\x3cspan class=\x22hljs-literal\x22\x3eleft\x3c\/span\x3e = oEvent.clientX - iDisX \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\noDialog.style.\x3cspan class=\x22hljs-literal\x22\x3etop\x3c\/span\x3e = oEvent.clientY - iDisY \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e改写如下:\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 优化填坑 - 禁止 `登录窗口` 拖拽出文档可视区域, 保存 `登录窗口` 在文档中具体位置\nvar iCurrentDialogDisLift = oEvent.clientX - iDisX; \/\/ `登录窗口` 当前位置于X轴具体值\nvar iCurrentDialogDisTop = oEvent.clientY - iDisY;  \/\/ `登录窗口` 当前位置于Y轴具体值\n\n\/\/ 检测当前 `登录窗口` X轴是否位于文档可视区域最左侧或最右侧\nif ( iCurrentDialogDisLift \x3c 0 ) {\n    iCurrentDialogDisLift = 0;\n} else if ( iCurrentDialogDisLift \x3e document.documentElement.clientWidth - oDialog.offsetWidth  ) {\n    \/\/ 当前文档X轴可视区域大小包括左右边框线宽度 - `登录窗口` X轴区域大小包括左右边框线宽度\n    iCurrentDialogDisLift = document.documentElement.clientWidth - oDialog.offsetWidth;\n}\n\n\/\/ 检测当前 `登录窗口` Y轴是否位于文档可视区域最上端或最下端\nif ( iCurrentDialogDisTop \x3c 0 ) {\n    iCurrentDialogDisTop = 0;\n} else if ( iCurrentDialogDisTop \x3e document.documentElement.clientHeight - oDialog.offsetHeight ) {\n    \/\/ 当前文档Y轴可视区域大小包括上下边框线宽度 - `登录窗口` Y轴区域大小包括上下边框线宽度\n    iCurrentDialogDisTop = document.documentElement.clientHeight - oDialog.offsetHeight;\n}\n\n\/\/ 当鼠标移动时改变弹出框的位置\noDialog.style.left = iCurrentDialogDisLift \x2b \x27px\x27;\noDialog.style.top = iCurrentDialogDisTop \x2b \x27px\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode class=\x22console\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 优化填坑 - 禁止 `登录窗口` 拖拽出文档可视区域, 保存 `登录窗口` 在文档中具体位置\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogDisLift = oEvent.clientX - iDisX; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `登录窗口` 当前位置于X轴具体值\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogDisTop = oEvent.clientY - iDisY;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `登录窗口` 当前位置于Y轴具体值\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测当前 `登录窗口` X轴是否位于文档可视区域最左侧或最右侧\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisLift \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ) {\n    iCurrentDialogDisLift = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisLift \x26gt; \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientWidth - oDialog.offsetWidth  ) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前文档X轴可视区域大小包括左右边框线宽度 - `登录窗口` X轴区域大小包括左右边框线宽度\x3c\/span\x3e\n    iCurrentDialogDisLift = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientWidth - oDialog.offsetWidth;\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测当前 `登录窗口` Y轴是否位于文档可视区域最上端或最下端\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisTop \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ) {\n    iCurrentDialogDisTop = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisTop \x26gt; \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientHeight - oDialog.offsetHeight ) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前文档Y轴可视区域大小包括上下边框线宽度 - `登录窗口` Y轴区域大小包括上下边框线宽度\x3c\/span\x3e\n    iCurrentDialogDisTop = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientHeight - oDialog.offsetHeight;\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当鼠标移动时改变弹出框的位置\x3c\/span\x3e\noDialog.style.left = iCurrentDialogDisLift \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\noDialog.style.top = iCurrentDialogDisTop \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3eJavaScript实现登录窗口的拖拽优化填坑全文档\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3eJS拖拽\x3c\/title\x3e\n    \x3cstyle\x3e\n        \/* public style start *\/\n        * { margin: 0; padding: 0; }\n        body, textarea, select, input, button {font-size: 12px;color: white;font-family: Arial, Helvetica, sans-serif;-webkit-text-size-adjust: none;}\n        .fl-l { float: left }\n        .fl-r { float: right }\n        .clearfix:after {visibility:hidden;display:block;font-size:0;content:\x27.\x27;clear:both;height:0;}\n        .clearfix {*zoom:1;}\n        \/* public style end *\/\n\n        \/* dialog window style start *\/\n\n        \/* dialog window main *\/\n        #dialog {\n            height: 200px;\n            width: 400px;\n            background-color: #EAF6DB;\n            border: 1px solid lightslategray;\n            position: absolute;\n            top: 200px;\n            left: 400px;\n        }\n\n        \/* dialog window title section *\/\n        .dialog-title {\n            height: 40px;\n            line-height: 40px;\n            background-color: #3a3333;\n            cursor: move;\n        }\n\n        \/* dialog window title inner detail *\/\n        .login, .close {\n            display: inline-block;\n            margin: 0 15px;\n        }\n    \x3c\/style\x3e\n    \x3cscript\x3e\n        window.onload = function () {\n            \/\/ 获取DOM元素\n            var oDialog_title = document.getElementById( \x27dialog-title\x27 );  \/\/ 允许点击鼠标获取拖拽事件区域\n            var oDialog = oDialog_title.parentNode; \/\/ 登录窗口\n\n            \/\/ 初始化鼠标默认位置\n            var iDisX = 0;\n            var iDisY = 0;\n\n            \/\/ 为获取到的DOM元素添加鼠标按下事件 `onmousedown`\n            oDialog_title.onmousedown = function ( ent ) {\n                \/\/ 保存鼠标事件对象\n                var oEvent = ent || event;\n\n                \/\/ 距离计算鼠标位于弹出框内的位置\n                iDisX = oEvent.clientX - oDialog.offsetLeft;    \/\/ 鼠标X轴位置 - 弹出框X外左边距\n                iDisY = oEvent.clientY - oDialog.offsetTop;     \/\/ 鼠标Y轴位置 - 弹出框Y外上边距\n\n                \/\/ 点击弹出框后拖动鼠标, 移动弹出框\n                document.onmousemove = function ( ent ) {\n                    \/\/ 保存鼠标事件对象\n                    var oEvent = ent || event;\n\n                    \/\/ 优化填坑 - 禁止 `登录窗口` 拖拽出文档可视区域, 保存 `登录窗口` 在文档中具体位置\n                    var iCurrentDialogDisLift = oEvent.clientX - iDisX; \/\/ `登录窗口` 当前位置于X轴具体值\n                    var iCurrentDialogDisTop = oEvent.clientY - iDisY;  \/\/ `登录窗口` 当前位置于Y轴具体值\n\n                    \/\/ 检测当前 `登录窗口` X轴是否位于文档可视区域最左侧或最右侧\n                    if ( iCurrentDialogDisLift \x3c 0 ) {\n                        iCurrentDialogDisLift = 0;\n                    } else if ( iCurrentDialogDisLift \x3e document.documentElement.clientWidth - oDialog.offsetWidth  ) {\n                        \/\/ 当前文档X轴可视区域大小包括左右边框线宽度 - `登录窗口` X轴区域大小包括左右边框线宽度\n                        iCurrentDialogDisLift = document.documentElement.clientWidth - oDialog.offsetWidth;\n                    }\n\n                    \/\/ 检测当前 `登录窗口` Y轴是否位于文档可视区域最上端或最下端\n                    if ( iCurrentDialogDisTop \x3c 0 ) {\n                        iCurrentDialogDisTop = 0;\n                    } else if ( iCurrentDialogDisTop \x3e document.documentElement.clientHeight - oDialog.offsetHeight ) {\n                        \/\/ 当前文档Y轴可视区域大小包括上下边框线宽度 - `登录窗口` Y轴区域大小包括上下边框线宽度\n                        iCurrentDialogDisTop = document.documentElement.clientHeight - oDialog.offsetHeight;\n                    }\n\n                    \/\/ 当鼠标移动时改变弹出框的位置\n                    oDialog.style.left = iCurrentDialogDisLift \x2b \x27px\x27;\n                    oDialog.style.top = iCurrentDialogDisTop \x2b \x27px\x27;\n                };\n\n                \/\/ 当点击鼠标拖动弹出框, 抬起鼠标时\n                document.onmouseup = function () {\n                    \/\/ 清除弹出框的移动事件及本身\n                    document.onmousemove = null;\n                    document.onmouseup = null;\n                };\n\n                \/\/ 阻止默认事件, 如果不加这个阻止默认事件, 在firefox下会有一个获取焦点的光标一直在闪动, 在3.0及以下会出现拖动出现重影的情况\n                return false;\n            };\n        };\n    \x3c\/script\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n    \x3c!-- 假设这个DIV就是一个登录窗口 --\x3e\n    \x3cdiv id=\x26quot;dialog\x26quot;\x3e\n        \x3cdiv id=\x26quot;dialog-title\x26quot; class=\x26quot;dialog-title clearfix\x26quot;\x3e\n            \x3cspan class=\x26quot;fl-l login\x26quot;\x3e登录\x3c\/span\x3e\n            \x3cspan class=\x26quot;fl-r close\x26quot;\x3eX\x3c\/span\x3e\n        \x3c\/div\x3e\n    \x3c\/div\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode class=\x22console\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eJS拖拽\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n        \/* public style start *\/\n        * { margin: 0; padding: 0; }\n        body, textarea, select, input, button {font-size: 12px;color: white;font-family: Arial, Helvetica, sans-serif;-webkit-text-size-adjust: none;}\n        .fl-l { float: left }\n        .fl-r { float: right }\n        .clearfix:after {visibility:hidden;display:block;font-size:0;content:\x27.\x27;clear:both;height:0;}\n        .clearfix {*zoom:1;}\n        \/* public style end *\/\n\n        \/* dialog window style start *\/\n\n        \/* dialog window main *\/\n        #dialog {\n            height: 200px;\n            width: 400px;\n            background-color: #EAF6DB;\n            border: 1px solid lightslategray;\n            position: absolute;\n            top: 200px;\n            left: 400px;\n        }\n\n        \/* dialog window title section *\/\n        .dialog-title {\n            height: 40px;\n            line-height: 40px;\n            background-color: #3a3333;\n            cursor: move;\n        }\n\n        \/* dialog window title inner detail *\/\n        .login, .close {\n            display: inline-block;\n            margin: 0 15px;\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取DOM元素\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDialog_title = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById( \x3cspan class=\x22hljs-string\x22\x3e\x27dialog-title\x27\x3c\/span\x3e );  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 允许点击鼠标获取拖拽事件区域\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDialog = oDialog_title.parentNode; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 登录窗口\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化鼠标默认位置\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iDisX = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iDisY = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 为获取到的DOM元素添加鼠标按下事件 `onmousedown`\x3c\/span\x3e\n            oDialog_title.onmousedown = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e ent \x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存鼠标事件对象\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oEvent = ent || event;\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 距离计算鼠标位于弹出框内的位置\x3c\/span\x3e\n                iDisX = oEvent.clientX - oDialog.offsetLeft;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标X轴位置 - 弹出框X外左边距\x3c\/span\x3e\n                iDisY = oEvent.clientY - oDialog.offsetTop;     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标Y轴位置 - 弹出框Y外上边距\x3c\/span\x3e\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 点击弹出框后拖动鼠标, 移动弹出框\x3c\/span\x3e\n                \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmousemove = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e ent \x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存鼠标事件对象\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oEvent = ent || event;\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 优化填坑 - 禁止 `登录窗口` 拖拽出文档可视区域, 保存 `登录窗口` 在文档中具体位置\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogDisLift = oEvent.clientX - iDisX; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `登录窗口` 当前位置于X轴具体值\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogDisTop = oEvent.clientY - iDisY;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `登录窗口` 当前位置于Y轴具体值\x3c\/span\x3e\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测当前 `登录窗口` X轴是否位于文档可视区域最左侧或最右侧\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisLift \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ) {\n                        iCurrentDialogDisLift = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n                    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisLift \x26gt; \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientWidth - oDialog.offsetWidth  ) {\n                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前文档X轴可视区域大小包括左右边框线宽度 - `登录窗口` X轴区域大小包括左右边框线宽度\x3c\/span\x3e\n                        iCurrentDialogDisLift = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientWidth - oDialog.offsetWidth;\n                    }\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测当前 `登录窗口` Y轴是否位于文档可视区域最上端或最下端\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisTop \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ) {\n                        iCurrentDialogDisTop = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n                    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisTop \x26gt; \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientHeight - oDialog.offsetHeight ) {\n                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前文档Y轴可视区域大小包括上下边框线宽度 - `登录窗口` Y轴区域大小包括上下边框线宽度\x3c\/span\x3e\n                        iCurrentDialogDisTop = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientHeight - oDialog.offsetHeight;\n                    }\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当鼠标移动时改变弹出框的位置\x3c\/span\x3e\n                    oDialog.style.left = iCurrentDialogDisLift \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                    oDialog.style.top = iCurrentDialogDisTop \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                };\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当点击鼠标拖动弹出框, 抬起鼠标时\x3c\/span\x3e\n                \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmouseup = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 清除弹出框的移动事件及本身\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmousemove = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n                    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmouseup = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n                };\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止默认事件, 如果不加这个阻止默认事件, 在firefox下会有一个获取焦点的光标一直在闪动, 在3.0及以下会出现拖动出现重影的情况\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n            };\n        };\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 假设这个DIV就是一个登录窗口 --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog-title\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog-title clearfix\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22fl-l login\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e登录\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22fl-r close\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eX\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3eJavaScript实现登录窗口的拖拽优化填坑后具体效果\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010741494\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010741494\x22 alt=\x22JavaScript实现登录窗口的拖拽优化填坑后具体效果\x22 title=\x22JavaScript实现登录窗口的拖拽优化填坑后具体效果\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e文章写到这里可能也有不伙伴说了, 滚动一小段距离也就是出现滚动条时, 再拖拽还是会出现 \x3ccode\x3e登录窗口\x3c\/code\x3e 脱离可视区域的情况!\x3c\/p\x3e\n\x3cp\x3e对于小伙伴提出的问题至少有二种解决方案！\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e添加滚动距离计算, 当页面滚动后实时让 \x3ccode\x3e登录窗口\x3c\/code\x3e 位于正中间并且只允许在可视区域拖拽\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e添加模态框, 就是当出现 \x3ccode\x3e登录窗口\x3c\/code\x3e 时禁止滚动\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e下面来一个一个的说:\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3eJavaScript实现登录窗口的拖拽优化填坑 - 滚动距离计算\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3eJS拖拽扩展-计算滚动距离\x3c\/title\x3e\n    \x3cstyle\x3e\n        \/* public style start *\/\n        * { margin: 0; padding: 0; }\n        body, textarea, select, input, button {font-size: 12px;color: white;font-family: Arial, Helvetica, sans-serif;-webkit-text-size-adjust: none;}\n        .fl-l { float: left }\n        .fl-r { float: right }\n        .clearfix:after {visibility:hidden;display:block;font-size:0;content:\x27.\x27;clear:both;height:0;}\n        .clearfix {*zoom:1;}\n        \/* public style end *\/\n\n        \/* dialog window style start *\/\n\n        \/* dialog window main *\/\n        #dialog {\n            height: 200px;\n            width: 400px;\n            background-color: #EAF6DB;\n            border: 1px solid lightslategray;\n            position: absolute;\n        }\n\n        \/* dialog window title section *\/\n        .dialog-title {\n            height: 40px;\n            line-height: 40px;\n            background-color: #3a3333;\n            cursor: move;\n        }\n\n        \/* dialog window title inner detail *\/\n        .login, .close {\n            display: inline-block;\n            margin: 0 15px;\n        }\n    \x3c\/style\x3e\n    \x3cscript\x3e\n        window.onload = function () {\n            \/\/ 获取DOM元素\n            var oDialog_title = document.getElementById( \x27dialog-title\x27 );  \/\/ 允许点击鼠标获取拖拽事件区域\n            var oDialog = oDialog_title.parentNode; \/\/ 登录窗口\n\n            \/\/ 初始化 `登录窗口` 默认居中位置 start\n\n            \/\/ 获取当前文档可视区宽度和高度\n            var iScreenHeight = document.documentElement.clientHeight;  \/\/ 可视区高度\n            var iScreenWidth = document.documentElement.clientWidth;  \/\/ 可视区宽度\n\n            \/\/ 获取当前 `登录窗口` 宽度和高度\n            var iCurrentDialogHeight = oDialog.offsetHeight;    \/\/ 窗口高度\n            var iCurrentDialogWidth = oDialog.offsetWidth;    \/\/ 窗口宽度\n\n            \/\/ 计算保存初始化后 `登录窗口` 的默认垂直水平居中位置\n            var iCurrentDialogTop = parseInt( ( iScreenHeight \/ 2 ) - ( iCurrentDialogHeight \/ 2 ) );\n            var iCurrentDialogLeft = parseInt( ( iScreenWidth \/ 2 ) - ( iCurrentDialogWidth \/ 2 ) );\n\n            \/\/ 修改 `登录窗口` 默认位置\n            oDialog.style.top = iCurrentDialogTop \x2b \x27px\x27;\n            oDialog.style.left = iCurrentDialogLeft \x2b \x27px\x27;\n\n            \/\/ 初始化 `登录窗口` 默认居中位置 end\n\n\n            \/\/ 初始化当前滚动条滚动距离\n            var iCurrentScrollTop = 0;\n            \/\/ 初始化当前 `登录窗口` 应该滚动距离\n            var iRealTimeTop = 0;\n\n            \/\/ 计算当前滚动条滚动距离\n            window.onscroll = function () {\n                \/\/ 兼容写法获取当前滚动条滚动距离\n                iCurrentScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n\n                \/\/ 直接这么改变top值, 会出现抖动, 这样感觉太生硬, 体验也不太好\n                \/\/ oDialog.style.top = iCurrentDialogTop \x2b iCurrentScrollTop \x2b \x27px\x27;\n\n                \/\/ 当前 `登录窗口` 应该实时滚动距离\n                iRealTimeTop = iCurrentDialogTop \x2b iCurrentScrollTop;\n\n                \/\/ 为了防止出现抖动, 这样感觉也不太生硬, 优化体验可以采用缓冲运动方式\n                fnBufferMotion( oDialog, iRealTimeTop );\n            };\n\n            \/\/ 初始化鼠标默认位置\n            var iDisX = 0;\n            var iDisY = 0;\n\n            \/\/ 为获取到的DOM元素添加鼠标按下事件 `onmousedown`\n            oDialog_title.onmousedown = function ( ent ) {\n                \/\/ 保存鼠标事件对象\n                var oEvent = ent || event;\n\n                \/\/ 距离计算鼠标位于弹出框内的位置\n                iDisX = oEvent.clientX - oDialog.offsetLeft;    \/\/ 鼠标X轴位置 - 弹出框X外左边距\n                iDisY = oEvent.clientY \x2b iCurrentDialogTop - oDialog.offsetTop;     \/\/ 鼠标Y轴位置 \x2b 当前滚动条滚动距离 - 弹出框Y外上边距\n\n                console.log( iCurrentDialogTop );\n\n                \/\/ 点击弹出框后拖动鼠标, 移动弹出框\n                document.onmousemove = function ( ent ) {\n                    \/\/ 保存鼠标事件对象\n                    var oEvent = ent || event;\n\n                    \/\/ 优化填坑 - 禁止 `登录窗口` 拖拽出文档可视区域, 保存 `登录窗口` 在文档中具体位置\n                    var iCurrentDialogDisLift = oEvent.clientX - iDisX; \/\/ `登录窗口` 当前位置于X轴具体值\n                    var iCurrentDialogDisTop = oEvent.clientY \x2b iCurrentDialogTop - iDisY;  \/\/ `登录窗口` 当前位置于Y轴具体值\n\n                    \/\/ 检测当前 `登录窗口` X轴是否位于文档可视区域最左侧或最右侧\n                    if ( iCurrentDialogDisLift \x3c 0 ) {\n                        iCurrentDialogDisLift = 0;\n                    } else if ( iCurrentDialogDisLift \x3e document.documentElement.clientWidth - oDialog.offsetWidth  ) {\n                        \/\/ 当前文档X轴可视区域大小包括左右边框线宽度 - `登录窗口` X轴区域大小包括左右边框线宽度\n                        iCurrentDialogDisLift = document.documentElement.clientWidth - oDialog.offsetWidth;\n                    }\n\n                    \/\/ 检测当前 `登录窗口` Y轴是否位于文档可视区域 \x2b 当前滚动条滚动距离 的最上端或最下端\n                    if ( iCurrentDialogDisTop \x3c iCurrentScrollTop ) {\n                        iCurrentDialogDisTop = iCurrentScrollTop;\n                    } else if ( iCurrentDialogDisTop \x3e document.documentElement.clientHeight \x2b iCurrentScrollTop - oDialog.offsetHeight ) {\n                        \/\/ 当前文档Y轴可视区域大小包括上下边框线宽度 \x2b 当前滚动条滚动距离 - `登录窗口` Y轴区域大小包括上下边框线宽度\n                        iCurrentDialogDisTop = document.documentElement.clientHeight \x2b iCurrentScrollTop - oDialog.offsetHeight;\n                    }\n\n                    \/\/ 当鼠标移动时改变弹出框的位置\n                    oDialog.style.left = iCurrentDialogDisLift \x2b \x27px\x27;\n                    oDialog.style.top = iCurrentDialogDisTop \x2b \x27px\x27;\n                };\n\n                \/\/ 当点击鼠标拖动弹出框, 抬起鼠标时\n                document.onmouseup = function () {\n                    \/\/ 清除弹出框的移动事件及本身\n                    document.onmousemove = null;\n                    document.onmouseup = null;\n                };\n\n                \/\/ 阻止默认事件, 如果不加这个阻止默认事件, 在firefox下会有一个获取焦点的光标一直在闪动, 在3.0及以下会出现拖动出现重影的情况\n                return false;\n            };\n        };\n\n        \/\/ 初始化定义器\n        var oTimer = null;\n        \/**\n         * 缓冲运动\n         * @param oElement   运动对象\n         * @param iTarget   目标位置或者说目标点\n         *\/\n        function fnBufferMotion( oElement, iTarget ) {\n            \/\/ 首先就是清除定时器, 因为当下面开启定时器之前禁止存在还有再执行的定时器, 要不然会存在问题, 你可以验证一下\n            clearInterval( oTimer );\n            \/\/ 开启定时器\n            oTimer = setInterval( function () {\n\n                \/\/ 缓冲运动速度\n                var iSpeed = ( iTarget - oElement.offsetTop ) \/ 8;\n\n                \/\/ 缓冲运动速度取整\n                iSpeed = iSpeed \x3e 0 ? Math.ceil( iSpeed ) : Math.floor( iSpeed );\n\n                \/\/ 判断是否缓冲运动到目标点, 是就关闭定时器, 否则就接着运动呗\n                if ( iTarget == oElement.offsetTop ) {\n                    clearInterval( oTimer );    \/\/ 关闭定时器\n                } else {\n                    oElement.style.top = oElement.offsetTop \x2b iSpeed \x2b \x27px\x27;    \/\/ 缓冲运动改变 `登录窗口` 的上外边距\n                }\n            }, 30 );\n        }\n    \x3c\/script\x3e\n\x3c\/head\x3e\n\x3cbody style=\x26quot;height: 4000px;\x26quot;\x3e\n    \x3c!-- 假设这个DIV就是一个登录窗口 --\x3e\n    \x3cdiv id=\x26quot;dialog\x26quot;\x3e\n        \x3cdiv id=\x26quot;dialog-title\x26quot; class=\x26quot;dialog-title clearfix\x26quot;\x3e\n            \x3cspan class=\x26quot;fl-l login\x26quot;\x3e登录\x3c\/span\x3e\n            \x3cspan class=\x26quot;fl-r close\x26quot;\x3eX\x3c\/span\x3e\n        \x3c\/div\x3e\n    \x3c\/div\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eJS拖拽扩展-计算滚动距离\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n        \/* public style start *\/\n        * { margin: 0; padding: 0; }\n        body, textarea, select, input, button {font-size: 12px;color: white;font-family: Arial, Helvetica, sans-serif;-webkit-text-size-adjust: none;}\n        .fl-l { float: left }\n        .fl-r { float: right }\n        .clearfix:after {visibility:hidden;display:block;font-size:0;content:\x27.\x27;clear:both;height:0;}\n        .clearfix {*zoom:1;}\n        \/* public style end *\/\n\n        \/* dialog window style start *\/\n\n        \/* dialog window main *\/\n        #dialog {\n            height: 200px;\n            width: 400px;\n            background-color: #EAF6DB;\n            border: 1px solid lightslategray;\n            position: absolute;\n        }\n\n        \/* dialog window title section *\/\n        .dialog-title {\n            height: 40px;\n            line-height: 40px;\n            background-color: #3a3333;\n            cursor: move;\n        }\n\n        \/* dialog window title inner detail *\/\n        .login, .close {\n            display: inline-block;\n            margin: 0 15px;\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n        \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取DOM元素\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDialog_title = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById( \x3cspan class=\x22hljs-string\x22\x3e\x27dialog-title\x27\x3c\/span\x3e );  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 允许点击鼠标获取拖拽事件区域\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDialog = oDialog_title.parentNode; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 登录窗口\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化 `登录窗口` 默认居中位置 start\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取当前文档可视区宽度和高度\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iScreenHeight = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientHeight;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可视区高度\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iScreenWidth = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientWidth;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可视区宽度\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取当前 `登录窗口` 宽度和高度\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogHeight = oDialog.offsetHeight;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 窗口高度\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogWidth = oDialog.offsetWidth;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 窗口宽度\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 计算保存初始化后 `登录窗口` 的默认垂直水平居中位置\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogTop = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e( ( iScreenHeight \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e ) - ( iCurrentDialogHeight \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e ) );\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogLeft = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e( ( iScreenWidth \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e ) - ( iCurrentDialogWidth \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e ) );\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 修改 `登录窗口` 默认位置\x3c\/span\x3e\n            oDialog.style.top = iCurrentDialogTop \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n            oDialog.style.left = iCurrentDialogLeft \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化 `登录窗口` 默认居中位置 end\x3c\/span\x3e\n\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化当前滚动条滚动距离\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentScrollTop = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化当前 `登录窗口` 应该滚动距离\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iRealTimeTop = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 计算当前滚动条滚动距离\x3c\/span\x3e\n            \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.onscroll = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 兼容写法获取当前滚动条滚动距离\x3c\/span\x3e\n                iCurrentScrollTop = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.scrollTop || \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.scrollTop;\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 直接这么改变top值, 会出现抖动, 这样感觉太生硬, 体验也不太好\x3c\/span\x3e\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ oDialog.style.top = iCurrentDialogTop \x2b iCurrentScrollTop \x2b \x27px\x27;\x3c\/span\x3e\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前 `登录窗口` 应该实时滚动距离\x3c\/span\x3e\n                iRealTimeTop = iCurrentDialogTop \x2b iCurrentScrollTop;\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 为了防止出现抖动, 这样感觉也不太生硬, 优化体验可以采用缓冲运动方式\x3c\/span\x3e\n                fnBufferMotion( oDialog, iRealTimeTop );\n            };\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化鼠标默认位置\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iDisX = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iDisY = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 为获取到的DOM元素添加鼠标按下事件 `onmousedown`\x3c\/span\x3e\n            oDialog_title.onmousedown = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e ent \x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存鼠标事件对象\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oEvent = ent || event;\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 距离计算鼠标位于弹出框内的位置\x3c\/span\x3e\n                iDisX = oEvent.clientX - oDialog.offsetLeft;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标X轴位置 - 弹出框X外左边距\x3c\/span\x3e\n                iDisY = oEvent.clientY \x2b iCurrentDialogTop - oDialog.offsetTop;     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标Y轴位置 \x2b 当前滚动条滚动距离 - 弹出框Y外上边距\x3c\/span\x3e\n\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log( iCurrentDialogTop );\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 点击弹出框后拖动鼠标, 移动弹出框\x3c\/span\x3e\n                \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmousemove = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e ent \x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存鼠标事件对象\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oEvent = ent || event;\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 优化填坑 - 禁止 `登录窗口` 拖拽出文档可视区域, 保存 `登录窗口` 在文档中具体位置\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogDisLift = oEvent.clientX - iDisX; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `登录窗口` 当前位置于X轴具体值\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iCurrentDialogDisTop = oEvent.clientY \x2b iCurrentDialogTop - iDisY;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `登录窗口` 当前位置于Y轴具体值\x3c\/span\x3e\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测当前 `登录窗口` X轴是否位于文档可视区域最左侧或最右侧\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisLift \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ) {\n                        iCurrentDialogDisLift = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n                    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisLift \x26gt; \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientWidth - oDialog.offsetWidth  ) {\n                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前文档X轴可视区域大小包括左右边框线宽度 - `登录窗口` X轴区域大小包括左右边框线宽度\x3c\/span\x3e\n                        iCurrentDialogDisLift = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientWidth - oDialog.offsetWidth;\n                    }\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测当前 `登录窗口` Y轴是否位于文档可视区域 \x2b 当前滚动条滚动距离 的最上端或最下端\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisTop \x26lt; iCurrentScrollTop ) {\n                        iCurrentDialogDisTop = iCurrentScrollTop;\n                    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iCurrentDialogDisTop \x26gt; \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientHeight \x2b iCurrentScrollTop - oDialog.offsetHeight ) {\n                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前文档Y轴可视区域大小包括上下边框线宽度 \x2b 当前滚动条滚动距离 - `登录窗口` Y轴区域大小包括上下边框线宽度\x3c\/span\x3e\n                        iCurrentDialogDisTop = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.clientHeight \x2b iCurrentScrollTop - oDialog.offsetHeight;\n                    }\n\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当鼠标移动时改变弹出框的位置\x3c\/span\x3e\n                    oDialog.style.left = iCurrentDialogDisLift \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                    oDialog.style.top = iCurrentDialogDisTop \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                };\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当点击鼠标拖动弹出框, 抬起鼠标时\x3c\/span\x3e\n                \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmouseup = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 清除弹出框的移动事件及本身\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmousemove = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n                    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onmouseup = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n                };\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止默认事件, 如果不加这个阻止默认事件, 在firefox下会有一个获取焦点的光标一直在闪动, 在3.0及以下会出现拖动出现重影的情况\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n            };\n        };\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化定义器\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oTimer = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-comment\x22\x3e\/**\n         * 缓冲运动\n         * @param oElement   运动对象\n         * @param iTarget   目标位置或者说目标点\n         *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efnBufferMotion\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e oElement, iTarget \x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 首先就是清除定时器, 因为当下面开启定时器之前禁止存在还有再执行的定时器, 要不然会存在问题, 你可以验证一下\x3c\/span\x3e\n            clearInterval( oTimer );\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 开启定时器\x3c\/span\x3e\n            oTimer = setInterval( \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 缓冲运动速度\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iSpeed = ( iTarget - oElement.offsetTop ) \/ \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e;\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 缓冲运动速度取整\x3c\/span\x3e\n                iSpeed = iSpeed \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ? \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.ceil( iSpeed ) : \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor( iSpeed );\n\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断是否缓冲运动到目标点, 是就关闭定时器, 否则就接着运动呗\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( iTarget == oElement.offsetTop ) {\n                    clearInterval( oTimer );    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 关闭定时器\x3c\/span\x3e\n                } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n                    oElement.style.top = oElement.offsetTop \x2b iSpeed \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 缓冲运动改变 `登录窗口` 的上外边距\x3c\/span\x3e\n                }\n            }, \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e );\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22height: 4000px;\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 假设这个DIV就是一个登录窗口 --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog-title\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dialog-title clearfix\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22fl-l login\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e登录\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22fl-r close\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eX\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3eJavaScript实现登录窗口的拖拽优化填坑 - 滚动距离计算效果\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010758284\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010758284\x22 alt=\x22JavaScript实现登录窗口的拖拽优化填坑 - 滚动距离计算效果\x22 title=\x22JavaScript实现登录窗口的拖拽优化填坑 - 滚动距离计算效果\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e至于添加模态框, 就是当出现 \x3ccode\x3e登录窗口\x3c\/code\x3e 时禁止滚动这种方法你可以试着实现一下！\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/warnerwu\/NetEase-cloud-music-Web-station-login-window-drafting\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub: JavaScript实现【网易云音乐Web站登录窗口】拖拽功能\x3c\/a\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e以上就是实现与 \x3ccode\x3e网易云音乐\x3c\/code\x3e Web站 \x3ccode\x3e登录窗口\x3c\/code\x3e  拖拽效果一致的具体过程\x3c\/p\x3e\n\x3cp\x3e希望本文对你的工作和学习有所帮助\x3c\/p\x3e\n\x3cp\x3e如果觉得还不错怎么感谢我呢？ 妈呀! 点赞啊!\x3c\/p\x3e\n\x3cp\x3eGood Luck! from warnerwu at 2017.08.19 AM\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JavaScript实现[网易云音乐Web站登录窗口]拖拽功能</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010741480">https://segmentfault.com/a/1190000010741480</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/j2raafyvjp/" target="_blank">https://alili.tech/archive/j2raafyvjp/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>