<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="前端系列——与众不同的移动端底部固定栏 fixed、absolute 兼容 iOS 和 Android 方案"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>前端系列——与众不同的移动端底部固定栏 fixed、absolute 兼容 iOS 和 Android 方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/kbyqgmmsj/",
				"appid": "1613049289050283", 
				"title": "前端系列——与众不同的移动端底部固定栏 fixed、absolute 兼容 iOS 和 Android 方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-23T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/dres9pm77ka/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/tsf223b06l/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&text=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&text=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&title=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&is_video=false&description=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&title=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&title=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&title=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkbyqgmmsj%2f&title=%e5%89%8d%e7%ab%af%e7%b3%bb%e5%88%97%e2%80%94%e2%80%94%e4%b8%8e%e4%bc%97%e4%b8%8d%e5%90%8c%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%ab%af%e5%ba%95%e9%83%a8%e5%9b%ba%e5%ae%9a%e6%a0%8f%20fixed%e3%80%81absolute%20%e5%85%bc%e5%ae%b9%20iOS%20%e5%92%8c%20Android%20%e6%96%b9%e6%a1%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">前端系列——与众不同的移动端底部固定栏 fixed、absolute 兼容 iOS 和 Android 方案</h1><div class="meta"><div class="postdate"><time datetime="2018-12-23" itemprop="datePublished">2018-12-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cstrong\x3e相信我，我分享的和你在其他博客上看到的终极方案是如此的与众不同！\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e做过移动端开发的同学，对底部DOM定位出现的各种奇葩情况已经深恶痛绝了吧，底部DOM设置不同的position，在Android和ios上表现都不一样。\x3c\/p\x3e\n\x3cp\x3e为了兼容Android和ios，很多人都煞费苦心，也包括我。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e打开你做的H5，尤其是在微信上打开看看，是不是觉得很恶心，如果自我感觉很恶心，那么请往下看这篇文章，不恶心说明你成功了，可以走了！\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e最终还是成功解决了，这篇文章记录一下兼容2种设备的方案。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e第一种情况\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3e据我所知，网上还找不到一个能够真正解决这个问题的教程，因为大多数人都是只考虑在body scroll的情况下，设置底部为fixed或者absolute，然后设置滚动区域padding-bottom的值，这种做法反正我是无法接受的，体验太不爽了，也没有兼容Android和ios。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e下图是第一种情况，滚动区域有表单，底部一个固定栏，当填写表单的时候，我们看看ios和Android的表现情况：\x3c\/p\x3e\n\x3cp\x3e1、底部定位为fixed的情况下\x3c\/p\x3e\n\x3cp\x3eios：激活输入框时，底部不会弹出来（合理）。\x3cbr\x3eAndroid：激活输入框时，底部会跟着输入框弹出来（不合理）。\x3c\/p\x3e\n\x3cp\x3e2、底部定位为absolute的情况下\x3c\/p\x3e\n\x3cp\x3eios：激活输入框时，底部不会弹出来（合理）。\x3cbr\x3eAndroid：激活输入框时，底部会跟着输入框弹出来（不合理）。\x3c\/p\x3e\n\x3cp\x3eandroid后遗症：输入框失焦的时候，可能导致底部显示在浏览器中间某个位置，回不到原位置。\x3c\/p\x3e\n\x3cp\x3eabsolute后遗症：底部按钮和输入框区域一起随着body滚动，不再置顶独立。当滚动区域超过一屏幕时，底部输入框定位出现错乱。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZN04?w=1112\x26amp;h=876\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZN04?w=1112\x26amp;h=876\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e传统解决办法\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cp\x3e通常将底部设置为fixed，当激活输入框的时候，将底部定位改为relative，即可兼容ios和Android。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e第二种情况\x3c\/h3\x3e\n\x3cp\x3e底部如果是个输入框的情况下，我们肯定需要输入框在激活的时候弹出来，和第一种情况是相反的。\x3c\/p\x3e\n\x3cp\x3e1、底部定位为fixed的情况下\x3c\/p\x3e\n\x3cp\x3eios：激活输入框时，底部不会弹出来（不合理）。\x3cbr\x3eAndroid：激活输入框时，底部会跟着输入框弹出来（合理）。\x3c\/p\x3e\n\x3cp\x3e2、底部定位为absolute的情况下\x3c\/p\x3e\n\x3cp\x3eios：当滚动区域超过一屏幕时，底部输入框定位出现错乱（不合理）。\x3cbr\x3eAndroid：当滚动区域超过一屏幕时，底部输入框定位出现错乱（不合理）。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZOcw?w=1100\x26amp;h=892\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZOcw?w=1100\x26amp;h=892\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e传统解决办法：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e仍旧是采用fixed定位\x3c\/p\x3e\n\x3cp\x3eios：在激活输入框的时候，执行下面代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22setTimeout(() =\x3e document.body.scrollTop = document.body.scrollHeight, 500)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3esetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.scrollTop = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.scrollHeight, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eandroid: 表现正常\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e传统解决方案的后遗症\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3e除了抖动问题，还有就是微信端滚动body会显示微信浏览器背景，也就是超出滚动边界回弹效应，还有一个恶心的问题是当有弹框的时候，弹框和body滚动累加的双重滚动会有点击穿透造成的卡顿问题。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e由此，如果你还寄希望于body滚动，那么你的移动端开发体验真的一塌糊涂。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e搭建真正的移动端滚动架构\x3c\/h3\x3e\n\x3cp\x3e看到这里，你可以暂时把上面的传统解决方案统统忘记。\x3c\/p\x3e\n\x3cp\x3e下面我将会分享移动端最舒适的架构方案。\x3c\/p\x3e\n\x3cp\x3e1、你可能听过Iscroll，这个东西是我们今天要用到的框架的鼻祖，但我们不是用它，而是我曾经另外一篇文章介绍到的\x3cstrong\x3eJRoll框架\x3c\/strong\x3e（比IScroll更加轻量和兼容的移动端滚动框架）。\x3c\/p\x3e\n\x3cp\x3e2、使用这款框架对我们解决底部定位问题还有优化弹框体验有什么帮助呢？他可以完美解决传统解决方案的后遗症，因为他并不是使用body滚动，而是使用css3滚动，采用GPU加速，在ios和Android上测试并不卡顿。如果你想做出像app一样流程的H5，别再用那恶心的body滚动了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e源码（复制查看效果，别忘了导入js插件）\x3c\/h3\x3e\n\x3cp\x3e下面的源码你可以直接复制到一个html文件上测试，代码中我提供了多种功能的解决方案：\x3c\/p\x3e\n\x3cp\x3e1、采用滚动框架时，何时获取滚动区域的高度（看源码）\x3c\/p\x3e\n\x3cp\x3e2、输入框底部固定时，在该框架中兼容ios和Android的方法（看源码）\x3c\/p\x3e\n\x3cp\x3e3、采用DocumentFragment动态渲染5000个列表元素，说到这个有点意思，记得腾讯某部门的社招面试题就是考察这个知识点，一般人可能采用的是for循环加innerHTML的方法（看源码）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width, initial-scale=0.5, minimum-scale=0.5, maximum-scale=0.5, user-scalable=no\x26quot;\x3e\n    \x3ctitle\x3eTitle\x3c\/title\x3e\n    \x3cstyle\x3e\n        * {\n            padding: 0;\n            margin: 0;\n        }\n        body, html {\n            font-size: 24px;\n            height: 100%;\n        }\n        ul {\n            padding-bottom: 1rem;\n        }\n        ul li {\n            list-style: none;\n        }\n        .bottom {\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 4.0833rem;\n        }\n        .bottom \x3e input {\n            width: 100%;\n            border: 0;\n            outline: 0;\n            background: rgb(246, 246, 246);\n            color: rgb(255, 255, 255);\n            text-align: center;\n            line-height: 4.0833rem;\n            font-size: 1.25rem;\n        }\n    \x3c\/style\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n\x3cdiv id=\x26quot;scroll-body\x26quot;\x3e\n    \x3cul\x3e\x3c\/ul\x3e\n\x3c\/div\x3e\n\x3cdiv class=\x26quot;bottom\x26quot;\x3e\x3cinput type=\x26quot;text\x26quot; placeholder=\x26quot;请输入内容\x26quot; onfocus=\x26quot;evocation()\x26quot;\x3e\x3c\/div\x3e\n\x3cscript src=\x26quot;.\/js\/jroll.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript\x3e\n    function getClientHeight() {\n\/\/        获取移动端屏幕高度\n        var winHeight\n        if (window.innerHeight) {\n            winHeight = window.innerHeight;\n        } else if ((document.body) \x26amp;\x26amp; (document.body.clientHeight)) {\n            winHeight = document.body.clientHeight;\n        } else if (document.documentElement \x26amp;\x26amp; document.documentElement.clientHeight \x26amp;\x26amp; document.documentElement.clientWidth) {\n            winHeight = document.documentElement.clientHeight;\n        }\n        return winHeight\n    }\n\n    var scrollBody = document.querySelector(\x27#scroll-body\x27) \/\/获取滚动区域的DOM\n    var bottom = document.querySelector(\x27.bottom\x27) \/\/获取底部DOM\n    function renderLi() {\n        \/\/渲染li列表，采用DocumentFragment方案\n        var ul = document.querySelector(\x27ul\x27)\n        var dFrag = document.createDocumentFragment()\n        var startTime = new Date().getTime()\n        for (var i = 0; i \x3c 5000; i\x2b\x2b) {\n            var li = document.createElement(\x26quot;li\x26quot;)\n            li.textContent = i\n            dFrag.appendChild(li)\n        }\n        ul.appendChild(dFrag)\n        var endTime = new Date().getTime()\n        console.log(\x27渲染耗时：\x27, endTime-startTime, \x27ms\x27)\n    }\n    function evocation() {\n        \/\/ios唤出弹框，Android的不需要\n        setTimeout(() =\x3e document.body.scrollTop = document.body.scrollHeight, 500)\n    }\n    renderLi()\n    document.addEventListener(\x27DOMContentLoaded\x27, function() {\n        var height = getClientHeight() - bottom.offsetHeight \/\/获取滚动区域高度\n        scrollBody.style.height = height \x2b \x27px\x27 \/\/计算出实际的滚动区域的高度，然后设置\n        new JRoll(scrollBody) \/\/实例化JRoll插件\n    })\n\x3c\/script\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x26lt;!DOCTYPE html\x26gt;\n\x26lt;html lang=\x22en\x22\x26gt;\n\x26lt;head\x26gt;\n    \x26lt;meta charset=\x22UTF-8\x22\x26gt;\n    \x26lt;meta name=\x22viewport\x22 content=\x22width=device-width, initial-scale=0.5, minimum-scale=0.5, maximum-scale=0.5, user-scalable=no\x22\x26gt;\n    \x26lt;title\x26gt;Title\x26lt;\/title\x26gt;\n    \x26lt;style\x26gt;\n        * {\n            padding: 0;\n            margin: 0;\n        }\n        body, html {\n            font-size: 24px;\n            height: 100%;\n        }\n        ul {\n            padding-bottom: 1rem;\n        }\n        ul li {\n            list-style: none;\n        }\n        .bottom {\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 4.0833rem;\n        }\n        .bottom \x26gt; input {\n            width: 100%;\n            border: 0;\n            outline: 0;\n            background: rgb(246, 246, 246);\n            color: rgb(255, 255, 255);\n            text-align: center;\n            line-height: 4.0833rem;\n            font-size: 1.25rem;\n        }\n    \x26lt;\/style\x26gt;\n\x26lt;\/head\x26gt;\n\x26lt;body\x26gt;\n\x26lt;div id=\x22scroll-body\x22\x26gt;\n    \x26lt;ul\x26gt;\x26lt;\/ul\x26gt;\n\x26lt;\/div\x26gt;\n\x26lt;div class=\x22bottom\x22\x26gt;\x26lt;input type=\x22text\x22 placeholder=\x22请输入内容\x22 onfocus=\x22evocation()\x22\x26gt;\x26lt;\/div\x26gt;\n\x26lt;script src=\x22.\/js\/jroll.js\x22\x26gt;\x26lt;\/script\x26gt;\n\x26lt;script\x26gt;\n    function getClientHeight() {\n\/\/        获取移动端屏幕高度\n        var winHeight\n        if (window.innerHeight) {\n            winHeight = window.innerHeight;\n        } else if ((document.body) \x26amp;\x26amp; (document.body.clientHeight)) {\n            winHeight = document.body.clientHeight;\n        } else if (document.documentElement \x26amp;\x26amp; document.documentElement.clientHeight \x26amp;\x26amp; document.documentElement.clientWidth) {\n            winHeight = document.documentElement.clientHeight;\n        }\n        return winHeight\n    }\n\n    var scrollBody = document.querySelector(\x27#scroll-body\x27) \/\/获取滚动区域的DOM\n    var bottom = document.querySelector(\x27.bottom\x27) \/\/获取底部DOM\n    function renderLi() {\n        \/\/渲染li列表，采用DocumentFragment方案\n        var ul = document.querySelector(\x27ul\x27)\n        var dFrag = document.createDocumentFragment()\n        var startTime = new Date().getTime()\n        for (var i = 0; i \x26lt; 5000; i\x2b\x2b) {\n            var li = document.createElement(\x22li\x22)\n            li.textContent = i\n            dFrag.appendChild(li)\n        }\n        ul.appendChild(dFrag)\n        var endTime = new Date().getTime()\n        console.log(\x27渲染耗时：\x27, endTime-startTime, \x27ms\x27)\n    }\n    function evocation() {\n        \/\/ios唤出弹框，Android的不需要\n        setTimeout(() =\x26gt; document.body.scrollTop = document.body.scrollHeight, 500)\n    }\n    renderLi()\n    document.addEventListener(\x27DOMContentLoaded\x27, function() {\n        var height = getClientHeight() - bottom.offsetHeight \/\/获取滚动区域高度\n        scrollBody.style.height = height \x2b \x27px\x27 \/\/计算出实际的滚动区域的高度，然后设置\n        new JRoll(scrollBody) \/\/实例化JRoll插件\n    })\n\x26lt;\/script\x26gt;\n\x26lt;\/body\x26gt;\n\x26lt;\/html\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e总结\x3c\/h3\x3e\n\x3cp\x3e使用上面提供的框架，你在移动端开发中，不再需要担心底部固定的问题，不再需要担心滚动造成的一系列问题，不再需要担心弹框滚动以及点击弹框造成的穿透问题等。\x3c\/p\x3e\n\x3cp\x3e而且，不知道你发现没有，底部固定栏你现在可以尝试使用fixed、absolute、relative等设置，不再局限于只能使用fixed了。感兴趣就好好研究一下代码吧！\x3c\/p\x3e\n\x3cp\x3e但是\x3c\/p\x3e\n\x3cp\x3e在IOS11版本中，我发现了document.body.scrollTop = document.body.scrollHeight无效的bug，目前还没找到原因，小于IOS11一切正常。\x3c\/p\x3e\n\x3ch4\x3e这里也封装了React版本的插件，可以下载使用：\x3ca href=\x22https:\/\/github.com\/hyy1115\/react-roll-container\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-roll-container\x3c\/a\x3e\n\x3c\/h4\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>前端系列——与众不同的移动端底部固定栏 fixed、absolute 兼容 iOS 和 Android 方案</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012310521">https://segmentfault.com/a/1190000012310521</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/kbyqgmmsj/" target="_blank">https://alili.tech/archive/kbyqgmmsj/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>