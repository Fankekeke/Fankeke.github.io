<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Luy 1.0 ：一个React-like轮子的诞生"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Luy 1.0 ：一个React-like轮子的诞生 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/klc2gsfdey/",
				"appid": "1613049289050283", 
				"title": "Luy 1.0 ：一个React-like轮子的诞生 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-28T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/73thoz8am18/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/6ahsq26dczs/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&text=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&text=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&title=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&is_video=false&description=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&title=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&title=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&title=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fklc2gsfdey%2f&title=Luy%201.0%20%ef%bc%9a%e4%b8%80%e4%b8%aaReact-like%e8%bd%ae%e5%ad%90%e7%9a%84%e8%af%9e%e7%94%9f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Luy 1.0 ：一个React-like轮子的诞生</h1><div class="meta"><div class="postdate"><time datetime="2018-12-28" itemprop="datePublished">2018-12-28</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e前言\x3c\/h1\x3e\n\x3cp\x3e在过去的一个多月中，为了能够更深入的学习，使用React，了解React内部算法，数据结构，我自己，从零开始写了一个玩具框架。\x3c\/p\x3e\n\x3cp\x3e截止今日，终于可以发布第一个版本，因为就在昨天，我跑通了之前的一个小项目。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e预览地址：\x3ca href=\x22http:\/\/link.zhihu.com\/?target=http%3A\/\/htmlpreview.github.io\/%3Fhttps%3A\/\/github.com\/215566435\/React-awesome-resume\/blob\/master\/build\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e动态简历luy版本\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e仓库地址：\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/215566435\/React-awesome-resume\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e喜欢的给点星星哦～\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e框架地址：\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/215566435\/Luy\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eLuy\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e真的从零开始吗？\x3c\/h1\x3e\n\x3cp\x3e其实并不是，我并没有重新把jsx解析器进行造轮子，我用上了官方的解析器去帮助我解析jsx。\x3c\/p\x3e\n\x3cp\x3e在正式开始写Luy的时候，还是比较盲目和恐惧的，原因如下\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e虽然都知道React是基于虚拟DOM来渲染的，但是虚拟DOM到底是什么？怎么运作的\x3cbr\x3eReact的setState是异步的，这个我们都知道。但是他的异步和setTimeOut的异步是一样的吗？内部是不是用\x3ccode\x3esetTimeOut\x3c\/code\x3e实现的？\x3c\/li\x3e\n\x3cli\x3ereact的事件合成系统。在react官方中，几万行代码，有差不多40%左右是用于模拟事件的。这部分内容是如何实现的？为什么这么做呢？\x3c\/li\x3e\n\x3cli\x3eReact列表中的key为什么那么重要？虚拟DOM的优化策略又是什么？\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e带着这些疑问，我要么是去读源码，要么去找文章，但是真正弄懂这些知识，可能还得动手自己实践一次我才会感到安心。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e制造这个玩具框架碰到了很多问题吗？\x3c\/h1\x3e\n\x3cp\x3e虽然说现在React-like的框架一大堆，大家都想做出自己的mini 化方案，但是制造一个React-like框架还是超级困难的，可想而知，当初FB工程师们在没有React的情况下，是如何造出React的，天才。\x3c\/p\x3e\n\x3cp\x3e源码解析不多，而且不完备：很多号称解析React源码的文章其实只是非常浅层次的读一读，基本上的套路就是，看到哪里的代码，网上一帖就成了一篇文章了，很多知识点还是得亲自去打断电调试React官方版本才能知道。\x3c\/p\x3e\n\x3cp\x3e好的文章往往只专研了一两个点，知识点需要慢慢拼凑：网上不乏好文章的，但是好的文章不可能面面俱到。比如有些人研究\x3ccode\x3esetState\x3c\/code\x3e，有些人研究生命周期函数，有些人还研究了ref，甚至有些人研究了Vdom。这些知识点很散乱，非常难以拼凑在一起，基本要花一两天才能搞懂一个知识点。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e虚拟dom算法\x3c\/code\x3e：我说实话，虚拟DOM的算法其实并不难，也就是树的递归遍历，在遍历的同时创建和比对。但是奇妙的就是，市面上有一堆虚拟DOM产品，虽然大致相同，但是在处理某些地方的时候不一样，后文会讲。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e列表的key\x3c\/code\x3e：虚拟DOM算法最难的地方。对应的实际场景就是如下：\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cReactComponent\x3e\n  \x3cdiv key=\x271\x27\x3e\x3c\/div\x3e\n  \x3cdiv key=\x272\x27\x3e\x3c\/div\x3e\n  \x3cdiv key=\x273\x27\x3e\x3c\/div\x3e\n  \x3cdiv key=\x274\x27\x3e\x3c\/div\x3e\n  \x3cdiv key=\x275\x27\x3e\x3c\/div\x3e\n  \x3cdiv key=\x276\x27\x3e\x3c\/div\x3e\n  ....\n\x3c\/ReactComponent\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode class=\x22javasscript\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eReactComponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x271\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x272\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x273\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x274\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x275\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x276\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  ....\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eReactComponent\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这一个部分难就难在「更新」上，这也是每一款虚拟DOM最不一样的地方。\x3c\/p\x3e\n\x3cp\x3e为什么inferno.js这么快？\x3ca href=\x22https:\/\/www.zhihu.com\/question\/65824137\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这个回答里，其实给出了答案\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e而\x3ccode\x3eLuy\x3c\/code\x3e使用的算法是：\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/segmentfault.com\/a\/1190000009017349%23articleHeader4\x22 rel=\x22nofollow noreferrer\x22\x3evue2源码学习开胃菜\x3c\/a\x3e，速度上来说非常不错。\x3c\/p\x3e\n\x3cp\x3e当然我不是吹嘘自己的框架有多牛逼，只是实现了这个算法还是非常开心的。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e这部分内容给想学习React源码的朋友们\x3c\/h1\x3e\n\x3cp\x3e首先，阅读React代码是最直接的方案，但是因为react源码实在太多了，我们必须另寻出路。有两个办法\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e阅读react代码最初版本（非常的老了...\x3c\/li\x3e\n\x3cli\x3e阅读市面上比较成熟的react-mini框架的代码\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e我选择了第二种方式，可能会有人说哎呀，你水平不够。我承认，我水平确实不行，读react源码头有点痛。\x3c\/p\x3e\n\x3cp\x3e我的方法就是先把东西做出来，然后有了基本思路，再看React源码你就知道它在干什么了。一定要注意的是：\x3cstrong\x3e框架里任何一行代码都是为了解决某一个或者多个问题而存在的，当你脑海中不能将这些问题和代码联系在一起的时候，你他吗根本就是在读天书。所以，选择一个代码较少的先读着，理解react的套路\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e@司徒正美 的anujs：一款了不起的mini 化react方案，支持到IE6。代码及其好懂和老练，框架如其签名：javascript魔法师。如果阅读过anujs的朋友，一定也会发现Luy部分代码很像anujs，没错，有很多代码我都直接抄的，因为 @司徒正美 的代码写的真的很好。\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/RubyLouvre\/anu\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRubyLouvre\/anu\x3c\/a\x3e，是世界上最接近react官方的产品了。\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/infernojs\/inferno\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eInferno.js\x3c\/a\x3e：另外一款出名的react lite框架，Vdom的速度是最高的，一系列的优化方案非常值得学习\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/developit\/preact\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edevelopit\/preact\x3c\/a\x3e：大名鼎鼎的preact，速度快，体积小而著称。gzip完只有3k，不过对react官方的支持其实非常的差。比较搞笑的是，当你支持react的轮子的时候，使用compact功能时，其性能大大下降！（哈哈哈哈哈哈哈哈哈笑死我了）\x3c\/li\x3e\n\x3cli\x3e@胡子大哈 ：他写的\x3ca href=\x22http:\/\/link.zhihu.com\/?target=http%3A\/\/huziketang.com\/books\/react\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact.js 小书\x3c\/a\x3e，非常的棒，给予了我造react的最基本知识。\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/25398176\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e40 行代码内实现一个 React.js\x3c\/a\x3e： @胡子大哈 实现的作品\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/snabbdom\/snabbdom\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esnabbdom\/snabbdom\x3c\/a\x3e：其实就是vue的vdom了\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/segmentfault.com\/a\/1190000010336457\x22 rel=\x22nofollow noreferrer\x22\x3epreact源码学习（1） - 个人文章 - SegmentFault\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/segmentfault.com\/a\/1190000010340534\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epreact源码学习（2） - 个人文章 - SegmentFault\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/segmentfault.com\/a\/1190000010349289\x22 rel=\x22nofollow noreferrer\x22\x3epreact源码学习（3） - 个人文章 - SegmentFault\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/segmentfault.com\/a\/1190000010362600\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epreact源码学习（4）\x3c\/a\x3e - 个人文章 - SegmentFault：这几片文章的作者都是 @司徒正美 ，全面的解析和官方的对比。牛x到了极点。\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/www.gitbook.com\/book\/swennemans\/building-your-own-react-js\/details\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBuild your own React.js · GitBook\x3c\/a\x3e：一篇外国的文章，看完你基本可以造出一个可以setState的react了\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/28257907\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBuild Your Own React：第一次渲染\x3c\/a\x3e：本文也很重要，介绍了react component的几种模式\x3c\/li\x3e\n\x3cli\x3e@程墨Morgan ：《深入浅出react和redux》一书非常的实在，我也推荐过很多次了，对我理解react和redux很有帮助.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e当然，还有很多知识点是通过google得到的，一切来之不易。在读源码的过程中，痛苦但是快乐。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e这个框架会有未来吗？\x3c\/h1\x3e\n\x3cp\x3e这个项目其实最初的想法只是学习react的内部原理，但是一路走来我的想法也改变了，会尽自己最大的所能，维护下去，并且跟进react官方的变化（说实话createPortal Luy也是支持的！）\x3c\/p\x3e\n\x3cp\x3e毕竟，学习其实就是模仿，创造永远在模仿的前提下。最近公司准备上一个新的小项目，也是我第一个全权负责的项目，所以我决定上一把我的Luy进行试点（好就好在，Luy更换react其实是无痛的，实在有什么问题，直接换react上，哈哈哈\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e最后\x3c\/h1\x3e\n\x3cp\x3e代码在这里，框架地址：\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/215566435\/Luy\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eLuy\x3c\/a\x3e，总共加起来目前只有1100\x2b行，不多，可以作为「react套路学习版本」\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Luy 1.0 ：一个React-like轮子的诞生</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011594858">https://segmentfault.com/a/1190000011594858</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/klc2gsfdey/" target="_blank">https://alili.tech/archive/klc2gsfdey/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>