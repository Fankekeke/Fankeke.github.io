<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="跨平台Js bridge新秀-DSBridge Android篇"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>跨平台Js bridge新秀-DSBridge Android篇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ko3hbu2eeqc/",
				"appid": "1613049289050283", 
				"title": "跨平台Js bridge新秀-DSBridge Android篇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-22T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/scxo263m7cc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/9aze1u2g8v/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&text=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&text=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&title=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&is_video=false&description=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&title=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&title=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&title=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fko3hbu2eeqc%2f&title=%e8%b7%a8%e5%b9%b3%e5%8f%b0Js%20bridge%e6%96%b0%e7%a7%80-DSBridge%20Android%e7%af%87"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">跨平台Js bridge新秀-DSBridge Android篇</h1><div class="meta"><div class="postdate"><time datetime="2018-12-22" itemprop="datePublished">2018-12-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3eDSBridge是目前地球上最好的IOS\/Android   javascript bridge. 没有之一！\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3eDSBridge\x3c\/h1\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/jitpack.io\/#wendux\/DSBridge-Android\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012403990\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012403990\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/a\x3e   \x3ca href=\x22https:\/\/opensource.org\/licenses\/mit-license.php\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012403991\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012403991\x22 alt=\x22MIT Licence\x22 title=\x22MIT Licence\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3eDSBridge 是H5页面与Native之间通信的桥梁，它有如下特点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e跨平台；同时支持ios和android。\x3c\/li\x3e\n\x3cli\x3e双向调用；js可以调用native， native可以调用js\x3c\/li\x3e\n\x3cli\x3e不仅支持异步调用，而且页\x3cstrong\x3e支持同步调用\x3c\/strong\x3e（dsbridge是唯一一个支持同步调用的javascript bridge）\x3c\/li\x3e\n\x3cli\x3e支持进度回调，多次返回（常用于文件下载进度、计时器等）\x3c\/li\x3e\n\x3cli\x3eAndroid支持腾讯x5内核\x3c\/li\x3e\n\x3cli\x3e三端易用；无论是前端还是android或ios，使用都非常简单，极大的降低集成／学习成本\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e与WebViewJavascriptBridge的对比请移步 \x3ca href=\x22http:\/\/www.jianshu.com\/p\/d967b0d85b97\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDSBridge VS WebViewJavascriptBridge\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e安装\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e添加 JitPack repository\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22allprojects {\n  repositories {\n   ...\n   maven { url \x27https:\/\/jitpack.io\x27 }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eallprojects {\n  repositories {\n   ...\n   maven { url \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/jitpack.io\x27\x3c\/span\x3e }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e添加依赖\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22dependencies {\n    \n     compile \x27com.github.wendux:DSBridge-Android:2.0-SNAPSHOT\x27\n\n    \/\/  使用腾讯x5内核的使用该版本\n    \/\/ compile \x27com.github.wendux:DSBridge-Android:x5-SNAPSHOT\x27\n    \n    \/\/ 主线版本\n    \/\/compile \x27com.github.wendux:DSBridge-Android:master-SNAPSHOT\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3edependencies {\n    \n     compile \x3cspan class=\x22hljs-string\x22\x3e\x27com.github.wendux:DSBridge-Android:2.0-SNAPSHOT\x27\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/  使用腾讯x5内核的使用该版本\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ compile \x27com.github.wendux:DSBridge-Android:x5-SNAPSHOT\x27\x3c\/span\x3e\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 主线版本\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/compile \x27com.github.wendux:DSBridge-Android:master-SNAPSHOT\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e使用\x3c\/h2\x3e\n\x3cp\x3e假设Native端实现了两个api: testSyn、testAsyn。参数以json传递， testSyn为同步api,执行结束后会直接返回结果，而testAsyn为一个异步api(可能会执行耗时操作)，执行结束后，结果异步返回。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eAndroid\x3c\/h3\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3eJava中实现 API\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public class JsApi{\n    \/\/用于同步调用\n    @JavascriptInterface\n    String testSyn(JSONObject jsonObject) throws JSONException {\n        \/\/ The return value type can only be  String\n        return jsonObject.getString(\x26quot;msg\x26quot;) \x2b \x26quot;［syn call］\x26quot;;\n    }\n    \/\/用于异步调用\n    @JavascriptInterface\n    void testAsyn(JSONObject jsonObject, CompletionHandler handler) throws JSONException {\n        handler.complete(jsonObject.getString(\x26quot;msg\x26quot;)\x2b\x26quot; [asyn call]\x26quot;);\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eJsApi\x3c\/span\x3e\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/用于同步调用\x3c\/span\x3e\n    \x3cspan class=\x22hljs-meta\x22\x3e@JavascriptInterface\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3eString \x3cspan class=\x22hljs-title\x22\x3etestSyn\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(JSONObject jsonObject)\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethrows\x3c\/span\x3e JSONException \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ The return value type can only be  String\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e jsonObject.getString(\x3cspan class=\x22hljs-string\x22\x3e\x22msg\x22\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22［syn call］\x22\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/用于异步调用\x3c\/span\x3e\n    \x3cspan class=\x22hljs-meta\x22\x3e@JavascriptInterface\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etestAsyn\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(JSONObject jsonObject, CompletionHandler handler)\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethrows\x3c\/span\x3e JSONException \x3c\/span\x3e{\n        handler.complete(jsonObject.getString(\x3cspan class=\x22hljs-string\x22\x3e\x22msg\x22\x3c\/span\x3e)\x2b\x3cspan class=\x22hljs-string\x22\x3e\x22 [asyn call]\x22\x3c\/span\x3e);\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了安全起见，所有的API都必须有 “JavascriptInterface” 标注。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e将实现的API安装到 \x3ccode\x3eDWebView\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import wendu.dsbridge.DWebView\n...\nDWebView dwebView= (DWebView) findViewById(R.id.dwebview);\ndwebView.setJavascriptInterface(new JsApi());\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e wendu.dsbridge.DWebView\n...\nDWebView dwebView= (DWebView) findViewById(R.id.dwebview);\ndwebView.setJavascriptInterface(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e JsApi());\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e在h5页面中调用 Java API\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e初始化 dsBridge\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/cdn\n\/\/\x3cscript src=\x26quot;https:\/\/unpkg.com\/dsbridge\/dist\/dsbridge.js\x26quot;\x3e \x3c\/script\x3e\n\/\/npm\n\/\/npm install dsbridge\nvar dsBridge=require(\x26quot;dsbridge\x26quot;)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/cdn\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26lt;script src=\x22https:\/\/unpkg.com\/dsbridge\/dist\/dsbridge.js\x22\x26gt; \x26lt;\/script\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/npm\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/npm install dsbridge\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dsBridge=\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22dsbridge\x22\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e调用 API\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 同步调用\nvar str=dsBridge.call(\x26quot;testSyn\x26quot;, {msg: \x26quot;testSyn\x26quot;});\n\n\/\/ 异步调用\ndsBridge.call(\x26quot;testAsyn\x26quot;, {msg: \x26quot;testAsyn\x26quot;}, function (v) {\n  alert(v);\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 同步调用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e str=dsBridge.call(\x3cspan class=\x22hljs-string\x22\x3e\x22testSyn\x22\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3emsg\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22testSyn\x22\x3c\/span\x3e});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 异步调用\x3c\/span\x3e\ndsBridge.call(\x3cspan class=\x22hljs-string\x22\x3e\x22testAsyn\x22\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3emsg\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22testAsyn\x22\x3c\/span\x3e}, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) \x3c\/span\x3e{\n  alert(v);\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eNative 调用 h5 中的 javascript API\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3eJavascript 注册供 Native调用的 API\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 注册一个加法函数供 Native 调用\n dsBridge.register(\x27addValue\x27,function(l,r){\n     return l\x2br;\n })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注册一个加法函数供 Native 调用\x3c\/span\x3e\n dsBridge.register(\x3cspan class=\x22hljs-string\x22\x3e\x27addValue\x27\x3c\/span\x3e,function(l,r){\n     \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e l\x2br;\n })\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e在 Java 中调用 javascript API\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22webView.callHandler(\x26quot;addValue\x26quot;,new Object[]{1,\x26quot;hello\x26quot;},new OnReturnValue(){\n       @Override\n       public void onValue(String retValue) {\n          Log.d(\x26quot;jsbridge\x26quot;,\x26quot;call succeed,return value is \x26quot;\x2bretValue);\n       }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3ewebView.callHandler(\x3cspan class=\x22hljs-string\x22\x3e\x22addValue\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Object[]{\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e},\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e OnReturnValue(){\n       \x3cspan class=\x22hljs-meta\x22\x3e@Override\x3c\/span\x3e\n       \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eonValue\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String retValue)\x3c\/span\x3e \x3c\/span\x3e{\n          Log.d(\x3cspan class=\x22hljs-string\x22\x3e\x22jsbridge\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22call succeed,return value is \x22\x3c\/span\x3e\x2bretValue);\n       }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e注意：Native调用javascript API时必须在 \x22PageFinished\x22之后进行\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3eIOS\x3c\/h3\x3e\n\x3cp\x3eIOS中的使用方式请参考 \x3ca href=\x22https:\/\/github.com\/wendux\/DSBridge-IOS\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDSBridge-IOS\x3c\/a\x3e 。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3eJavascript API\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e\x3cstrong\x3e\x3ccode\x3edsBridge\x3c\/code\x3e\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e\x22dsBridge\x22 是一个全局对象, \x3cstrong\x3e在h5页面中初始化DSBridge后\x3c\/strong\x3e便会可用，它有两个方法 \x22call\x22 和 \x22register\x22;\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e\x3ccode\x3ebridge.call(method,[args,callback])\x3c\/code\x3e\x3c\/h3\x3e\n\x3cp\x3e功能：调用Native api\x3c\/p\x3e\n\x3cp\x3emethod: api函数名\x3c\/p\x3e\n\x3cp\x3eargs:参数，类型：json, 可选参数\x3c\/p\x3e\n\x3cp\x3ecallback(String returnValue):仅调用异步api时需要.\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e同步调用\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e如果你是一名经验丰富的开发者，想必看到第二行时已然眼睛一亮，想想node最被诟病的是什么，目前跨平台的jsbridge中没有一个能支持同步，所有需要获取值的调用都必须传一个回调，如果调用逻辑比较复杂，必将会出现“callback hell”。然而，DSBridge彻底改变了这一点。\x3cstrong\x3e支持同步是DSBridge的最大亮点之一\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e异步调用\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e对于一些比较耗时的api, DSBridge提供了异步支持，正如上例第三行代码所示，此时你需要传一个回调（如果没有参数，回调可作为第二个参数），当api完成时回调将会被调用，结果以字符串的形式传递。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e\x3ccode\x3edsBridge.register(methodName,function)\x3c\/code\x3e\x3c\/h3\x3e\n\x3cp\x3e注册 javascript API 供Native调用\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e注意\x3c\/h2\x3e\n\x3cp\x3e为了兼容 Android和IOS\x26nbsp;，DSBridge对Native API的签名有两个要求：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e返回值必须是\x3ccode\x3e String\x3c\/code\x3e， 如果没有返回值，直接返回\x3ccode\x3enull\x3c\/code\x3e就行\x3c\/li\x3e\n\x3cli\x3eAPI的参数通过 \x3ccode\x3eJSONObject\x3c\/code\x3e传递，如果有些API没有参数，\x3cstrong\x3e你也需要申明\x3c\/strong\x3e。\x3cp\x3e​\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e多次返回\x3c\/h2\x3e\n\x3cp\x3e通常情况下，调用一个方法结束后会返回一个结果，是一一对应的，现在，我们来思考如下场景：\x3c\/p\x3e\n\x3cp\x3e有一个嵌入到app中显示文档下载列表的网页。要求点击网页中相应文件对应的下载按钮后，开始下载文件，并在该网页中显示下载进度。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e思考\x3c\/strong\x3e：我们将文件下载的功能在natvie端实现，当点击网页上的某项时，我们通过js调用native的下载方法，native在下载的过程中，不断的向js返回进度, 然后js更新网页上的进度条，等到下载任务结束时，才算本次调用结束。而\x3cstrong\x3e这种调用的特征就是js的一次调用，对应native的“多次返回”\x3c\/strong\x3e，考虑到native很多耗时任务都可能会多次返回（比如返回进度），DSBridge 对“多次返回”进行了支持，使用DSBridge 就可以非常方便的应对这种case了。\x3c\/p\x3e\n\x3cp\x3e详细的示例请参考 \x3ca href=\x22https:\/\/juejin.im\/post\/5940eafbfe88c2006a483fb2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDSBridge实例－在网页中展示Native进度\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e调用Javascript\x3c\/h2\x3e\n\x3cp\x3eDWebView提供了三个api用于调用js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22void callHandler(String method, Object[] args) \nvoid callHandler(String method, Object[] args, CompletionHandler handler)\nvoid evaluateJavascript(String script)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecallHandler\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String method, Object[] args)\x3c\/span\x3e \n\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecallHandler\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String method, Object[] args, CompletionHandler handler)\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eevaluateJavascript\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String script)\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e前两个api中，method 为函数名，args为参数数组，可以接受String 、int 、long、float、double等。\x3c\/p\x3e\n\x3cp\x3e第一个api用于调用没有返回值的js函数，没有参数时传null即可。\x3c\/p\x3e\n\x3cp\x3e第二个api用于需要返回值的场景，需要传递一个CompletionHandler接口对象，在complete(String returnValue)方法中处理返回值即可。\x3c\/p\x3e\n\x3cp\x3e第三个api用于执行任意js代码，内部已做版本兼容处理。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e调用时机\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eDWebview只有在javascript context初始化成功后才能正确执行js代码，而javascript context初始化完成的时机一般都比整个页面加载完毕要早，随然DSBridge能捕获到javascript context初始化完成的时机，但是一些js api可能声明在页面尾部，甚至单独的js文件中（\x3cstrong\x3e请务必不要这么做\x3c\/strong\x3e），如果在javascript context刚初始化完成就调用js api, 此时js api 可能还没有注册，所以会失败，综上所述，如果是客户端主动调用 js应该在onPageFinished后调用。简单的示例如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22webView.setWebViewClient(new WebViewClient(){\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n        \/\/期望返回值\n        webView.callHandler(\x26quot;test\x26quot;,new Object[]{1,\x26quot;hello\x26quot;},new CompletionHandler(){\n            @Override\n            public void complete(String retValue) {\n                Log.d(\x26quot;jsbridge\x26quot;,\x26quot;call succeed,return value is \x26quot;\x2bretValue);\n            }\n        });\n        \/\/不期望返回值\n        webView.callHandler(\x26quot;test\x26quot;,null);\n    }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3ewebView.setWebViewClient(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e WebViewClient(){\n    \x3cspan class=\x22hljs-meta\x22\x3e@Override\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eonPageFinished\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(WebView view, String url)\x3c\/span\x3e \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e.onPageFinished(view, url);\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/期望返回值\x3c\/span\x3e\n        webView.callHandler(\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Object[]{\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e},\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e CompletionHandler(){\n            \x3cspan class=\x22hljs-meta\x22\x3e@Override\x3c\/span\x3e\n            \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecomplete\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String retValue)\x3c\/span\x3e \x3c\/span\x3e{\n                Log.d(\x3cspan class=\x22hljs-string\x22\x3e\x22jsbridge\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22call succeed,return value is \x22\x3c\/span\x3e\x2bretValue);\n            }\n        });\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/不期望返回值\x3c\/span\x3e\n        webView.callHandler(\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-keyword\x22\x3enull\x3c\/span\x3e);\n    }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3eDWebview更多\x3c\/h2\x3e\n\x3cp\x3eDWebview中下列函数会在主线程中执行，您不必在手动切换线程\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22void loadUrl( String url) \nvoid loadUrl(final String url, Map\x3cString, String\x3e additionalHttpHeaders)\nvoid evaluateJavascript(String script) \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eloadUrl\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e( String url)\x3c\/span\x3e \n\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eloadUrl\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3efinal\x3c\/span\x3e String url, Map\x26lt;String, String\x26gt; additionalHttpHeaders)\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eevaluateJavascript\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String script)\x3c\/span\x3e \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eDWebview已经实现 alert、prompt、comfirm对话框，您可以不做处理，也可以自定义。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e最后\x3c\/h2\x3e\n\x3cp\x3e如果你喜欢，欢迎star！\x3cbr\x3egithub: \x3cbr\x3eandroid: \x3ca href=\x22https:\/\/github.com\/wendux\/DSBridge-Android\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/wendux\/DSB...\x3c\/a\x3e\x3cbr\x3eios: \x3ca href=\x22https:\/\/github.com\/wendux\/DSBridge-IOS\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/wendux\/DSB...\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>跨平台Js bridge新秀-DSBridge Android篇</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012403985">https://segmentfault.com/a/1190000012403985</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ko3hbu2eeqc/" target="_blank">https://alili.tech/archive/ko3hbu2eeqc/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>