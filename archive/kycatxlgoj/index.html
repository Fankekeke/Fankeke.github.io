<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Flutter样式和布局控件简析(一)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Flutter样式和布局控件简析(一) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/kycatxlgoj/",
				"appid": "1613049289050283", 
				"title": "Flutter样式和布局控件简析(一) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-26T02:30:14"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/2mvain7qa86/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/bdr5zu2oax4/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&text=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&text=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&title=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&is_video=false&description=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&title=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&title=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&title=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkycatxlgoj%2f&title=Flutter%e6%a0%b7%e5%bc%8f%e5%92%8c%e5%b8%83%e5%b1%80%e6%8e%a7%e4%bb%b6%e7%ae%80%e6%9e%90%28%e4%b8%80%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Flutter样式和布局控件简析(一)</h1><div class="meta"><div class="postdate"><time datetime="2018-12-26" itemprop="datePublished">2018-12-26</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e开始\x3c\/h1\x3e\n\x3cp\x3e搞前端的同学可能都习惯了CSS局部的思维，过去也出现过一些跟布局或者样式相关的标签，例如：big, center, font, s, strike, tt, u；但是目前也被CSS所代替，已经不推荐使用。但是在Flutter里面，是没有CSS这样一个概念的，布局和样式都可能会是一个组件或者是组件里面的属性所定义和实现的，对于习惯写样式的前端同学可能需要适应一下。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e个人思考\x3c\/h1\x3e\n\x3cp\x3e现在可能要想一下，Flutter为啥没有像浏览器一样抽离出CSS？\x3cbr\x3e我们知道在浏览器里面JS，CSS，HTML各司其职：行为，表现和结构，已经深入人心，也被很多人所推崇。但是Flutter好像反其道而行之，样式糅合在结构里面，这样究竟有啥意思尼？\x3cbr\x3e首先应该是一个性能的考虑，浏览器解析CSS其实也是一个性能消耗点，没有CSS解析自然也可以加快页面的显示。\x3cbr\x3e其次再讨论一下CSS，CSS确实非常适合描述样式和布局，但是也有很明显的缺点：作用域全局性，代码冗余，代码难以重用，难以模块化等；我们修修补补，又创造了less，sass等工具帮助我们去解决问题，但是自身的缺陷依然会存在，甚至有点钻牛角尖，因为存在了CSS，所以只能改进CSS。\x3cbr\x3e而在Flutter，没有了CSS，以上的问题自然荡然无存，那么描述样式会不会变得很麻烦？大道行之，我们的前辈们早就在代码上总结出很多设计模式或者技术去解决代码重用，代码冗余，模块化的问题，为什么我们不去用已经存在很久而且行之有效的技术去解决问题尼。自然把样式糅合进结构会增加信息量，对我们阅读代码可能会是一个小小的挑战，但是应该也会很快适应下来的，我相信。\x3cbr\x3e我们很多时候都在创造新的工具的解决问题，其实也有可能创造出新的问题，有时候回归根本，不一定是一件坏事。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e各种各样的控件\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eDirectionality\x3c\/h2\x3e\n\x3cp\x3e主要控制文字方向\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new Text(\x27我是一段文本\x27)\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-function\x22\x3eWidget \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(BuildContext context)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Container(\n      color: Colors.white,\n      child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Text(\x27我是一段文本\x27)\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVXMqP?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVXMqP?w=1440\x26amp;h=2560\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e加入控件后\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new Directionality(\n        textDirection: TextDirection.rtl,\n        child: new Text(\x27我是一段文本\x27)\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3eWidget \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(BuildContext context)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Container(\n      color: Colors.white,\n      child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Directionality(\n        textDirection: TextDirection.rtl,\n        child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Text(\x27我是一段文本\x27)\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVXMrH?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVXMrH?w=1440\x26amp;h=2560\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3eDefaultTextStyle\x3c\/h2\x3e\n\x3cp\x3e跟文本相关的还有一个DefaultTextStyle控件，提供了更多的控制选项：textAlign，softWrap，style和maxLines等，都是控制整体：换行，文字居中和多行省略等，相对style提供都是文字自身样式相关：字重，字体大小等\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const TextStyle({\n    this.inherit: true,\n    this.color,\n    this.fontSize,\n    this.fontWeight,\n    this.fontStyle,\n    this.letterSpacing,\n    this.wordSpacing,\n    this.textBaseline,\n    this.height,\n    this.decoration,\n    this.decorationColor,\n    this.decorationStyle,\n    this.debugLabel,\n    String fontFamily,\n    String package,\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3econst TextStyle({\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.inherit: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.color,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fontSize,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fontWeight,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fontStyle,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.letterSpacing,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.wordSpacing,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.textBaseline,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.height,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.decoration,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.decorationColor,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.decorationStyle,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.debugLabel,\n    String fontFamily,\n    String \x3cspan class=\x22hljs-keyword\x22\x3epackage\x3c\/span\x3e,\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e演示一下效果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new Directionality(\n        textDirection: TextDirection.ltr,\n        child: new DefaultTextStyle(\n          style: new TextStyle(\n            fontSize: 14.0,\n            color: Colors.blue,\n            decoration: TextDecoration.underline\n          ),\n          maxLines: 2,\n          softWrap: true,\n          overflow: TextOverflow.ellipsis,\n          child: new Text(\x27我是一段超长的文本啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27\n            \x27啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27\n            \x27啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27\n            \x27啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27)\n        )\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eContainer\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.white,\n      \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Directionality(\n        \x3cspan class=\x22hljs-attribute\x22\x3etextDirection\x3c\/span\x3e: TextDirection.ltr,\n        \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new DefaultTextStyle(\n          \x3cspan class=\x22hljs-attribute\x22\x3estyle\x3c\/span\x3e: new TextStyle(\n            \x3cspan class=\x22hljs-attribute\x22\x3efontSize\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e14.0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.blue,\n            \x3cspan class=\x22hljs-attribute\x22\x3edecoration\x3c\/span\x3e: TextDecoration.underline\n          ),\n          \x3cspan class=\x22hljs-attribute\x22\x3emaxLines\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3esoftWrap\x3c\/span\x3e: true,\n          \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: TextOverflow.ellipsis,\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Text(\x3cspan class=\x22hljs-string\x22\x3e\x27我是一段超长的文本啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e\x27啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e\x27啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e\x27啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦\x27\x3c\/span\x3e)\n        )\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVXM6U?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVXM6U?w=1440\x26amp;h=2560\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e其实Text控件就已经带上这些属性：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Text(this.data, {\n    Key key,\n    this.style,\n    this.textAlign,\n    this.textDirection,\n    this.softWrap,\n    this.overflow,\n    this.textScaleFactor,\n    this.maxLines,\n  })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3econst Text(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e, {\n    Key key,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.style,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.textAlign,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.textDirection,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.softWrap,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.overflow,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.textScaleFactor,\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.maxLines,\n  })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为什么又要独立出这些控件专门管理呢，我们知道CSS属性里面有些属性时继承父元素的，例如：字体大小，颜色等；这样的话，我们很容易统一一个模块里面的样式，并不需要每个元素都要去设置一遍，这里的这些控件也是起到这样的功能，其实除了些字体样式还有很多地方会有这种继承关系，例如：主题颜色，语言文字等等。所以后面Text控件很容易从控件树上找到这些父控件，获取它们设置的属性，就这样就可以把父控件的样式继承下来。\x3cbr\x3e怎么做到的呢，无论Directionality还是DefaultTextStyle都是InheritedWidget的子类，InheritedWidget实现了一个发布\/订阅的模式，当子控件调用inheritFromWidgetOfExactType方法获取父控件时，同时也把自己加入到InheritedWidget的订阅者列表里面，所以当InheritedWidget属性改变的时候，就会调起子组件didChangeDependencies方法去通知子组件。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3eCustomPaint\x3c\/h2\x3e\n\x3cp\x3e这个控件感觉必须得介绍一下，因为在前端我们有一个canvas元素，可以提供给我们直接去绘制元素，给了我们很大的灵活性，那么Flutter中对应的应该就是这个控件了。\x3cbr\x3e如何使用：\x3cbr\x3e先继承CustomPainter\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class CustomPainterSample extends CustomPainter {\n\n  double progress;\n\n  CustomPainterSample({this.progress: 0.0});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    Paint p = new Paint();\n    p.color = Colors.green;\n    p.isAntiAlias = true;\n    p.style = PaintingStyle.fill;\n    canvas.drawCircle(size.center(const Offset(0.0, 0.0)), size.width \/ 2 * progress, p);\n  }\n\n  @override\n  bool shouldRepaint(CustomPainter oldDelegate) {\n    return true;\n  }\n\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCustomPainterSample\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCustomPainter\x3c\/span\x3e \x3c\/span\x3e{\n\n  double progress;\n\n  \x3cspan class=\x22hljs-type\x22\x3eCustomPainterSample\x3c\/span\x3e({\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.progress: \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e});\n\n  \x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  void paint(\x3cspan class=\x22hljs-type\x22\x3eCanvas\x3c\/span\x3e canvas, \x3cspan class=\x22hljs-type\x22\x3eSize\x3c\/span\x3e size) {\n    \x3cspan class=\x22hljs-type\x22\x3ePaint\x3c\/span\x3e p = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3ePaint\x3c\/span\x3e();\n    p.color = \x3cspan class=\x22hljs-type\x22\x3eColors\x3c\/span\x3e.green;\n    p.isAntiAlias = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    p.style = \x3cspan class=\x22hljs-type\x22\x3ePaintingStyle\x3c\/span\x3e.fill;\n    canvas.drawCircle(size.center(const \x3cspan class=\x22hljs-type\x22\x3eOffset\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e)), size.width \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e * progress, p);\n  }\n\n  \x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  bool shouldRepaint(\x3cspan class=\x22hljs-type\x22\x3eCustomPainter\x3c\/span\x3e oldDelegate) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n  }\n\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里我画了一个绿色的圆，然后把这个CustomPainterSample传到CustomPaint控件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new CustomPaint(\n        painter: new CustomPainterSample(progress: this.progress),\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3eWidget \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(BuildContext context)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Container(\n      color: Colors.white,\n      child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e CustomPaint(\n        painter: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e CustomPainterSample(progress: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.progress),\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVXNtq?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVXNtq?w=1440\x26amp;h=2560\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e当然了，既然可以随便画点东西，做点动画也是妥妥的，好再加个放大的动画，完整代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class SquareFragmentState extends State\x3cSquareFragment\x3e with TickerProviderStateMixin {\n\n  double progress = 0.0;\n\n  @override\n  void initState() {\n    AnimationController ac = new AnimationController(\n       vsync: this, \n       duration: const Duration(milliseconds: 10000)\n    );\n    ac.addListener(() {\n      this.setState(() {\n        this.progress = ac.value;\n      });\n    });\n    ac.forward();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new CustomPaint(\n        painter: new CustomPainterSample(progress: this.progress),\n      )\n    );\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSquareFragmentState\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eState\x26lt;SquareFragment\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ewith\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTickerProviderStateMixin\x3c\/span\x3e \x3c\/span\x3e{\n\n  double progress = \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  void initState() {\n    \x3cspan class=\x22hljs-type\x22\x3eAnimationController\x3c\/span\x3e ac = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eAnimationController\x3c\/span\x3e(\n       vsync: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \n       duration: const \x3cspan class=\x22hljs-type\x22\x3eDuration\x3c\/span\x3e(milliseconds: \x3cspan class=\x22hljs-number\x22\x3e10000\x3c\/span\x3e)\n    );\n    ac.addListener(() {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState(() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.progress = ac.value;\n      });\n    });\n    ac.forward();\n  }\n\n  \x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  \x3cspan class=\x22hljs-type\x22\x3eWidget\x3c\/span\x3e build(\x3cspan class=\x22hljs-type\x22\x3eBuildContext\x3c\/span\x3e context) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eContainer\x3c\/span\x3e(\n      color: \x3cspan class=\x22hljs-type\x22\x3eColors\x3c\/span\x3e.white,\n      child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eCustomPaint\x3c\/span\x3e(\n        painter: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eCustomPainterSample\x3c\/span\x3e(progress: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.progress),\n      )\n    );\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里mixin了TickerProviderStateMixin，里面有一个createTicker方法，主要是监听每一帧生成然后回调，主要是由SchedulerBinding.instance.scheduleFrameCallback方法所驱动的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3eClipRRect\x3c\/h2\x3e\n\x3cp\x3e剪切元素的边界，这里类似CSS的border-radius属性；\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new Align(\n        alignment: Alignment.center,\n        child: new ClipRRect(\n          borderRadius: const BorderRadius.all(const Radius.circular(30.0)),\n          child: new Container(\n            width: 180.0,\n            height: 180.0,\n            color: Colors.red,\n          ),\n        ),\n      ),\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3eWidget \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(BuildContext context)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Container(\n      color: Colors.white,\n      child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Align(\n        alignment: Alignment.center,\n        child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ClipRRect(\n          borderRadius: \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e BorderRadius.all(\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Radius.circular(30.0)),\n          child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Container(\n            width: 180.0,\n            height: 180.0,\n            color: Colors.red,\n          ),\n        ),\n      ),\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYgSs?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYgSs?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e把radius值调到90，变成了圆形：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYgSJ?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYgSJ?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e类似的可以剪切元素的还有ClipOval，ClipPath，这里就不深入介绍了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3ePhysicalModel\x3c\/h2\x3e\n\x3cp\x3e先看效果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new Align(\n        alignment: Alignment.center,\n        child: new PhysicalModel(\n          color: Colors.black,\n          elevation: 6.0,\n          child: new Container(\n            width: 180.0,\n            height: 180.0,\n            color: Colors.red,\n          ),\n        ),\n      ),\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode\x3eWidget build(BuildContext \x3cspan class=\x22hljs-built_in\x22\x3econtext\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Container(\n      \x3cspan class=\x22hljs-built_in\x22\x3ecolor\x3c\/span\x3e: Colors.white,\n      child: \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Align(\n        alignment: Alignment.\x3cspan class=\x22hljs-built_in\x22\x3ecenter\x3c\/span\x3e,\n        child: \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e PhysicalModel(\n          \x3cspan class=\x22hljs-built_in\x22\x3ecolor\x3c\/span\x3e: Colors.black,\n          \x3cspan class=\x22hljs-built_in\x22\x3eelevation\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e6.0\x3c\/span\x3e,\n          child: \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Container(\n            \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e180.0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e180.0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-built_in\x22\x3ecolor\x3c\/span\x3e: Colors.red,\n          ),\n        ),\n      ),\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYgVa?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYgVa?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到红色方块底下有一个阴影，让红色方块有一种悬浮的感觉，有material design的风格。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3eTransform\x3c\/h2\x3e\n\x3cp\x3e类似于CSS的transform属性，可以提供沿着X,Y或者Z轴旋转，位移拉伸等效果。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      child: new Align(\n        alignment: Alignment.center,\n        child: new Transform(\n          transform: new Matrix4.rotationZ(PI \/ 2),\n          child: new Container(\n            color: Colors.black,\n            child: new Text(\x27垂直文字\x27, style: const TextStyle(color: Colors.red),)\n          )\n        ),\n      ),\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3eWidget \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(BuildContext context)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Container(\n      color: Colors.white,\n      child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Align(\n        alignment: Alignment.center,\n        child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Transform(\n          transform: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Matrix4.rotationZ(PI \/ 2),\n          child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Container(\n            color: Colors.black,\n            child: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Text(\x27垂直文字\x27, style: \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e TextStyle(color: Colors.red),)\n          )\n        ),\n      ),\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYhzc?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYhzc?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e得注意一下，Transform控件中的transformHitTests属性，如果我们沿着X轴位移一个按钮，一般来说，我们照样可以直接点击位移之后的按钮，因为transformHitTests为true的时候，在hitTest会判断点击落点是否在transfrom所做的操作（旋转，拉伸或者位移等）后的区域里面，但是如果为false，此时点击按钮原来的区域仍然会触发点击事件，但是直接点击就不行了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3eFractionalTranslation\x3c\/h2\x3e\n\x3cp\x3e可以提供位移，但是并没有Tranform控件提供那么多变换，仅仅是上下左右的位移，而且位移的基准是以child的大小进行的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      alignment: Alignment.center,\n      child: new FractionalTranslation(\n        translation: const Offset(1.0, 0.0),\n        child: new Container(\n          width: 100.0,\n          height: 100.0,\n          color: Colors.red,\n        ),\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eContainer\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.white,\n      \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n      \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new FractionalTranslation(\n        \x3cspan class=\x22hljs-attribute\x22\x3etranslation\x3c\/span\x3e: const Offset(\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n          \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100.0\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100.0\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.red,\n        ),\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYiqL?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYiqL?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e红色方块往右边移动了一个身位，就跟CSS中transfrom: translate(100%, 0)效果一样的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3eRotatedBox\x3c\/h2\x3e\n\x3cp\x3e旋转盒子，可以使用quarterTurns属性控制旋转，每次旋转quarterTurns * 90度。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      alignment: Alignment.center,\n      child: new RotatedBox(\n        quarterTurns: -1,\n        child: new Container(\n          width: 100.0,\n          height: 100.0,\n          color: Colors.red,\n          child: new Text(\x27我倒转了\x27),\n        ),\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eContainer\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.white,\n      \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n      \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new RotatedBox(\n        \x3cspan class=\x22hljs-attribute\x22\x3equarterTurns\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n          \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100.0\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100.0\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.red,\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Text(\x3cspan class=\x22hljs-string\x22\x3e\x27我倒转了\x27\x3c\/span\x3e),\n        ),\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYiKH?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYiKH?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3ePadding\x3c\/h2\x3e\n\x3cp\x3e在前端每个元素都基本会有border, margin, padding，但是在Flutter里面可能不得不吐槽连padding都要用个控件，未免太过于麻烦。对于此框架的开发者们也有自己一套看法，在Flutter里面组合简单的控件去实现复杂的控件，而不是通过继承去实现可以说是Flutter的主要设计思想，所以你会发现尽管Container控件提供了padding的参数，但其实它也背后也是通过创建Padding控件来实现效果的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3eFittedBox\x3c\/h2\x3e\n\x3cp\x3e在CSS中有background-position和background-size两个属性控制背景图如何平铺，例如：如果背景图比元素尺寸大或者小的时候，是否要进行拉伸，如果要拉伸，是拉伸图片宽度还是拉伸图片高度来适应等等。\x3cbr\x3e而FittedBox所做的事情也是差不多，它有两个很重要的参数：aligment 和 fit。\x3cbr\x3efit可取值：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eBoxFit.fill\x3c\/li\x3e\n\x3cli\x3eBoxFit.contain\x3c\/li\x3e\n\x3cli\x3eBoxFit.cover\x3c\/li\x3e\n\x3cli\x3eBoxFit.fitWidth\x3c\/li\x3e\n\x3cli\x3eBoxFit.fitHeight\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e基本这个跟CSS的background-size取值都一样的。\x3cbr\x3e而aligment则是控制，当子元素大小没有完全占满父元素的时候，如何定位，是居中还是靠左靠右。\x3c\/p\x3e\n\x3cp\x3e虽然拿background-size来做对比，但是background-size只是控制背景图片，而FittedBox几乎可以对任何元素起作用，因为它是通过Transform放大缩小子元素来达到刚才所说的效果。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Container(\n      color: Colors.white,\n      alignment: Alignment.center,\n      child: new Container(\n        width: 200.0,\n        height: 100.0,\n        color: Colors.black\n          child: new FittedBox(\n            fit: BoxFit.fitHeight,\n            alignment: Alignment.bottomRight,\n            child: new Container(\n              color: Colors.red,\n              width: 300.0,\n              height: 240.0,\n              alignment: Alignment.center,\n              child: new Text(\x27AAA\x27),\n            ),\n          )\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eContainer\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.white,\n      \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n      \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.black\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new FittedBox(\n            \x3cspan class=\x22hljs-attribute\x22\x3efit\x3c\/span\x3e: BoxFit.fitHeight,\n            \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.bottomRight,\n            \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n              \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.red,\n              \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e240.0\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n              \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Text(\x3cspan class=\x22hljs-string\x22\x3e\x27AAA\x27\x3c\/span\x3e),\n            ),\n          )\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYEc2?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYEc2?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这里红盒子大小是比黑盒子大的，但是fit为BoxFit.fitHeight就会通过拉伸高度来适应黑盒子，如果把fit属性改成BoxFit.fitWidth，效果就是这样的：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYEdc?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYEdc?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到字体是被直接缩小了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3eSizedBox \x26amp; ConstrainedBox\x3c\/h2\x3e\n\x3cp\x3e为什么把两个控件一起讲呢？因为它们都依赖了相同的RenderObject：RenderConstrainedBox，而RenderConstrainedBox只有一个参数：additionalConstraints。\x3cbr\x3e而这个参数在performLayout中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22void performLayout() {\n    if (child != null) {\n      child.layout(_additionalConstraints.enforce(constraints), parentUsesSize: true);\n      size = child.size;\n    } else {\n      size = _additionalConstraints.enforce(constraints).constrain(Size.zero);\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e performLayout() {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (child != \x3cspan class=\x22hljs-keyword\x22\x3enull\x3c\/span\x3e) {\n      child.layout(_additionalConstraints.enforce(constraints), parentUsesSize: \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e = child.\x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3esize\x3c\/span\x3e = _additionalConstraints.enforce(constraints).constrain(\x3cspan class=\x22hljs-keyword\x22\x3eSize\x3c\/span\x3e.zero);\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而BoxConstraints.enforce方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22BoxConstraints enforce(BoxConstraints constraints) {\n    return new BoxConstraints(\n      minWidth: minWidth.clamp(constraints.minWidth, constraints.maxWidth),\n      maxWidth: maxWidth.clamp(constraints.minWidth, constraints.maxWidth),\n      minHeight: minHeight.clamp(constraints.minHeight, constraints.maxHeight),\n      maxHeight: maxHeight.clamp(constraints.minHeight, constraints.maxHeight)\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3eBoxConstraints enforce(BoxConstraints constraints) {\n    return new BoxConstraints(\n      \x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eWidth: \x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eWidth.clamp(constraints.\x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eWidth, constraints.\x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eWidth),\n      \x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eWidth: \x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eWidth.clamp(constraints.\x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eWidth, constraints.\x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eWidth),\n      \x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eHeight: \x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eHeight.clamp(constraints.\x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eHeight, constraints.\x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eHeight),\n      \x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eHeight: \x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eHeight.clamp(constraints.\x3cspan class=\x22hljs-keyword\x22\x3emin\x3c\/span\x3eHeight, constraints.\x3cspan class=\x22hljs-keyword\x22\x3emax\x3c\/span\x3eHeight)\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可见additionalConstraints是在原基础constraints增加了自己的约束，但是并不会打破原来的约束条件。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3eFractionallySizedBox\x3c\/h2\x3e\n\x3cp\x3e主要有三个参数：aligment, widthFactor 和 heightFactor。\x3cbr\x3ealigment参数控制child的定位；widthFactor 和 heightFactor 控制child的约束，如果widthFactor或者heightFactor不为null，会产生一个新的BoxConstraints：它的minWidth 和 maxWidth为原BoxConstraint.maxWidth \x3cem\x3e widthFactor；minHeight 和 maxHeight为原BoxConstraint.maxHeight \x3c\/em\x3e heightFactor。\x3cbr\x3e代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Align(\n      alignment: Alignment.center,\n      child: new Container(\n        color: Colors.green,\n        width: 300.0,\n        height: 300.0,\n        child: new FractionallySizedBox(\n          heightFactor: .5,\n          widthFactor: .5,\n          alignment: Alignment.topLeft,\n          child: new Container(\n            color: Colors.red,\n          )\n        )\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eAlign\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n      \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n        \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.green,\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new FractionallySizedBox(\n          \x3cspan class=\x22hljs-attribute\x22\x3eheightFactor\x3c\/span\x3e: .\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3ewidthFactor\x3c\/span\x3e: .\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.topLeft,\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n            \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.red,\n          )\n        )\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYFmW?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYFmW?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到当widthFactor和heigthFractor时，红色盒子宽高都为绿色的一半。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3eLimitedBox\x3c\/h2\x3e\n\x3cp\x3e看名称也知道跟控制尺寸有关了，这个控件主要有两个参数：maxWidth和maxHeight，当constraints是unbounded的时候，也就是maxWidth和maxHeight都是infinite的时候，会用maxWidth和maxHeight替换原来的maxWidth和maxHeight，所以如果contraints是bounded的时候并不会起作用。\x3cbr\x3e关键代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22BoxConstraints _limitConstraints(BoxConstraints constraints) {\n    return new BoxConstraints(\n      minWidth: constraints.minWidth,\n      maxWidth: constraints.hasBoundedWidth ? constraints.maxWidth : constraints.constrainWidth(maxWidth),\n      minHeight: constraints.minHeight,\n      maxHeight: constraints.hasBoundedHeight ? constraints.maxHeight : constraints.constrainHeight(maxHeight)\n    );\n  }\n@override\n  void performLayout() {\n    if (child != null) {\n      child.layout(_limitConstraints(constraints), parentUsesSize: true);\n      size = constraints.constrain(child.size);\n    } else {\n      size = _limitConstraints(constraints).constrain(Size.zero);\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3eBoxConstraints \x3cspan class=\x22hljs-title\x22\x3e_limitConstraints\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(BoxConstraints constraints)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e BoxConstraints(\n      minWidth: constraints.minWidth,\n      maxWidth: constraints.hasBoundedWidth ? constraints.maxWidth : constraints.constrainWidth(maxWidth),\n      minHeight: constraints.minHeight,\n      maxHeight: constraints.hasBoundedHeight ? constraints.maxHeight : constraints.constrainHeight(maxHeight)\n    );\n  }\n\x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eperformLayout\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (child != \x3cspan class=\x22hljs-keyword\x22\x3enull\x3c\/span\x3e) {\n      child.layout(_limitConstraints(constraints), parentUsesSize: \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e);\n      size = constraints.constrain(child.size);\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      size = _limitConstraints(constraints).constrain(Size.zero);\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对比ConstrainedBox，明显使用范围就没有那么广了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3eOverflowBox\x3c\/h2\x3e\n\x3cp\x3e从前面的几个控件：SizedBox，ConstrainedBox和LimitedBox分析知道，我们似乎没有办法打破由parent传递下来的约束条件，但是我们总会有一些情况是子组件的尺寸大于父组件的情况，那么怎么解决的尼？来，就看这里的OverflowBox控件，这个控件提供了几个参数：minWidth，minHeight，maxWidth，maxHeight 和 aligment；先看代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22BoxConstraints _getInnerConstraints(BoxConstraints constraints) {\n    return new BoxConstraints(\n      minWidth: _minWidth ?? constraints.minWidth,\n      maxWidth: _maxWidth ?? constraints.maxWidth,\n      minHeight: _minHeight ?? constraints.minHeight,\n      maxHeight: _maxHeight ?? constraints.maxHeight\n    );\n  }\n\nvoid performLayout() {\n    if (child != null) {\n      child.layout(_getInnerConstraints(constraints), parentUsesSize: true);\n      alignChild();\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eBoxConstraints\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3e_getInnerConstraints\x3c\/span\x3e(BoxConstraints constraints) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eBoxConstraints\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3eminWidth\x3c\/span\x3e: _minWidth ?? constraints.minWidth,\n      \x3cspan class=\x22hljs-attribute\x22\x3emaxWidth\x3c\/span\x3e: _maxWidth ?? constraints.maxWidth,\n      \x3cspan class=\x22hljs-attribute\x22\x3eminHeight\x3c\/span\x3e: _minHeight ?? constraints.minHeight,\n      \x3cspan class=\x22hljs-attribute\x22\x3emaxHeight\x3c\/span\x3e: _maxHeight ?? constraints.maxHeight\n    );\n  }\n\n\x3cspan class=\x22hljs-selector-tag\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eperformLayout\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3eif\x3c\/span\x3e (child != null) {\n      \x3cspan class=\x22hljs-selector-tag\x22\x3echild\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.layout\x3c\/span\x3e(_getInnerConstraints(constraints), \x3cspan class=\x22hljs-attribute\x22\x3eparentUsesSize\x3c\/span\x3e: true);\n      \x3cspan class=\x22hljs-selector-tag\x22\x3ealignChild\x3c\/span\x3e();\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里可以看到直接使用我们传入的参数替换了原本的minxWidth，maxWidth等，所以底下的组件可以根据新的约束条件来布局。\x3cbr\x3e做一下demo:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Align(\n      alignment: Alignment.center,\n      child: new Container(\n        color: Colors.green,\n        alignment: Alignment.center,\n        width: 300.0,\n        height: 300.0,\n        child: new OverflowBox(\n          maxWidth: double.INFINITY,\n          maxHeight: double.INFINITY,\n          child: new Container(\n            height: 600.0,\n            width: 200.0,\n            color: Colors.red,\n          ),\n        )\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eAlign\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n      \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n        \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.green,\n        \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new OverflowBox(\n          \x3cspan class=\x22hljs-attribute\x22\x3emaxWidth\x3c\/span\x3e: double.INFINITY,\n          \x3cspan class=\x22hljs-attribute\x22\x3emaxHeight\x3c\/span\x3e: double.INFINITY,\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n            \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e600.0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200.0\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.red,\n          ),\n        )\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYInD?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYInD?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果没有OverflowBox控件，红色的盒子是不可能超过绿色盒子的；而aligment可以控制红色盒子在绿色盒子里面的定位，现在是居中显示的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3eSizedOverflowBox\x3c\/h2\x3e\n\x3cp\x3e刚才OverflowBox是因为我们修改了约束条件所以child布局大小确实被改变了，所以会发生溢出，而SizedOverflowBox这个控件并不会改变约束条件，但是它还是可能会发生溢出，为什么尼？因为SizedOverflowBox可以让控件看上去“变小一点”，这怎样做到的尼？这个控件有一个参数：size，这个参数就是让我们决定这个控件看上去应该多大。\x3cbr\x3e关键代码在RenderSizedOverflowBox类中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 @override\n  double computeMinIntrinsicWidth(double height) {\n    return _requestedSize.width;\n  }\n\n  @override\n  double computeMaxIntrinsicWidth(double height) {\n    return _requestedSize.width;\n  }\n\n  @override\n  double computeMinIntrinsicHeight(double width) {\n    return _requestedSize.height;\n  }\n\n  @override\n  double computeMaxIntrinsicHeight(double width) {\n    return _requestedSize.height;\n  }\nvoid performLayout() {\n    size = constraints.constrain(_requestedSize);\n    if (child != null) {\n      child.layout(constraints);\n      alignChild();\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e @override\n  \x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e computeMinIntrinsicWidth(\x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _requestedSize.\x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e;\n  }\n\n  @override\n  \x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e computeMaxIntrinsicWidth(\x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _requestedSize.\x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e;\n  }\n\n  @override\n  \x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e computeMinIntrinsicHeight(\x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _requestedSize.\x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e;\n  }\n\n  @override\n  \x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e computeMaxIntrinsicHeight(\x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _requestedSize.\x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e;\n  }\n\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e performLayout() {\n    \x3cspan class=\x22hljs-built_in\x22\x3esize\x3c\/span\x3e = constraints.\x3cspan class=\x22hljs-built_in\x22\x3econstrain\x3c\/span\x3e(_requestedSize);\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (child != \x3cspan class=\x22hljs-keyword\x22\x3enull\x3c\/span\x3e) {\n      child.layout(constraints);\n      alignChild();\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e示例代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Align(\n      alignment: Alignment.center,\n      child: new Container(\n        color: Colors.green,\n        alignment: Alignment.center,\n        width: 300.0,\n        height: 300.0,\n        child: new SizedOverflowBox(\n          size: new Size(200.0, 300.0),\n          child: new Container(\n            color: Colors.red\n          )\n        )\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode\x3eWidget build(BuildContext \x3cspan class=\x22hljs-built_in\x22\x3econtext\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Align(\n      alignment: Alignment.\x3cspan class=\x22hljs-built_in\x22\x3ecenter\x3c\/span\x3e,\n      child: \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Container(\n        \x3cspan class=\x22hljs-built_in\x22\x3ecolor\x3c\/span\x3e: Colors.green,\n        alignment: Alignment.\x3cspan class=\x22hljs-built_in\x22\x3ecenter\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        child: \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e SizedOverflowBox(\n          size: \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Size(\x3cspan class=\x22hljs-number\x22\x3e200.0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e),\n          child: \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Container(\n            \x3cspan class=\x22hljs-built_in\x22\x3ecolor\x3c\/span\x3e: Colors.red\n          )\n        )\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e截图:\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYPPA?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYPPA?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3eOffstage\x3c\/h2\x3e\n\x3cp\x3e在CSS有一个属性visibility，当设置为hidden时，元素是存在但是不会绘制出来；在Flutter中Offstage也可以做到这种效果。\x3cbr\x3e在RenderOffstage类中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class RenderOffstage extends RenderProxyBox {\n    ...\n    @override\n  void performLayout() {\n    if (offstage) {\n      child?.layout(constraints);\n    } else {\n      super.performLayout();\n    }\n  }\n\n  @override\n  bool hitTest(HitTestResult result, { Offset position }) {\n    return !offstage \x26amp;\x26amp; super.hitTest(result, position: position);\n  }\n\n  @override\n  void paint(PaintingContext context, Offset offset) {\n    if (offstage)\n      return;\n    super.paint(context, offset);\n  }\n    ...\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eRenderOffstage\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eRenderProxyBox\x3c\/span\x3e \x3c\/span\x3e{\n    ...\n    \x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  void performLayout() {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (offstage) {\n      child?.layout(constraints);\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e.performLayout();\n    }\n  }\n\n  \x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  bool hitTest(\x3cspan class=\x22hljs-type\x22\x3eHitTestResult\x3c\/span\x3e result, { \x3cspan class=\x22hljs-type\x22\x3eOffset\x3c\/span\x3e position }) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e !offstage \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e.hitTest(result, position: position);\n  }\n\n  \x3cspan class=\x22hljs-meta\x22\x3e@override\x3c\/span\x3e\n  void paint(\x3cspan class=\x22hljs-type\x22\x3ePaintingContext\x3c\/span\x3e context, \x3cspan class=\x22hljs-type\x22\x3eOffset\x3c\/span\x3e offset) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (offstage)\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e.paint(context, offset);\n  }\n    ...\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可见当offstage为true时，布局还是会继续进行的，但是paint方法里面会直接返回，hitTest方法也会直接跳过，也就是不能响应任何手势。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader19\x22\x3eAspectRatio\x3c\/h2\x3e\n\x3cp\x3e这个控件可以用来让子控件大小维持在一个固定宽高比，例如：16：9。\x3cbr\x3e直接看布局算法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Size _applyAspectRatio(BoxConstraints constraints) {\n    if (constraints.isTight)\n      return constraints.smallest;\n\n    double width = constraints.maxWidth;\n    double height;\n\n    \/\/ We default to picking the height based on the width, but if the width\n    \/\/ would be infinite, that\x27s not sensible so we try to infer the height\n    \/\/ from the width.\n    if (width.isFinite) {\n      height = width \/ _aspectRatio;\n    } else {\n      height = constraints.maxHeight;\n      width = height * _aspectRatio;\n    }\n\n    \/\/ Similar to RenderImage, we iteratively attempt to fit within the given\n    \/\/ constraints while maintaining the given aspect ratio. The order of\n    \/\/ applying the constraints is also biased towards inferring the height\n    \/\/ from the width.\n\n    if (width \x3e constraints.maxWidth) {\n      width = constraints.maxWidth;\n      height = width \/ _aspectRatio;\n    }\n\n    if (height \x3e constraints.maxHeight) {\n      height = constraints.maxHeight;\n      width = height * _aspectRatio;\n    }\n\n    if (width \x3c constraints.minWidth) {\n      width = constraints.minWidth;\n      height = width \/ _aspectRatio;\n    }\n\n    if (height \x3c constraints.minHeight) {\n      height = constraints.minHeight;\n      width = height * _aspectRatio;\n    }\n\n    return constraints.constrain(new Size(width, height));\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3eSize _applyAspectRatio(BoxConstraints constraints) {\n    \x3cspan class=\x22hljs-built_in\x22\x3eif\x3c\/span\x3e (constraints.isTight)\n      \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e constraints.smallest;\n\n    \x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e = constraints.maxWidth;\n    \x3cspan class=\x22hljs-keyword\x22\x3edouble\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ We default to picking the height based on the width, but if the width\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ would be infinite, that\x27s not sensible so we try to infer the height\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ from the width.\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e.isFinite) {\n      \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e \/ _aspectRatio;\n    } \x3cspan class=\x22hljs-built_in\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e = constraints.maxHeight;\n      \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e * _aspectRatio;\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Similar to RenderImage, we iteratively attempt to fit within the given\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ constraints while maintaining the given aspect ratio. The order of\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ applying the constraints is also biased towards inferring the height\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ from the width.\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-built_in\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e \x26gt; constraints.maxWidth) {\n      \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e = constraints.maxWidth;\n      \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e \/ _aspectRatio;\n    }\n\n    \x3cspan class=\x22hljs-built_in\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e \x26gt; constraints.maxHeight) {\n      \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e = constraints.maxHeight;\n      \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e * _aspectRatio;\n    }\n\n    \x3cspan class=\x22hljs-built_in\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e \x26lt; constraints.minWidth) {\n      \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e = constraints.minWidth;\n      \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e \/ _aspectRatio;\n    }\n\n    \x3cspan class=\x22hljs-built_in\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e \x26lt; constraints.minHeight) {\n      \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e = constraints.minHeight;\n      \x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e * _aspectRatio;\n    }\n\n    \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e constraints.\x3cspan class=\x22hljs-built_in\x22\x3econstrain\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Size(\x3cspan class=\x22hljs-built_in\x22\x3ewidth\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eheight\x3c\/span\x3e));\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e简单分析一下：\x3cbr\x3e如果constraints是tight，那么这个控件并不会起啥作用，所以这个控件一般需要Align控件包裹一下。\x3cbr\x3e如果宽度不是Inifinte，它首先会选择最大宽度，否则根据maxHeight来反推宽度。\x3cbr\x3e万一高度超出约束条件，它就会反过来，选择最大的高度反推出宽度，那么万一宽度小于最小宽度，它又会根据最小宽度计算高度等等。\x3cbr\x3e当然最后还是会根据约束条件来规范最终的Size，所以可能出来效果是跟我们预设的宽高比不一致，但是这种情况应该很少。\x3cbr\x3e示例代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Align(\n      alignment: Alignment.center,\n      child: new Container(\n        color: Colors.green,\n        alignment: Alignment.center,\n        width: 300.0,\n        height: 300.0,\n        child: new AspectRatio(\n          aspectRatio: 2.0,\n          child: new Container(\n            color: Colors.red,\n          ),\n        )\n      )\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eAlign\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n      \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n        \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.green,\n        \x3cspan class=\x22hljs-attribute\x22\x3ealignment\x3c\/span\x3e: Alignment.center,\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300.0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new AspectRatio(\n          \x3cspan class=\x22hljs-attribute\x22\x3easpectRatio\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2.0\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e: new Container(\n            \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: Colors.red,\n          ),\n        )\n      )\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e截图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYP8K?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYP8K?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader20\x22\x3eIntrinsicWidth \x26amp; IntrinsicHeight\x3c\/h2\x3e\n\x3cblockquote\x3eSizes its child\x27s width to the child\x27s maximum intrinsic width.\x3c\/blockquote\x3e\n\x3cp\x3e说实在这个控件看了半天没想出用于哪些场景，搜了一下代码，基本都用在一些浮窗上。布局过程是调用getMaxIntrinsicWidth方法递归询问子控件最大的intrinsicWidth，因为这个方法需要递归下去，如果每个控件都调用比较耗性能，当获取到intrinsicWidth，就会使用这个值作为约束条件（当然也受到原始的约束条件约束），然后传递给child，所以正如上面的话所说，但是还是想不到哪些场景会需要。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader21\x22\x3eBaseline\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYULV?w=750\x26amp;h=145\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYULV?w=750\x26amp;h=145\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e正如图上，基线可以影响着文字水平排布；如果两段文字的基线不一样，两段文字的可能会出现一上一下，并不是在同一水平线上排布，就像这样：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYUOq?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYUOq?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这是两个Text控件，文字大小分别是12dp和32dp，所以他们的基线位置是不一样的，所以这样的排布并不是我们想要的，所以我们可以使用Baseline控件让他们都在一样的基线上，修改后：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVYUO6?w=1440\x26amp;h=2560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVYUO6?w=1440\x26amp;h=2560\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这才是我们常见的，代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Widget build(BuildContext context) {\n    return new Wrap(\n      children: \x3cWidget\x3e[\n        new Baseline(\n          baseline: 30.0,\n          baselineType: TextBaseline.alphabetic,\n          child:\n          new Text(\n            \x27AAAAA\x27,\n            style: new TextStyle(\n              fontSize: 12.0,\n              textBaseline: TextBaseline.alphabetic,\n            ),\n          )\n        ),\n        new Baseline(\n          baseline: 30.0,\n          baselineType: TextBaseline.alphabetic,\n          child:\n          new Text(\n            \x27BBB\x27,\n            style: new TextStyle(\n              fontSize: 32.0,\n              textBaseline: TextBaseline.alphabetic,\n            ),\n          ),\n        )\n      ],\n    );\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eWidget\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ebuild\x3c\/span\x3e(BuildContext context) {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eWrap\x3c\/span\x3e(\n      \x3cspan class=\x22hljs-attribute\x22\x3echildren\x3c\/span\x3e: \x26lt;Widget\x26gt;[\n        new Baseline(\n          \x3cspan class=\x22hljs-attribute\x22\x3ebaseline\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e30.0\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3ebaselineType\x3c\/span\x3e: TextBaseline.alphabetic,\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e:\n          new Text(\n            \x3cspan class=\x22hljs-string\x22\x3e\x27AAAAA\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3estyle\x3c\/span\x3e: new TextStyle(\n              \x3cspan class=\x22hljs-attribute\x22\x3efontSize\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e12.0\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attribute\x22\x3etextBaseline\x3c\/span\x3e: TextBaseline.alphabetic,\n            ),\n          )\n        ),\n        new Baseline(\n          \x3cspan class=\x22hljs-attribute\x22\x3ebaseline\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e30.0\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attribute\x22\x3ebaselineType\x3c\/span\x3e: TextBaseline.alphabetic,\n          \x3cspan class=\x22hljs-attribute\x22\x3echild\x3c\/span\x3e:\n          new Text(\n            \x3cspan class=\x22hljs-string\x22\x3e\x27BBB\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attribute\x22\x3estyle\x3c\/span\x3e: new TextStyle(\n              \x3cspan class=\x22hljs-attribute\x22\x3efontSize\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e32.0\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attribute\x22\x3etextBaseline\x3c\/span\x3e: TextBaseline.alphabetic,\n            ),\n          ),\n        )\n      ],\n    );\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e把基线的位置都定义为30，两段文字都会在来30的水平线上排布，就可以看到现在整齐的效果。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Flutter样式和布局控件简析(一)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011949751">https://segmentfault.com/a/1190000011949751</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/kycatxlgoj/" target="_blank">https://alili.tech/archive/kycatxlgoj/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>