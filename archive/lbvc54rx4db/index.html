<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="【30分钟】吃透webpack，也许这一篇就够了"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>【30分钟】吃透webpack，也许这一篇就够了 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/lbvc54rx4db/",
				"appid": "1613049289050283", 
				"title": "【30分钟】吃透webpack，也许这一篇就够了 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-20T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4o6lz3328c3/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/hr6fyerjf4b/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&text=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&text=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&title=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&is_video=false&description=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&title=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&title=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&title=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2flbvc54rx4db%2f&title=%e3%80%9030%e5%88%86%e9%92%9f%e3%80%91%e5%90%83%e9%80%8fwebpack%ef%bc%8c%e4%b9%9f%e8%ae%b8%e8%bf%99%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">【30分钟】吃透webpack，也许这一篇就够了</h1><div class="meta"><div class="postdate"><time datetime="2018-12-20" itemprop="datePublished">2018-12-20</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e本文webpack是在Mac平台下基于官方最新版本v3.10，对于webpack@v2会有小的差异，待全文完成后会补充webpack@v2与v3版本之间的差异\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e使用webpack前的准备\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1、初始化一个前端项目\x3c\/h3\x3e\n\x3cp\x3e为了方便之后自己更好的使用这个webpack_starter，引入git的支持，一是可以把一些通用的东西放在主分支，二是可以把后面不同的配置支持可以通过\x3ccode\x3ebranch\x3c\/code\x3e或者\x3ccode\x3etag\x3c\/code\x3e的方式分门别类。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e在github初始化一个\x3ccode\x3ewebpack_starter\x3c\/code\x3e项目，如下图所示，初始化\x3ccode\x3e.gitignore\x3c\/code\x3e支持\x3ccode\x3eNode\x3c\/code\x3e语言\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV0WoU?w=1446\x26amp;h=1238\x22 src=\x22https:\/\/static.alili.tech\/img\/bV0WoU?w=1446\x26amp;h=1238\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#clone项目到本地\ngit clone https:\/\/github.com\/mpandar\/webpack_starter.git\ncd webpack_starter\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e#clone项目到本地\x3c\/span\x3e\ngit \x3cspan class=\x22hljs-keyword\x22\x3eclone\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehttps\x3c\/span\x3e:\/\/github.com\/mpandar\/webpack_starter.git\ncd webpack_starter\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e利用yarn初始化项目（当然同样可以使用npm，无太大差异，此处不再补充npm使用方法）\x3c\/li\x3e\x3c\/ul\x3e\n\x3cblockquote\x3e初始化过程按照提示完成即可，唯一注意的是\x3ccode\x3eentry point\x3c\/code\x3e，这是webpack进行打包时的入口文件，默认是根目录下的\x3ccode\x3eindex.js\x3c\/code\x3e，不过通常情况下，我们的源码都是在\x3ccode\x3esrc\x3c\/code\x3e目录下，所以修改为\x3ccode\x3esrc\/index.js\x3c\/code\x3e\n\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e yarn init\nyarn init v1.3.2\nquestion name (webpack_starter): \nquestion version (1.0.0): 0.1.0\nquestion description: a webpack start project\nquestion entry point (index.js): src\/index.js\nquestion repository url (https:\/\/github.com\/mpandar\/webpack_starter.git): \nquestion author (mpandar \x3cmshp_****@126.com\x3e): \nquestion license (MIT): \nquestion private: \nsuccess Saved package.json\n✨  Done in 53.55s.\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x26gt; \x3cspan class=\x22hljs-selector-tag\x22\x3eyarn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3einit\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eyarn\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3einit\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ev1\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.3\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.2\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3equestion\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ename\x3c\/span\x3e (webpack_starter): \n\x3cspan class=\x22hljs-selector-tag\x22\x3equestion\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eversion\x3c\/span\x3e (\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e): \x3cspan class=\x22hljs-selector-tag\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.1\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3equestion\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3edescription\x3c\/span\x3e: \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ewebpack\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3estart\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eproject\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3equestion\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eentry\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3epoint\x3c\/span\x3e (index.js): \x3cspan class=\x22hljs-selector-tag\x22\x3esrc\x3c\/span\x3e\/\x3cspan class=\x22hljs-selector-tag\x22\x3eindex\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3equestion\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3erepository\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eurl\x3c\/span\x3e (\x3cspan class=\x22hljs-attribute\x22\x3ehttps\x3c\/span\x3e:\x3cspan class=\x22hljs-comment\x22\x3e\/\/github.com\/mpandar\/webpack_starter.git): \x3c\/span\x3e\nquestion author (mpandar \x26lt;mshp_****\x3cspan class=\x22hljs-variable\x22\x3e@126\x3c\/span\x3e.com\x26gt;): \nquestion license (MIT): \nquestion \x3cspan class=\x22hljs-attribute\x22\x3eprivate\x3c\/span\x3e: \nsuccess Saved package.json\n✨  Done in \x3cspan class=\x22hljs-number\x22\x3e53.55s\x3c\/span\x3e.\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2、安装webpack\x3c\/h3\x3e\n\x3cblockquote\x3e单独安装与全局安装对于webpack的使用并无太大差异，但推荐即使全局安装以后，仍要在项目中进行单独的安装，方便项目移植。否则可能会导致全局安装的webpack版本与项目中的配置文件可能存在不匹配。当然单独安装后，使用一些npm或yarn命令，它们会优先使用本地安装的webpack\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#全局安装\nyarn global add webpack\n#单项目使用\nyarn add webpack\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e#全局安装\x3c\/span\x3e\nyarn global \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e webpack\n\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e#单项目使用\x3c\/span\x3e\nyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e webpack\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e3、初始化项目目录\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 |---\n    |--dist    \/\/存放webpack打包后相关文件\n    |--src     \/\/存放项目源码\n       |--index.js \n    |--config  \/\/项目相关的配置文件\n       |--webpack.config.js   \/\/webpack默认读取项目根目录下的webpack.config.js文件作为配置信息，为了规范化移入到config目录下\n    |--package.json\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e |---\n    |--dist    \x3cspan class=\x22hljs-comment\x22\x3e\/\/存放webpack打包后相关文件\x3c\/span\x3e\n    |--src     \x3cspan class=\x22hljs-comment\x22\x3e\/\/存放项目源码\x3c\/span\x3e\n       |--index.js \n    |--config  \x3cspan class=\x22hljs-comment\x22\x3e\/\/项目相关的配置文件\x3c\/span\x3e\n       |--webpack.config.js   \x3cspan class=\x22hljs-comment\x22\x3e\/\/webpack默认读取项目根目录下的webpack.config.js文件作为配置信息，为了规范化移入到config目录下\x3c\/span\x3e\n    |--package.json\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e了解webpack配置文件webpack.config.js\x3c\/h2\x3e\n\x3cp\x3e当然，即使没有配置文件，直接运行webpack命令，同样可以直接对js文件完成打包工作，这里是一篇分析webpack打包后的代码的文章：\x3ca href=\x22https:\/\/www.jianshu.com\/p\/0e5247f9975f\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e简要分析webpack打包后代码\x3c\/a\x3e，其中用到的一个新命令npx，很简单，介绍\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010149499\x22\x3e点这里\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#直接打包\nnpx webpack src\/index.js dist\/bundle.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e#直接打包\x3c\/span\x3e\nnpx webpack src\/index.js dist\/bundle.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了应对更灵活的使用场景，webpack支持配置文件，并且默认情况下，在项目根目录下，如果存在\x3ccode\x3ewebpack.config.js\x3c\/code\x3e文件，那么webpack会主动读取该文件作为配置内容，不过Demo下，为了更加符合我们的目录规范，我们将config文件移到了\x3ccode\x3econfig\x3c\/code\x3e目录下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/当配置文件内容为空时，运行该命令会提示`Configuration file found but no entry configured`\nnpx webpack src\/index.js --config config\/webpack.config.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/当配置文件内容为空时，运行该命令会提示`Configuration file found but no entry configured`\x3c\/span\x3e\nnpx webpack src\/index\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e --config config\/webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.config\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来，让我们看一下一个webpack配置文件，最简单只需要包含entry（定义入口文件）和output（定义打包输出文件）这两个部分：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const path = require(\x27path\x27);\nconst base = path.join(__dirname, \x27..\x27)\n\nmodule.exports = {\n  entry: path.resolve(base, \x27src\x27, \x27index.js\x27),\n  output: {\n    filename: \x27bundle.js\x27,\n    path: path.resolve(base, \x27dist\x27)\n  }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e base = path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27index.js\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e)\n  }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e注：使用path模块只是为了代码清晰，你完全可以不用，直接用\x3ccode\x3e__dirname\x2b\x27\/..\/src\x27\x3c\/code\x3e类似代码拼接\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/这样就不需要在命令行定义输入输出文件啦\nnpx webpack --config config\/webpack.config.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/这样就不需要在命令行定义输入输出文件啦\x3c\/span\x3e\nnpx webpack --\x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e\/webpack.\x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了\x3ccode\x3eentry\x3c\/code\x3e和\x3ccode\x3eoutput\x3c\/code\x3e，webpack中最常见的就是\x3ccode\x3emodule\x3c\/code\x3e、\x3ccode\x3eresolve\x3c\/code\x3e、\x3ccode\x3eplugins\x3c\/code\x3e，大致结构如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  entry: path.resolve(base, \x27src\x27, \x27index.js\x27),\n  output: {\n    filename: \x27bundle.js\x27,\n    path: path.resolve(base, \x27dist\x27)\n  },\n  devtool: \x27eval-source-map\x27,\n  devServer: {\n    contentBase: path.resolve(base, \x27dist\x27),\n    historyApiFallback: true,\n    inline: true,\n    proxy: {\n      \x26quot;\/api\x26quot;: \x26quot;http:\/\/localhost:8000\x26quot;\n    }\n  },\n  module: {\n    rules: [\n    ]\n  },\n  resolve: {\n  },\n  plugins: [\n  ]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27index.js\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e)\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3edevtool\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27eval-source-map\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3edevServer\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3econtentBase\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-attr\x22\x3ehistoryApiFallback\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3einline\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eproxy\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22\/api\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/localhost:8000\x22\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emodule\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [\n    ]\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eresolve\x3c\/span\x3e: {\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n  ]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然了解webpack最好的地方永远是官方文档，\x3ca href=\x22https:\/\/webpack.js.org\/configuration\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e传送门\x3c\/a\x3e，接下来，自然是在目前配置的基础上，增添更多令人兴奋的特性\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e为开发增加更多利器\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e生成Source Map，为调试助力\x3c\/h3\x3e\n\x3cp\x3e开发离不开调试，但经过编码后的代码并不利于调试，很找到出错的地方对应的你写的代码，而Source Maps就是来帮我们解决这个问题的。\x3cbr\x3e而webpack支持Source Maps仅仅是增加一行 \x3ccode\x3edevtool\x3c\/code\x3e 配置选项，具体配置选项可以\x3ca href=\x22https:\/\/webpack.js.org\/configuration\/devtool\/#devtool\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e看这里的官方文档\x3c\/a\x3e，其中两个选项 \x3ccode\x3eeval-source-map\x3c\/code\x3e 与 \x3ccode\x3esource-map\x3c\/code\x3e 是比较常用的选项，前一个选项推荐仅仅用在开发环境，而后一个通常在一些第三方库中，提供给开发者调试使用。当然对于任何上线项目，实际上都推荐使用*.min.js并不使用Source Map以加快网络加载。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  entry: path.resolve(base, \x27src\x27, \x27index.js\x27),\n  output: {\n    filename: \x27bundle.js\x27,\n    path: path.resolve(base, \x27dist\x27)\n  },\n  devtool: \x27eval-source-map\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3emodule.exports = {\n  entry: path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27index.js\x27\x3c\/span\x3e),\n  outpu\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e {\n    filename: \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n    path: path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(base, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e)\n  },\n  devtoo\x3cspan class=\x22hljs-variable\x22\x3el:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27eval-source-map\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e自动监控代码更新，自动编译，自动浏览器刷新\x3c\/h3\x3e\n\x3cp\x3e作为开发者，总不希望把时间浪费在执行命令和刷新页面上，webpack提供一个单独的组件\x3ccode\x3ewebpack-dev-server\x3c\/code\x3e为我们提供一个基于nodejs的本地服务器、文件修改监控及编译以及浏览器自动刷新等特性。\x3c\/p\x3e\n\x3cp\x3e首先是安装：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add webpack-dev-server --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e webpack-dev-server --dev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e详细配置参数可查阅\x3ca href=\x22https:\/\/webpack.js.org\/configuration\/dev-server\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e，常使用参数如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3econtentBase 指定项目根目录\x3c\/li\x3e\n\x3cli\x3ehistoryApiFallback 主要应用在单页应用的开发场景，它依赖于HTML5 history API，如果设置为true，所有的跳转将指向index.html\x3c\/li\x3e\n\x3cli\x3einline 主要是解决了自动浏览器自动刷新问题\x3c\/li\x3e\n\x3cli\x3elazy 默认为false，若开启后，则webpack-dev-server不再监测文件变化自动编译，只有等到我们手动刷新浏览器的时候才会编译文件\x3c\/li\x3e\n\x3cli\x3eproxy 可以有效的解决开发阶段的跨域问题，毕竟不是所有的前端项目，都有独立的nodejs作为中间件去请求服务，更多的还是把前端项目编译后与后端服务部署在一起。而开发阶段又相对独立，这时候就可以利用proxy将前端请求转发到后端测试服务器，不影响开发\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  entry: path.resolve(base, \x27src\x27, \x27index.js\x27),\n  output: {\n    filename: \x27bundle.js\x27,\n    path: path.resolve(base, \x27dist\x27)\n  },\n  devtool: \x27eval-source-map\x27,\n  devServer: {\n    contentBase: path.resolve(base, \x27dist\x27),\n    historyApiFallback: true,\n    inline: true,\n    proxy: {\n      \x26quot;\/api\x26quot;: \x26quot;http:\/\/localhost:8000\x26quot;\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27index.js\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e)\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3edevtool\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27eval-source-map\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3edevServer\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3econtentBase\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-attr\x22\x3ehistoryApiFallback\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3einline\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eproxy\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22\/api\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/localhost:8000\x22\x3c\/span\x3e\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e小插曲，本来测试proxy的时候，自己利用php -S localhost:8000快速起了一个监听进程，但是访问前端的时候却提示转发去请求被拒绝，后来发现webpack-dev-server去转发请求的时候是把localhost转化为了地址，即127.0.0.1:8000，所以在php启动监听进程时候，需要使用\x3ccode\x3ephp -S 127.0.0.1:8000\x3c\/code\x3e或者\x3ccode\x3ephp -S 0.0.0.0:8000\x3c\/code\x3e监听所有网卡地址\x3c\/blockquote\x3e\n\x3cp\x3ewebpack-dev-server的使用同webpack基本运行一样，只是webpack-dev-server是一个不会退出的进程，并自动监控文件变化等（Ctrl\x2bC退出)\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npx webpack-dev-server --config config\/webpack.config.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpx webpack-dev-server --\x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e\/webpack.\x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e更方便的打包命令\x3c\/h3\x3e\n\x3cp\x3e使用\x3ccode\x3enpx webpack --config config\/webpack.config.js\x3c\/code\x3e进行打包实际上已经很方便了，但是当我们需要又有开发环境的配置，又有生产环境的配置，甚至还要为命令增加其他的环境变量的时候，这个命令简直是又臭又长，我们总不能每次都输入这个繁琐的命令，其实我们可以利用npm scripts，这里是一篇\x3ca href=\x22https:\/\/www.jianshu.com\/p\/42e11515c10f\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e阮一峰大神对npm脚本的介绍\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/package.json\n{  \n  \x26quot;scripts\x26quot;: {\n    \x26quot;build\x26quot;: \x26quot;webpack --config config\/webpack.config.js\x26quot;,\n    \x26quot;dev\x26quot;: \x26quot;webpack-dev-server --config config\/webpack.config.js\x26quot;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/package.json\x3c\/span\x3e\n{  \n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22webpack --config config\/webpack.config.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22dev\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22webpack-dev-server --config config\/webpack.config.js\x22\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm run build\nnpm run dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e build\n\x3c\/span\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e dev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e需要注意的是在配置build\x26amp;dev脚本的时候，我们并没有用\x3ccode\x3enpx\x3c\/code\x3e命令，实际上，在npm脚本中的命令，npm默认都是优先查找本项目下node_modules下是否存在对应的模块及命令，如果没找到，才会查找全局的命令\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e多文件入口\x3c\/h3\x3e\n\x3cp\x3e通常一个项目中，并不是只有一个js文件，而entry默认支持多文件入口，修改output跟随入口文件名字命名即可，简单做如下修改：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  entry: {\n    index: path.resolve(base, \x27src\x27, \x27index.js\x27),\n    main: path.resolve(base, \x27src\x27, \x27main.js\x27)\n  },\n  output: {\n    filename: \x27js\/[name].js\x27,\n    path: path.resolve(base, \x27dist\x27)\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3emodule.exports = {\n  entry: {\n    \x3cspan class=\x22hljs-built_in\x22\x3eindex\x3c\/span\x3e: path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27index.js\x27\x3c\/span\x3e),\n    main: path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27main.js\x27\x3c\/span\x3e)\n  },\n  outpu\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e {\n    filename: \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e,\n    path: path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(base, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e)\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同时创建一个简单的main.js进行测试，再次编译会发现在dist\/js目录下存在编译后的index.js和main.js文件\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e一切皆为Module\x3c\/h2\x3e\n\x3cp\x3ewebpack令人兴奋的一个特性就是模块化，易于扩展其功能。webpack支持大量的模块导入方法，比如ES6（import）、CommonJS（require）、AMD等规范，并且加入了一些\x3ca href=\x22https:\/\/webpack.js.org\/api\/module-methods\/#webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e自由方法\x3c\/a\x3e，具体的可以看\x3ca href=\x22https:\/\/webpack.js.org\/api\/module-methods\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方说明\x3c\/a\x3e文档。\x3c\/p\x3e\n\x3cp\x3e用通俗的语言描述就是，\x3cstrong\x3ewebpack通过某个入口，去匹配各种模块导入规范，发现一个模块就根据对应配置寻找对应的loader去处理，如此往复，直到处理完毕所有依赖。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e使用起来就是在modules字段中的rules（老版本名字为loaders，为保证兼容性，还是支持这个字段的）中配置test，去匹配文件（js、css、图片资源等等），然后把这个文件交给合适的loader处理即可，所以但凡新出的框架，如果用到了独特的语法功能，都会配套提供对应的loader工具\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e使用ES6等新特性\x3c\/h3\x3e\n\x3cp\x3e目前虽然浏览器对ES6新特性的支持度都非常高，但仍是有部分场景下，我们只能运行ES5的代码，这时候就需要利用到js转码届的特斯拉Bebel及其插件了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add babel-loader babel-core babel-preset-env\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add babel-loader babel-core babel-preset-env\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  module: {\n    rules: [\n      {\n        test: \/\\.js$\/,\n        exclude: \/(node_modules|bower_components)\/,\n        use: {\n          loader: \x27babel-loader\x27,\n          options: {\n            presets: [\x27env\x27]\n          }\n        }\n      }\n    ]\n  },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e  module: {\n    rules: [\n      {\n        test: \/\\.js$\/,\n        exclude: \/(node_modules|bower_components)\/,\n        use: {\n          loader: \x27babel-loader\x27,\n          options: {\n            presets: [\x27env\x27]\n          }\n        }\n      }\n    ]\n  },\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e显然\x3ccode\x3etest\x3c\/code\x3e中匹配了所有的js文件，\x3ccode\x3eexclude\x3c\/code\x3e字段去除了项目中依赖库里的文件，\x3ccode\x3euse\x3c\/code\x3e则是配置对应的loader。其中对于options，是作为参数传递给babel-loader的，babel的相关参数可以参考babel的\x3ca href=\x22http:\/\/babeljs.io\/docs\/usage\/api\/#options\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方网站\x3c\/a\x3e，其中presets作为最主要的参数，告诉babel按照那种规则去解析代码，当然\x3ccode\x3eenv\x3c\/code\x3e是一个组合，包含es2015、es2016等，当presets参数包含多个值时，babel的处理规则是倒序的，\x3ccode\x3e\x22es2017\x22,\x22es2016\x22\x3c\/code\x3e，babel会先去匹配\x3ccode\x3ees2016\x3c\/code\x3e的规则。另外，对于babel的配置，也可以通过在根目录建立\x3ccode\x3e.babelrc\x3c\/code\x3e方式去配置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/.babelrc\n{\n  \x26quot;presets\x26quot;: [\n    \x26quot;env\x26quot;\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/.babelrc\x3c\/span\x3e\n{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然除了扩展js的语法，有时候我们还需要扩展js的功能，比如在某些低版本的浏览器上运行\x3ccode\x3e\x27Hello World\x27.includes(\x27Hello\x27)\x3c\/code\x3e，这可以使用\x3ccode\x3ebabel-polyfill\x3c\/code\x3e这个组件，点击\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008706628\x22\x3e这里\x3c\/a\x3e可以了解其使用方法。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3eCSS\x3c\/h3\x3e\n\x3cp\x3e当然，我们可以只让webpack处理js文件，继续在html文件中通过\x3ccode\x3elink\x3c\/code\x3e标签引入css文件。但显然webpack希望前端攻城狮们也能像模块化编写js一样，进行css的编写。我们在src下创建css目录，并创建main.css文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* src\/css\/main.css *\/\nbody{\n  background-color: deepskyblue; \/* 我喜欢填空的蓝色 *\/\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* src\/css\/main.css *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: deepskyblue; \x3cspan class=\x22hljs-comment\x22\x3e\/* 我喜欢填空的蓝色 *\/\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/src\/index.js\nimport style from \x27.\/css\/main.css\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/src\/index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e style \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/css\/main.css\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这时候使用\x3ccode\x3enpm run build\x3c\/code\x3e会发现编译报错，这是因为webpack无法处理载入main.css后的代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ERROR in .\/src\/css\/main.css\nModule parse failed: Unexpected token (1:4)\nYou may need an appropriate loader to handle this file type.\n| body{\n|   background-color: red;\n| }\n @ .\/src\/index.js 3:12-37\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre\x3e\x3ccode class=\x22nohighlight\x22\x3eERROR in .\/src\/css\/main.css\nModule parse failed: Unexpected token (1:4)\nYou may need an appropriate loader to handle this file type.\n| body{\n|   background-color: red;\n| }\n @ .\/src\/index.js 3:12-37\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ewebpack官方提供\x3ccode\x3ecss-loader\x3c\/code\x3e专门处理导入的css模块，当然\x3ccode\x3ecss-loader\x3c\/code\x3e也仅仅是完成了模块的导入处理，使webpack在编译时候不再报错，实际上，还需要\x3ccode\x3estyle-loader\x3c\/code\x3e处理导入后的css数据，自动添加到html的style标签中。如果你在测试过程中，仅仅添加\x3ccode\x3ecss-loader\x3c\/code\x3eloader，你会发现body实际上并没有变成背景蓝\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add style-loader css-loader\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add style-loader css-loader\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/config webpack.config.js module-\x3erules\n      {\n        test: \/\\.css$\/,\n        use: [\n          {\n            loader: \x26quot;style-loader\x26quot;\n          }, {\n            loader: \x26quot;css-loader\x26quot;,\n            options: {\n              modules: true,\n              localIdentName: \x27[path][name]__[local]--[hash:base64:5]\x27\n              }\n          }\n        ]\n      }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e\/\/config webpack.config.js module-\x26gt;rules\n      {\n        test: \/\\.css$\/,\n        use: [\n          {\n            loader: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e\n          }, {\n            loader: \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e,\n            options: {\n              modules: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n              localIdentName: \x27[path][name]__[local]--[hash:base64:\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e]\x27\n              }\n          }\n        ]\n      }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然\x3ccode\x3ecss-loader\x3c\/code\x3e还有一个重要配置选项，\x3ccode\x3emodules\x3c\/code\x3e参数，它支持导入的css中的类名自动重命名，这样即使在不同组件使用了相同的css类命名，经处理后互相之间也不会出现影响。看下效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV1ext?w=2516\x26amp;h=560\x22 src=\x22https:\/\/static.alili.tech\/img\/bV1ext?w=2516\x26amp;h=560\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3eCSS预编译工具\x3c\/h3\x3e\n\x3cp\x3e比较常见的预编译工具也就是Sass、Less、Stylus。在使用这三个预编译工具前，需要安装其对应的专属处理程序，比如Sass的处理工具node-sass。为了配合与webpack使用，还要安装对应的loader，比如sass-loader\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add sass-loader node-sass --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add sass-loader \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e\x3cspan class=\x22hljs-title\x22\x3e-sass\x3c\/span\x3e --dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在webpack.config.js中添加对scss（Sass 3引入的新的语法格式，推荐新项目都用此）文件的支持，再起强调，webpack中loader执行顺序是从右往左，从下往上。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nmodule.exports = {\n    ...\n    module: {\n        rules: [{\n            test: \/\\.scss$\/,\n            use: [{\n                loader: \x26quot;style-loader\x26quot;\n            }, {\n                loader: \x26quot;css-loader\x26quot;,\n                options: {\n                  modules: true,\n                  localIdentName: \x27[path][name]__[local]--[hash:base64:5]\x27\n              }\n            }, {\n                loader: \x26quot;sass-loader\x26quot;\n                }\n            }]\n        }]\n    }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    ...\n    module: {\n        \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [{\n            \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.scss$\/\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [{\n                \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e\n            }, {\n                \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n                  \x3cspan class=\x22hljs-attr\x22\x3emodules\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                  \x3cspan class=\x22hljs-attr\x22\x3elocalIdentName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27[path][name]__[local]--[hash:base64:5]\x27\x3c\/span\x3e\n              }\n            }, {\n                \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22sass-loader\x22\x3c\/span\x3e\n                }\n            }]\n        }]\n    }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e测试一下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* src\/sass\/main.scss  *\/\nbody {\n  background-color: blue;\n}\n.main {\n  background-color: grey\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* src\/sass\/main.scss  *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: blue;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.main\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: grey\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/src\/index.js\n\/\/ import style from \x27.\/css\/main.css\x27\nimport style from \x27.\/sass\/main.scss\x27\nlet es6 = () =\x3e {\n  console.log(\x27run in es6\x27)\n  console.log(style)\n}\nes6();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3esrc\/index.js\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e style \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/css\/main.css\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e style \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/sass\/main.scss\x27\x3c\/span\x3e\nlet es6 = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27run in es6\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(style)\n}\nes6();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其他两种预编译器可以参考各自官方文档：\x3ca href=\x22https:\/\/webpack.js.org\/loaders\/less-loader\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eless-loader\x3c\/a\x3e、\x3ca href=\x22https:\/\/github.com\/shama\/stylus-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estylus-loader\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e像处理JS一样处理CSS -- PostCSS\x3c\/h3\x3e\n\x3cp\x3ePostCSS官网介绍是，利用js转译css的一个工具。对PostCSS的介绍，我比较认可\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000003909268\x22\x3e这篇文章\x3c\/a\x3e，PostCSS提供了一个解析器，把css转换为抽象语法树（AST），当然这个AST是能够被js处理的，然后交给各种插件处理后，再将AST转为css代码，所以关键是这些插件能完成哪些功能。\x3c\/p\x3e\n\x3ch4\x3eAutoprefixer\x3c\/h4\x3e\n\x3cp\x3eAutoprefixer 是一个流行的 PostCSS 插件，其作用是为 CSS 中的属性添加浏览器特定的前缀。\x3c\/p\x3e\n\x3ch4\x3ecssnext\x3c\/h4\x3e\n\x3cp\x3ecssnext 插件允许开发人员在当前的项目中使用 CSS 将来版本中可能会加入的新特性。需要注意这个插件本身包含了Autoprefixer功能，所以如果使用了这个插件，则不需要Autoprefixer插件。\x3cbr\x3e当然PostCSS中其实也包含支持Sass、Less等的插件，这个看个人喜好，不过我本人倒是蛮期待尝试下cssnext，毕竟大部分特性可能就是未来css支持的特性，提前熟悉下也算是预习。\x3cbr\x3e更多插件可以读\x3ca href=\x22https:\/\/www.ibm.com\/developerworks\/cn\/web\/1604-postcss-css\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这篇文章\x3c\/a\x3e，不再叙述\x3c\/p\x3e\n\x3cp\x3e安装postcss-loader及其插件autoprefixer\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add postcss-loader autoprefixer --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add postcss-loader autoprefixer --dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在\x3ccode\x3ewebpack.config.js\x3c\/code\x3e中添加postcss支持，注意postcss处理css文件的位置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nmodule.exports = {\n    ...\n    module: {\n        rules: [{\n            test: \/\\.scss$\/,\n            use: [{\n              loader: \x26quot;style-loader\x26quot;\n            }, {\n              loader: \x26quot;css-loader\x26quot;,\n              options: {\n                modules: true,\n                localIdentName: \x27[path][name]__[local]--[hash:base64:5]\x27,\n                minimize: false\n              }\n            }, {\n              loader: \x27postcss-loader\x27,\n              options: {\n                config: {\n                  path: path.resolve(base, \x27config\x27, \x27postcss.config.js\x27)\n                }\n              }\n            }, {\n              loader: \x26quot;sass-loader\x26quot;\n            }]\n        }]\n    }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    ...\n    module: {\n        \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [{\n            \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.scss$\/\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [{\n              \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e\n            }, {\n              \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3emodules\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3elocalIdentName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27[path][name]__[local]--[hash:base64:5]\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eminimize\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n              }\n            }, {\n              \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27postcss-loader\x27\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3econfig\x3c\/span\x3e: {\n                  \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27config\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27postcss.config.js\x27\x3c\/span\x3e)\n                }\n              }\n            }, {\n              \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22sass-loader\x22\x3c\/span\x3e\n            }]\n        }]\n    }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如上面配置，postcss需要单独的配置文件，创建\x3ccode\x3econfig\/postcss.config.js\x3c\/code\x3e，添加如下配置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/config\/postcss.config.js\nmodule.exports = {\n  plugins: {\n    \x27autoprefixer\x27: {}\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/config\/postcss.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e: {}\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e图片资源\x3c\/h3\x3e\n\x3cp\x3efile-loader提供了对图片资源的loader功能，并且利用 \x3ccode\x3epublicPath\x3c\/code\x3e 选项还能很好的支持cdn，配合url-loader还能对小图片直接进行数字序列化（DataURL），减少网络请求，提高加载速度。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add url-loader file-loader --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn \x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e url-loader \x3cspan class=\x22hljs-built_in\x22\x3efile\x3c\/span\x3e-loader \x3cspan class=\x22hljs-comment\x22\x3e--dev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e增加相关配置；url-loader的默认 \x3ccode\x3efallback\x3c\/code\x3e loader就是 \x3ccode\x3efile-loader\x3c\/code\x3e 为了更直观就写了出来，传递给 \x3ccode\x3efile-loader\x3c\/code\x3e 的参数也只需要写在options中即可。这样\x3cbr\x3e\x3ccode\x3ebackground-image: url(\x27..\/image\/logo.jpg\x27)\x3c\/code\x3e 当我们在css文件中使用这种方式引入图片时，就会触发url-loader去处理\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/config\/webpack.config.js\nmodule.exports = {\n    ...\n    module: {\n      rules: [    \n      {\n        test: \/\\.(png|jpg|gif)$\/,\n        use: [\n          {\n            loader: \x27url-loader\x27,\n            options: {\n              limit: 8192,\n              fallback: \x27file-loader\x27,\n              name: \x27[hash:5].[ext]\x27,\n              \/\/ publicPath: \x27https:\/\/cdn.j2do.com\/\x27,\n              outputPath: \x27images\/\x27\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/config\/webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    ...\n    module: {\n      \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [    \n      {\n        \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(png|jpg|gif)$\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [\n          {\n            \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27url-loader\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n              \x3cspan class=\x22hljs-attr\x22\x3elimit\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e8192\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attr\x22\x3efallback\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27file-loader\x27\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27[hash:5].[ext]\x27\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-comment\x22\x3e\/\/ publicPath: \x27https:\/\/cdn.j2do.com\/\x27,\x3c\/span\x3e\n              outputPath: \x3cspan class=\x22hljs-string\x22\x3e\x27images\/\x27\x3c\/span\x3e\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3e虽不是万能，但却异常强大的插件（Plugins）系统\x3c\/h2\x3e\n\x3cp\x3eLoader是专注于处理Webpack导入的资源模块，而插件是对Webpack功能的扩展。除了Webpack内置的插件，开发社区提供了大量优秀的插件。当然插件也是解决问题的，我们还是以问题为导向，去介绍几款插件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e利用 \x3ccode\x3eextract-text-webpack-plugin\x3c\/code\x3e 分离css到独立文件\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add extract-text-webpack-plugin --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add extract-text-webpack-plugin --dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中ExtractTextPlugin中fallback是指定了如果不需要提取到独立css文件中的样式文件，则交给 \x3ccode\x3estyle-loade\x3c\/code\x3e 处理，其他loader配置，跟之前没有差异。同样如果是预编译文件（Sass、Less等）的话，也只需要增加对应的loader即可\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  ...\n  module: {\n    rules: [\n      {\n        test: \/\\.css$\/,\n        use: ExtractTextPlugin.extract({\n          fallback: \x26quot;style-loader\x26quot;,\n          use: [\n            {\n              loader: \x26quot;css-loader\x26quot;,\n              options: {\n                modules: true,\n                localIdentName: \x27[path][name]__[local]--[hash:base64:5]\x27\n              }\n            }, {\n              loader: \x27postcss-loader\x27,\n              options: {\n                config: {\n                  path: path.resolve(base, \x27config\x27, \x27postcss.config.js\x27)\n                }\n              }\n            }\n          ]\n        })\n      }\n    ]\n  }\n  ...\n  plugins: [\n    new ExtractTextPlugin(\x26quot;css\/[name].css\x26quot;)\n  ]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  ...\n  module: {\n    \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.css$\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: ExtractTextPlugin.extract({\n          \x3cspan class=\x22hljs-attr\x22\x3efallback\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: [\n            {\n              \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3emodules\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3elocalIdentName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27[path][name]__[local]--[hash:base64:5]\x27\x3c\/span\x3e\n              }\n            }, {\n              \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27postcss-loader\x27\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3econfig\x3c\/span\x3e: {\n                  \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27config\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27postcss.config.js\x27\x3c\/span\x3e)\n                }\n              }\n            }\n          ]\n        })\n      }\n    ]\n  }\n  ...\n  plugins: [\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ExtractTextPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22css\/[name].css\x22\x3c\/span\x3e)\n  ]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再次运行 \x3ccode\x3eyarn run build\x3c\/code\x3e 会发现生成了独立的css文件\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader18\x22\x3e利用 \x3ccode\x3ehtml-webpack-plugin\x3c\/code\x3e 自动生成 \x3ccode\x3eindex.html\x3c\/code\x3e 等入口文件\x3c\/h3\x3e\n\x3cp\x3e随着多入口以及css的分离，手动去写html的入口文件也是一件麻烦事，这时候 \x3ccode\x3ehtml-webpack-plugin\x3c\/code\x3e 就排上用途了， \x3ccode\x3ehtml-webpack-plugin\x3c\/code\x3e 能够根据某个模板文件自动生成入口的html，包括多个入口，安装及配置如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add html-webpack-plugin --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add html-webpack-plugin --dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  ...\n  plugins: [\n    new ExtractTextPlugin(\x26quot;[name].css\x26quot;),\n    new HtmlWebpackPlugin({\n      title: \x27Index Page\x27,\n      template: path.resolve(base, \x27src\x27, \x27template\/index.html.tmpl\x27),\n      filename: \x26quot;index.html\x26quot;,\n      chunks: [\x27index\x27]\n    }),\n    new HtmlWebpackPlugin({\n      title: \x27Main Page\x27,\n      template: path.resolve(base, \x27src\x27, \x27template\/index.html.tmpl\x27),\n      filename: \x26quot;main.html\x26quot;,\n      chunks: [\x27main\x27]\n    }),\n  ]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  ...\n  plugins: [\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ExtractTextPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22[name].css\x22\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlWebpackPlugin({\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Index Page\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27template\/index.html.tmpl\x27\x3c\/span\x3e),\n      \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22index.html\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27index\x27\x3c\/span\x3e]\n    }),\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlWebpackPlugin({\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Main Page\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27template\/index.html.tmpl\x27\x3c\/span\x3e),\n      \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22main.html\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27main\x27\x3c\/span\x3e]\n    }),\n  ]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e创建模板文件，注意之所以命名为 \x3ccode\x3e.tmpl\x3c\/code\x3e 是为了防止 .html 可能会被loader解析，\x3ccode\x3e\x26lt;%= ... %\x26gt;\x3c\/code\x3e 将不会被插件识别，完成变量替换。如下图，我们的 \x3ccode\x3etitle\x3c\/code\x3e 是以变量形式在 \x3ccode\x3ewebpack.config.js\x3c\/code\x3e 中配置。该插件还支持多种模板文件，具体可见\x3ca href=\x22https:\/\/github.com\/jantimon\/html-webpack-plugin\/blob\/master\/docs\/template-option.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- src\/template\/index.html.tmpl --\x3e\n\x3c!DOCTYPE html\x3e\n\x3chtml\x3e\n\n\x3chead\x3e\n  \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n  \x3ctitle\x3e\n    \x3c%= htmlWebpackPlugin.options.title %\x3e\n  \x3c\/title\x3e\n\x3c\/head\x3e\n\n\x3cbody\x3e\n\x3c\/body\x3e\n\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs erb\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- src\/template\/index.html.tmpl --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3e%=\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22ruby\x22\x3e htmlWebpackPlugin.options.title \x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e%\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3e代码优化压缩\x3c\/h3\x3e\n\x3cp\x3e前面已经将js、css等分离到单独文件，接下来就是优化压缩这些代码。\x3c\/p\x3e\n\x3cp\x3e对于css而言，只需要配置 \x3ccode\x3ecss-loader\x3c\/code\x3e 的 \x3ccode\x3eminimize\x3c\/code\x3e 参数为 \x3ccode\x3etrue\x3c\/code\x3e 即可；当然还可以利用postcss的 \x3ccode\x3ecssnano\x3c\/code\x3e 插件进行代码的压缩和优化，据说 \x3ccode\x3ecssnano\x3c\/code\x3e 是目前css压缩优化中效果最好的工具。\x3c\/p\x3e\n\x3cp\x3e对于js的压缩，我们借助于 \x3ccode\x3euglifyjs-webpack-plugin\x3c\/code\x3e 插件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add uglifyjs-webpack-plugin --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e uglifyjs-webpack-plugin --dev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  ...\n  plugins: [\n    new ExtractTextPlugin(\x26quot;css\/[name].css\x26quot;),\n    new HtmlWebpackPlugin({\n      title: \x27Index Page\x27,\n      template: path.resolve(base, \x27src\x27, \x27template\/index.html.tmpl\x27),\n      filename: \x26quot;index.html\x26quot;,\n      chunks: [\x27index\x27]\n    }),\n    new UglifyJsPlugin()\n  ]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  ...\n  plugins: [\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ExtractTextPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22css\/[name].css\x22\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlWebpackPlugin({\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Index Page\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: path.resolve(base, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27template\/index.html.tmpl\x27\x3c\/span\x3e),\n      \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22index.html\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27index\x27\x3c\/span\x3e]\n    }),\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e UglifyJsPlugin()\n  ]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader20\x22\x3e借助Eslint自动代码规范检测及格式化\x3c\/h3\x3e\n\x3cp\x3eEslint不再介绍，在webpack下使用Eslint需要如下依赖包：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add eslint eslint-loader babel-eslint eslint-config-standard --dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn add eslint eslint-loader babel-eslint eslint-config-standard --dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中eslint是必须的，\x3ccode\x3eeslint-loader\x3c\/code\x3e 是连接eslint与webpack的loader，\x3ccode\x3ebabel-eslint\x3c\/code\x3e 是一个eslint解析器，使其能支持es6等语法检测，\x3ccode\x3eeslint-config-standard\x3c\/code\x3e是Airbnb的规范配置，目前最流行的js规范。\x3c\/p\x3e\n\x3cblockquote\x3e安装过程中如果有提示\x3ccode\x3eeslint-config-standard@11.0.0-beta.0\x22 has unmet peer dependency \x22eslint-plugin-import@\x26gt;=2.2.0\x22\x3c\/code\x3e等等，直接安装对应的包即可，比如：\x3ccode\x3eyarn add eslint-plugin-import --dev\x3c\/code\x3e即可\x3cbr\x3eeslint是规范js语法，所以他需要处理的是js文件，而且应该是先于所有loader去处理js文件，如果出错或者不规范则纠正之，这里可以利用webpack的 \x3ccode\x3eenforce\x3c\/code\x3e 属性，设置eslint检查，先于其他loader\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  ...\n  module: {\n    rules: [\n      {\n        enforce: \x26quot;pre\x26quot;,\n        test: \/\\.js$\/,\n        exclude: \/node_modules\/,\/\/注意不要检测node_modules里面的代码\n        loader: \x26quot;eslint-loader\x26quot;,\n        options: {\n          fix: true \/\/自动修复不规范的代码，并不是所有代码都能自动修复的，一些缩进，引号等能直接处理\n        }\n      }\n      ...\n    ]\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  ...\n  module: {\n    \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3eenforce\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22pre\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.js$\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eexclude\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e\/\/注意不要检测node_modules里面的代码\x3c\/span\x3e\n        loader: \x3cspan class=\x22hljs-string\x22\x3e\x22eslint-loader\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3efix\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/自动修复不规范的代码，并不是所有代码都能自动修复的，一些缩进，引号等能直接处理\x3c\/span\x3e\n        }\n      }\n      ...\n    ]\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同时还要为eslint增加对应的配置文件 \x3ccode\x3e.eslintrc\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;parser\x26quot;: \x26quot;babel-eslint\x26quot;,\n  \x26quot;extends\x26quot;: \x26quot;standard\x26quot;,\n  \x26quot;rules\x26quot;: {}\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22parser\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22babel-eslint\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22extends\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22standard\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22rules\x22\x3c\/span\x3e: {}\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这时候再尝试build吧，会发现一些不规范的代码被自动修复，当然有些不规范的代码，无法自动修复的，会直接导致错误；比如，声明了一个函数，却没有使用！\x3c\/p\x3e\n\x3cp\x3e未完待续~~（近几天更新）\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>【30分钟】吃透webpack，也许这一篇就够了</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012631766">https://segmentfault.com/a/1190000012631766</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/lbvc54rx4db/" target="_blank">https://alili.tech/archive/lbvc54rx4db/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>