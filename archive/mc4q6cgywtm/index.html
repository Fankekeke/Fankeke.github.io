<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="强大的拖拽组件：React DnD 的使用"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>强大的拖拽组件：React DnD 的使用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/mc4q6cgywtm/",
				"appid": "1613049289050283", 
				"title": "强大的拖拽组件：React DnD 的使用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-02T02:30:15"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7nuklofvmxk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/2u5puxtasit/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&text=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&text=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&title=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&is_video=false&description=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&title=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&title=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&title=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fmc4q6cgywtm%2f&title=%e5%bc%ba%e5%a4%a7%e7%9a%84%e6%8b%96%e6%8b%bd%e7%bb%84%e4%bb%b6%ef%bc%9aReact%20DnD%20%e7%9a%84%e4%bd%bf%e7%94%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">强大的拖拽组件：React DnD 的使用</h1><div class="meta"><div class="postdate"><time datetime="2018-12-02" itemprop="datePublished">2018-12-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e文章首发我的个人blog : \x3ca href=\x22https:\/\/phoebecodespace.github.io\/2018\/05\/03\/react-dnd-guide\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e原文链接\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e学习 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/docs-overview.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact DnD\x3c\/a\x3e 的最初原因是阅读\x3ca href=\x22https:\/\/juejin.im\/post\/5ac322876fb9a028c71ea27e\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《如何写一个拖拽日历组件》\x3c\/a\x3e附的源码时，看不懂拖拽组件 React DnD 的相关代码，于是行动力极强地学习了React DnD这个组件。\x3c\/p\x3e\n\x3cblockquote\x3e本文会通过 在根组件（Contaier.jsx）展示将垃圾（Box.jsx）扔进垃圾桶（Dustbin.jsx）的例子，解释如何使用React DnD最基本的拖拽用法。\x3c\/blockquote\x3e\n\x3cp\x3e预览 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/examples-dustbin-single-target.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e垃圾桶效果\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e查看 \x3ca href=\x22https:\/\/github.com\/react-dnd\/react-dnd\/blob\/master\/packages\/documentation\/examples\/01%20Dustbin\/Single%20Target\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e垃圾桶源码\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e核心API\x3c\/h2\x3e\n\x3cp\x3e想要灵活使用，就先知道几个核心API\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3eDragSource\x3c\/strong\x3e 用于包装你需要拖动的组件，使组件能够被拖拽（make it draggable）\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eDropTarget\x3c\/strong\x3e 用于包装接收拖拽元素的组件，使组件能够放置（dropped on it）\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eDragDropContex\x3c\/strong\x3e 用于包装拖拽根组件，\x3ccode\x3eDragSource\x3c\/code\x3e 和 \x3ccode\x3eDropTarget\x3c\/code\x3e 都需要包裹在\x3ccode\x3eDragDropContex\x3c\/code\x3e内\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eDragDropContextProvider\x3c\/strong\x3e 与 \x3ccode\x3eDragDropContex\x3c\/code\x3e 类似，用 \x3ccode\x3eDragDropContextProvider\x3c\/code\x3e 元素包裹拖拽根组件。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e大致理解这几个API的概念后，垃圾（Box.jsx）扔进垃圾桶（Dustbin.jsx）的代码将会是：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Box.jsx\nimport { DragSource } from \x27react-dnd\x27;\n\n@DragSource(type, spec, collect)\nexport default class Box {\n  \/* ... *\/\n}\n\n\/\/ Dustbin.jsx\nimport { DropTarget } from \x27react-dnd\x27;\n\n@DropTarget(types, spec, collect)\nexport default class Contaier {\n  \/* ... *\/\n}\n\n\/\/ Contaier.jsx (DragDropContex)\nimport { DragDropContext } from \x27react-dnd\x27\nimport HTML5Backend from \x27react-dnd-html5-backend\x27\nimport Box from \x27.\/Box\x27;\nimport Dustbin from \x27.\/Dustbin\x27;\n\n@DragDropContext(HTML5Backend)\nexport default class Contaier extends Component {\n  render() {\n    return (\n      \x3cdiv\x3e\n          \x3cDustbin\/\x3e\n          \x3cBox\/\x3e\n      \x3c\/div\x3e\n    );\n  }\n}\n\n\/\/ 也可以写成 Contaier.jsx (DragDropContextProvider)\nimport { DragDropContextProvider } from \x27react-dnd\x27\nimport HTML5Backend from \x27react-dnd-html5-backend\x27\nimport Box from \x27.\/Box\x27;\nimport Dustbin from \x27.\/Dustbin\x27;\n\nexport default class DustbinContaier extends Component {\n  render() {\n    return (\n      \x3cDragDropContextProvider backend = { HTML5Backend }\x3e\n        \x3cdiv\x3e\n            \x3cDustbin\/\x3e\n            \x3cBox\/\x3e\n        \x3c\/div\x3e\n      \x3c\/DragDropContextProvider\x3e\n    );\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Box.jsx\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { DragSource } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dnd\x27\x3c\/span\x3e;\n\n@DragSource(type, spec, collect)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eBox\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/* ... *\/\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Dustbin.jsx\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { DropTarget } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dnd\x27\x3c\/span\x3e;\n\n@DropTarget(types, spec, collect)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eContaier\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/* ... *\/\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Contaier.jsx (DragDropContex)\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { DragDropContext } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dnd\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e HTML5Backend \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dnd-html5-backend\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Box \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Box\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Dustbin \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Dustbin\x27\x3c\/span\x3e;\n\n@DragDropContext(HTML5Backend)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eContaier\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eDustbin\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eBox\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    );\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 也可以写成 Contaier.jsx (DragDropContextProvider)\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { DragDropContextProvider } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dnd\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e HTML5Backend \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dnd-html5-backend\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Box \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Box\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Dustbin \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Dustbin\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDustbinContaier\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eDragDropContextProvider\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ebackend\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eHTML5Backend\x3c\/span\x3e }\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eDustbin\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eBox\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eDragDropContextProvider\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    );\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eAPI参数介绍\x3c\/h2\x3e\n\x3cp\x3e上面的代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@DragSource(type, spec, collect)\n@DropTarget(types, spec, collect)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e@DragSource(type, spec, collect)\n@DropTarget(types, spec, collect)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到 \x3ccode\x3eDragSource\x3c\/code\x3e, \x3ccode\x3eDropTarget\x3c\/code\x3e 分别有三个参数：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3etype: 拖拽类型，必填\x3c\/li\x3e\n\x3cli\x3espec: 拖拽事件的方法对象，必填。\x3c\/li\x3e\n\x3cli\x3ecollect: 把拖拽过程中需要信息注入组件的 props，接收两个参数 \x3ccode\x3econnect\x3c\/code\x3e and \x3ccode\x3emonitor\x3c\/code\x3e，必填。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e下面约定 \x3cstrong\x3esource组件\x3c\/strong\x3e 为DragSource包装的组件(本示例为Box.jsx)，\x3cstrong\x3etarget组件\x3c\/strong\x3e 为DropTarget包装的组件(本示例为Dustbin.jsx)。\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3etype\x3c\/h3\x3e\n\x3cp\x3e当 \x3ccode\x3esource组件\x3c\/code\x3e的type 和 \x3ccode\x3etarget组件\x3c\/code\x3e的type 一致时，\x3ccode\x3etarget组件\x3c\/code\x3e可以接受\x3ccode\x3esource组件\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3etype的类型可以是 string，symbol，也可以是用一个函数来返回该组件的其他 props。\x3c\/p\x3e\n\x3cp\x3e翻译为代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ItemTypes.js 定义类型\nexport default {\n  BOX: \x27box\x27,\n}\n\n\/\/ Box.jsx\nimport ItemTypes from \x27.\/ItemTypes\x27\n@DragSource(ItemTypes.BOX, spec, collect)\n\n\/\/ Dustbin.jsx\nimport ItemTypes from \x27.\/ItemTypes\x27\n@DropTarget(ItemTypes.BOX, spec, collect)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ItemTypes.js 定义类型\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3eBOX\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27box\x27\x3c\/span\x3e,\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Box.jsx\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ItemTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/ItemTypes\x27\x3c\/span\x3e\n@DragSource(ItemTypes.BOX, spec, collect)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Dustbin.jsx\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ItemTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/ItemTypes\x27\x3c\/span\x3e\n@DropTarget(ItemTypes.BOX, spec, collect)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3espec\x3c\/h3\x3e\n\x3cp\x3espec定义特定方法的对象，如 \x3ccode\x3esource组件\x3c\/code\x3e的spec 可以定义 \x3cstrong\x3e拖动\x3c\/strong\x3e 相关的事件，\x3ccode\x3etarget组件\x3c\/code\x3e的spec 可以定义 \x3cstrong\x3e放置\x3c\/strong\x3e 相关的事件，具体列表：\x3c\/p\x3e\n\x3ch4\x3eDragSource specObj\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3ebeginDrag(props, monitor, component)\x3c\/code\x3e: 拖动开始时触发的事件，\x3cstrong\x3e必须\x3c\/strong\x3e。返回跟props相关的对象。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eendDrag(props, monitor, component)\x3c\/code\x3e: 拖动结束时触发的事件，可选。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ecanDrag(props, monitor)\x3c\/code\x3e:  当前是否可以拖拽的事件，可选。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eisDragging(props, monitor)\x3c\/code\x3e: 拖拽时触发的事件，可选。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e翻译为代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \/\/ Box.jsx\n  const sourceSpec = {\n    beginDrag(props, monitor, component){\n      \/\/ 返回需要注入的属性\n      return {\n        id: props.id\n      }\n    },\n    endDrag(props, monitor, component){\n      \/\/ ..\n    },\n    canDrag(props, monitor){\n      \/\/ ..\n    },\n    isDragging(props, monitor){\n      \/\/ ..\n    }\n  }\n  @DragSource(ItemTypes.BOX, sourceSpec, collect)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Box.jsx\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e sourceSpec = {\n    beginDrag(props, monitor, component){\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回需要注入的属性\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: props.id\n      }\n    },\n    endDrag(props, monitor, component){\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ..\x3c\/span\x3e\n    },\n    canDrag(props, monitor){\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ..\x3c\/span\x3e\n    },\n    isDragging(props, monitor){\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ..\x3c\/span\x3e\n    }\n  }\n  @DragSource(ItemTypes.BOX, sourceSpec, collect)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3eDropTarget specObj\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3edrop(props, monitor, component)\x3c\/code\x3e 组件放下时触发的事件，可选。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ehover(props, monitor, component)\x3c\/code\x3e 组件在DropTarget上方时响应的事件，可选。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ecanDrop(props, monitor)\x3c\/code\x3e 组件可以被放置时触发的事件，可选。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e翻译为代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Dustbin.jsx\nconst targetSpec = {\n  drop(props, monitor, component){\n    \/\/ ..\n  },\n  hover(props, monitor, component){\n    \/\/ ..\n  },\n  canDrop(props, monitor){\n    \/\/ ..\n  }\n}\n@DropTarget(ItemTypes.BOX, targetSpec, collect)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Dustbin.jsx\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e targetSpec = {\n  drop(props, monitor, component){\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ..\x3c\/span\x3e\n  },\n  hover(props, monitor, component){\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ..\x3c\/span\x3e\n  },\n  canDrop(props, monitor){\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ..\x3c\/span\x3e\n  }\n}\n@DropTarget(ItemTypes.BOX, targetSpec, collect)\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3especObj 对象方法相关参数\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3eprops： 组件当前的props\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3emonitor：查询当前的拖拽状态，比如当前拖拽的item和它的type，当前拖拽的offsets，当前是否dropped。具体获取方法，参看\x3ca href=\x22#heading-9\x22\x3ecollect 参数 monitor 部分\x3c\/a\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3esource组件\x3c\/code\x3e 的 monitor 参数是 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/docs-drag-source-monitor.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDragSourceMonitor\x3c\/a\x3e 的实例\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3etarget组件\x3c\/code\x3e 的 monitor 参数是 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/docs-drop-target.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDropTargetMonitor\x3c\/a\x3e 的实例\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3ecomponent：当前组件实例\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3ecollect\x3c\/h3\x3e\n\x3cp\x3ecollect 是一个函数，默认有两个参数：\x3ccode\x3econnect\x3c\/code\x3e 和 \x3ccode\x3emonitor\x3c\/code\x3e。collect函数将返回一个对象，这个对象会注入到组件的 props 中，也就是说，我们可以通过 \x3ccode\x3ethis.props\x3c\/code\x3e 获取collect返回的所有属性。\x3c\/p\x3e\n\x3ch4\x3e参数 connect\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3esource组件\x3c\/code\x3e collect 中 connect是 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/docs-drag-source-monitor.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDragSourceConnector\x3c\/a\x3e的实例，它内置了两个方法：\x3ccode\x3edragSource()\x3c\/code\x3e 和 \x3ccode\x3edragPreview()\x3c\/code\x3e。\x3ccode\x3edragSource()\x3c\/code\x3e返回一个方法，将\x3ccode\x3esource组件\x3c\/code\x3e传入这个方法，可以将 source DOM 和 React DnD backend 连接起来；\x3ccode\x3edragPreview()\x3c\/code\x3e 返回一个方法，你可以传入节点，作为拖拽预览时的角色。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3etarget组件\x3c\/code\x3e collect 中 connect是 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/docs-drop-target-connector.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDropTargetConnector\x3c\/a\x3e的实例，内置的方法 \x3ccode\x3edropTarget()\x3c\/code\x3e 对应 \x3ccode\x3edragSource()\x3c\/code\x3e，返回可以将 drop target 和 React DnD backend 连接起来的方法。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e翻译为代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Box.jsx\n@DragSource(ItemTypes.BOX, sourceSpec,(connect)=\x3e({\n  connectDragSource: connect.dragSource(),\n  connectDragPreview: connect.dragPreview(),\n}))\nexport default class Box {\n  render() {\n    const { connectDragSource } = this.props\n    return connectDragSource(\n      \x3cdiv\x3e\n       {\n           \/* ... *\/\n         }\n      \x3c\/div\x3e,\n    )\n  }\n}\n\n\/\/ Dustbin.jsx\n@DropTarget(ItemTypes.BOX, targetSpec, (connect)=\x3e{\n  connectDropTarget: connect.dropTarget(),\n})\nexport default class Dustbin {\n  render() {\n    const { connectDropTarget } = this.props\n    return connectDropTarget(\n      \x3cdiv\x3e\n       {\n           \/* ... *\/\n         }\n      \x3c\/div\x3e,\n    )\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Box.jsx\x3c\/span\x3e\n@DragSource(ItemTypes.BOX, sourceSpec,(connect)=\x26gt;({\n  \x3cspan class=\x22hljs-attr\x22\x3econnectDragSource\x3c\/span\x3e: connect.dragSource(),\n  \x3cspan class=\x22hljs-attr\x22\x3econnectDragPreview\x3c\/span\x3e: connect.dragPreview(),\n}))\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eBox\x3c\/span\x3e \x3c\/span\x3e{\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { connectDragSource } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e connectDragSource(\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n       {\n           \/* ... *\/\n         }\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e,\n    )\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Dustbin.jsx\x3c\/span\x3e\n@DropTarget(ItemTypes.BOX, targetSpec, (connect)=\x26gt;{\n  \x3cspan class=\x22hljs-attr\x22\x3econnectDropTarget\x3c\/span\x3e: connect.dropTarget(),\n})\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDustbin\x3c\/span\x3e \x3c\/span\x3e{\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { connectDropTarget } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e connectDropTarget(\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n       {\n           \/* ... *\/\n         }\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e,\n    )\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e参数 monitor\x3c\/h4\x3e\n\x3cp\x3emonitor 用于查询当前的拖拽状态，其对应实例内置了很多方法。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3esource组件\x3c\/code\x3e collect 中 monitor是 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/docs-drag-source-monitor.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDragSourceMonitor\x3c\/a\x3e的实例。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3etarget组件\x3c\/code\x3e collect 中 monitor是 \x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/docs-drop-target-monitor.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDropTargetMonitor\x3c\/a\x3e的实例。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e内置方法列表：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ DragSourceMonitor\nmonitor.canDrag()        \/\/ 是否能被拖拽\nmonitor.isDragging()      \/\/ 是否正在拖拽\nmonitor.getItemType()     \/\/ 拖拽组件type\nmonitor.getItem()         \/\/ 当前拖拽的item\nmonitor.getDropResult()   \/\/ 查询drop结果\nmonitor.didDrop()         \/\/ source是否已经drop在target\nmonitor.getInitialClientOffset()   \/\/ 拖拽组件初始拖拽时offset\nmonitor.getInitialSourceClientOffset()\nmonitor.getClientOffset() \/\/ 拖拽组件当前offset\nmonitor.getDifferenceFromInitialOffset() \/\/ 当前拖拽offset和初始拖拽offset的差别\nmonitor.getSourceClientOffset()\n\n\/\/ DropTargetMonitor\nmonitor.canDrop()         \/\/ 是否可被放置\nmonitor.isOver(options)   \/\/ source是否在target上方\nmonitor.getItemType()     \/\/ 拖拽组件type\nmonitor.getItem()         \/\/ 当前拖拽的item\nmonitor.getDropResult()   \/\/ 查询drop结果\nmonitor.didDrop()         \/\/ source是否已经drop在target\nmonitor.getInitialClientOffset()   \/\/ 拖拽组件初始拖拽时offset\nmonitor.getInitialSourceClientOffset()\nmonitor.getClientOffset() \/\/ 拖拽组件当前offset\nmonitor.getDifferenceFromInitialOffset() \/\/ 当前拖拽offset和初始拖拽offset的差别\nmonitor.getSourceClientOffset()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ DragSourceMonitor\x3c\/span\x3e\nmonitor.canDrag()        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否能被拖拽\x3c\/span\x3e\nmonitor.isDragging()      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否正在拖拽\x3c\/span\x3e\nmonitor.getItemType()     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 拖拽组件type\x3c\/span\x3e\nmonitor.getItem()         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前拖拽的item\x3c\/span\x3e\nmonitor.getDropResult()   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 查询drop结果\x3c\/span\x3e\nmonitor.didDrop()         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ source是否已经drop在target\x3c\/span\x3e\nmonitor.getInitialClientOffset()   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 拖拽组件初始拖拽时offset\x3c\/span\x3e\nmonitor.getInitialSourceClientOffset()\nmonitor.getClientOffset() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 拖拽组件当前offset\x3c\/span\x3e\nmonitor.getDifferenceFromInitialOffset() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前拖拽offset和初始拖拽offset的差别\x3c\/span\x3e\nmonitor.getSourceClientOffset()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ DropTargetMonitor\x3c\/span\x3e\nmonitor.canDrop()         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否可被放置\x3c\/span\x3e\nmonitor.isOver(options)   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ source是否在target上方\x3c\/span\x3e\nmonitor.getItemType()     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 拖拽组件type\x3c\/span\x3e\nmonitor.getItem()         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前拖拽的item\x3c\/span\x3e\nmonitor.getDropResult()   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 查询drop结果\x3c\/span\x3e\nmonitor.didDrop()         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ source是否已经drop在target\x3c\/span\x3e\nmonitor.getInitialClientOffset()   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 拖拽组件初始拖拽时offset\x3c\/span\x3e\nmonitor.getInitialSourceClientOffset()\nmonitor.getClientOffset() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 拖拽组件当前offset\x3c\/span\x3e\nmonitor.getDifferenceFromInitialOffset() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前拖拽offset和初始拖拽offset的差别\x3c\/span\x3e\nmonitor.getSourceClientOffset()\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e具体例子\x3c\/h2\x3e\n\x3cp\x3e先草草丢下官方例子和源码：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/react-dnd.github.io\/react-dnd\/examples-chessboard-tutorial-app.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方例子\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/react-dnd\/react-dnd\/blob\/master\/packages\/documentation\/examples\/README.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方例子源码\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>强大的拖拽组件：React DnD 的使用</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014723549">https://segmentfault.com/a/1190000014723549</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/mc4q6cgywtm/" target="_blank">https://alili.tech/archive/mc4q6cgywtm/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>