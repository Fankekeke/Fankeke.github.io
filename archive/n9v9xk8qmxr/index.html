<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="webpack 项目构建：（二）ES6 编译环境搭建"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>webpack 项目构建：（二）ES6 编译环境搭建 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/n9v9xk8qmxr/",
				"appid": "1613049289050283", 
				"title": "webpack 项目构建：（二）ES6 编译环境搭建 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-11T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/bmmi3opopq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/pnxl0zojil/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&text=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&text=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&title=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&is_video=false&description=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&title=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&title=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&title=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fn9v9xk8qmxr%2f&title=webpack%20%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%ef%bc%9a%ef%bc%88%e4%ba%8c%ef%bc%89ES6%20%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">webpack 项目构建：（二）ES6 编译环境搭建</h1><div class="meta"><div class="postdate"><time datetime="2018-12-11" itemprop="datePublished">2018-12-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cem\x3e注：以下教程均在 windows 环境实现，使用其他操作系统的同学实践过程可能会有些出入。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e  在上一章 \x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000013512471\x22\x3ewebpack 项目构建：（一）基本架构搭建\x3c\/a\x3e 我们搭建了一个最基本的 webpack 项目，现在让我们以此为基础，结合 babel，构建一个可以运行最新 ES6 语法的 webpack 项目。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e一、上期回顾\x3c\/h2\x3e\n\x3cp\x3e  在上一章，我们搭建了一个如下结构的 webpack 项目：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4XuH?w=559\x26amp;h=130\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4XuH?w=559\x26amp;h=130\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  并通过 webpack.config.js 的 entry 和 output 属性，配置了 webpack 的打包规则：\x3c\/p\x3e\n\x3cp\x3ewebpack.config.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4Xvs?w=932\x26amp;h=170\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4Xvs?w=932\x26amp;h=170\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  即以当前目录下的 index.js 为打包入口，通过 webpack 打包构建，在当前目录生成一个 test.js 文件。通过简单的配置就能让 webpack 正常工作了。\x3cbr\x3e  现在通过在当前目录执行 webpack 打包命令，我们就能得到 test.js 文件了。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4Xwq?w=485\x26amp;h=149\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4Xwq?w=485\x26amp;h=149\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e二、使用打包生成的 test.js 文件\x3c\/h2\x3e\n\x3cp\x3e  第一章中 index.js 文件做的事情很简单，仅仅是声明了一个值为整型 123 的 test 变量。\x3c\/p\x3e\n\x3cp\x3eindex.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4Xx6?w=667\x26amp;h=58\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4Xx6?w=667\x26amp;h=58\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  在实际的环境中，这样一段代码完成的功能很有限。现在让我们来扩展我们的项目，使之能完成更强大的功能。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e修改 index.js 文件，完成等待 1 秒弹出问候语的功能：\x3cbr\x3e index.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4XEM?w=922\x26amp;h=143\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4XEM?w=922\x26amp;h=143\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\n\x3cli\x3ewebpack 打包生成 test.js 文件；\x3c\/li\x3e\n\x3cli\x3e新建 index.html 文件，并引用打包生成的 test.js 文件：\x3cbr\x3e index.html\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4XFd?w=926\x26amp;h=252\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4XFd?w=926\x26amp;h=252\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e  现在让我们在浏览器里打开 index.html 文件，等待一秒就会弹出信息为 Hello word! 的弹窗。由此可见打包生成的 test.js 具有 index.js 一样的功能。\x3cbr\x3e  这是因为 webpack 打包的本质，就是从入口文件出发，递归解析所有相关的依赖文件，并打包成一个或多个文件（bundle）。webpack 只是重新组织、精简了你写的代码，并不会影响代码的功能。webpack 的魅力也正是在于其强大的组织、优化代码的能力。现在让我们一步步地深入了解 webpack 的打包配置，一点点揭开 webpack 神秘的面纱。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e三、ES6 和 Babel\x3c\/h2\x3e\n\x3cp\x3e  \x3ca href=\x22http:\/\/es6.ruanyifeng.com\/#README\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eECMAScript6\x3c\/a\x3e 实现了很多强大的新特性，借助 ES6 我们能用更加优雅的方式完成许多强大的功能。只是鉴于许多老版本的浏览器尚未支持 ES6 语法，需要在使用之前转换为 ES5 语法，以使其兼容更多的浏览器。而完成这些转换工作的就是 Babel 了。\x3cbr\x3e  Babel 本质就是一个 JavaScript 编译器，通过：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e将 JavaScript 源代码解析成抽象语法树（AST）；\x3c\/li\x3e\n\x3cli\x3e将源代码的 AST 结果一系列转换生成目标代码的 AST；\x3c\/li\x3e\n\x3cli\x3e将目标代码的 AST 转换成 JavaScript 代码。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e  就可以完成 ES6 代码到 ES5 代码的转换，当然转换的过程会很复杂，我们在这里先了解一下基本的原理。想深入了解的同学可以通过开发自己的 \x3ca href=\x22https:\/\/github.com\/jamiebuilds\/babel-handbook\/blob\/master\/translations\/zh-Hans\/plugin-handbook.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBabel Plugin\x3c\/a\x3e，熟悉 AST 的操作流程。\x3c\/p\x3e\n\x3cp\x3e  Babel 本身的安装使用是很简单的，针对我们当前的应用，我们可以通过如下过程实现：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e安装 babel-core 包：cnpm i --save-dev babel-core；\x3c\/li\x3e\n\x3cli\x3e新建一个 Babel 测试文件 babelTest.js 并使用 babel-core 转换 ES6 代码（我们使用了 ES6 的\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/#docs\/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e箭头函数\x3c\/a\x3e）：\x3cbr\x3ebabelTest.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4YL6?w=997\x26amp;h=210\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4YL6?w=997\x26amp;h=210\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\n\x3cli\x3e安装上一步中使用的 babel-preset-env 和 babel-preset-stage-0 包：cnpm i --save-dev babel-preset-env babel-preset-stage-0；（babel-preset-env 是一个主流的 Babel 插件数组；Stage-X 是实验阶段的 Presets，）\x3cbr\x3eTC39 将提案分为以下几个阶段:\x3cbr\x3eStage 0 - 稻草人: 只是一个想法，可能是 babel 插件。\x3cbr\x3eStage 1 - 提案: 初步尝试。\x3cbr\x3eStage 2 - 初稿: 完成初步规范。\x3cbr\x3eStage 3 - 候选: 完成规范和浏览器初步实现。\x3cbr\x3eStage 4 - 完成: 将被添加到下一年度发布。\x3c\/li\x3e\n\x3cli\x3e在当前目录执行 babelTest.js 文件：node babelTest.js，控制台输出信息：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4YP9?w=657\x26amp;h=84\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4YP9?w=657\x26amp;h=84\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e可以看到我们的 ES6 箭头函数被转换为了 ES5的 \x27(function() {})\x27。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e  了解了 Babel 的基本工作原理，现在让我们用 ES6 的新特性，稍微改写一下我们的 index.js：\x3c\/p\x3e\n\x3cp\x3eindex.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4YSg?w=808\x26amp;h=162\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4YSg?w=808\x26amp;h=162\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  在这里我们用了 ES6 的\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/#docs\/string#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e模板字符串\x3c\/a\x3e和\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/#docs\/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e箭头函数\x3c\/a\x3e。模板字符串通过用反引号（`）标识字符串，可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。\x3cbr\x3e  在没有配置 Babel 的情况下，我们通过 webpack 命令打包，可以发现生成的 test.js 文件还是用的 ES6 语法：\x3c\/p\x3e\n\x3cp\x3etest.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4Y1b?w=955\x26amp;h=342\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4Y1b?w=955\x26amp;h=342\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e注：截图部分是 test.js 的最后参数部分。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e  下面让我们看一下如何将 Babel 结合到 webpack 中，来实现 ES6 代码到 ES5 代码的转换。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e四、webpack \x2b Babel 构建 ES6 开发平台\x3c\/h2\x3e\n\x3cp\x3e  既然要将 webpack 和 Babel 结合在一起，就需要在两者之间建立一条纽带，而通过 webpack 的 loaders 就可以生成这条纽带，现在让我们修改我们的 webpack.config.js 配置文件：\x3c\/p\x3e\n\x3cp\x3ewebpack.config.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4YxK?w=951\x26amp;h=425\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4YxK?w=951\x26amp;h=425\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  可以看到我们在这里加了一段 module.rules 配置项，rules 数组里的每一项就是一条 loader 使用规则，loader 用于对不同类型文件的源代码进行转换，可以使你在 import 或\x22加载\x22模块时预处理文件。\x3cbr\x3e  现在我们配置的第一条规则，就是针对以 .js 结尾的文件使用 babel-loader。由于现在我们的项目中还不存在 babel-loader，让我们先通过 cnpm 安装该模块： cnpm i --save-dev babel-loader。\x3c\/p\x3e\n\x3cp\x3e  现在我们已经准备好了 webpack、webpack 和 Babel 的纽带，接下来就需要准备 Babel 的相关配置了。\x3cbr\x3e  在上一节已经介绍了单独使用 Babel 的实现方法，但是在 webpack 中一般情况下我们不会主动调用 babel-core 解析 ES6 代码，而是通过 babel-loader 在 webpack 编译过程中自动解析 ES6 代码。那么现在的问题就是在上一节使用 babel-core 的过程中，我们使用了 env 和 stage-0 两个 preset，现在不使用 babel-core 了，这两个 preset 又应该在哪里配置？\x3cbr\x3e  这里我们有两种方式可以实现上述配置：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e使用 Babel 提供的方法：通过 Babel 目录下的 .babelrc 配置文件完成配置（直接创建 .babelrc 文件可能会有命名规范的问题，可以通过 VS Code、Sublime 等编辑器创建该文件）。这里的 .babelrc 就类似于 webpack.config.js 的作用，只是 .babelrc 文件是在 babel-loader 执行的过程中使用的。\x3cbr\x3e.babelrc\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4YWo?w=879\x26amp;h=164\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4YWo?w=879\x26amp;h=164\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\n\x3cli\x3e使用 webpack 提供的方法：在 webpack.config.js 的 module.rules 规则中，我们还可以通过使用 loader 语法配置 Babel 的 presets：\x3cbr\x3ewebpack.config.js\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4YYc?w=1118\x26amp;h=617\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4YYc?w=1118\x26amp;h=617\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e  我们采用第一种方式配置 .babelrc 文件，项目目录结构如下：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4Y0e?w=732\x26amp;h=192\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4Y0e?w=732\x26amp;h=192\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  现在让我们在当前目录下执行 webpack 命令并查看生成的 test.js 文件，可以发现我们的 index.js 已经被转换成 ES5 代码了：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4Y1E?w=967\x26amp;h=411\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4Y1E?w=967\x26amp;h=411\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e  在浏览器中打开我们的 index.html，发现打包出来的 test.js 能正常工作：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV4Y4V?w=1796\x26amp;h=338\x22 src=\x22https:\/\/static.alili.tech\/img\/bV4Y4V?w=1796\x26amp;h=338\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  使用 webpack 搭建 ES6 编译环境就讲完了。下一章我们开始搭建一个 webpack 开发环境。（\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000013586090\x22\x3ewebpack 项目构建：（三）开发环境——本地服务器搭建\x3c\/a\x3e）\x3c\/p\x3e\n\x3cp\x3e源码下载地址：\x3ca href=\x22https:\/\/github.com\/xh4722\/webpackDemo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22https:\/\/github.com\/xh4722\/webpackDemo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/xh4722\/web...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e参考资料：\x3cbr\x3e\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eECMAScript 6入门（阮一峰）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/jamiebuilds\/babel-handbook\/blob\/master\/translations\/zh-Hans\/plugin-handbook.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-handbook\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/doc.webpack-china.org\/concepts\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack 中文文档\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/babeljs.cn\/docs\/setup\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBabel中文网\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>webpack 项目构建：（二）ES6 编译环境搭建</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013542132">https://segmentfault.com/a/1190000013542132</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/n9v9xk8qmxr/" target="_blank">https://alili.tech/archive/n9v9xk8qmxr/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>