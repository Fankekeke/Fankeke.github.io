<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="ES6和Babel你不知道的事儿"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>ES6和Babel你不知道的事儿 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/neb835a7f0e/",
				"appid": "1613049289050283", 
				"title": "ES6和Babel你不知道的事儿 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-23T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/uszuatag488/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/u166d0wr7y/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&text=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&text=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&title=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&is_video=false&description=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&title=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&title=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&title=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fneb835a7f0e%2f&title=ES6%e5%92%8cBabel%e4%bd%a0%e4%b8%8d%e7%9f%a5%e9%81%93%e7%9a%84%e4%ba%8b%e5%84%bf"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">ES6和Babel你不知道的事儿</h1><div class="meta"><div class="postdate"><time datetime="2018-12-23" itemprop="datePublished">2018-12-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e因babel的版本从5升级到6有很多改动，比如babel本身不再提供任何transform的工作，都需要借助插件来完成，本文的所有讨论都是建立在babel 6之上的。如果只想看结论，直接跳到文章最后。  ---写在前面\x3c\/p\x3e\n\x3cp\x3eES6即ECMAScript 6，是前端开发的JS最新规范，现在大家的开发都在使用ES6，对此并不陌生了。只是浏览器对ES6的支持并不完整，想要更好让ES6在各个平台完美运行还需一番折腾，特此一叙。下图是ES6的浏览器兼容性一览表（已ES6的Number为例）：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZThD?w=2266\x26amp;h=1020\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZThD?w=2266\x26amp;h=1020\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e另外国内浏览器都号称是“双核”，实际上浏览器的版本号较新，打包的Webkit内核确很低，比如市场份额很高的360安全浏览器，最新版本是9.1，Webkit内核版本才是55.0.2883，要知道Chrome官方最新版本已是62.0.3202，相差之远不甚理解。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e版本截图：\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZThV?w=487\x26amp;h=201\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZThV?w=487\x26amp;h=201\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3euserAgent：\x3cbr\x3e\x22Mozilla\/5.0 (Windows NT 6.1; WOW64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/55.0.2883.87 Safari\/537.36 QIHU 360SE\x22\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e当然，搜狗浏览器市场份额也不低，官方最新版本是7.1，内核版本是49.0.2623，为之一惊。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e版本截图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZTiu?w=415\x26amp;h=215\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZTiu?w=415\x26amp;h=215\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\n\x3c\/li\x3e\n\x3cli\x3euserAgent：\x3cbr\x3e\x22Mozilla\/5.0 (Windows NT 6.1; WOW64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/49.0.2623.221 Safari\/537.36 SE 2.X MetaSr 1.0\x22\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e因此，我们想要在所有的浏览器上平稳、完美的运行ES6代码，必须要了解它的忠实伴侣 \x3ca href=\x22https:\/\/babeljs.cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBabel\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e大家可能对此也并不陌生，但是对babel的内部机制、插件的作用、兼容的配置还缺乏一些认识，本文就是特意尝试来补全这些内容。\x3c\/p\x3e\n\x3cp\x3e使用babel无非要用到.babelrc文件或者在package.json增加babel字段。我们以.babelrc文件为例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;presets\x26quot;:[\x26quot;es2015\x26quot;,\x26quot;stage-0\x26quot;],\n  \x26quot;plugins\x26quot;: [\x26quot;transform-runtime\x26quot;]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e:[\x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22stage-0\x22\x3c\/span\x3e],\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22transform-runtime\x22\x3c\/span\x3e]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是最常见的babel配置，然后结合webpack下的babel-loader完成对JS代码的babel编译。\x3c\/p\x3e\n\x3cp\x3e上面代码的presets和plugins分别是什么含义呢？如果是下面的配置有何不可呢？\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;presets\x26quot;:[\x26quot;es2015\x26quot;,\x26quot;stage-0\x26quot;]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e:[\x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22stage-0\x22\x3c\/span\x3e]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e首先来明确一个概念: presets是一系列plugin的集合。比如上述配置中es2015表示babel-preset-es2015，它包含以下plugin:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3echeck-es2015-constants\x3c\/li\x3e\n\x3cli\x3etransform-es2015-arrow-functions\x3c\/li\x3e\n\x3cli\x3etransform-es2015-block-scoped-functions\x3c\/li\x3e\n\x3cli\x3etransform-es2015-block-scoping\x3c\/li\x3e\n\x3cli\x3etransform-es2015-classes\x3c\/li\x3e\n\x3cli\x3etransform-es2015-computed-properties\x3c\/li\x3e\n\x3cli\x3etransform-es2015-destructuring\x3c\/li\x3e\n\x3cli\x3etransform-es2015-duplicate-keys\x3c\/li\x3e\n\x3cli\x3etransform-es2015-for-of\x3c\/li\x3e\n\x3cli\x3etransform-es2015-function-name\x3c\/li\x3e\n\x3cli\x3etransform-es2015-literals\x3c\/li\x3e\n\x3cli\x3etransform-es2015-modules-commonjs\x3c\/li\x3e\n\x3cli\x3etransform-es2015-object-super\x3c\/li\x3e\n\x3cli\x3etransform-es2015-parameters\x3c\/li\x3e\n\x3cli\x3etransform-es2015-shorthand-properties\x3c\/li\x3e\n\x3cli\x3etransform-es2015-spread\x3c\/li\x3e\n\x3cli\x3etransform-es2015-sticky-regex\x3c\/li\x3e\n\x3cli\x3etransform-es2015-template-literals\x3c\/li\x3e\n\x3cli\x3etransform-es2015-typeof-symbol\x3c\/li\x3e\n\x3cli\x3etransform-es2015-unicode-regex\x3c\/li\x3e\n\x3cli\x3etransform-regenerator\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e使用presets的好处就是不用再plugins配置里一个一个的写了。\x3c\/p\x3e\n\x3cp\x3e然后，我们通过对代码的编译来看下上面两个配置的区别。源码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let a=1;\nlet b=(item)=\x3e{return item\x2b1};\nlet c=\x271\x27.padStart(2,\x270\x27);\nlet d=Object.assign({k:2},{t:4});\nlet e=new Set();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e a=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e b=\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e item\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e};\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e c=\x3cspan class=\x22hljs-string\x22\x3e\x271\x27\x3c\/span\x3e.padStart(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e d=\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({\x3cspan class=\x22hljs-attr\x22\x3ek\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e},{\x3cspan class=\x22hljs-attr\x22\x3et\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e});\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e e=\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们使用第二种配置，得到的编译结果如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;use strict\x26quot;;\nvar a = 1;\nvar b = function b(item) {\n  return item \x2b 1;\n};\nvar c = \x271\x27.padStart(2, \x270\x27);\nvar d = Object.assign({ k: 2 }, { t: 4 });\nvar e = new Set();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x22use strict\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eb\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e item \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n};\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = \x3cspan class=\x22hljs-string\x22\x3e\x271\x27\x3c\/span\x3e.padStart(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e d = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({ \x3cspan class=\x22hljs-attr\x22\x3ek\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e }, { \x3cspan class=\x22hljs-attr\x22\x3et\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e });\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e e = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从编译结果来看，let、箭头函数都被编译了，然而padStart和Object.assign原样输出了。原因很简单，let被编译是使用了es2015中的transform-es2015-block-scoping，箭头函数编译是使用了es2015的transform-es2015-arrow-functions。padStart、Object.assign和Set并未在es2015和state-0中找到对应plugin。我们再使用第一种配置编译，结果如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27;\nvar _set = require(\x27babel-runtime\/core-js\/set\x27);\nvar _set2 = _interopRequireDefault(_set);\nvar _assign = require(\x27babel-runtime\/core-js\/object\/assign\x27);\nvar _assign2 = _interopRequireDefault(_assign);\nfunction _interopRequireDefault(obj) { return obj \x26amp;\x26amp; obj.__esModule ? obj : { default: obj }; }\nvar a = 1;\nvar b = function b(item) {\n  return item \x2b 1;\n};\nvar c = \x271\x27.padStart(2, \x270\x27);\nvar d = (0, _assign2.default)({ k: 2 }, { t: 4 });\nvar e = new _set2.default();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _set = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27babel-runtime\/core-js\/set\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _set2 = _interopRequireDefault(_set);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _assign = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27babel-runtime\/core-js\/object\/assign\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _assign2 = _interopRequireDefault(_assign);\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e_interopRequireDefault\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{ \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e obj \x26amp;\x26amp; obj.__esModule ? obj : { \x3cspan class=\x22hljs-attr\x22\x3edefault\x3c\/span\x3e: obj }; }\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eb\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e item \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n};\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = \x3cspan class=\x22hljs-string\x22\x3e\x271\x27\x3c\/span\x3e.padStart(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e d = (\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, _assign2.default)({ \x3cspan class=\x22hljs-attr\x22\x3ek\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e }, { \x3cspan class=\x22hljs-attr\x22\x3et\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e });\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e e = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e _set2.default();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从编译结果看，let、箭头函数、Object.assign、Set都被正确编译，padStart仍岿然不动。在这友情提醒一下，babel-plugin-transform-runtime是依赖babel-runtime的。那么如何让padStart方法也能被成功编译呢，这么大的开场白终于聊到了我们今天的主题：babel的polyfill方案。\x3c\/p\x3e\n\x3cp\x3e官方推荐的方式是使用babel-polyfill。\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3eThis will emulate a full ES2015\x2b environment and is intended to be used in an application rather than a library\/tool. This polyfill is automatically loaded when using babel-node.\x3c\/p\x3e\n\x3cp\x3eThis means you can use new built-ins like Promise or WeakMap, static methods like Array.from or Object.assign, instance methods like Array.prototype.includes, and generator functions (provided you use the regenerator plugin). The polyfill adds to the global scope as well as native prototypes like String in order to do this.\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e用最简单的方式概括官方的说法就是：只要引入了babel-polyfill你可以大胆的用ES6。基本方法如下：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e先安装\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install --save babel-polyfill\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e--save babel-polyfill\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e后使用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 在代码中显示调用\nrequire(\x26quot;babel-polyfill\x26quot;);\n\/\/ or\nimport \x26quot;babel-polyfill\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在代码中显示调用\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22babel-polyfill\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ or\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22babel-polyfill\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或者在webpack中配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  entry: [\x26quot;babel-polyfill\x26quot;, \x26quot;.\/index.js\x26quot;]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22babel-polyfill\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22.\/index.js\x22\x3c\/span\x3e]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e那么问题来了，既然使用这么简单，有啥弊端没？这个问题的答案也很简单：它无疑大大增加了代码的体积，即使你只有1k的代码，也会打包出几百k出来。如果不在意这个代码的体积，肆意大胆的去用吧。如果想做到代码清爽、合理的利用babel的功能还请继续阅读。\x3c\/p\x3e\n\x3cp\x3e使用babel-polyfill可以不使用presets和transform-runtime，但是不意味着presets和transform-runtime没有用武之地。在此总结了几个原则：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e纯业务开发\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3e第一、先要考虑所有兼容的平台和环境，选择性的使用babel-polyfill和transform-runtime\x3c\/strong\x3e。\x3cbr\x3e通常情况下业务代码较重，再加上业务逻辑复杂的话，使用的ES6语法比较全面很频繁，还要考虑到各个小伙伴的代码兼容性，使用babel-polyfill结合webpack抽离出公共代码库，整体上还是能节省代码体积的。如果想全盘使用babel-polyfill并且在此基础上进行优化的话，请参考第二点。\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e第二、放弃使用preset-es2015、preset-state-0，请使用preset-env\x3c\/strong\x3e。\x3cbr\x3ebabel-polyfill的引入会自动加入很多代码，有时候我们并不完全需要。比如：做移动端开发不需要考虑IE之类的、B端产品线只考虑指定的浏览器等。这个时候使用prest-env就可以了。配置如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;presets\x26quot;: [\n    [\x26quot;env\x26quot;, {\n      \x26quot;targets\x26quot;: {\n        \x26quot;browsers\x26quot;: [\x26quot;last 2 versions\x26quot;, \x26quot;safari \x3e= 7\x26quot;]\n      }\n    }]\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    [\x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22targets\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22browsers\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22last 2 versions\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22safari \x26gt;= 7\x22\x3c\/span\x3e]\n      }\n    }]\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ebrowsers的可选值参考 \x3ca href=\x22https:\/\/github.com\/ai\/browserslist\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebrowserslist\x3c\/a\x3e；有几个点要提醒一下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e上述的\x22last 2 versions\x22是主版本，这样配置会引入很多代码，建议针对性的配置。\x3c\/li\x3e\n\x3cli\x3e虽然使用了preset-env会针对指定的平台进行编译代码，但是要注意，即使你的代码都是ES5，打包出来的体积也不会小，因为它不是根据你的代码来选择性的编译，而是根据平台。如果想进一步优化，如根据平台也要根据代码来选择性的polyfill，请参考 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/@babel\/preset-env\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e@babel\/preset-env\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e类库和工具开发\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e第一、尽量避免使用babel-polyfill而使用tranform-runtime\x3c\/strong\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eIf you are looking for something that won\x27t modify globals to be used in a tool\/library, checkout the transform-runtime plugin. This means you won\x27t be able to use the instance methods mentioned above like Array.prototype.includes.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e官方这句话换个角度讲就是类库的开发建议使用transform-runtime，它的原则是不改变原型链上的方法，但是通过babel-runtime或者core-js手动引入，这样不仅代码优雅编译的包体积会小很多。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e第二、选择性的使用ES6语法\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eES6虽然很强大，但是很多方法使用ES5仍可轻松实现。看下刚才提及的 Array.prototype.includes方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ES6写法\nlet a=[1,2,3];\nif(a.includes(1)){\n  console.log(\x271 is finded\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ES6写法\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e a=[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(a.includes(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x271 is finded\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ES5写法\nlet a=[1,2,3];\nif(a.some((item)=\x3e{return item===1})){\n  console.log(\x271 is finded\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ES5写法\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e a=[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(a.some(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e item===\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e})){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x271 is finded\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这两个写法区别并不大，但是如果使用ES6的写法再加上polyfill的引入，代码要多不少。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e兼容到IE8-\x3c\/strong\x3e\x3cp\x3e请老老实实使用babel-polyfill。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>ES6和Babel你不知道的事儿</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012328326">https://segmentfault.com/a/1190000012328326</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/neb835a7f0e/" target="_blank">https://alili.tech/archive/neb835a7f0e/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>