<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="H5的Notification特性 - Web的桌面通知功能"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>H5的Notification特性 - Web的桌面通知功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/niskxu4tgfk/",
				"appid": "1613049289050283", 
				"title": "H5的Notification特性 - Web的桌面通知功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-25T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/uvj7cer27pf/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ukfohpmkl8n/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&text=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&text=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&title=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&is_video=false&description=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&title=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&title=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&title=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fniskxu4tgfk%2f&title=H5%e7%9a%84Notification%e7%89%b9%e6%80%a7%20-%20Web%e7%9a%84%e6%a1%8c%e9%9d%a2%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">H5的Notification特性 - Web的桌面通知功能</h1><div class="meta"><div class="postdate"><time datetime="2018-12-25" itemprop="datePublished">2018-12-25</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e本文发布在我的博客\x3ca href=\x22https:\/\/2ue.github.io\/2017\/10\/16\/desktop-notification\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eH5的Notification特性 - Web的桌面通知功能\x3c\/a\x3e\x3cbr\x3e许可协议: 署名-非商业性使用-禁止演绎 4.0 国际    转载请保留原文链接及作者。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\x3cp\x3e目前，\x3ccode\x3eweb\x3c\/code\x3e网页使用桌面通知功能的越来越多，包括微博，腾讯视频等大厂站，桌面通知功能是\x3ccode\x3eH5\x3c\/code\x3e的一个\x3ccode\x3eAPI\x3c\/code\x3e - \x3ccode\x3eNotifications\x3c\/code\x3e。它允许网页或应用程序可以发出通知，通知将被显示在页面之外的系统层面上（通常使用操作系统的标准通知机制，但是在不同的平台和浏览器上的表现会有差异），这样即使应用程序空闲或在后台也可以向用户发送信息。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e应用场景\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eNotifications\x3c\/code\x3e的诞生简化了网站或者应用与用户之间的沟通成本（时间成本和开发成本），增强用户黏性（减少了用户离开应用的可能）。传统的通知方式，大多是通过站内信（消息），邮件，短信等方式，它们通常需要刷新（跳转）页面、离开应用打开其他应用或终端来查看消息；而桌面通知功能大大的简化了这个过程，消息的传递基本不消耗时间（如果不设置\x3ccode\x3esetTimeout\x3c\/code\x3e，用时基本不会超过\x3ccode\x3e1s\x3c\/code\x3e），并且用户不需要离开应用，这都带来了极大的方便。可以预见，\x3ccode\x3eNotifications\x3c\/code\x3e将会在很多网页或应用中被大量使用。当然\x3ccode\x3eNotifications\x3c\/code\x3e也具有它的局限性：无法存档、即看即毁\x3cbr\x3e那么，这个功能到底能用在哪些场景呢？只能说能应用的场景很多：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e社交类网站\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e资讯类网站\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e网页版邮件服务\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e即时通知类网站\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e...\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e举个例子，当你打开微博页面，你可能会看到（使用新版浏览器）如下图的通知：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVY269?w=477\x26amp;h=189\x22 src=\x22https:\/\/static.alili.tech\/img\/bVY269?w=477\x26amp;h=189\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这就是网站使用了桌面通知功能，当你选择允许，那么当网站有推送消息或者你登陆账号有新的消息将会在桌面的右下角出现一个小弹窗通知，如下：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVY27b?w=393\x26amp;h=147\x22 src=\x22https:\/\/static.alili.tech\/img\/bVY27b?w=393\x26amp;h=147\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e感觉有点酷酷的！！！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e用户权限 - Notification.permission\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eNotification.permission\x3c\/code\x3e是一个静态方法，可以获取用户当前的通知权限状态，返回一个\x3ccode\x3eString\x3c\/code\x3e，可以根据返回值判断用户是否授予了通知权限。返回值有三种情况：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3edefault\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e用户还未被询问是否授权，所以通知不会被显示。\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3egranted\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e表示之前已经询问过用户，并且用户已经授予了显示通知的权限。\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3edenied\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e用户已经明确的拒绝了显示通知的权限。\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e当值为\x3ccode\x3edefault\x3c\/code\x3e或者\x3ccode\x3edenied\x3c\/code\x3e时都不会显示通知消息，只有明确的被设置成\x3ccode\x3egranted\x3c\/code\x3e才会显示通知消息\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const permission = Notification.permission;\nif(permission === \x27granted\x27){\n    console.log(\x27已经授权通知，可以进行你的通知啦！\x27);\n}else{\n    console.log(\x27用户还未授权，请先授权！\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e permission = Notification.permission;\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(permission === \x3cspan class=\x22hljs-string\x22\x3e\x27granted\x27\x3c\/span\x3e){\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27已经授权通知，可以进行你的通知啦！\x27\x3c\/span\x3e);\n}\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27用户还未授权，请先授权！\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e请求权限 - Notification.requestPermission(CALLBACK)\x3c\/h2\x3e\n\x3cp\x3e应用发送通知之前必须要取得发送通知的权限，才能成功进行通知。\x3ccode\x3eNotification.requestPermission(CALLBACK)\x3c\/code\x3e是请求获取权限的方法（有点类似\x3ccode\x3ejavascript\x3c\/code\x3e的\x3ccode\x3econfirm\x3c\/code\x3e弹窗窗），允许传入一个回调，回调会返回用户选择的何种权限，返回两个值，\x3ccode\x3egranted\x3c\/code\x3e代表允许，\x3ccode\x3edenied\x3c\/code\x3e代表拒绝。并且\x3ccode\x3eNotification.requestPermission()\x3c\/code\x3e支持\x3ccode\x3ethen\x3c\/code\x3e方式的链式调用，也就意味着可以异步调用它。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Notification.requestPermission(function (permission) {\n    console.log(\x27用户是否允许通知： \x27,permission === \x27granted\x27 ? \x27允许\x27 : \x27拒绝\x27);\n});\n\/\/两种方式是等价的\nNotification.requestPermission().then(function (permission) {\n    console.log(\x27用户是否允许通知： \x27,permission === \x27granted\x27 ? \x27允许\x27 : \x27拒绝\x27);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3eNotification.requestPermission(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3epermission\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27用户是否允许通知： \x27\x3c\/span\x3e,permission === \x3cspan class=\x22hljs-string\x22\x3e\x27granted\x27\x3c\/span\x3e ? \x3cspan class=\x22hljs-string\x22\x3e\x27允许\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27拒绝\x27\x3c\/span\x3e);\n});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/两种方式是等价的\x3c\/span\x3e\nNotification.requestPermission().then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3epermission\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27用户是否允许通知： \x27\x3c\/span\x3e,permission === \x3cspan class=\x22hljs-string\x22\x3e\x27granted\x27\x3c\/span\x3e ? \x3cspan class=\x22hljs-string\x22\x3e\x27允许\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27拒绝\x27\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e创建通知 - new Notification(TITLE, OPTIONS)\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3enew Notification(TITLE, OPTIONS)\x3c\/code\x3e方法创建可以创建一个通知实例，允许参入参数两个参数\x3ccode\x3eTITLE\x3c\/code\x3e和\x3ccode\x3eOPTIONS\x3c\/code\x3e。注意默认情况下（实际可以通过\x3ccode\x3eOPTIONS\x3c\/code\x3e中的\x3ccode\x3etimestamp\x3c\/code\x3e参数控制）一旦通知实例被创建出来，它会立即被显示出来。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3eTITLE参数\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3eTITLE\x3c\/code\x3e表示通知的标题。必须参数，允许数字、字符串和空\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eOPTIONS参数\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3eOPTIONS\x3c\/code\x3e是非必须参数，必须为一个对象，它包含：\x3cbr\x3eps: 部分参数在某些浏览器可能会不生效，建议使用最新版的谷歌浏览器。以下某些内容从\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/notification\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNotification-MDN-EN\x3c\/a\x3e结合谷歌翻译得来，很有可能翻译不准确，如有，请提出。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \/\/通知显示正文。非必须，默认为空\n    body: \x27你的好友XX上线了！\x27,\n    \/\/通知显示正文的图片地址。非必须，默认为空\n    image: \x27imgae url\x27,\n    \/\/通知左侧图标。非必须，默认为空\n    icon: \x27imgae url\x27,\n    \/\/通知的分类标记（ID）。非必须，默认为空\n    tag: \x27test\x27,\n    \/\/通知相关联的数据，通常用于方法的回调，传参。非必须，默认为空\n    data: \x27可以是任意数据类型\x27,\n    \/\/通知显示延迟的时间。非必须，默认通知实例创建完成就显示\n    timestamp: \x27\x27,\n    \/\/通知主体内容的水平展示顺序，有点类似direction属性。非必须，默认值是auto, 可以是ltr或rtl\n    dir: \x27auto\x27,\n    \/\/当没有足够的空间来显示通知本身时，用于表示通知的图像的URL。非必须，默认为空\n    badge: \x27xxx\x27,\n    \/\/通知的语言。非必须默认为空\n    lang: \x27\x27,\n    \/\/通知显示时，设备的振动模式。非必须，默认为空\n    vibrate: [200, 100, 200],\n    \/\/新通知出现是否覆盖旧的通知，覆盖（true）则永远只显示一条通知，不覆盖（false）则会多条通知重叠。非必须，默认为true\n    renotify: true,\n    \/\/通知是否静音。非必须，默认为false，表示无声\n    silent: false,\n    \/\/通知声源文件地址。非必须，默认为空\n    sound: \x27mp3\x27,\n    \/\/是否不在屏幕上显示通知信息。非必须，默认为false表示要显示\n    noscreen: false,\n    \/\/指定通知是否应该粘滞性，即不容易被用户清理。非必须，默认false表示不具粘滞性\n    sticky: false,\n    \/\/指定通知是否保持活性，知道用户点击或关闭。非必须，默认为false\n    requireInteraction: false\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n    \/\/通知显示正文。非必须，默认为空\n    body: \x27你的好友XX上线了！\x27,\n    \/\/通知显示正文的图片地址。非必须，默认为空\n    image: \x27imgae url\x27,\n    \/\/通知左侧图标。非必须，默认为空\n    icon: \x27imgae url\x27,\n    \/\/通知的分类标记（ID）。非必须，默认为空\n    tag: \x27test\x27,\n    \/\/通知相关联的数据，通常用于方法的回调，传参。非必须，默认为空\n    data: \x27可以是任意数据类型\x27,\n    \/\/通知显示延迟的时间。非必须，默认通知实例创建完成就显示\n    timestamp: \x27\x27,\n    \/\/通知主体内容的水平展示顺序，有点类似direction属性。非必须，默认值是auto, 可以是ltr或rtl\n    dir: \x27auto\x27,\n    \/\/当没有足够的空间来显示通知本身时，用于表示通知的图像的URL。非必须，默认为空\n    badge: \x27xxx\x27,\n    \/\/通知的语言。非必须默认为空\n    lang: \x27\x27,\n    \/\/通知显示时，设备的振动模式。非必须，默认为空\n    vibrate: [\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e],\n    \/\/新通知出现是否覆盖旧的通知，覆盖（true）则永远只显示一条通知，不覆盖（false）则会多条通知重叠。非必须，默认为true\n    renotify: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \/\/通知是否静音。非必须，默认为false，表示无声\n    silent: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \/\/通知声源文件地址。非必须，默认为空\n    sound: \x27mp3\x27,\n    \/\/是否不在屏幕上显示通知信息。非必须，默认为false表示要显示\n    noscreen: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \/\/指定通知是否应该粘滞性，即不容易被用户清理。非必须，默认false表示不具粘滞性\n    sticky: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \/\/指定通知是否保持活性，知道用户点击或关闭。非必须，默认为false\n    requireInteraction: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e事件及事件钩子\x3c\/h3\x3e\n\x3cp\x3e当通知被创建成功后：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e通知实例具有一个静态方法可以用来关闭通知\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通知实例具有四个事件钩子，来跟踪通知当前的状态。这些事件可以通过事件处理跟踪\x3ccode\x3eonshow\x3c\/code\x3e、\x3ccode\x3eonclick\x3c\/code\x3e、\x3ccode\x3eonclose\x3c\/code\x3e和\x3ccode\x3eonerror\x3c\/code\x3e。因为\x3ccode\x3eNotification\x3c\/code\x3e同样继承自\x3ccode\x3eEventTarget\x3c\/code\x3e，因此可以对它调用\x3ccode\x3eaddEventListener()\x3c\/code\x3e方法。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const n = new Notification(\x27XX网站消息通知\x27, {\n    body: \x27你的朋友有新状态啦，快去围观吧！\x27,\n    tag: \x272ue\x27,\n    icon: \x27https:\/\/2ue.github.io\/images\/common\/avatar.png\x27,\n    data: {\n        url: \x27https:\/\/2ue.github.io\x27\n    },\n    timestamp: 3000\n});\n\nn.onshow = function () {\n    console.log(\x27通知显示了！\x27);\n}\nn.onclick = function (e) {\n    \/\/可以直接通过实例的方式获取data内自定义的数据\n    \/\/也可以通过访问回调参数e来获取data的数据\n    window.open(n.data.url, \x27_blank\x27);\n    n.close();\n}\nn.onclose = function () {\n    console.log(\x27你墙壁了我！！！\x27);\n}\nn.onerror = function (err) {\n    console.log(\x27出错了，小伙子在检查一下吧\x27);\n    throw err;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e n = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Notification(\x3cspan class=\x22hljs-string\x22\x3e\x27XX网站消息通知\x27\x3c\/span\x3e, {\n    \x3cspan class=\x22hljs-attr\x22\x3ebody\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27你的朋友有新状态啦，快去围观吧！\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3etag\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x272ue\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eicon\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/2ue.github.io\/images\/common\/avatar.png\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/2ue.github.io\x27\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3etimestamp\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e\n});\n\nn.onshow = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27通知显示了！\x27\x3c\/span\x3e);\n}\nn.onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/可以直接通过实例的方式获取data内自定义的数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/也可以通过访问回调参数e来获取data的数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.open(n.data.url, \x3cspan class=\x22hljs-string\x22\x3e\x27_blank\x27\x3c\/span\x3e);\n    n.close();\n}\nn.onclose = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27你墙壁了我！！！\x27\x3c\/span\x3e);\n}\nn.onerror = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27出错了，小伙子在检查一下吧\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3edemo\x3c\/h2\x3e\n\x3cp\x3e写一个简单的例子，可以打开页面体验一下，建议用最新版谷歌浏览器打开~ \x3ca href=\x22https:\/\/codepen.io\/2ue\/pen\/rYYzwB\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNotification.js\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x222ue\/pen\/rYYzwB\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const NotificationInstance = Notification || window.Notification;\nif (!!NotificationInstance) {\n    const permissionNow = NotificationInstance.permission;\n    if (permissionNow === \x27granted\x27) {\/\/允许通知\n        CreatNotification();\n    } else if (permissionNow === \x27denied\x27) {\n        console.log(\x27用户拒绝了你!!!\x27);\n    } else {\n        setPermission();\n    }\n    function setPermission() {\n        \/\/请求获取通知权限\n        NotificationInstance.requestPermission(function (PERMISSION) {\n            if (PERMISSION === \x27granted\x27) {\n                CreatNotification();\n            } else {\n                console.log(\x27用户无情残忍的拒绝了你!!!\x27);\n            }\n        });\n    }\n    function CreatNotification() {\n        const n = new NotificationInstance(\x27XX网站消息通知\x27, {\n            body: \x27你的朋友有新状态啦，快去围观吧！\x27,\n            tag: \x272ue\x27,\n            icon: \x27https:\/\/2ue.github.io\/images\/common\/avatar.png\x27,\n            data: {\n                url: \x27https:\/\/2ue.github.io\x27\n            }\n        });\n        n.onshow = function () {\n            console.log(\x27通知显示了！\x27);\n        }\n        n.onclick = function (e) {\n            \/\/可以直接通过实例的方式获取data内自定义的数据\n            \/\/也可以通过访问回调参数e来获取data的数据\n            window.open(n.data.url, \x27_blank\x27);\n            n.close();\n        }\n        n.onclose = function () {\n            console.log(\x27你墙壁了我！！！\x27);\n        }\n        n.onerror = function (err) {\n            console.log(\x27出错了，小伙子在检查一下吧\x27);\n            throw err;\n        }\n        setTimeout(() =\x3e {\n            n.close();\n        }, 2000);\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e NotificationInstance = Notification || \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.Notification;\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!!NotificationInstance) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e permissionNow = NotificationInstance.permission;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (permissionNow === \x3cspan class=\x22hljs-string\x22\x3e\x27granted\x27\x3c\/span\x3e) {\x3cspan class=\x22hljs-comment\x22\x3e\/\/允许通知\x3c\/span\x3e\n        CreatNotification();\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (permissionNow === \x3cspan class=\x22hljs-string\x22\x3e\x27denied\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27用户拒绝了你!!!\x27\x3c\/span\x3e);\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        setPermission();\n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esetPermission\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/请求获取通知权限\x3c\/span\x3e\n        NotificationInstance.requestPermission(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ePERMISSION\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (PERMISSION === \x3cspan class=\x22hljs-string\x22\x3e\x27granted\x27\x3c\/span\x3e) {\n                CreatNotification();\n            } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27用户无情残忍的拒绝了你!!!\x27\x3c\/span\x3e);\n            }\n        });\n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCreatNotification\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e n = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e NotificationInstance(\x3cspan class=\x22hljs-string\x22\x3e\x27XX网站消息通知\x27\x3c\/span\x3e, {\n            \x3cspan class=\x22hljs-attr\x22\x3ebody\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27你的朋友有新状态啦，快去围观吧！\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3etag\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x272ue\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3eicon\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/2ue.github.io\/images\/common\/avatar.png\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/2ue.github.io\x27\x3c\/span\x3e\n            }\n        });\n        n.onshow = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27通知显示了！\x27\x3c\/span\x3e);\n        }\n        n.onclick = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/可以直接通过实例的方式获取data内自定义的数据\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/也可以通过访问回调参数e来获取data的数据\x3c\/span\x3e\n            \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.open(n.data.url, \x3cspan class=\x22hljs-string\x22\x3e\x27_blank\x27\x3c\/span\x3e);\n            n.close();\n        }\n        n.onclose = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27你墙壁了我！！！\x27\x3c\/span\x3e);\n        }\n        n.onerror = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27出错了，小伙子在检查一下吧\x27\x3c\/span\x3e);\n            \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e err;\n        }\n        setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n            n.close();\n        }, \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e);\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e兼容\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eNotifications\x3c\/code\x3e是\x3ccode\x3eH5\x3c\/code\x3e的新特性，毫无疑问，它的兼容肯定是一篇哀嚎.\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVY27l?w=693\x26amp;h=178\x22 src=\x22https:\/\/static.alili.tech\/img\/bVY27l?w=693\x26amp;h=178\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVY27p?w=666\x26amp;h=146\x22 src=\x22https:\/\/static.alili.tech\/img\/bVY27p?w=666\x26amp;h=146\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e参考\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/notification\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNotification-MDN-EN\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/notification\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNotification-MDN-CN\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>H5的Notification特性 - Web的桌面通知功能</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012127653">https://segmentfault.com/a/1190000012127653</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/niskxu4tgfk/" target="_blank">https://alili.tech/archive/niskxu4tgfk/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>