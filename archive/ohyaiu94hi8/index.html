<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[译]看漫画学Flux"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[译]看漫画学Flux | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ohyaiu94hi8/",
				"appid": "1613049289050283", 
				"title": "[译]看漫画学Flux | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-07T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/0prdswkzq9to/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/crelrix10wu/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&text=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&text=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&title=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&is_video=false&description=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&title=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&title=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&title=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fohyaiu94hi8%2f&title=%5b%e8%af%91%5d%e7%9c%8b%e6%bc%ab%e7%94%bb%e5%ad%a6Flux"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[译]看漫画学Flux</h1><div class="meta"><div class="postdate"><time datetime="2018-12-07" itemprop="datePublished">2018-12-07</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e原文地址：\x3ca href=\x22https:\/\/code-cartoons.com\/a-cartoon-guide-to-flux-6157355ab207\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eA cartoon guide to Flux - by Lin Clark\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OSN?w=2000\x26amp;h=900\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OSN?w=2000\x26amp;h=900\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eFlux在目前web开发中最受欢迎也较不被人理解，本文会以简单易懂的方式解释它。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e出现问题\x3c\/h2\x3e\n\x3cp\x3e首先，我要声明Flux所解决的基本问题。Flux是一种帮助你处理数据的模式。Flux和React都由Facebook开发。许多人把他们放在一起用，当然你也可以单独使用它们。它们的形成是为了解决Facebook所面临的一系列典型问题。\x3cbr\x3e这些问题中一个广为人知的例子就是关于通知的错误(notification bug). 当你登录Facebook时，你会通过消息图标(message icon)看到一则通知(notification)。然而你点击消息图标后，可能根本没有新消息，通知消失了。接着，在与网站进行几次交互之后，通知又回来了。你再一次点击消息图标...依然没有新消息。这个情况会在循环中继续往复发生。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OSR?w=800\x26amp;h=409\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OSR?w=800\x26amp;h=409\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这不仅仅是发生在用户里的循环，对于Facebook团队里也会有这个循环。他们修复了错误，一切在一段时间里看似表现很好，接着错误又回来了。这一直处于解决问题和再次出现问题之间来回切换。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OSU?w=800\x26amp;h=409\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OSU?w=800\x26amp;h=409\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e所以Facebook在寻找跳出死循环的方法。他们不想仅仅是修复一次bug，他们希望保证系统可预测，这样他们就能确保问题不会重新出现。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e根本问题\x3c\/h2\x3e\n\x3cp\x3e他们发现根本问题在于数据流经应用程序的方式。\x3cbr\x3e\x3cem\x3e住：这是我从他们的分享会上展示的简化版本中收集到的，我确定实际的架构看起来并不一样。\x3c\/em\x3e\x3cbr\x3e他们有保存数据的模型(Model)，并将数据传递到视图层(View Layer)渲染。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OS6?w=700\x26amp;h=533\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OS6?w=700\x26amp;h=533\x22 alt=\x22Model层将数据传递给View层\x22 title=\x22Model层将数据传递给View层\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e因为用户交互发生在视图层，视图有时候需要根据用户输入来更新模型。有时模型还需要去更新其他的模型。最重要的是，这些行为有时会引发其他一系列的变化。我认为这非常有趣，因为你无法知道接下来会发生什么！（作者此处用了比喻，I envision this as an edge-of-your-seat game of Pong — it’s hard to know where the ball is going to land (or fall off the screen)）\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTe?w=700\x26amp;h=533\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTe?w=700\x26amp;h=533\x22 alt=\x22视图更新模型，模型接着更新其他模型\x22 title=\x22视图更新模型，模型接着更新其他模型\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e不考虑这些变化会引起异步发生的可能性。一个变化可能会一起多种其他变化。我想这就好像抛出一袋乒乓球到乒乓游戏中，随着他们飞过整个地方并穿过小径。\x3cbr\x3e总而言之，它使得调试数据流变得很困难。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e解决方案：单向数据流\x3c\/h2\x3e\n\x3cp\x3eFacebook觉得尝试一种不同的架构，数据向一个方向流动——只有一个方向——当你插入新数据时，这个流程就从头重新开始。他们称这一架构为Flux。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTh?w=900\x26amp;h=192\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTh?w=900\x26amp;h=192\x22 alt=\x22Facebook的Flux文档中也有这张图，而且比这里要酷的多\x22 title=\x22Facebook的Flux文档中也有这张图，而且比这里要酷的多\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e实际上这个技术非常棒...但你可能无法从上面这张图里看出来。\x3cbr\x3e一旦你理解了Flux，这张图就显得非常清晰。问题是如果你要找到对Flux完全新的文档，我认为这张图不能帮助你理解它...这就是图应该做的事。在你开始深入了解如何做特定事情之前，图会让你对系统产生一个全面的了解。\x3cbr\x3e帮助我更好理解Flux的不是这样的图，而是根据团队中不同角色要实现共同目标来考虑这个系统。所以我会想你介绍我脑子里的这些角色。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e角色\x3c\/h2\x3e\n\x3cp\x3e在我将这些角色联系起来之前，我先对各个角色做简单介绍。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e行为创建者(Action)\x3c\/h3\x3e\n\x3cp\x3e第一个角色是这个行为创建者。他负责创建行为，这是所有改变和交互必须经历的路径。无论你是否想改变程序的状态，或者让视图的渲染方式不同，你都需要创建行为。\x3cbr\x3e我认为行为创建者就像电报员。他知道你想传递什么消息，接着再以其他系统可以理解的方式格式化信息。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTm?w=487\x26amp;h=353\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTm?w=487\x26amp;h=353\x22 alt=\x22Action creator\x22 title=\x22Action creator\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e行为创建者创建行为时，会伴随一个\x3ccode\x3etype\x3c\/code\x3e和一个\x3ccode\x3epayload\x3c\/code\x3e。\x3ccode\x3etype\x3c\/code\x3e表示你在系统中定义为行为的类型之一（通常是常量列表），比如\x3ccode\x3eMESSAGE_CREATE\x3c\/code\x3e或\x3ccode\x3eMESSAGE_READ\x3c\/code\x3e。\x3cbr\x3e让系统的一部分知道所有可能的行为有一个很好的作用，那就是，当新人参与到项目里时，打开行为创建者的文件就能看到整个API——系统提供的所有可能的状态改变。\x3cbr\x3e一旦创建了行为消息，行为创建者就会将该行为传递给调度人员。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e调度人员(Dispatcher)\x3c\/h3\x3e\n\x3cp\x3e调度人员有一个大的回调(callbacks)注册表(registry)，在某种程度上像电话交换机上的接线员，保留数据层(store)中需要发送的行为列表。当行为被行为创建者创建后，调度人员会将行为发送给不同的数据层。\x3cbr\x3e调度人员以同步方式完成工作，如果你需要在数据层之间设置依赖关系，以便在其他数据层更新前更新，你可以让调度人员使用\x3ccode\x3ewaitFor()\x3c\/code\x3e进行管理。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTy?w=573\x26amp;h=530\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTy?w=573\x26amp;h=530\x22 alt=\x22调度人员像一个总机操作员，知道所有不同数据层的回调\x22 title=\x22调度人员像一个总机操作员，知道所有不同数据层的回调\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eFlux的调度人员与其他很多架构中的不同。无论行为类型是什么，它都会被发送到所有的注册数据层里。这意味着数据层不仅仅收到一些行为消息，而是接收全部消息再就实际情况过滤。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e数据人员(Store)\x3c\/h3\x3e\n\x3cp\x3e接下来就是数据人员了。数据人员掌控这程序里所有的状态，以及状态的改变逻辑。\x3cbr\x3e我把数据人员比喻成权力极大的爷，所有的状态改变必须由他亲自完成。你不能直接要求他改变状态，要请求更改状态，你必须遵循适当的步骤：通过行为创建者或调度人员提交行为。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTD?w=548\x26amp;h=437\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTD?w=548\x26amp;h=437\x22 alt=\x22数据人员是个爷\x22 title=\x22数据人员是个爷\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e正如我之前提到的，如果一个数据层被调度人员注册，所有的行为将会发送到那里。在数据层里，数据人员一般会用一个switch语句查看行为类型，以决定这个数据层是否关心此行为。如果数据层关心此行为，那么数据人员会根据这个行为找出需要做出哪些更改并更新状态。\x3cbr\x3e一旦数据人员改变了状态，他就会提交一个改变事件，这会提示视图控制员知道状态变了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e视图与视图控制员(Controller view \x26amp; view)\x3c\/h3\x3e\n\x3cp\x3e视图负责拿到状态并将其渲染出来给用户看，以及接收用户输入。\x3cbr\x3e视图是一个展示者，他并不知道程序里发生任何事，只知道接收到的数据，以及如何将数据格式化成用户能理解的方式（通过HTML）。\x3cbr\x3e视图控制员更像一个在数据人员和视图之间的中层经理，数据人员告诉他状态什么时候变了，他收集到新状态再将更新状态发送给他的子视图。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTE?w=421\x26amp;h=466\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTE?w=421\x26amp;h=466\x22 alt=\x22视图与视图控制员\x22 title=\x22视图与视图控制员\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e他们怎么一起工作\x3c\/h2\x3e\n\x3cp\x3e接下来看看这些角色怎么共同工作的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e初始化(setup)\x3c\/h3\x3e\n\x3cp\x3e首先有个初始化：只发生一次的程序初始化。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e数据员(stores)使得调度员(dispatcher)知道，无论何时有行为(action)来了，数据员需要被通知。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTH?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTH?w=800\x26amp;h=470\x22 alt=\x221\x22 title=\x221\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e视图控制员(controller views)向数据员(stores)询问最新状态(state)。\x3c\/li\x3e\n\x3cli\x3e当数据员向视图控制员说明了状态后，视图控制员把这个状态告诉其子视图去渲染。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTU?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTU?w=800\x26amp;h=470\x22 alt=\x222, 3\x22 title=\x222, 3\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e视图控制员也告诉数据员当其状态改变时记得通知自己。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OTX?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OTX?w=800\x26amp;h=470\x22 alt=\x224\x22 title=\x224\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e数据流(date flow)\x3c\/h3\x3e\n\x3cp\x3e一旦初始化完成后，程序就准备好接收用户输入。现在，我们假设用户做改变引起了一个行为(action)。\x3cbr\x3e我们通过用户交互来启动数据流。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OT5?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OT5?w=800\x26amp;h=470\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e视图(view)告诉行为创建者(action creator)准备行为。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OT6?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OT6?w=800\x26amp;h=470\x22 alt=\x221\x22 title=\x221\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e行为创建者格式化行为并发送给调度员(dispatcher)。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OUg?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OUg?w=800\x26amp;h=470\x22 alt=\x222\x22 title=\x222\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e调度员按顺序将行为发送给数据人员(store)，每个数据员都收到了所有行为的提示，接着数据员筛选哪些是他关心的，再相应地改变数据层状态(state)。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OUi?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OUi?w=800\x26amp;h=470\x22 alt=\x223\x22 title=\x223\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e一旦状态改变，数据员就会让当时需要他通知的那些视图控制员知道其状态变化。\x3c\/li\x3e\n\x3cli\x3e这些视图控制员会向数据员要他们更新后的状态。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OUl?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OUl?w=800\x26amp;h=470\x22 alt=\x224, 5\x22 title=\x224, 5\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e在数据员给了自己更新后的状态，视图控制员就会告诉其子视图根据新状态重新渲染。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7OUo?w=800\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7OUo?w=800\x26amp;h=470\x22 alt=\x226\x22 title=\x226\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这就是我认为的Flux，希望对你有用！\x3c\/p\x3e\n\x3cblockquote\x3e译者：如有翻译错误，请指正哟，谢谢！(＾Ｕ＾)ノ~ＹＯ\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[译]看漫画学Flux</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014217844">https://segmentfault.com/a/1190000014217844</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ohyaiu94hi8/" target="_blank">https://alili.tech/archive/ohyaiu94hi8/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>