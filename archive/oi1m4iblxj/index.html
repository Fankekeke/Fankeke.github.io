<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="翻译 | 使用A-Frame打造WebVR版《我的世界》"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>翻译 | 使用A-Frame打造WebVR版《我的世界》 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/oi1m4iblxj/",
				"appid": "1613049289050283", 
				"title": "翻译 | 使用A-Frame打造WebVR版《我的世界》 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-01T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ht0mxg7m2xn/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/4knm3gep6kq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&text=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&text=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&is_video=false&description=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foi1m4iblxj%2f&title=%e7%bf%bb%e8%af%91%20%7c%20%e4%bd%bf%e7%94%a8A-Frame%e6%89%93%e9%80%a0WebVR%e7%89%88%e3%80%8a%e6%88%91%e7%9a%84%e4%b8%96%e7%95%8c%e3%80%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">翻译 | 使用A-Frame打造WebVR版《我的世界》</h1><div class="meta"><div class="postdate"><time datetime="2019-01-01" itemprop="datePublished">2019-01-01</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cul\x3e\n\x3cli\x3e原文地址：\x3ca href=\x22https:\/\/css-tricks.com\/minecraft-webvr-html-using-frame\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMinecraft in WebVR with HTML Using A-Frame\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e原文作者：\x3ca href=\x22http:\/\/ngokevin.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eKevin Ngo\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e译者：\x3ca href=\x22https:\/\/github.com\/LittlePineapple\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFelix\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e校对：\x3ca href=\x22https:\/\/github.com\/aximario\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e阿希\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e我是 Kevin Ngo，一名就职于 \x3ca href=\x22https:\/\/mozvr.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMozilla VR 团队\x3c\/a\x3e的 web 虚拟现实开发者，也是 \x3ca href=\x22https:\/\/aframe.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eA-Frame\x3c\/a\x3e 的核心开发人员。今天，我们来看看如何使用 A-Frame 构建一个够在 HTC Vive、Oculus Rift、Samsung GearVR、Google Cardboard、桌面设备以及移动设备上运行的、支持空间追踪（room-scale）技术的 WebVR 版《我的世界》示例。该示例基于 A-Frame，且仅使用 11 个 HTML 元素！\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011081558\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011081558\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eA-Frame\x3c\/h2\x3e\n\x3cp\x3e几年前，Mozilla 发明并开发了 \x3ca href=\x22https:\/\/webvr.rocks\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWebVR\x3c\/a\x3e —— 一套在浏览器中创造身临其境 VR 体验的 JavaScript API —— 并将其发布在一个实验版本的 Firefox 浏览器中。此后，WebVR 得到了 Google、Microsoft、Samsung 以及 Oculus 等其他公司的广泛支持。而现在，WebVR 更是在短短几个月内就被内嵌在发行版的 Firefox 浏览器中，并被设置为默认开启！\x3c\/p\x3e\n\x3cp\x3e为什么会诞生 WebVR？Web 为 VR 带来了开放性；在 Web 上，内容并不由管理员所控制，用户也不被关在高高的围墙花园（walled garden）中。Web 也为 VR 带来了连通性；在 Web 上，我们能够在世界中穿梭 —— 就像我们点击超链接在页面见穿梭一样。随着 WebGL 的成熟以及诸如 Web Assembly 和 Service Workers 规范的提出，WebVR 已经准备好了。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/mozvr.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMozilla VR 团队\x3c\/a\x3e创造了 A-Frame 框架来为 WebVR 生态系统抛砖引玉，该框架给予开发者构建 3D 和 VR 世界的能力。\x3c\/p\x3e\n\x3cp\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011081559\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011081559\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3eA-Frame 官方网站首页\x3cbr\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/aframe.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eA-Frame\x3c\/a\x3e 是一个构建虚拟现实体验设的 web 框架，它基于 HTML 和\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/introduction\/#entity-component-system\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e实体组件范式\x3c\/a\x3e（the Entity-Component pattern）。HTML 是所有计算机语言中最易理解的语言，这使得任何人都能\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/introduction\/getting-started.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e快速上手\x3c\/a\x3e A-Frame。下面是一个使用 HTML 搭建的完整的 3D 和 VR 场景，它能够在诸如桌面设备和移动设备等任何 VR 平台运行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3ca-scene\x3e\n  \x3ca-sphere position=\x26quot;0 1.25 -5\x26quot; radius=\x26quot;1.25\x26quot; color=\x26quot;#EF2D5E\x26quot;\x3e\x3c\/a-sphere\x3e\n  \x3ca-box position=\x26quot;-1 0.5 -3\x26quot; rotation=\x26quot;0 45 0\x26quot; width=\x26quot;1\x26quot; height=\x26quot;1\x26quot; depth=\x26quot;1\x26quot; color=\x26quot;#4CC3D9\x26quot;\x3e\x3c\/a-box\x3e\n  \x3ca-cylinder position=\x26quot;1 0.75 -3\x26quot; radius=\x26quot;0.5\x26quot; height=\x26quot;1.5\x26quot; color=\x26quot;#FFC65D\x26quot;\x3e\x3c\/a-cylinder\x3e\n  \x3ca-plane position=\x26quot;0 0 -4\x26quot; rotation=\x26quot;-90 0 0\x26quot; width=\x26quot;4\x26quot; height=\x26quot;4\x26quot; color=\x26quot;#7BC8A4\x26quot;\x3e\x3c\/a-plane\x3e\n  \x3ca-sky color=\x26quot;#ECECEC\x26quot;\x3e\x3c\/a-sky\x3e\n\x3c\/a-scene\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-sphere\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 1.25 -5\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221.25\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#EF2D5E\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-sphere\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-box\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22-1 0.5 -3\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erotation\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 45 0\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edepth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#4CC3D9\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-box\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221 0.75 -3\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.5\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221.5\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#FFC65D\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-plane\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 0 -4\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erotation\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22-90 0 0\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x224\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x224\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#7BC8A4\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-plane\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#ECECEC\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/mozvr\/pen\/BjygdO\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 CodePen 中打开\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mozvr\/pen\/BjygdO\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e就是这样！只用使用\x3cstrong\x3e一行 HTML（\x26lt;a-scene\x26gt;）即可搞定 3D 和 VR 样板代码搭建\x3c\/strong\x3e，包括：canvas、场景、渲染器、渲染循环、摄像机以及 raycaster。然后，我们可以通过使用添加子元素的方式来为场景添加对象。\x3cstrong\x3e无需构建\x3c\/strong\x3e，就只是一个简单的、可随意拷贝粘贴的 HTML 文件。\x3c\/p\x3e\n\x3cp\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011081560\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011081560\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e我们还可以动态查询和操作 A-Frame 的 HTML，就像使用\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/guides\/using-javascript-and-dom-apis.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e标准 JavaScript 和 DOM APIs\x3c\/a\x3e （例如 querySelector、getAttribute、addEventListener、setAttribute）那样。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 使用 `querySelector` 查询场景图像。\nvar sceneEl = document.querySelector(\x27a-scene\x27);\nvar boxEl = sceneEl.querySelector(\x27a-box\x27);\n\n\/\/ 使用 `getAttribute` 获得实体的数据。\nconsole.log(box.getAttribute(\x27position\x27));\n\/\/ \x3e\x3e {x: -1, y: 0.5, z: -3}\n\n\/\/ 使用 `addEventListener` 监听事件。\nbox.addEventListener(\x27click\x27, function () {\n  \/\/ 使用 `setAttribute` 修改属性。\n  box.setAttribute(\x27color\x27, \x27red\x27);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 `querySelector` 查询场景图像。\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e sceneEl = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27a-scene\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e boxEl = sceneEl.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27a-box\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 `getAttribute` 获得实体的数据。\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(box.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27position\x27\x3c\/span\x3e));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26gt;\x26gt; {x: -1, y: 0.5, z: -3}\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 `addEventListener` 监听事件。\x3c\/span\x3e\nbox.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 `setAttribute` 修改属性。\x3c\/span\x3e\n  box.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27color\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27red\x27\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011081561\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011081561\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e而且，因为这些只是 HTML 和 JavaScript，因此 A-Frame 和许多现存的框架和库兼容良好：\x3cbr\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011081562\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011081562\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e兼容 d3、Vue、React、Redux、jQuery、Angular\x3cbr\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e尽管 A-Frame 的 HTML 看起来比较简单，但是 A-Frame 的 API 却远远比简单的 3D 声明强大。A-Frame 是一个\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/introduction\/#entity-component-system\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e实体组件系统（ECS）框架\x3c\/a\x3e，ECS 在游戏开发中是一种流行的模式，值得注意的是 ECS 也被 Unity 引擎所使用。其概念包括：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e在场景中，所有的对象都是\x3cem\x3e实体（entities）\x3c\/em\x3e，空对象本身什么也不能做，类似空 \x3ccode\x3e\x26lt;div\x26gt;\x3c\/code\x3e。A-Frame 使用 HTML 元素在 DOM 中表示实体。\x3c\/li\x3e\n\x3cli\x3e接下来，我们在实体中插入\x3cem\x3e组件（components）\x3c\/em\x3e 来提供外观、行为和功能。在 A-Frame 中，组件被注册在 JavaScript 中，并且可以被用来做任何事情。它们可使用完整的 \x3ca href=\x22http:\/\/threejs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ethree.js\x3c\/a\x3e 和 DOM APIs。组件注册后，可以附加在 HTML 实体上。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3eECS 的优势在于它的可组合性；我们可以混合和搭配这些可复用的组件来构建出更复杂的 3D 对象。A-Frame 更上一层楼，将这些组件声明化，并使其作为 DOM 的一部分，就像我们待会在《我的世界》示例中看到那样。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e示例骨架\x3c\/h2\x3e\n\x3cp\x3e现在来关注我们的示例。我们将搭建一个基本的 VR 立体像素制作器（voxel builder），它主要用于支持位置追踪（positional tracking）和追踪控制器（tracked controllers）的空间追踪 VR 设备（例如 HTC Vive 及 Oculus Rift \x2b Touch）。\x3c\/p\x3e\n\x3cp\x3e我们会从 HTML 骨架开始。如果你想要快速浏览（完整的 11 行 HTML），\x3ca href=\x22https:\/\/github.com\/ngokevin\/kframe\/tree\/csstricks\/scenes\/aincraft\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e点击这里到 GitHub 查看源代码\x3c\/a\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3cbody\x3e\n  \x3ca-scene\x3e\n  \x3c\/a-scene\x3e\n\x3c\/body\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\n\x26lt;body\x26gt;\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e添加地面\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3e\x26lt;a-plane\x26gt;\x3c\/code\x3e 和 \x3ccode\x3e\x26lt;a-circle\x26gt;\x3c\/code\x3e 都是常被用作添加地面的图元，不过我们会使用 \x3ccode\x3e\x26lt;a-cylinder\x26gt;\x3c\/code\x3e 来更好地配合控制器完成灯光计算工作。圆柱（cylinder）的半径为 30 米，待会我们要添加的天空将会和这个半径值匹配起来。注意 A-Frame 中的单位是米，以匹配 WebVR API 返回的现实世界中的单位。\x3c\/p\x3e\n\x3cp\x3e地面的纹理部署在 \x3ccode\x3ehttps:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x3c\/code\x3e。我们将纹理添加进项目中，并使用该纹理制作一个扁的圆柱实体。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3ca-scene\x3e\n  \x3ca-cylinder id=\x26quot;ground\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x26quot; radius=\x26quot;32\x26quot; height=\x26quot;0.1\x26quot;\x3e\x3c\/a-cylinder\x3e\n\x3c\/a-scene\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ground\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2232\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/mozvr\/pen\/MpbXXe\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 CodePen 中打开\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mozvr\/pen\/MpbXXe\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e预加载资源\x3c\/h2\x3e\n\x3cp\x3e通过 \x3ccode\x3esrc\x3c\/code\x3e 属性指定的 URL 资源将在运行时加载。\x3c\/p\x3e\n\x3cp\x3e由于网络请求会对渲染的性能产生负面影响，所以我们可以\x3cem\x3e预加载\x3c\/em\x3e纹理以保证资源被下载完成前不进行渲染工作，预加载可以通过\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/core\/asset-management-system.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e资源管理系统（asset management system）\x3c\/a\x3e来完成。\x3c\/p\x3e\n\x3cp\x3e我们将 \x3ccode\x3e\x26lt;a-assets\x26gt;\x3c\/code\x3e 置入 \x3ccode\x3e\x26lt;a-scene\x26gt;\x3c\/code\x3e 中，将资源（例如图片、视频、模型及声音等）置入 \x3ccode\x3e\x26lt;a-assets\x26gt;\x3c\/code\x3e 中，并通过选择器（例如 #myTexture）将资源指向我们的实体。\x3c\/p\x3e\n\x3cp\x3e让我们将地面纹理移动到 \x3ccode\x3e\x26lt;a-assets\x26gt;\x3c\/code\x3e 中，使用 \x3ccode\x3e\x26lt;img\x26gt;\x3c\/code\x3e 元素来预加载它：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3ca-scene\x3e\n  \x3ca-assets\x3e\n    \x3cimg id=\x26quot;groundTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x26quot;\x3e\n  \x3c\/a-assets\x3e\n\n  \x3ca-cylinder id=\x26quot;ground\x26quot; src=\x26quot;#groundTexture\x26quot; radius=\x26quot;32\x26quot; height=\x26quot;0.1\x26quot;\x3e\x3c\/a-cylinder\x3e\n\x3c\/a-scene\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ground\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2232\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/mozvr\/pen\/LWbrBQ\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 CodePen 中打开\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mozvr\/pen\/LWbrBQ\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e添加背景\x3c\/h2\x3e\n\x3cp\x3e让我们使用 \x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/primitives\/a-sky.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3e\x26lt;a-sky\x26gt;\x3c\/code\x3e 元素\x3c\/a\x3e为 \x3ccode\x3e\x26lt;a-scene\x26gt;\x3c\/code\x3e 添加一个 360° 的背景。\x3ccode\x3e\x26lt;a-sky\x26gt;\x3c\/code\x3e 是一个在内部粘贴材质的巨大 3D 球体。就像普通图片一样，\x3ccode\x3e\x26lt;a-sky\x26gt;\x3c\/code\x3e 可以通过 \x3ccode\x3esrc\x3c\/code\x3e 属性接受图片地址。最终我们将可以使用一行 HTML 代码实现身临其境的 360° 图片。稍后你也可以在 \x3ca href=\x22https:\/\/www.flickr.com\/groups\/equirectangular\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFlickr 球面投影图片池（需翻墙）\x3c\/a\x3e中选择一些 360° 图片来做练习。\x3c\/p\x3e\n\x3cp\x3e我们可以添加普通的颜色背景（例如 \x3ccode\x3e\x26lt;a-sky color=\x22#333\x22\x26gt;\x26lt;\/a-sky\x26gt;\x3c\/code\x3e）或\x3ca href=\x22https:\/\/github.com\/zcanter\/aframe-gradient-sky\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e渐变\x3c\/a\x3e，不过这次让我们来添加一张背景纹理图片。该图片被部署在 \x3ccode\x3ehttps:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x3c\/code\x3e。我们所使用的图片是一张适用于半球体的图片，所以首先我们需要将刚刚的球体使用 \x3ccode\x3etheta-length=\x2290\x22\x3c\/code\x3e 水平截成半球体，另外我们将球的半径设置为 30 米以匹配地面。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3ca-scene\x3e\n  \x3ca-assets\x3e\n    \x3cimg id=\x26quot;groundTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x26quot;\x3e\n    \x3cimg id=\x26quot;skyTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x26quot;\x3e\n  \x3c\/a-assets\x3e\n  \n  \x3ca-cylinder id=\x26quot;ground\x26quot; src=\x26quot;#groundTexture\x26quot; radius=\x26quot;30\x26quot; height=\x26quot;0.1\x26quot;\x3e\x3c\/a-cylinder\x3e\n\n  \x3ca-sky id=\x26quot;background\x26quot; src=\x26quot;#skyTexture\x26quot; theta-length=\x26quot;90\x26quot; radius=\x26quot;30\x26quot;\x3e\x3c\/a-sky\x3e\n\x3c\/a-scene\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ground\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22background\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etheta-length\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2290\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/mozvr\/pen\/PpbaBL\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 CodePen 中打开\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mozvr\/pen\/PpbaBL\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e添加体素\x3c\/h2\x3e\n\x3cp\x3e在我们的 VR 应用中，体素（voxels）的写法类似 \x3ccode\x3e\x26lt;a-box\x26gt;\x3c\/code\x3e，但会添加一些自定义的 A-Frame 组件。不过让我们先大致了解实体-组件范式，来看看像 \x3ccode\x3e\x26lt;a-box\x26gt;\x3c\/code\x3e 这样的图元是怎样合成的。\x3c\/p\x3e\n\x3cp\x3e在这个部分，我们将会对若干 A-Frame 组件的实现做一些深入探讨。在实践中，我们经常会通过已由 A-Frame 社区开发人员编写好的 HTML 来使用组件，而不是从头构建它们。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e实体-组件范式\x3c\/h3\x3e\n\x3cp\x3e在 A-Frame 场景中的每一个对象都是 \x3ccode\x3e\x26lt;a-entity\x26gt;\x3c\/code\x3e，其本身什么也不能做，就像一个空 \x3ccode\x3e\x26lt;div\x26gt;\x3c\/code\x3e 一样。我们将组件（不要和 Web Components 或 React Components 混淆）插入实体来给予其外观、行为和逻辑。\x3c\/p\x3e\n\x3cp\x3e对于一个盒子来说，我们会为其配置及添加 A-Frame 的基础\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/components\/geometry.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e几何组件\x3c\/a\x3e和\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/components\/material.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e材质组件\x3c\/a\x3e。组件使用 HTML 属性来表示，组件属性默认使用类似 CSS 样式的表示方法来表示。下面是一个 \x3ccode\x3e\x26lt;a-box\x26gt;\x3c\/code\x3e 的基础组件拆解写法，可以看到 \x3ccode\x3e\x26lt;a-box\x26gt;\x3c\/code\x3e 事实上包裹了若干组件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca-box color=\x26quot;red\x26quot; depth=\x26quot;0.5\x26quot; height=\x26quot;0.5\x26quot; shader=\x26quot;flat\x26quot; width=\x26quot;0.5\x26quot;\x3e\x3c\/a-box\x3e\n\n\x3ca-entity geometry=\x26quot;primitive: box; depth: 0.5; height: 0.5; width 0.5\x26quot;\n          material=\x26quot;color: red; shader: standard\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-box\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22red\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edepth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.5\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.5\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eshader\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22flat\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.5\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-box\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3egeometry\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22primitive: box; depth: 0.5; height: 0.5; width 0.5\x22\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3ematerial\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22color: red; shader: standard\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用组件的好处是它们的具有可组合性。我们可以通过混合和搭配一堆已有的组件来构造出各种各样的对象。\x3c\/p\x3e\n\x3cp\x3e在 3D 开发中，我们可能构建出的对象类型在数量和复杂性上是无限的，因此我们需要一个简便的、全新的、非传统继承式的对象定义方法。与 2D web 相比，我们不再拘泥于使用一小撮固定的 HTML 元素并将它们嵌套在很深的层次结构中。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e随机颜色组件\x3c\/h3\x3e\n\x3cp\x3eA-Frame 中的组件由 JavaScript 定义，它们可使用完整的 \x3ca href=\x22http:\/\/threejs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ethree.js\x3c\/a\x3e 和 DOM APIs，它们可以做任何事。所有的对象都由一捆组件来定义。\x3c\/p\x3e\n\x3cp\x3e现在将刚刚所描述的模式付诸实践，通过书写一个 A-Frame 组件，为我们的盒子设置随机颜色。组件通过 AFRAME.registerComponent 注册，我们可以定义 schema（组件的数据）以及生命周期方法（组件的逻辑）。对于随机颜色组件，我们并不需要设置 schema，因为它不能被配置。但我们会定义一个 \x3ccode\x3einit\x3c\/code\x3e 处理函数，该函数会在组件首次附加到它的实体时被调用。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22AFRAME.registerComponent(\x27random-color\x27, {\n  init: function () {\n    \/\/ ...\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eAFRAME.registerComponent(\x3cspan class=\x22hljs-string\x22\x3e\x27random-color\x27\x3c\/span\x3e, {\n  \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于随机颜色组件，我们的意图是为其附加的实体设置随机颜色。在组件的方法中，可以使用 \x3ccode\x3ethis.el\x3c\/code\x3e 访问实体的引用。\x3c\/p\x3e\n\x3cp\x3e为了使用 JavaScript 来改变颜色，我们使用 \x3ccode\x3e.setAttribute()\x3c\/code\x3e 来设置材质组件的颜色属性。A-Frame 只引入了少数 API，大多数 API 和原生 web 开发 API 保持一致。\x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/guides\/using-javascript-and-dom-apis.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e点此详细了解如何在 A-Frame 中使用 JavaScript 和 DOM API\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e我们还需要将 \x3ccode\x3ematerial\x3c\/code\x3e 组件添加到预先初始化组件列表中，以保证材质不会被 \x3ccode\x3ematerial\x3c\/code\x3e 组件覆盖掉。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22AFRAME.registerComponent(\x27random-color\x27, {\n  dependencies: [\x27material\x27],\n\n  init: function () {\n    \/\/ 将材质组件的颜色属性设置为随机颜色\n    this.el.setAttribute(\x27material\x27, \x27color\x27, getRandomColor());\n  }\n});\n\nfunction getRandomColor() {\n  const letters = \x270123456789ABCDEF\x27;\n  var color = \x27#\x27;\n  for (var i = 0; i \x3c 6; i\x2b\x2b ) {\n    color \x2b= letters[Math.floor(Math.random() * 16)];\n  }\n  return color;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eAFRAME.registerComponent(\x3cspan class=\x22hljs-string\x22\x3e\x27random-color\x27\x3c\/span\x3e, {\n  \x3cspan class=\x22hljs-attr\x22\x3edependencies\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27material\x27\x3c\/span\x3e],\n\n  \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将材质组件的颜色属性设置为随机颜色\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.el.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27material\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27color\x27\x3c\/span\x3e, getRandomColor());\n  }\n});\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetRandomColor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e letters = \x3cspan class=\x22hljs-string\x22\x3e\x270123456789ABCDEF\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e color = \x3cspan class=\x22hljs-string\x22\x3e\x27#\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e; i\x2b\x2b ) {\n    color \x2b= letters[\x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(\x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.random() * \x3cspan class=\x22hljs-number\x22\x3e16\x3c\/span\x3e)];\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e color;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在组件被注册后，我们可以\x3cstrong\x3e直接使用 HTML\x3c\/strong\x3e 来链接该组件。A-Frame 框架中的所有代码都是对 HTML 的扩展，而且这些扩展可以用于其他对象和其他场景。很棒的是，开发者可以写一个向对象添加物理元素的组件，使用这个组件的人甚至不会察觉到 JavaScript 在他的场景中加入了这个物理元素！\x3c\/p\x3e\n\x3cp\x3e注意力回到刚刚的盒子实体，将 \x3ccode\x3erandom-color\x3c\/code\x3e 作为 HTML 属性插入到 \x3ccode\x3erandom-color\x3c\/code\x3e 组件中。我们将组件保存为一个 JS 文件，然后在场景代码之前引用它：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/random-color.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3ca-scene\x3e\n  \x3ca-assets\x3e\n    \x3cimg id=\x26quot;groundTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x26quot;\x3e\n    \x3cimg id=\x26quot;skyTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x26quot;\x3e\n  \x3c\/a-assets\x3e\n  \n  \x3ca-sky id=\x26quot;background\x26quot; src=\x26quot;#skyTexture\x26quot; theta-length=\x26quot;90\x26quot; radius=\x26quot;30\x26quot;\x3e\x3c\/a-sky\x3e\n\n  \x3ca-cylinder id=\x26quot;ground\x26quot; src=\x26quot;#groundTexture\x26quot; radius=\x26quot;30\x26quot; height=\x26quot;0.1\x26quot;\x3e\x3c\/a-cylinder\x3e\n  \n  \x3c!-- 随机颜色的盒子 --\x3e\n  \x3ca-entity geometry=\x26quot;primitive: box; depth: 0.5; height: 0.5; width 0.5\x26quot;\n            material=\x26quot;shader: standard\x26quot;\n            position=\x26quot;0 0.5 -2\x26quot;\n            random-color\x3e\x3c\/a-entity\x3e\n\x3c\/a-scene\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/random-color.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22background\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etheta-length\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2290\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ground\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \n  \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 随机颜色的盒子 --\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3egeometry\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22primitive: box; depth: 0.5; height: 0.5; width 0.5\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attr\x22\x3ematerial\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22shader: standard\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 0.5 -2\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attr\x22\x3erandom-color\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/mozvr\/pen\/ryWKqy\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 CodePen 中打开\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mozvr\/pen\/ryWKqy\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e组件可以插入到任何实体中，但并不需要像在传统继承模式中那样创建或扩展类。如果我们想在类似 \x3ccode\x3e\x26lt;a-shpere\x26gt;\x3c\/code\x3e 或 \x3ccode\x3e\x26lt;a-obj-model\x26gt;\x3c\/code\x3e 中附加组件，直接加就是了！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- 在其他实体上重用并附加随机颜色组件 --\x3e\n\x3ca-sphere random-color\x3e\x3c\/a-sphere\x3e\n\x3ca-obj-model src=\x26quot;model.obj\x26quot; random-color\x3e\x3c\/a-obj-model\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 在其他实体上重用并附加随机颜色组件 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-sphere\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erandom-color\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-sphere\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-obj-model\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22model.obj\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erandom-color\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-obj-model\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果我们想要将这个组件分享给他人使用，也没问题。我们可以在 \x3ca href=\x22https:\/\/aframe.io\/registry\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eA-Frame 仓库\x3c\/a\x3e中获取 A-Frame 生态系统中许多便利的组件，这类似 Unity 的 Asset Store。如果我们使用组件开发应用程序，那么就应当保证我们的代码在内部是模块化和可重用的！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e对齐组件\x3c\/h3\x3e\n\x3cp\x3e我们将使用 \x3ccode\x3esnap\x3c\/code\x3e 组件来将盒子对齐到网格以避免它们重叠。我们不会深入到该组件的实现原理，不过你可以看看 \x3ca href=\x22https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/snap.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esnap 组件的源代码\x3c\/a\x3e（20 行 JavaScript 代码）。\x3c\/p\x3e\n\x3cp\x3e将 snap 组件附加到盒子实体上，让盒子每半米对齐，同时使用 offset 来使盒子居中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca-entity\n   geometry=\x26quot;primitive: box; height: 0.5; width: 0.5; depth: 0.5\x26quot;\n   material=\x26quot;shader: standard\x26quot;\n   random-color\n   snap=\x26quot;offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\n   \x3cspan class=\x22hljs-attr\x22\x3egeometry\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22primitive: box; height: 0.5; width: 0.5; depth: 0.5\x22\x3c\/span\x3e\n   \x3cspan class=\x22hljs-attr\x22\x3ematerial\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22shader: standard\x22\x3c\/span\x3e\n   \x3cspan class=\x22hljs-attr\x22\x3erandom-color\x3c\/span\x3e\n   \x3cspan class=\x22hljs-attr\x22\x3esnap\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在，我们有了一个由一捆组件构成的盒子实体，该实体可以用来描述我们场景中的所有体素（砖块）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3eMixins\x3c\/h2\x3e\n\x3cp\x3e我们可以创建 \x3ca href=\x22https:\/\/aframe.io\/docs\/0.5.0\/core\/mixins.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emixin\x3c\/a\x3e 来定义可复用的组件集合。\x3c\/p\x3e\n\x3cp\x3e与使用 \x3ccode\x3e\x26lt;a-entity\x26gt;\x3c\/code\x3e 为场景添加一个对象不同，我们使用 \x3ccode\x3e\x26lt;a-mixin\x26gt;\x3c\/code\x3e 来创建可复用的体素，使用它们就像使用预设实体一样。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/random-color.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/snap.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3ca-scene\x3e\n  \x3ca-assets\x3e\n    \x3cimg id=\x26quot;groundTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x26quot;\x3e\n    \x3cimg id=\x26quot;skyTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x26quot;\x3e\n    \x3ca-mixin id=\x26quot;voxel\x26quot;\n       geometry=\x26quot;primitive: box; height: 0.5; width: 0.5; depth: 0.5\x26quot;\n       material=\x26quot;shader: standard\x26quot;\n       random-color\n       snap=\x26quot;offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5\x26quot;\x3e\x3c\/a-mixin\x3e\n  \x3c\/a-assets\x3e\n\n  \x3ca-sky id=\x26quot;background\x26quot; src=\x26quot;#skyTexture\x26quot; theta-length=\x26quot;90\x26quot; radius=\x26quot;30\x26quot;\x3e\x3c\/a-sky\x3e\n\n  \x3ca-cylinder id=\x26quot;ground\x26quot; src=\x26quot;#groundTexture\x26quot; radius=\x26quot;30\x26quot; height=\x26quot;0.1\x26quot;\x3e\x3c\/a-cylinder\x3e\n  \n  \x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;-1 0 -2\x26quot;\x3e\x3c\/a-entity\x3e\n  \x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;0 0 -2\x26quot;\x3e\x3c\/a-entity\x3e\n  \x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;0 1 -2\x26quot;\x3e\n    \x3ca-animation attribute=\x26quot;rotation\x26quot; to=\x26quot;0 360 0\x26quot; repeat=\x26quot;indefinite\x26quot;\x3e\x3c\/a-animation\x3e\n  \x3c\/a-entity\x3e\n  \x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;1 0 -2\x26quot;\x3e\x3c\/a-entity\x3e\n\x3c\/a-scene\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/random-color.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/snap.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-mixin\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e\n       \x3cspan class=\x22hljs-attr\x22\x3egeometry\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22primitive: box; height: 0.5; width: 0.5; depth: 0.5\x22\x3c\/span\x3e\n       \x3cspan class=\x22hljs-attr\x22\x3ematerial\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22shader: standard\x22\x3c\/span\x3e\n       \x3cspan class=\x22hljs-attr\x22\x3erandom-color\x3c\/span\x3e\n       \x3cspan class=\x22hljs-attr\x22\x3esnap\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-mixin\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22background\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etheta-length\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2290\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ground\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22-1 0 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 0 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 1 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-animation\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eattribute\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22rotation\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 360 0\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22indefinite\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-animation\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221 0 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/mozvr\/pen\/OpbEaY\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 CodePen 中打开\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mozvr\/pen\/OpbEaY\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e随后我们使用 mixin 添加了若干体素：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;-1 0 -2\x26quot;\x3e\x3c\/a-entity\x3e\n\x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;0 0 -2\x26quot;\x3e\x3c\/a-entity\x3e\n\x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;0 1 -2\x26quot;\x3e\n  \x3ca-animation attribute=\x26quot;rotation\x26quot; to=\x26quot;0 360 0\x26quot; repeat=\x26quot;indefinite\x26quot;\x3e\x3c\/a-animation\x3e\n\x3c\/a-entity\x3e\n\x3ca-entity mixin=\x26quot;voxel\x26quot; position=\x26quot;1 0 -2\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22-1 0 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 0 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 1 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-animation\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eattribute\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22rotation\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220 360 0\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erepeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22indefinite\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-animation\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emixin\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221 0 -2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来，我们将通过使用追踪控制器根据用户交互来动态创建体素。让我们开始向程序中添加一双手吧。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader10\x22\x3e添加手部控制器\x3c\/h1\x3e\n\x3cp\x3e添加 HTC Vive 或 Oculus Touch 追踪控制器非常简单：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- Vive --\x3e\n\x3ca-entity vive-controls=\x26quot;hand: left\x26quot;\x3e\x3c\/a-entity\x3e\n\x3ca-entity vive-controls=\x26quot;hand: right\x26quot;\x3e\x3c\/a-entity\x3e\n\n\x3c!-- Rift --\x3e\n\x3ca-entity oculus-touch-controls=\x26quot;hand: left\x26quot;\x3e\x3c\/a-entity\x3e\n\x3ca-entity oculus-touch-controls=\x26quot;hand: right\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- Vive --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3evive-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hand: left\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3evive-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hand: right\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- Rift --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eoculus-touch-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hand: left\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eoculus-touch-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22hand: right\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们将使用抽象的 \x3ccode\x3ehand-controls\x3c\/code\x3e 组件来同时兼容 Vive 和 Rift 的控制，它提供基本的手模型。左手负责移动位置，右手负责放置砖块。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca-entity id=\x26quot;teleHand\x26quot; hand-controls=\x26quot;left\x26quot;\x3e\x3c\/a-entity\x3e\n\x3ca-entity id=\x26quot;blockHand\x26quot; hand-controls=\x26quot;right\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22teleHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22blockHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e为左手添加瞬移功能\x3c\/h3\x3e\n\x3cp\x3e我们将为左手增加瞬移的能力，当按住左手控制器按钮时，从控制器显示一条弧线，松开手时，瞬移到弧线末端的位置。在此之前，我们已经自己写了一个实现随机颜色的 A-Frame 组件。\x3c\/p\x3e\n\x3cp\x3e但也可以使用社区中已有的开源组件，然后直接通过 HTML 使用它们！\x3c\/p\x3e\n\x3cp\x3e对于瞬移来说，有一个来自于 @fernandojsg 的\x3ca href=\x22https:\/\/github.com\/fernandojsg\/aframe-teleport-controls\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e瞬移控制组件\x3c\/a\x3e。遵循 README，我们使用 \x3ccode\x3e\x26lt;script\x26gt;\x3c\/code\x3e 标签引入 \x3ccode\x3eteleport-controls\x3c\/code\x3e 组件，并将其附加到控制器实体上。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/unpkg.com\/aframe-teleport-controls@0.2.x\/dist\/aframe-teleport-controls.min.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3c!-- ... --\x3e\n\n\x3ca-entity id=\x26quot;teleHand\x26quot; hand-controls=\x26quot;left\x26quot; teleport-controls\x3e\x3c\/a-entity\x3e\n\x3ca-entity id=\x26quot;blockHand\x26quot; hand-controls=\x26quot;right\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/unpkg.com\/aframe-teleport-controls@0.2.x\/dist\/aframe-teleport-controls.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- ... --\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22teleHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eteleport-controls\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22blockHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e随后我们来配置 \x3ccode\x3eteleport-controls\x3c\/code\x3e 组件，将瞬移的 \x3ccode\x3etype\x3c\/code\x3e 设置为弧线。默认来说，\x3ccode\x3eteleport-controls\x3c\/code\x3e 的瞬移只会发生在地面上，但我们也可以指定 \x3ccode\x3ecollisionEntities\x3c\/code\x3e 通过选择器来允许瞬移到砖块\x3cem\x3e和\x3c\/em\x3e地面上。这些属性是 \x3ccode\x3eteleport-controls\x3c\/code\x3e 组件创建的 API 的一部分。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca-entity id=\x26quot;teleHand\x26quot; hand-controls=\x26quot;left\x26quot; teleport-controls=\x26quot;type: parabolic; collisionEntities: [mixin=\x27voxel\x27], #ground\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22teleHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eteleport-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22type: parabolic; collisionEntities: [mixin=\x27voxel\x27], #ground\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就是这样！\x3cstrong\x3e只要一个 script 标签和一个 HTML 属性，我们就能瞬移了。\x3c\/strong\x3e在 \x3ca href=\x22https:\/\/aframe.io\/registry\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eA-Frame 仓库\x3c\/a\x3e中可以找到更多很酷的组件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e为右手添加体素生成器功能\x3c\/h3\x3e\n\x3cp\x3e在 2D 应用程序中，对象内置了处理点击的能力，而在 WebVR 中对象并没有这样的能力，需要我们自己来提供。幸运的是，A-Frame 拥有许多处理交互的组件。VR 中用于类似光标点击的场景方法是使用 raycaster，它射出一道激光并返回激光命中的物体。然后我们通过监听交互事件及查看 raycaster 来获得命中点信息。\x3c\/p\x3e\n\x3cp\x3eA-Frame 提供基于注视点的光标（注：就像 FPS 游戏的准心那样），可以利用此光标点击正在注视的物体，但也有可用的\x3ca href=\x22https:\/\/github.com\/bryik\/aframe-controller-cursor-component\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e控制器光标组件\x3c\/a\x3e来根据 VR 追踪控制器的位置发射激光，就像刚刚使用 \x3ccode\x3eteleport-controls\x3c\/code\x3e 组件那样，我们通过 script 标签将 \x3ccode\x3econtroller-cursor\x3c\/code\x3e 组件引入，然后附加到实体上。这次轮到右手了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/unpkg.com\/aframe-teleport-controls@0.2.x\/dist\/aframe-teleport-controls.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/unpkg.com\/aframe-controller-cursor-component@0.2.x\/dist\/aframe-controller-cursor-component.min.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3c!-- ... --\x3e\n\n\x3ca-entity id=\x26quot;teleHand\x26quot; hand-controls=\x26quot;left\x26quot; teleport-controls=\x26quot;type: parabolic; collisionEntities: [mixin=\x27voxel\x27], #ground\x26quot;\x3e\x3c\/a-entity\x3e\n\x3ca-entity id=\x26quot;blockHand\x26quot; hand-controls=\x26quot;right\x26quot; controller-cursor\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/unpkg.com\/aframe-teleport-controls@0.2.x\/dist\/aframe-teleport-controls.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/unpkg.com\/aframe-controller-cursor-component@0.2.x\/dist\/aframe-controller-cursor-component.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- ... --\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22teleHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eteleport-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22type: parabolic; collisionEntities: [mixin=\x27voxel\x27], #ground\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22blockHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtroller-cursor\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在当我们按下追踪控制器上的按钮时，\x3ccode\x3econtroller-cursor\x3c\/code\x3e 组件将同时触发控制器和交互实体的 \x3ccode\x3eclick\x3c\/code\x3e 事件。A-Frame 也提供了诸如 \x3ccode\x3emouseenter\x3c\/code\x3e 及 \x3ccode\x3emouseleave\x3c\/code\x3e 这样的事件。事件包含了用户交互的详细信息。\x3c\/p\x3e\n\x3cp\x3e这赋予了我们点击的能力，但我们还得写一些响应点击事件处理生成砖块的逻辑。可以使用事件监听器及 \x3ccode\x3edocument.createElement\x3c\/code\x3e 来完成：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22document.querySelector(\x27#blockHand\x27).addEventListener(`click`, function (evt) {\n  \/\/ 创建一个砖块实体\n  var newVoxelEl = document.createElement(\x27a-entity\x27);\n\n  \/\/ 使用 mixin 来将其变为体素\n  newVoxelEl.setAttribute(\x27mixin\x27, \x27voxel\x27);\n\n  \/\/ 使用命中点的数据来设置砖块位置。\n  \/\/ 上文所述的 `snap` 组件是 mixin 的一部分，它将会把砖块对齐到最近的半米\n  newVoxelEl.setAttribute(\x27position\x27, evt.detail.intersection.point);\n\n  \/\/ 使用 `appendChild` 添加到场景中\n  this.appendChild(newVoxelEl);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27#blockHand\x27\x3c\/span\x3e).addEventListener(\x3cspan class=\x22hljs-string\x22\x3e`click`\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eevt\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建一个砖块实体\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e newVoxelEl = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x27a-entity\x27\x3c\/span\x3e);\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 mixin 来将其变为体素\x3c\/span\x3e\n  newVoxelEl.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27mixin\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27voxel\x27\x3c\/span\x3e);\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用命中点的数据来设置砖块位置。\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 上文所述的 `snap` 组件是 mixin 的一部分，它将会把砖块对齐到最近的半米\x3c\/span\x3e\n  newVoxelEl.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27position\x27\x3c\/span\x3e, evt.detail.intersection.point);\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 `appendChild` 添加到场景中\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.appendChild(newVoxelEl);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了概括性地处理在命中点创建实体这样的需求，我们创建了 \x3ccode\x3eintersection-spawn\x3c\/code\x3e 组件，该组件接受任何事件和属性列表的配置。我们不会详细讨论其实现，但你可以\x3ca href=\x22https:\/\/github.com\/ngokevin\/kframe\/blob\/csstricks\/scenes\/aincraft\/components\/intersection-spawn.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 GitHub 上查看这个简单的 \x3cstrong\x3eintersection-spawn\x3c\/strong\x3e 组件的源码\x3c\/a\x3e。我们将 \x3ccode\x3eintersection-spawn\x3c\/code\x3e 的能力附加到右手上：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca-entity id=\x26quot;blockHand\x26quot; hand-controls=\x26quot;right\x26quot; controller-cursor intersection-spawn=\x26quot;event: click; mixin: voxel\x26quot;\x3e\x3c\/a-entity\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22blockHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtroller-cursor\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eintersection-spawn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22event: click; mixin: voxel\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在当我们点击时，就可以生成体素了！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e添加移动设备和桌面设备支持\x3c\/h3\x3e\n\x3cp\x3e我们通过组合组件了解到了如何构建一个自定义类型的对象（例如，一个具有点击功能和点击时生成砖块的手部控制器）。组件的好处之一是它们可以在不同的上下文中被重用。我们将 \x3ccode\x3eintersection-spawn\x3c\/code\x3e 组件和基于注视点的 \x3ccode\x3ecursor\x3c\/code\x3e 组件结合起来，便可以在一点都不改变组件的情况下，实现在移动设备和桌面设备中生成砖块的功能了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca-entity id=\x26quot;blockHand\x26quot; hand-controls=\x26quot;right\x26quot; controller-cursor intersection-spawn=\x26quot;event: click; mixin: voxel\x26quot;\x3e\x3c\/a-entity\x3e\n\n\x3ca-camera\x3e\n  \x3ca-cursor intersection-spawn=\x26quot;event: click; mixin: voxel\x26quot;\x3e\x3c\/a-cursor\x3e\n\x3c\/a-camera\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22blockHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtroller-cursor\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eintersection-spawn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22event: click; mixin: voxel\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-camera\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cursor\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eintersection-spawn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22event: click; mixin: voxel\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cursor\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-camera\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e试试看\x3c\/h2\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/ngokevin\/kframe\/tree\/csstricks\/scenes\/aincraft\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 GitHub 上查看源码\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e我们的 VR 体素构建器最终使用 11 个 HTML 元素实现。我们可以在桌面或移动设备上预览它。在桌面设备上，我们可以通过拖动和点击来生成砖块；在移动设备上，我们可以平移设备和点击屏幕来生成砖块。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/unpkg.com\/aframe-teleport-controls@0.2.x\/dist\/aframe-teleport-controls.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/unpkg.com\/aframe-controller-cursor-component@0.2.x\/dist\/aframe-controller-cursor-component.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/random-color.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/snap.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/intersection-spawn.js\x26quot;\x3e\x3c\/script\x3e\n\n\x3cbody\x3e\n  \x3ca-scene\x3e\n    \x3ca-assets\x3e\n      \x3cimg id=\x26quot;groundTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x26quot;\x3e\n      \x3cimg id=\x26quot;skyTexture\x26quot; src=\x26quot;https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x26quot;\x3e\n      \x3ca-mixin id=\x26quot;voxel\x26quot;\n         geometry=\x26quot;primitive: box; height: 0.5; width: 0.5; depth: 0.5\x26quot;\n         material=\x26quot;shader: standard\x26quot;\n         random-color\n         snap=\x26quot;offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5\x26quot;\n      \x3e\x3c\/a-mixin\x3e\n    \x3c\/a-assets\x3e\n\n    \x3ca-cylinder id=\x26quot;ground\x26quot; src=\x26quot;#groundTexture\x26quot; radius=\x26quot;30\x26quot; height=\x26quot;0.1\x26quot;\x3e\x3c\/a-cylinder\x3e\n\n    \x3ca-sky id=\x26quot;background\x26quot; src=\x26quot;#skyTexture\x26quot; theta-length=\x26quot;90\x26quot; radius=\x26quot;30\x26quot;\x3e\x3c\/a-sky\x3e\n\n    \x3c!-- Hands. --\x3e\n    \x3ca-entity id=\x26quot;teleHand\x26quot; hand-controls=\x26quot;left\x26quot; teleport-controls=\x26quot;type: parabolic; collisionEntities: [mixin=\x27voxel\x27], #ground\x26quot;\x3e\x3c\/a-entity\x3e\n    \x3ca-entity id=\x26quot;blockHand\x26quot; hand-controls=\x26quot;right\x26quot; controller-cursor intersection-spawn=\x26quot;event: click; mixin: voxel\x26quot;\x3e\x3c\/a-entity\x3e\n\n    \x3c!-- Camera. --\x3e\n    \x3ca-camera\x3e\n      \x3ca-cursor intersection-spawn=\x26quot;event: click; mixin: voxel\x26quot;\x3e\x3c\/a-cursor\x3e\n    \x3c\/a-camera\x3e\n  \x3c\/a-scene\x3e\n\x3c\/body\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/aframe.io\/releases\/0.5.0\/aframe.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/unpkg.com\/aframe-teleport-controls@0.2.x\/dist\/aframe-teleport-controls.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/unpkg.com\/aframe-controller-cursor-component@0.2.x\/dist\/aframe-controller-cursor-component.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/random-color.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/snap.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/rawgit.com\/ngokevin\/kframe\/csstricks\/scenes\/aincraft\/components\/intersection-spawn.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/floor.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/cdn.aframe.io\/a-painter\/images\/sky.jpg\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-mixin\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22voxel\x22\x3c\/span\x3e\n         \x3cspan class=\x22hljs-attr\x22\x3egeometry\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22primitive: box; height: 0.5; width: 0.5; depth: 0.5\x22\x3c\/span\x3e\n         \x3cspan class=\x22hljs-attr\x22\x3ematerial\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22shader: standard\x22\x3c\/span\x3e\n         \x3cspan class=\x22hljs-attr\x22\x3erandom-color\x3c\/span\x3e\n         \x3cspan class=\x22hljs-attr\x22\x3esnap\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5\x22\x3c\/span\x3e\n      \x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-mixin\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-assets\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ground\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#groundTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cylinder\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22background\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#skyTexture\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etheta-length\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2290\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2230\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-sky\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- Hands. --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22teleHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eteleport-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22type: parabolic; collisionEntities: [mixin=\x27voxel\x27], #ground\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22blockHand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehand-controls\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtroller-cursor\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eintersection-spawn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22event: click; mixin: voxel\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-entity\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- Camera. --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-camera\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea-cursor\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eintersection-spawn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22event: click; mixin: voxel\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-cursor\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-camera\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea-scene\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/mozvr\/pen\/OpbwMJ\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在 CodePen 中打开\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mozvr\/pen\/OpbwMJ\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e如果你有 VR 头盔（例如 HTC Vive、Oculus Rift \x2b Touch），那么可以找一个\x3ca href=\x22https:\/\/webvr.rocks\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e支持 WebVR 的浏览器\x3c\/a\x3e并打开示例。\x3c\/p\x3e\n\x3cp\x3e如果你想使用桌面或移动设备观看 VR 是什么样的，\x3ca href=\x22https:\/\/ngokevin.github.io\/kframe\/scenes\/aincraft\/?avatar-recording=recording.json\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e可以查看录制好的 VR 动作捕捉和手势演示\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010887896\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010887896\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011081563\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011081563\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3eiKcamp原创新书《移动Web前端高效开发实战》已在亚马逊、京东、当当开售。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/m.bosszhipin.com\/weijd\/v2\/job\/7bbfc95b9f1e9c4a1nRy2926FVA~?date8=20170905\x26amp;sid=self_jd\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e沪江Web前端上海团队招聘【Web前端架构师】，有意者简历至：zhouyao@hujiang.com\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>翻译 | 使用A-Frame打造WebVR版《我的世界》</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011081553">https://segmentfault.com/a/1190000011081553</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/oi1m4iblxj/" target="_blank">https://alili.tech/archive/oi1m4iblxj/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>