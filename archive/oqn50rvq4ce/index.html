<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="【Node.js 微信公众号实战】1.Node.js 接入微信公众平台开发"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>【Node.js 微信公众号实战】1.Node.js 接入微信公众平台开发 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/oqn50rvq4ce/",
				"appid": "1613049289050283", 
				"title": "【Node.js 微信公众号实战】1.Node.js 接入微信公众平台开发 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-30T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/mjvceau912g/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xj9uv2b0lv/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&text=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&text=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&title=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&is_video=false&description=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&title=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&title=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&title=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2foqn50rvq4ce%2f&title=%e3%80%90Node.js%20%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%8f%b7%e5%ae%9e%e6%88%98%e3%80%911.Node.js%20%e6%8e%a5%e5%85%a5%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e5%bc%80%e5%8f%91"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">【Node.js 微信公众号实战】1.Node.js 接入微信公众平台开发</h1><div class="meta"><div class="postdate"><time datetime="2018-12-30" itemprop="datePublished">2018-12-30</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e一、写在前面的话\x3c\/h2\x3e\n\x3cblockquote\x3e  Node.js是一个开放源代码、跨平台的JavaScript语言运行环境，采用Google开发的V8运行代码,使用事件驱动、非阻塞和异步输入输出模型等技术来提高性能，可优化应用程序的传输量和规模。这些技术通常用于数据密集的事实应用程序。——\x3ca href=\x22https:\/\/zh.wikipedia.org\/wiki\/Node.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e来自维基百科\x3c\/a\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e  最近花了差不多近一个月的时间去学习Node.js，由于它的代码语言是 Javascript ，因此对于语法上就没有过多的去研究，毕竟做过Web开发的程序员，很少有不会Javascript的。而写这篇文章，也只是为了\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016526993?w=240\x26amp;h=240\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016526993?w=240\x26amp;h=240\x22 alt=\x22记录装逼的过程\x22 title=\x22记录装逼的过程\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如有不正确的地方，希望大家指正。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e二、准备工作\x3c\/h2\x3e\n\x3cp\x3e  在正式开始码代码之前，我们需要准备以下东西：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e搭建 Node 环境。Node的安装过程太过简单，网上也有太多的教程，大家可以自行百度；\x3c\/li\x3e\n\x3cli\x3e申请微信公众号，同样这里也不做介绍，大家自行百度。\x3c\/li\x3e\n\x3cli\x3e服务器和域名。\x3c\/li\x3e\n\x3cli\x3e打开 Node.js中文网文档\x3c\/li\x3e\n\x3cli\x3e打开 微信开发者文档\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e三、接入微信公众平台\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e1.创建Node.js 项目\x3c\/h3\x3e\n\x3cp\x3e  首先我们在电脑的任意磁盘上创建文件夹，命名随意，我这命名为 wechat;\x3cbr\x3e  随后在文件夹中创建两个文件,一个是config.json，另一个为app.js。如下图所示：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016526994?w=1167\x26amp;h=624\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016526994?w=1167\x26amp;h=624\x22 alt=\x22Node.js项目\x22 title=\x22Node.js项目\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3ePS:这里我的 IDE 是 VSCode，各位可随意使用自己喜欢的 IDE。\x3c\/p\x3e\n\x3cp\x3e  为了后续功能的扩展，我加入了Express框架，具体操作如下：\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e电脑打开运行界面，快捷键为：win\x2bR，输入cmd后回车，进入dos界面，输入命令\x3c\/li\x3e\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 npm install -g express\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e npm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e -g express\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e进行全局安装；由于 Express 自 4.x 版本中将命令工具分离出来，因此还需要输入下一个命令\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install -g express-generator@4\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autoit\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm install -g express-generator\x3cspan class=\x22hljs-symbol\x22\x3e@4\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装成功后，在dos界面中输入以下 命令\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22express -h\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3eexpress -h\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e结果如下图所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016526995?w=677\x26amp;h=442\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016526995?w=677\x26amp;h=442\x22 alt=\x22express 安装成功\x22 title=\x22express 安装成功\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016526996\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016526996\x22 alt=\x22震惊\x22 title=\x22震惊\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e什么？你的运行结果提示：express不是内部或外部命令。那你必须要检查一下安装 node.js 的时候有没有添加环境变量。点击\x3ca href=\x22http:\/\/jingyan.baidu.com\/article\/1876c8529c79e2890b1376dd.html?st=2\x26amp;net_type=\x26amp;bd_page_type=1\x26amp;os=0\x26amp;rst=\x26amp;word=WWWDHZJS.ORG\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e解决express不是内部或外部命令问题\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e2.微信文档步骤\x3c\/h3\x3e\n\x3cp\x3e  如果在没有考虑清楚之前，就开始码代码的话，这样做是非常危险的。我们先打开微信文档，点击 开始开发 中的 接入指南，如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016526997?w=1103\x26amp;h=537\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016526997?w=1103\x26amp;h=537\x22 alt=\x22接入指南\x22 title=\x22接入指南\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e跳过第一步，直接看第二步，如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016526998\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016526998\x22 alt=\x22验证消息来自微信服务器\x22 title=\x22验证消息来自微信服务器\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e正如帮助文档所说的那样，我们总结以四个步骤：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e获取微信服务器Get请求的参数 signature、timestamp、nonce、echostr\x3c\/li\x3e\n\x3cli\x3e将token、timestamp、nonce三个参数进行字典序排序\x3c\/li\x3e\n\x3cli\x3e将三个参数字符串拼接成一个字符串进行sha1加密\x3c\/li\x3e\n\x3cli\x3e开发者获得加密后的字符串可与signature对比，标识该请求来源于微信\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e3.接入功能的实现\x3c\/h3\x3e\n\x3cp\x3e   整理好思路后我们就按照上一节的步骤去实现。首先我们在打开 config.json 文件,输入以下内容：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;token\x26quot;:\x26quot;wechat\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22token\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22wechat\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e   config.json 文件是我们程序的配置文件，在后面的文章中，我们会将程序名称、微信定义的参数名称、请求地址等配置内容存放在该文件中。\x3cbr\x3e   打开 app.js 文件，该文件属于我们程序的入口，在文件启动及以后路由配置都是再次实现的，首先我们导入重要的模块：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const express = require(\x27express\x27), \/\/express 框架 \n       crypto = require(\x27crypto\x27),  \/\/引入加密模块\n       config = require(\x27.\/config\x27);\/\/引入配置文件\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e express = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27express\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-comment\x22\x3e\/\/express 框架 \x3c\/span\x3e\n       crypto = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27crypto\x27\x3c\/span\x3e),  \x3cspan class=\x22hljs-comment\x22\x3e\/\/引入加密模块\x3c\/span\x3e\n       config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/config\x27\x3c\/span\x3e);\x3cspan class=\x22hljs-comment\x22\x3e\/\/引入配置文件\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的代码不难理解，require  就是导入模块的意思。这里主要针对我们自定义的config.json文件讲解一下：\x3cbr\x3e \x22.\/\x22 表示与 app.js 在同一及目录下，为什么要这么写呢？原因很简单就是在我们通过 npm 命令安装模块时，如果我们指定了全局安装，也就是 -g，安装后的文件则会保存在我们 node.js 安装路径下的 node_modules 文件夹中；同理，我们不指定全局安装，安装后的文件则会保存在我们安装命令输入时所在的文件夹根目录下的  node_modules  文件夹中，此时如果没有该文件，系统会自动创建。\x3c\/p\x3e\n\x3cp\x3e 这里我们都是使用  require 去导入模块的，node.js 怎么分辨系统模块和我们自定义的模块呢，聪明的你一定想到了，没错就是 \x22.\/\x22 这个，如果你不想用它的话，你也可以把自定义的模块文件移到  node_modules 文件夹中。\x3c\/p\x3e\n\x3cp\x3e  require 是通过模块名称去导入模块文件的，因此在引入的时候不需要写入文件的后缀名。如果两个文件重名，但后缀名不同， require  会按照 Node.js 的加载优先级顺序进行导入，即 js文件 \x26gt; json文件 \x26gt; node文件。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016526999\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016526999\x22 alt=\x22原来如此\x22 title=\x22原来如此\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e 实际上就是这么简单，我们也就不再纠结这个问题，继续下面的工作。\x3c\/p\x3e\n\x3cp\x3e   实例 express 以及 创建服务器\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/实例 express\nvar app = express();\n\/\/用于处理所有进入 3000 端口 get 的连接请求\napp.get(\x27\/\x27,function(req,res){\n    \/\/对请求连接返回内容\n    res.send(\x26quot;Hello Node.js\x26quot;);\n});\n\/\/监听3000端口\napp.listen(3000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/实例 express\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = express();\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/用于处理所有进入 3000 端口 get 的连接请求\x3c\/span\x3e\napp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq,res\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/对请求连接返回内容\x3c\/span\x3e\n    res.send(\x3cspan class=\x22hljs-string\x22\x3e\x22Hello Node.js\x22\x3c\/span\x3e);\n});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/监听3000端口\x3c\/span\x3e\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e  上面的代码通过注释，我们就能明白其意思，这里我就不再做细致的讲解。再次进入 dos 界面，通过命令进入我们项目的文件的根目录下，如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527000?w=677\x26amp;h=442\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527000?w=677\x26amp;h=442\x22 alt=\x22进入项目根目录下\x22 title=\x22进入项目根目录下\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e输入命令，启动我们的Node.js项目\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22node app.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eapp\x3c\/span\x3e.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e启动成功后，我们打开浏览器输入地址：\x3ca href=\x22http:\/\/localhost\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost\x3c\/a\x3e:3000 访问我们的node.js项目，如图\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527001?w=677\x26amp;h=442\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527001?w=677\x26amp;h=442\x22 alt=\x22启动node.js项目\x22 title=\x22启动node.js项目\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527002?w=734\x26amp;h=533\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527002?w=734\x26amp;h=533\x22 alt=\x22范文结果\x22 title=\x22范文结果\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e小技巧 ：\x3cbr\x3e  在每次更改完 node.js 项目后，我们都需要先将 node.js停止（快捷键: Ctrl\x2bC），然后再通过命令再次运行，这样特别麻烦。这里我推荐使用 supervisor  工具，npm 安装命令为：npm install -g supervisor。这样我们启动 node.js 项目命令改为 supervisor app.js，更改项目后只需要保存，刷新浏览器页面就可以得到更改后的结果了。\x3c\/blockquote\x3e\n\x3cp\x3e  完成上面的工作后，我们就可以正式开始写接入微信公众平台的主要代码，废话不多说直接贴代码\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527003?w=248\x26amp;h=220\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527003?w=248\x26amp;h=220\x22 alt=\x22后退！我要开始装逼了\x22 title=\x22后退！我要开始装逼了\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const express = require(\x27express\x27), \/\/express 框架 \n       crypto =  require(\x27crypto\x27), \/\/引入加密模块\n       config = require(\x27.\/config\x27);\/\/引入配置文件\n\nvar app = express();\/\/实例express框架\n\n\/\/用于处理所有进入 3000 端口 get 的连接请求\napp.get(\x27\/\x27,function(req,res){\n    \/\/1.获取微信服务器Get请求的参数 signature、timestamp、nonce、echostr\n    var signature = req.query.signature,\/\/微信加密签名\n        timestamp = req.query.timestamp,\/\/时间戳\n            nonce = req.query.nonce,\/\/随机数\n          echostr = req.query.echostr;\/\/随机字符串\n\n    \/\/2.将token、timestamp、nonce三个参数进行字典序排序\n    var array = [config.token,timestamp,nonce];\n    array.sort();\n\n    \/\/3.将三个参数字符串拼接成一个字符串进行sha1加密\n    var tempStr = array.join(\x27\x27);\n    const hashCode = crypto.createHash(\x27sha1\x27); \/\/创建加密类型 \n    var resultCode = hashCode.update(tempStr,\x27utf8\x27).digest(\x27hex\x27); \/\/对传入的字符串进行加密\n\n    \/\/4.开发者获得加密后的字符串可与signature对比，标识该请求来源于微信\n    if(resultCode === signature){\n        res.send(echostr);\n    }else{\n        res.send(\x27mismatch\x27);\n    }\n});\n\n\/\/监听3000端口\napp.listen(3000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e express = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27express\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-comment\x22\x3e\/\/express 框架 \x3c\/span\x3e\n       crypto =  \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27crypto\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-comment\x22\x3e\/\/引入加密模块\x3c\/span\x3e\n       config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/config\x27\x3c\/span\x3e);\x3cspan class=\x22hljs-comment\x22\x3e\/\/引入配置文件\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = express();\x3cspan class=\x22hljs-comment\x22\x3e\/\/实例express框架\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/用于处理所有进入 3000 端口 get 的连接请求\x3c\/span\x3e\napp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq,res\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/1.获取微信服务器Get请求的参数 signature、timestamp、nonce、echostr\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e signature = req.query.signature,\x3cspan class=\x22hljs-comment\x22\x3e\/\/微信加密签名\x3c\/span\x3e\n        timestamp = req.query.timestamp,\x3cspan class=\x22hljs-comment\x22\x3e\/\/时间戳\x3c\/span\x3e\n            nonce = req.query.nonce,\x3cspan class=\x22hljs-comment\x22\x3e\/\/随机数\x3c\/span\x3e\n          echostr = req.query.echostr;\x3cspan class=\x22hljs-comment\x22\x3e\/\/随机字符串\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/2.将token、timestamp、nonce三个参数进行字典序排序\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e array = [config.token,timestamp,nonce];\n    array.sort();\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/3.将三个参数字符串拼接成一个字符串进行sha1加密\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e tempStr = array.join(\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e hashCode = crypto.createHash(\x3cspan class=\x22hljs-string\x22\x3e\x27sha1\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/创建加密类型 \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e resultCode = hashCode.update(tempStr,\x3cspan class=\x22hljs-string\x22\x3e\x27utf8\x27\x3c\/span\x3e).digest(\x3cspan class=\x22hljs-string\x22\x3e\x27hex\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/对传入的字符串进行加密\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/4.开发者获得加密后的字符串可与signature对比，标识该请求来源于微信\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(resultCode === signature){\n        res.send(echostr);\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n        res.send(\x3cspan class=\x22hljs-string\x22\x3e\x27mismatch\x27\x3c\/span\x3e);\n    }\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/监听3000端口\x3c\/span\x3e\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e4.部署项目\x3c\/h3\x3e\n\x3cp\x3e   完成了代码后我们就可以把项目发布到外网上了，这里我用的是花生壳内网映射外网的软件，各位可以随意使用其他工具。\x3cbr\x3e1.打开花生壳的软件，点击内网穿透:\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527004\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527004\x22 alt=\x22花生壳\x22 title=\x22花生壳\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e2.点击添加映射\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527005\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527005\x22 alt=\x22点击添加映射\x22 title=\x22点击添加映射\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e3.配置映射\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527006?w=839\x26amp;h=460\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527006?w=839\x26amp;h=460\x22 alt=\x22这里写图片描述\x22 title=\x22这里写图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e  由于微信只接受80端口，我们在映射类型选择为 网站80端口；内网主机就是我们电脑的 IP 地址；内网端口号就是node.js的监听端口；点击确定后，就成功映射到外网了，可以通过花生壳提供的域名进行访问。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e5.接入验证\x3c\/h3\x3e\n\x3cp\x3e  再次进入 \x3ca href=\x22https:\/\/mp.weixin.qq.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e微信公众平台\x3c\/a\x3e\x3cbr\x3e在左侧菜单点击基本配置，如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527007?w=732\x26amp;h=411\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527007?w=732\x26amp;h=411\x22 alt=\x22基本配置\x22 title=\x22基本配置\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527008\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527008\x22 alt=\x22修改服务器配置\x22 title=\x22修改服务器配置\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e点击修改配置。其中服务器地址，就是我们外网映射的地址；令牌（Token）就是我们在 config.json 文件中 定义的 token 值；消息加密可以点击随机生成按钮，当然你也可以随便定义；消息加解密方式这块可以随便选择，这里我就使用默认的，如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527009\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527009\x22 alt=\x22微信服务器配置\x22 title=\x22微信服务器配置\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527010?w=928\x26amp;h=703\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527010?w=928\x26amp;h=703\x22 alt=\x22微信公众平台接入\x22 title=\x22微信公众平台接入\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e  点击提交按钮，提示 提交成功，那么我就要祝贺你了\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016527011?w=300\x26amp;h=300\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016527011?w=300\x26amp;h=300\x22 alt=\x22哎呦不错哦\x22 title=\x22哎呦不错哦\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e  你已经成功的步入了Node.js开发微信的开发的第一步。\x3c\/p\x3e\n\x3cp\x3e   文章源代码：\x3ca href=\x22https:\/\/github.com\/SilenceHVK\/wechatByNode\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/SilenceHVK...\x3c\/a\x3e 。对文章有不正确之处，请给予纠正。github源代码请顺手给个 Star，最后感谢您的阅读。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>【Node.js 微信公众号实战】1.Node.js 接入微信公众平台开发</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011393747">https://segmentfault.com/a/1190000011393747</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/oqn50rvq4ce/" target="_blank">https://alili.tech/archive/oqn50rvq4ce/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>