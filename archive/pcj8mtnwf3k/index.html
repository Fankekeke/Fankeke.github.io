<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="CSS 中重要的层叠概念"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>CSS 中重要的层叠概念 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/pcj8mtnwf3k/",
				"appid": "1613049289050283", 
				"title": "CSS 中重要的层叠概念 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-03T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7s1vwegr3rg/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/tpjnptof6l8/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&text=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&text=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&title=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&is_video=false&description=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&title=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&title=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&title=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpcj8mtnwf3k%2f&title=CSS%20%e4%b8%ad%e9%87%8d%e8%a6%81%e7%9a%84%e5%b1%82%e5%8f%a0%e6%a6%82%e5%bf%b5"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">CSS 中重要的层叠概念</h1><div class="meta"><div class="postdate"><time datetime="2019-01-03" itemprop="datePublished">2019-01-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e最近在项目的过程中遇到了一个问题，menu-bar希望始终显示在最上面，而在之后的元素都显示在它之下，当时设置了 z-index 也没有效果，不知道什么原因，因此找了一下css有关层叠方面的资料，解决了这个问题，这里记录一下~\x3c\/p\x3e\n\x3cp\x3e屏幕是一个二维平面，然而HTML元素却是排列在三维坐标系中，x为水平位置，y为垂直位置，z为屏幕由内向外方向的位置，我们在看屏幕的时候是沿着z轴方向从外向内的；由此，元素在用户视角就形成了层叠的关系，某个元素可能覆盖了其他元素也可能被其他元素覆盖；\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016489081?w=809\x26amp;h=517\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016489081?w=809\x26amp;h=517\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e那么这里有几个重要的概念：\x3cstrong\x3e层叠上下文\x3c\/strong\x3e (堆叠上下文, Stacking Context)、\x3cstrong\x3e层叠等级\x3c\/strong\x3e (层叠水平, Stacking Level)、\x3cstrong\x3e层叠顺序\x3c\/strong\x3e (层叠次序, 堆叠顺序, Stacking Order)、\x3cstrong\x3ez-index\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e声明：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e以下定位元素指的是\x3ccode\x3eposition: absolute|fixed|relative|sticky\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e以下非定位元素指的是\x3ccode\x3eposition: initial|static\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e关于层叠上下文还有一个类似的概念：\x3cstrong\x3e块级格式化上下文\x3c\/strong\x3e(BFC, Block Formatting Context)，可以参考一下 \x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000013023485\x22\x3eCSS 中重要的BFC\x3c\/a\x3e，其中还介绍了一些文档流的内容；\x3c\/li\x3e\n\x3cli\x3e本文蛮长的，但是如果你有勇气看完，那应该对层叠有关概念就基本掌握了 (～o￣▽￣)～\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1. 层叠上下文 (Stacking Context)\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e层叠上下文\x3c\/strong\x3e (堆叠上下文, Stacking Context)，是HTML中一个三维的概念。在CSS2.1规范中，每个元素的位置是三维的，当元素发生层叠，这时它可能覆盖了其他元素或者被其他元素覆盖；排在z轴越靠上的位置，距离屏幕观察者越近\x3c\/p\x3e\n\x3cp\x3e文章\x3ca href=\x22https:\/\/webdesign.tutsplus.com\/zh-hans\/articles\/what-you-may-not-know-about-the-z-index-property--webdesign-16892\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x26lt;关于z-index 那些你不知道的事\x26gt;\x3c\/a\x3e有一个很好的比喻，这里引用一下；\x3c\/p\x3e\n\x3cp\x3e可以想象一张桌子，上面有一堆物品，这张桌子就代表着一个层叠上下文。 如果在第一张桌子旁还有第二张桌子，那第二张桌子就代表着另一个层叠上下文。\x3c\/p\x3e\n\x3cp\x3e现在想象在第一张桌子上有四个小方块，他们都直接放在桌子上。 在这四个小方块之上有一片玻璃，而在玻璃片上有一盘水果。 这些方块、玻璃片、水果盘，各自都代表着层叠上下文中一个不同的层叠层，而这个层叠上下文就是桌子。\x3c\/p\x3e\n\x3cp\x3e每一个网页都有一个默认的层叠上下文。 这个层叠上下文（桌子）的根源就是\x3ccode\x3e\x26lt;html\x26gt;\x26lt;\/html\x26gt;\x3c\/code\x3e。 html标签中的一切都被置于这个默认的层叠上下文的一个层叠层上（物品放在桌子上）。\x3c\/p\x3e\n\x3cp\x3e当你给一个定位元素赋予了除 \x3ccode\x3eauto\x3c\/code\x3e 外的 z-index 值时，你就创建了一个新的层叠上下文，其中有着独立于页面上其他层叠上下文和层叠层的层叠层， 这就相当于你把另一张桌子带到了房间里。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016489082?w=600\x26amp;h=296\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016489082?w=600\x26amp;h=296\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e层叠上下文1 (Stacking Context 1)是由文档根元素形成的， 层叠上下文2和3 (Stacking Context 2, 3) 都是层叠上下文1 (Stacking Context 1) 上的层叠层。 他们各自也都形成了新的层叠上下文，其中包含着新的层叠层。\x3c\/p\x3e\n\x3cp\x3e在层叠上下文中，其子元素按照上面解释的规则进行层叠。形成层叠上下文的\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/CSS\/CSS_Positioning\/Understanding_z_index\/The_stacking_context\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e方法\x3c\/a\x3e有：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e根元素\x3ccode\x3e\x26lt;html\x26gt;\x26lt;\/html\x26gt;\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eposition\x3c\/code\x3e值为\x3ccode\x3eabsolute | relative\x3c\/code\x3e，且\x3ccode\x3ez-index\x3c\/code\x3e值不为 \x3ccode\x3eauto\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eposition\x3c\/code\x3e 值为 \x3ccode\x3efixed | sticky\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ez-index\x3c\/code\x3e 值不为 \x3ccode\x3eauto\x3c\/code\x3e 的flex元素，即：父元素\x3ccode\x3edisplay: flex | inline-flex\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eopacity\x3c\/code\x3e 属性值小于 \x3ccode\x3e1\x3c\/code\x3e 的元素\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3etransform\x3c\/code\x3e 属性值不为 \x3ccode\x3enone\x3c\/code\x3e的元素\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3emix-blend-mode\x3c\/code\x3e 属性值不为 \x3ccode\x3enormal\x3c\/code\x3e 的元素\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3efilter\x3c\/code\x3e、\x3ccode\x3eperspective\x3c\/code\x3e、\x3ccode\x3eclip-path\x3c\/code\x3e、\x3ccode\x3emask\x3c\/code\x3e、\x3ccode\x3emask-image\x3c\/code\x3e、\x3ccode\x3emask-border\x3c\/code\x3e、\x3ccode\x3emotion-path\x3c\/code\x3e 值不为 \x3ccode\x3enone\x3c\/code\x3e 的元素\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eperspective\x3c\/code\x3e 值不为 \x3ccode\x3enone\x3c\/code\x3e 的元素\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eisolation\x3c\/code\x3e 属性被设置为 \x3ccode\x3eisolate\x3c\/code\x3e 的元素\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ewill-change\x3c\/code\x3e 中指定了任意 CSS 属性，即便你没有直接指定这些属性的值\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e-webkit-overflow-scrolling\x3c\/code\x3e 属性被设置 \x3ccode\x3etouch\x3c\/code\x3e的元素\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e总结:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e层叠上下文可以包含在其他层叠上下文中，并且一起组建了一个有层级的层叠上下文\x3c\/li\x3e\n\x3cli\x3e每个层叠上下文完全独立于它的兄弟元素，当处理层叠时只考虑子元素，这里类似于\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000013023485\x22\x3eBFC\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e每个层叠上下文是自包含的：当元素的内容发生层叠后，整个该元素将会\x3cstrong\x3e在父级叠上下文\x3c\/strong\x3e中按顺序进行层叠\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2. 层叠等级 (Stacking Level)\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e层叠等级\x3c\/strong\x3e (层叠水平, Stacking Level) 决定了同一个层叠上下文中元素在z轴上的显示顺序的\x3cstrong\x3e概念\x3c\/strong\x3e；\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e普通元素的层叠等级优先由其所在的层叠上下文决定\x3c\/li\x3e\n\x3cli\x3e层叠等级的比较只有在同一个层叠上下文元素中才有意义\x3c\/li\x3e\n\x3cli\x3e在同一个层叠上下文中，层叠等级描述定义的是该层叠上下文中的元素在Z轴上的上下顺序\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e注意，层叠等级并不一定由 z-index 决定，只有定位元素的层叠等级才由 z-index 决定，其他类型元素的层叠等级由层叠顺序、他们在HTML中出现的顺序、他们的父级以上元素的层叠等级一同决定，详细的规则见下面层叠顺序的介绍。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e3. z-index\x3c\/h2\x3e\n\x3cblockquote\x3e在 CSS 2.1 中, 所有的盒模型元素都处于三维坐标系中。 除了我们常用的横坐标和纵坐标， 盒模型元素还可以沿着\x22z 轴\x22层叠摆放， 当他们相互覆盖时， z 轴顺序就变得十分重要。\x3cp\x3e-- \x3ca href=\x22http:\/\/www.w3.org\/TR\/CSS21\/visuren.html#z-index\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCSS 2.1 Section 9.9.1 - Layered presentation\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3ez-index 只适用于定位的元素，对非定位元素无效，它可以被设置为正整数、负整数、0、auto，如果一个定位元素没有设置 z-index，那么默认为auto；\x3c\/p\x3e\n\x3cp\x3e元素的 z-index 值只在同一个层叠上下文中有意义。如果父级层叠上下文的层叠等级低于另一个层叠上下文的，那么它 z-index 设的再高也没用。所以如果你遇到 z-index 值设了很大，但是不起作用的话，就去看看它的父级层叠上下文是否被其他层叠上下文盖住了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e4. 层叠顺序 (Stacking Order)\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e层叠顺序\x3c\/strong\x3e (层叠次序, 堆叠顺序, Stacking Order) 描述的是元素在同一个层叠上下文中的顺序\x3cstrong\x3e规则\x3c\/strong\x3e，从层叠的底部开始，共有七种层叠顺序：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cstrong\x3e背景和边框\x3c\/strong\x3e：形成层叠上下文的元素的背景和边框。\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e负z-index值\x3c\/strong\x3e：层叠上下文内有着负z-index值的定位子元素，负的越大层叠等级越低；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e块级盒\x3c\/strong\x3e：文档流中块级、非定位子元素；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e浮动盒\x3c\/strong\x3e：非定位浮动元素；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e行内盒\x3c\/strong\x3e：文档流中行内、非定位子元素；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3ez-index: 0\x3c\/strong\x3e：z-index为0或auto的定位元素， 这些元素形成了新的层叠上下文；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e正z-index值\x3c\/strong\x3e：z-index 为正的定位元素，正的越大层叠等级越高；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e同一个层叠顺序的元素按照在HTML里出现的顺序层叠；第7级顺序的元素会显示在之前顺序元素的上方，也就是看起来覆盖了更低级的元素：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016489083?w=630\x26amp;h=406\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016489083?w=630\x26amp;h=406\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e5. 实战\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e5.1 普通情况\x3c\/h3\x3e\n\x3cp\x3e三个\x3ccode\x3erelative\x3c\/code\x3e定位的\x3ccode\x3ediv\x3c\/code\x3e块中各有\x3ccode\x3eabsolute\x3c\/code\x3e的不同颜色的\x3ccode\x3espan.red\x3c\/code\x3e、\x3ccode\x3espan.green\x3c\/code\x3e、\x3ccode\x3espan.blue\x3c\/code\x3e，它们都设置了\x3ccode\x3eposition: absolute\x3c\/code\x3e；\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/SHERlocked93\/pen\/aaPord\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e参见Codepen - 普通情况\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22SHERlocked93\/pen\/aaPord\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e那么当没有元素包含z-index属性时，这个例子中的元素按照如下顺序层叠（从底到顶顺序）：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e根元素的背景和边界\x3c\/li\x3e\n\x3cli\x3e块级非定位元素按HTML中的出现顺序层叠\x3c\/li\x3e\n\x3cli\x3e行内非定位元素按HTML中的出现顺序层叠\x3c\/li\x3e\n\x3cli\x3e定位元素按HTML中的出现顺序层叠\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e红绿蓝都属于 z-index 为auto的定位元素，因此按照7层层叠顺序规则来说同属于层叠顺序第6级，所以按HTML中的出现顺序层叠：\x3ccode\x3e红-\x26gt;绿-\x26gt;蓝\x3c\/code\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e5.2 在相同层叠上下文的父元素内的情况\x3c\/h3\x3e\n\x3cp\x3e红绿位于一个\x3ccode\x3ediv.first-box\x3c\/code\x3e下，蓝位于\x3ccode\x3ediv.second-box\x3c\/code\x3e下，红绿蓝都设置了\x3ccode\x3eposition: absolute\x3c\/code\x3e，\x3ccode\x3efirst-box\x3c\/code\x3e与\x3ccode\x3esecond-box\x3c\/code\x3e都设置了\x3ccode\x3eposition: relative\x3c\/code\x3e；\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/SHERlocked93\/pen\/RYENBw\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e参见Codepen - 父元素不同但都位于根元素下\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22SHERlocked93\/pen\/RYENBw\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e这个例子中，红蓝绿元素的父元素\x3ccode\x3efirst-box\x3c\/code\x3e与\x3ccode\x3esecond-box\x3c\/code\x3e都没有生成新的层叠上下文，都属于根层叠上下文中的元素，且都是层叠顺序第6级，所以按HTML中的出现顺序层叠：\x3ccode\x3e红-\x26gt;绿-\x26gt;蓝\x3c\/code\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e5.3 给子元素增加 z-index\x3c\/h3\x3e\n\x3cp\x3e红绿位于一个\x3ccode\x3ediv.first-box\x3c\/code\x3e下，蓝黄位于\x3ccode\x3ediv.second-box\x3c\/code\x3e下，红绿蓝都设置了\x3ccode\x3eposition: absolute\x3c\/code\x3e，如果这时给绿加一个属性\x3ccode\x3ez-index: 1\x3c\/code\x3e，那么此时\x3ccode\x3e.green\x3c\/code\x3e位于最上面；\x3c\/p\x3e\n\x3cp\x3e如果再在\x3ccode\x3e.second-box\x3c\/code\x3e下\x3ccode\x3e.green\x3c\/code\x3e后加一个绝对定位的 \x3ccode\x3espan.gold\x3c\/code\x3e，设置\x3ccode\x3ez-index: -1\x3c\/code\x3e，那么它将位于红绿蓝的下面；\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/SHERlocked93\/pen\/gdZOrK\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e参见Codepen - 设置了z-index\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22SHERlocked93\/pen\/gdZOrK\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e这个例子中，红蓝绿黄元素的父元素中都没有生成新的层叠上下文，都属于根层叠上下文中的元素\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e红蓝都没有设置 z-index，同属于层叠顺序中的第6级，按HTML中的出现顺序层叠；\x3c\/li\x3e\n\x3cli\x3e绿设置了正的 z-index，属于第7级；\x3c\/li\x3e\n\x3cli\x3e黄设置了负的 z-index，属于第2级；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e所以这个例子中的从底到高显示的顺序就是：\x3ccode\x3e黄-\x26gt;红-\x26gt;蓝-\x26gt;绿\x3c\/code\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e5.4 在不同层叠上下文的父元素内的情况\x3c\/h3\x3e\n\x3cp\x3e红绿位于一个\x3ccode\x3ediv.first-box\x3c\/code\x3e下，蓝位于\x3ccode\x3ediv.second-box\x3c\/code\x3e下，红绿蓝都设置了\x3ccode\x3eposition: absolute\x3c\/code\x3e，如果\x3ccode\x3efirst-box\x3c\/code\x3e的z-index设置的比\x3ccode\x3esecond-box\x3c\/code\x3e的大，那么此时无论蓝的 z-index 设置的多大\x3ccode\x3ez-index: 999\x3c\/code\x3e，蓝都位于红绿的下面；如果我们只更改红绿的z-index值，由于这两个元素都在父元素\x3ccode\x3efirst-box\x3c\/code\x3e产生的层叠上下文中，此时谁的z-index值大，谁在上面；\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/SHERlocked93\/pen\/gdZbOJ\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e参见Codepen - 不同层叠上下文的父元素\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22SHERlocked93\/pen\/gdZbOJ\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e这个例子中，红绿蓝都属于设置了z-index的定位元素，不过他们的父元素创建了新的层叠上下文；\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e红绿的父元素\x3ccode\x3efirst-box\x3c\/code\x3e是设置了正z-index的定位元素，因此创建了一个层叠上下文，属于层叠顺序中的第7级；\x3c\/li\x3e\n\x3cli\x3e蓝的父元素\x3ccode\x3esecond-box\x3c\/code\x3e也同样创建了一个层叠上下文，属于层叠顺序中的第6级；\x3c\/li\x3e\n\x3cli\x3e按照层叠顺序，\x3ccode\x3efirst-box\x3c\/code\x3e中所有元素都排在\x3ccode\x3esecond-box\x3c\/code\x3e上；\x3c\/li\x3e\n\x3cli\x3e红绿都属于层叠上下文\x3ccode\x3efirst-box\x3c\/code\x3e中且设置了不同的正 z-index，都属于层叠顺序中第7级；\x3c\/li\x3e\n\x3cli\x3e蓝属于层叠上下文\x3ccode\x3esecond-box\x3c\/code\x3e，且设置了一个很大的正 z-index，属于层叠元素中第7级；\x3c\/li\x3e\n\x3cli\x3e虽然蓝的 z-index 很大，但是因为\x3ccode\x3esecond-box\x3c\/code\x3e的层叠等级比\x3ccode\x3efirst-box\x3c\/code\x3e小，因此位于红绿之下；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e所以这个例子中从低到到显示的顺序：\x3ccode\x3e蓝-\x26gt;红-\x26gt;绿\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e(我遇到的的情况就属于这个例子类似情形)\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e5.5 给子元素设置 opacity\x3c\/h3\x3e\n\x3cp\x3e红绿位于\x3ccode\x3ediv.first-box\x3c\/code\x3e下，蓝位于\x3ccode\x3ediv.second-box\x3c\/code\x3e下，红绿蓝都设置了\x3ccode\x3eposition: absolute\x3c\/code\x3e，绿设置了\x3ccode\x3ez-index: 1\x3c\/code\x3e，那么此时绿位于红蓝的最上面；\x3c\/p\x3e\n\x3cp\x3e如果此时给\x3ccode\x3efirst-box\x3c\/code\x3e设置\x3ccode\x3eopacity: .99\x3c\/code\x3e，这时无论红绿的 z-index 设置的多大\x3ccode\x3ez-index: 999\x3c\/code\x3e，蓝都位于红绿的上面；\x3c\/p\x3e\n\x3cp\x3e如果再在\x3ccode\x3e.second-box\x3c\/code\x3e下\x3ccode\x3e.green\x3c\/code\x3e后加一个\x3ccode\x3espan.gold\x3c\/code\x3e，设置\x3ccode\x3ez-index: -1\x3c\/code\x3e，那么它将位于红绿蓝的下面；\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/codepen.io\/SHERlocked93\/pen\/GXPRWB\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e参见Codepen - opacity的影响\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22SHERlocked93\/pen\/GXPRWB\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e之前已经介绍了，设置\x3ccode\x3eopacity\x3c\/code\x3e也可以形成层叠上下文，因此：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3ccode\x3efirst-box\x3c\/code\x3e设置了\x3ccode\x3eopacity\x3c\/code\x3e，\x3ccode\x3efirst-box\x3c\/code\x3e成为了一个新的层叠上下文；\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3esecond-box\x3c\/code\x3e没有形成新的层叠上下文，因此其中的元素都属于根层叠上下文；\x3c\/li\x3e\n\x3cli\x3e黄属于层叠顺序中第2级，红绿属于第7级，\x3ccode\x3efirst-box\x3c\/code\x3e属于第6级，蓝属于层叠顺序中第6级且按HTML出现顺序位于\x3ccode\x3efirst-box\x3c\/code\x3e之上；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e所以这个例子中从低到到显示的顺序：\x3ccode\x3e黄-\x26gt;红-\x26gt;绿-\x26gt;蓝\x3c\/code\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e网上的帖子大多深浅不一，甚至有些前后矛盾，在下的文章都是学习过程中的总结，如果发现错误，欢迎留言指出~\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e参考：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.w3ctrain.com\/2015\/07\/19\/what-no-one-told-you-about-z-index\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e你不知道的Z-Index\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/CSS\/z-index\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN - z-index\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/philipwalton.com\/articles\/what-no-one-told-you-about-z-index\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhat No One Told You About Z-Index\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000016207606\x22\x3e彻底搞懂CSS层叠上下文、层叠等级、层叠顺序、z-index\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.w3ctrain.com\/2015\/12\/15\/smoother-animation\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端性能优化之更平滑的动画\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/webdesign.tutsplus.com\/zh-hans\/articles\/what-you-may-not-know-about-the-z-index-property--webdesign-16892\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e关于z-index 那些你不知道的事\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.w3cplus.com\/css\/understand-css-stacking-context-order-z-index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e聊聊CSS中的层叠相关概念\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e推介阅读：\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000013023485\x22\x3eCSS 中重要的BFC\x3c\/a\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>CSS 中重要的层叠概念</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016489078">https://segmentfault.com/a/1190000016489078</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/pcj8mtnwf3k/" target="_blank">https://alili.tech/archive/pcj8mtnwf3k/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>