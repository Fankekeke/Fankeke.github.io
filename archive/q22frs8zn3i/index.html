<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="es6 Generators详解"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>es6 Generators详解 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/q22frs8zn3i/",
				"appid": "1613049289050283", 
				"title": "es6 Generators详解 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-23T02:30:06"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4fhnwyuf00b/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rr86g6hh7x/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&text=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&text=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&title=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&is_video=false&description=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=es6%20Generators%e8%af%a6%e8%a7%a3&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&title=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&title=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&title=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fq22frs8zn3i%2f&title=es6%20Generators%e8%af%a6%e8%a7%a3"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">es6 Generators详解</h1><div class="meta"><div class="postdate"><time datetime="2018-12-23" itemprop="datePublished">2018-12-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3ca href=\x22http:\/\/exploringjs.com\/es6\/ch_generators.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e翻译自\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/xiyuyizhi\/notes\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e概述\x3c\/h2\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader1\x22\x3e什么是generators？\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e我们可以把generators理解成一段\x3ccode\x3e可以暂停并重新开始执行的函数\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFunc() {\n    \/\/ (A)\n    console.log(\x27First\x27);\n    yield; \/\/(B)\n    console.log(\x27Second\x27); \/\/(C)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFunc\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (A)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27First\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/(B)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Second\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/(C)\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3efunction*是定义generator函数的关键字，yield是一个操作符，generator 可以通过yield暂停自己执行，另外，\x3ccode\x3egenerator可以通过yield接受输入和对外输入\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e当我们调用genFunc(),我们得到一个generator对象genObj,我们可以通过这个genObj控制程序的执行\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const genObj = genFunc()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e genObj = genFunc()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3e\x3ccode\x3e上面的程序初始会暂停在行A\x3c\/code\x3e，调用genObj.next()会使程序继续执行直到遇到下一个yield\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e genObj.next();\nFirst\n{ value: undefined, done: false }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x26gt; \x3cspan class=\x22hljs-selector-tag\x22\x3egenObj\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.next\x3c\/span\x3e();\n\x3cspan class=\x22hljs-selector-tag\x22\x3eFirst\x3c\/span\x3e\n{ \x3cspan class=\x22hljs-attribute\x22\x3evalue\x3c\/span\x3e: undefined, done: false }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里先忽略genObj.next()返回的对象，之后会介绍\x3c\/p\x3e\n\x3cp\x3e现在，程序暂停在了行B，再次调用 genObj.next(),程序又开始执行，行C被执行\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e genObj.next()\nSecond\n{ value: undefined, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x26gt; \x3cspan class=\x22hljs-selector-tag\x22\x3egenObj\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.next\x3c\/span\x3e()\n\x3cspan class=\x22hljs-selector-tag\x22\x3eSecond\x3c\/span\x3e\n{ \x3cspan class=\x22hljs-attribute\x22\x3evalue\x3c\/span\x3e: undefined, done: true }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后，函数就执行结束了，再次调用genObj.next()也不会有什么效果了\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader2\x22\x3egenerator能扮演的角色\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e\x3cstrong\x3egenerators 可以扮演三种角色\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e迭代器(数据生产者)\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e每一个yield可以通过next()返回一个值，这意味着generators可以通过循环或递归生产一系列的值，因为generator对象实现了Iterable接口，\x3ccode\x3egenerator生产的一系列值可以被ES6中任意支持可迭代对象的结构处理\x3c\/code\x3e，两个例子，for of循环和扩展操作（...）\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e观察者(数据消费者)\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3eyield可以通过next()接受一个值，这意味着\x3ccode\x3egenerator变成了一个暂停执行的数据消费者直到通过next()给generator传递了一个新值\x3c\/code\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e协作程序(数据生产者和消费者)\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e考虑到generators是可以暂停的并且可以同时作为数据生产者和消费者，不会做太多的工作就可以把generator转变成协作程序(合作进行的多任务)\x3c\/p\x3e\n\x3cp\x3e下面详细介绍这三种\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3egenerators作为数据生产者(iterators)\x3c\/h2\x3e\n\x3cp\x3egenerators同时实现了接口Iterable 和 Iterator（如下所示），这意味着，generator函数返回的对象\x3ccode\x3e是一个迭代器也是一个可迭代的对象\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22interface Iterable {\n    [Symbol.iterator]() : Iterator;\n}\ninterface Iterator {\n    next() : IteratorResult;\n}\ninterface IteratorResult {\n    value : any;\n    done : boolean;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs capnproto\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIterable\x3c\/span\x3e \x3c\/span\x3e{\n    [Symbol.iterator]() : Iterator;\n}\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIterator\x3c\/span\x3e \x3c\/span\x3e{\n    next() : IteratorResult;\n}\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIteratorResult\x3c\/span\x3e \x3c\/span\x3e{\n    value : any;\n    done : boolean;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3egenerator对象完整的接口后面会提到，这里删掉了接口Iterable的return()方法，因为这个方法这一小节用不到\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3egenerator函数通过yield生产一系列的值，这些值可以通过迭代器的next()方法来使用，\x3c\/em\x3e例如下面的generator函数生成了值a和b\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFunc(){\n    yield \x27a\x27\n    yield \x27b\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFunc\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e交互展示如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e const genObj = genFunc();\n\x3e genObj.next()\n{ value: \x27a\x27, done: false }\n\n\x3e genObj.next()\n{ value: \x27b\x27, done: false }\n\n\x3e genObj.next() \/\/ done: true =\x3e end of sequence\n{ value: undefined, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x26gt; const genObj = genFunc();\n\x26gt; genObj.next()\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\n\x26gt; genObj.next()\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\n\x26gt; genObj.next() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ done: true =\x26gt; end of sequence\x3c\/span\x3e\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\x3cli\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e迭代generator的三种方式\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3efor of循环\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22   for (const x of genFunc()) {\n       console.log(x);\n   }\n   \/\/ Output:\n   \/\/ a\n   \/\/ b\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e   \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e x \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e genFunc()) {\n       \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n   }\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Output:\x3c\/span\x3e\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ a\x3c\/span\x3e\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ b\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\x3c\/ol\x3e\n\x3cul\x3e\x3cli\x3e扩展操作符(...)\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const arr = [...genFunc()]; \/\/ [\x27a\x27, \x27b\x27]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3econst arr = [...genFunc()]; \/\/ [\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e解构赋值\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e const [x, y] = genFunc();\n\x3e x\n\x27a\x27\n\x3e y\n\x27b\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vbnet\x22\x3e\x3ccode\x3e\x26gt; \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e [x, y] = genFunc();\n\x26gt; x\n\x3cspan class=\x22hljs-comment\x22\x3e\x27a\x27\x3c\/span\x3e\n\x26gt; y\n\x3cspan class=\x22hljs-comment\x22\x3e\x27b\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader5\x22\x3egenerator中的return\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e上面的generator函数没有包含一个显式的return,一个隐式的return 返回undefined,让我们试验一个显式返回return的generator\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFuncWithReturn() {\n    yield \x27a\x27;\n    yield \x27b\x27;\n    return \x27result\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFuncWithReturn\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27result\x27\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e下面的结构表明\x3ccode\x3ereturn 指定的值保存在最后一个next()返回的对象中\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e const genObjWithReturn = genFuncWithReturn();\n\x3e genObjWithReturn.next()\n{ value: \x27a\x27, done: false }\n\x3e genObjWithReturn.next()\n{ value: \x27b\x27, done: false }\n\x3e genObjWithReturn.next()\n{ value: \x27result\x27, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x26gt; const genObjWithReturn = genFuncWithReturn();\n\x26gt; genObjWithReturn.next()\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\x26gt; genObjWithReturn.next()\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\x26gt; genObjWithReturn.next()\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27result\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然而，\x3ccode\x3e大部分和可迭代对象一起工作的结构会忽略done属性是true的对象的value值\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22for (const x of genFuncWithReturn()) {\n    console.log(x);\n}\n\/\/ Output:\n\/\/ a\n\/\/ b\n\nconst arr = [...genFuncWithReturn()]; \/\/ [\x27a\x27, \x27b\x27]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e x \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e genFuncWithReturn()) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Output:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ a\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ b\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e arr = [...genFuncWithReturn()]; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [\x27a\x27, \x27b\x27]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eyield*会考虑done属性为true的value值，后面会介绍\x3c\/code\x3e\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader6\x22\x3egenerator函数中抛异常\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e\x3ccode\x3e如果一个异常离开了generator函数，next()可以抛出它\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFunc() {\n    throw new Error(\x27Problem!\x27);\n}\nconst genObj = genFunc();\ngenObj.next(); \/\/ Error: Problem!\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFunc\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Problem!\x27\x3c\/span\x3e);\n}\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e genObj = genFunc();\ngenObj.next(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Error: Problem!\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这意味着next()可以生产三种类型的值\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e对于可迭代序列中的一项x，它返回 {value:x,done:false}\x3c\/li\x3e\n\x3cli\x3e对于可迭代序列的最后一项,明确是return返回的z，它返回{value:z,done:true}\x3c\/li\x3e\n\x3cli\x3e对于异常，它抛出这个异常\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader7\x22\x3e通过 yield*递归\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e我们只能在generator函数中使用yield，如果我们想通过generator实现递归算法，我们就需要一种方式来在一个generator中调用另一个generator，这就用到了yield*，现在，我们只介绍\x3ccode\x3eyield*用在generator函数产生值的情况，之后介绍yield*用在generator接受值的情况\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3egenerator递归调用另一个generator的方式\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* foo() {\n    yield \x27a\x27;\n    yield \x27b\x27;\n}\n\nfunction* bar() {\n    yield \x27x\x27;\n    yield* foo();\n    yield \x27y\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3ebar\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27x\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e* foo();\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27y\x27\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行结构\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const arr = [...bar()];\n\/\/[\x27x\x27, \x27a\x27, \x27b\x27, \x27y\x27]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode\x3econst arr = [...bar()];\n\/\/[\x3cspan class=\x22hljs-string\x22\x3e\x27x\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27y\x27\x3c\/span\x3e]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在内部，yield*像下面这样工作的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* bar() {\n    yield \x27x\x27;\n    for (const value of foo()) {\n        yield value;\n    }\n    yield \x27y\x27;\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3ebar\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27x\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e value \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e foo()) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e value;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27y\x27\x3c\/span\x3e;\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e另外，yield*的操作数不一定非得是一个generator函数生成的对象，可以是任何可迭代的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* bla() {\n    yield \x27sequence\x27;\n    yield* [\x27of\x27, \x27yielded\x27];\n    yield \x27values\x27;\n}\nconst arr = [...bla()];\n\/\/ [\x27sequence\x27, \x27of\x27, \x27yielded\x27, \x27values\x27]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lua\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3ebla\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27sequence\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-built_in\x22\x3eyield\x3c\/span\x3e* [\x3cspan class=\x22hljs-string\x22\x3e\x27of\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27yielded\x27\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-built_in\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27values\x27\x3c\/span\x3e;\n}\nconst arr = [...bla()];\n\/\/ [\x3cspan class=\x22hljs-string\x22\x3e\x27sequence\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27of\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27yielded\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27values\x27\x3c\/span\x3e]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eyield*考虑可迭代对象的最后一个值\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eES6中的很多结构会忽略generator函数返回的可迭代对象的最后一个值(例如 for of，扩展操作符,如上面介绍过的那样)，但是，\x3ccode\x3eyield*的结果是这个值\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFuncWithReturn() {\n    yield \x27a\x27;\n    yield \x27b\x27;\n    return \x27The result\x27;\n}\nfunction* logReturned(genObj) {\n    const result = yield* genObj;\n    console.log(result); \/\/ (A)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFuncWithReturn\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27The result\x27\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3elogReturned\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3egenObj\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e result = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e* genObj;\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(result); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (A)\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行结果\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e [...logReturned(genFuncWithReturn())]\nThe result\n[ \x27a\x27, \x27b\x27 ]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode\x3e\x26gt; [...logReturned(genFuncWithReturn())]\n\x3cspan class=\x22hljs-symbol\x22\x3eThe\x3c\/span\x3e result\n[ \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e ]\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3egenerators作为数据消费者(observers)\x3c\/h2\x3e\n\x3cp\x3e作为数据的消费者，generator函数返回的对象也实现了接口Observer\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22interface Observer {\n    next(value? : any) : void;\n    return(value? : any) : void;\n    throw(error) : void;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eObserver\x3c\/span\x3e {\n    next(\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e? : any) : \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e? : any) : \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e(error) : \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e作为observer,generator暂停执行直到它接受到输入值\x3c\/code\x3e，这有三种类型的输入，通过以下三种observer接口提供的方法\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3enext() 发送正常的输入\x3c\/li\x3e\n\x3cli\x3ereturn() 终止generator\x3c\/li\x3e\n\x3cli\x3ethrow() 发送一个错误\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader9\x22\x3e通过next()发送值\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* dataConsumer() {\n    console.log(\x27Started\x27);\n    console.log(`1. ${yield}`); \/\/ (A)\n    console.log(`2. ${yield}`);\n    return \x27result\x27;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3edataConsumer\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Started\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`1. \x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e}\x3c\/span\x3e`\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (A)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`2. \x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e}\x3c\/span\x3e`\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27result\x27\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e首先得到generator对象\x3c\/p\x3e\n\x3cblockquote\x3econst genObj = dataConsumer();\x3c\/blockquote\x3e\n\x3cp\x3e然后执行genObj.next(),这会开始这个generator.执行到第一个yield处然后暂停。此时next()的结果是yield在行A产出的值(\x3ccode\x3e是undifined，因为这地方的yield后面没有操作数\x3c\/code\x3e)\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e genObj.next()\n\/\/Started\n{ value: undefined, done: false }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x26gt; genObj.next()\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Started\x3c\/span\x3e\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后再调用next()两次，第一次传个参数\x27a\x27,第二次传参数\x27b\x27\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e genObj.next(\x27a\x27)\n\/\/1. a\n{ value: undefined, done: false }\n\n\x3e genObj.next(\x27b\x27)\n\/\/2. b\n{ value: \x27result\x27, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x26gt; genObj.next(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/1. a\x3c\/span\x3e\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\n\x26gt; genObj.next(\x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/2. b\x3c\/span\x3e\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27result\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，\x3ccode\x3e第一个next()调用的作用仅仅是开始这个generator，只是为了后面的输入做准备\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e可以封装一下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function coroutine(generatorFunction) {\n    return function (...args) {\n        const generatorObject = generatorFunction(...args);\n        generatorObject.next();\n        return generatorObject;\n    };\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecoroutine\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(generatorFunction)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-rest_arg\x22\x3e...args\x3c\/span\x3e)\x3c\/span\x3e \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e generatorObject = generatorFunction(...args);\n        generatorObject.next();\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e generatorObject;\n    };\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const wrapped = coroutine(function* () {\n    console.log(`First input: ${yield}`);\n    return \x27DONE\x27;\n});\n\n\x3e wrapped().next(\x27hello!\x27)\nFirst input: hello!\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapped = coroutine(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`First input: \x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e}\x3c\/span\x3e`\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27DONE\x27\x3c\/span\x3e;\n});\n\n\x26gt; wrapped().next(\x3cspan class=\x22hljs-string\x22\x3e\x27hello!\x27\x3c\/span\x3e)\nFirst input: hello!\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader10\x22\x3ereturn() 和 throw()\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3egenerator对象有两个另外的方法,return()和throw(),和next()类似\x3c\/p\x3e\n\x3cp\x3e让我们回顾一下next()是怎么工作的：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3egenerator暂停在yield操作符\x3c\/li\x3e\n\x3cli\x3e发送x给这个yield\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e继续执行到下一个yield，return或者throw:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eyield x 导致 next() 返回 {value: x, done: false}\x3c\/li\x3e\n\x3cli\x3ereturn x 导致 next() 返回 {value:x, done:true}\x3c\/li\x3e\n\x3cli\x3ethrow err 导致 next() 抛出err\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3ereturn()和throw() 和next()类似工作，但在第二步有所不同\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3ereturn(x) 在 yield的位置执行 return x\x3c\/li\x3e\n\x3cli\x3ethrow(x) 在yield的位置执行throw x\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3ereturn()终止generator\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3ereturn() 在 yield的位置执行return\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFunc1() {\n    try {\n        console.log(\x27Started\x27);\n        yield; \/\/ (A)\n    } finally {\n        console.log(\x27Exiting\x27);\n    }\n}\n\n\x3e const genObj1 = genFunc1();\n\x3e genObj1.next()\nStarted\n{ value: undefined, done: false }\n\x3e genObj1.return(\x27Result\x27)\nExiting\n{ value: \x27Result\x27, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFunc1\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Started\x27\x3c\/span\x3e);\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (A)\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3efinally\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Exiting\x27\x3c\/span\x3e);\n    }\n}\n\n\x26gt; \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e genObj1 = genFunc1();\n\x26gt; genObj1.next()\nStarted\n{ \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\x26gt; genObj1.return(\x3cspan class=\x22hljs-string\x22\x3e\x27Result\x27\x3c\/span\x3e)\nExiting\n{ \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Result\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e阻止终止\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e我们可以阻止return()终止generator如果yield是在finally块内（或者在finally中使用return语句）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFunc2() {\n    try {\n        console.log(\x27Started\x27);\n        yield;\n    } finally {\n        yield \x27Not done, yet!\x27;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFunc2\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Started\x27\x3c\/span\x3e);\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e;\n    } \x3cspan class=\x22hljs-keyword\x22\x3efinally\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Not done, yet!\x27\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这一次，return()没有退出generator函数，当然，return()返回的对象的done属性就是false\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e const genObj2 = genFunc2();\n\n\x3e genObj2.next()\nStarted\n{ value: undefined, done: false }\n\n\x3e genObj2.return(\x27Result\x27)\n{ value: \x27Not done, yet!\x27, done: false }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x26gt; const genObj2 = genFunc2();\n\n\x26gt; genObj2.next()\nStarted\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\n\x26gt; genObj2.\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Result\x27\x3c\/span\x3e)\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Not done, yet!\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以再执行一次next()\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e genObj2.next()\n{ value: \x27Result\x27, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x26gt; \x3cspan class=\x22hljs-selector-tag\x22\x3egenObj2\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.next\x3c\/span\x3e()\n{ \x3cspan class=\x22hljs-attribute\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Result\x27\x3c\/span\x3e, done: true }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e发送一个错误\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3ethrow()在yield的位置抛一个异常\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* genFunc1() {\n    try {\n        console.log(\x27Started\x27);\n        yield; \/\/ (A)\n    } catch (error) {\n        console.log(\x27Caught: \x27 \x2b error);\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egenFunc1\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Started\x27\x3c\/span\x3e);\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (A)\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (error) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Caught: \x27\x3c\/span\x3e \x2b error);\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e const genObj1 = genFunc1();\n\n\x3e genObj1.next()\nStarted\n{ value: undefined, done: false }\n\n\x3e genObj1.throw(new Error(\x27Problem!\x27))\nCaught: Error: Problem!\n{ value: undefined, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x26gt; const genObj1 = genFunc1();\n\n\x26gt; genObj1.next()\nStarted\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\n\x26gt; genObj1.\x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Error(\x3cspan class=\x22hljs-string\x22\x3e\x27Problem!\x27\x3c\/span\x3e))\n\x3cspan class=\x22hljs-string\x22\x3eCaught:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eError:\x3c\/span\x3e Problem!\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader11\x22\x3eyield* 完整的故事\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e到目前为止，我们只看到以yield\x3cem\x3e的一个层面: 它传播生成的值从被调用者到调用者。既然我们现在对generator接受值感兴趣，我们就来看一下yield\x3c\/em\x3e的另一个层面：yield*可以发送调用者接受的值给被调用者。\x3ccode\x3e在某种程度上，被调用者变成了活跃的generator,它可以被调用者生成的对象控制\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* callee() {\n    console.log(\x27callee: \x27 \x2b (yield));\n}\nfunction* caller() {\n    while (true) {\n        yield* callee();\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3ecallee\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27callee: \x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e));\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3ecaller\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e* callee();\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e const callerObj = caller();\n\n\x3e callerObj.next() \/\/ start\n{ value: undefined, done: false }\n\n\x3e callerObj.next(\x27a\x27)\ncallee: a\n{ value: undefined, done: false }\n\n\x3e callerObj.next(\x27b\x27)\ncallee: b\n{ value: undefined, done: false }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x26gt; const callerObj = caller();\n\n\x26gt; callerObj.next() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ start\x3c\/span\x3e\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\n\x26gt; callerObj.next(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-string\x22\x3ecallee:\x3c\/span\x3e a\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\n\n\x26gt; callerObj.next(\x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-string\x22\x3ecallee:\x3c\/span\x3e b\n{ \x3cspan class=\x22hljs-string\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-string\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3egenerators作为协同程序(协作多个任务)\x3c\/h2\x3e\n\x3cp\x3e这一节介绍generator完整的接口(组合作为数据生产者和消费者两种角色)和一个同时要使用这两种角色的使用场景：协同操作多任务\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3ch4\x3e完整的接口\x3c\/h4\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22interface Generator {\n    next(value? : any) : IteratorResult;\n    throw(value? : any) : IteratorResult;\n    return(value? : any) : IteratorResult;\n}\ninterface IteratorResult {\n    value : any;\n    done : boolean;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eGenerator\x3c\/span\x3e {\x3c\/span\x3e\n    next(value? : any) : IteratorResult;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e(value? : any) : IteratorResult;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(value? : any) : IteratorResult;\n}\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIteratorResult\x3c\/span\x3e {\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3evalue :\x3c\/span\x3e any;\n    \x3cspan class=\x22hljs-string\x22\x3edone :\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eboolean\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接口Generator结合了我们之前介绍过的两个接口：输出的Iterator和输入的Observer\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22interface Iterator { \/\/ data producer\n    next() : IteratorResult;\n    return?(value? : any) : IteratorResult;\n}\n\ninterface Observer { \/\/ data consumer\n    next(value? : any) : void;\n    return(value? : any) : void;\n    throw(error) : void;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eIterator\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ data producer\x3c\/span\x3e\n    next() : IteratorResult;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e?(\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e? : any) : IteratorResult;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3einterface\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eObserver\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ data consumer\x3c\/span\x3e\n    next(\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e? : any) : \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e? : any) : \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e(error) : \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\x3cli\x3e\x3ch3 id=\x22articleHeader13\x22\x3e合作多任务\x3c\/h3\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3cp\x3e合作多任务是我们需要generators同时处理输入和输出，在介绍generator是如何工作的之前，让我们先复习一下\x3ccode\x3eJavaScript当前的并行状态\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3ejs是单线程的，但有两种方式可以消除这种限制\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e多进程： Web Worker可以让我们以多进程的方式运行js，对数据的共享访问是多进程的最大缺陷之一，Web Worker避免这种缺陷通过不分享任何数据。也就是说，如果你想让Web Worker拥有一段数据，要么发送给它一个数据的副本，要么把数据传给它(这样之后，你就不能再访问这些数据了)\x3c\/li\x3e\n\x3cli\x3e合作多任务：有不同的模式和库可以尝试进行多任务处理，运行多个任务，但每次只执行一个任务。每个任务必须显式地挂起自己，在任务切换发生时给予它完全的控制。在这些尝试中，数据经常在任务之间共享。但由于明确的暂停，几乎没有风险。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e通过generators来简化异步操作\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e一些基于Promise的库通过generator来简化了异步代码，generators作为Promise的客户是非常理想的，因为它们可以暂停直到结果返回\x3c\/p\x3e\n\x3cp\x3e下面的例子表明\x3ca href=\x22https:\/\/github.com\/tj\/co\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eco\x3c\/a\x3e是如何工作的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22co(function* () {\n    try {\n        const [croftStr, bondStr] = yield Promise.all([  \/\/ (A)\n            getFile(\x27http:\/\/localhost:8000\/croft.json\x27),\n            getFile(\x27http:\/\/localhost:8000\/bond.json\x27),\n        ]);\n        const croftJson = JSON.parse(croftStr);\n        const bondJson = JSON.parse(bondStr);\n\n        console.log(croftJson);\n        console.log(bondJson);\n    } catch (e) {\n        console.log(\x27Failure to read: \x27 \x2b e);\n    }\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3eco(\x3cspan class=\x22hljs-name\x22\x3efunction*\x3c\/span\x3e () {\n    try {\n        const [croftStr, bondStr] = yield Promise.all([  \/\/ (\x3cspan class=\x22hljs-name\x22\x3eA\x3c\/span\x3e)\n            getFile(\x27http\x3cspan class=\x22hljs-symbol\x22\x3e:\/\/localhost\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e\/croft.json\x27),\n            getFile(\x27http\x3cspan class=\x22hljs-symbol\x22\x3e:\/\/localhost\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e\/bond.json\x27),\n        ])\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n        const croftJson = JSON.parse(\x3cspan class=\x22hljs-name\x22\x3ecroftStr\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n        const bondJson = JSON.parse(\x3cspan class=\x22hljs-name\x22\x3ebondStr\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n        console.log(\x3cspan class=\x22hljs-name\x22\x3ecroftJson\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n        console.log(\x3cspan class=\x22hljs-name\x22\x3ebondJson\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    } catch (\x3cspan class=\x22hljs-name\x22\x3ee\x3c\/span\x3e) {\n        console.log(\x27Failure to read: \x27 \x2b e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\n})\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意这段代码看起来是多么的同步啊，虽然它在行A处执行了一个异步调用。\x3c\/p\x3e\n\x3cp\x3e使用generators对co的一个简单的实现\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function co(genFunc) {\n    const genObj = genFunc();\n    step(genObj.next());\n\n    function step({value,done}) {\n        if (!done) {\n            \/\/ A Promise was yielded\n            value\n            .then(result =\x3e {\n                step(genObj.next(result)); \/\/ (A)\n            })\n            .catch(error =\x3e {\n                step(genObj.throw(error)); \/\/ (B)\n            });\n        }\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eco\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3egenFunc\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e genObj = genFunc();\n    step(genObj.next());\n\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3estep\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e{value,done}\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!done) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ A Promise was yielded\x3c\/span\x3e\n            value\n            .then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n                step(genObj.next(result)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (A)\x3c\/span\x3e\n            })\n            .catch(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n                step(genObj.throw(error)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (B)\x3c\/span\x3e\n            });\n        }\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里忽略了next()（行A）和throw（）（行B）可以回抛异常\x3c\/p\x3e\n\x3cp\x3e借助上面的使用分析一下：\x3c\/p\x3e\n\x3cp\x3e首先得到generator对象\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const genObj = genFunc();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3econst genObj\x3c\/span\x3e = genFunc();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后将genObj.next()的返回值传递给step方法\x3c\/p\x3e\n\x3cp\x3estep()中获取到value和done，如果generator没有执行完，当前的value就是上面使用中定义的promise\x3c\/p\x3e\n\x3cp\x3e等到promise执行完，然后将结果result传递给generator函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22genObj.next(result)\n\n然后在generator中程序继续往下执行\n\nconst [croftStr, bondStr] = yield XXXX\n.\n.\n.\n.\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode\x3egenObj.next(result)\n\n然后在generator中程序继续往下执行\n\nconst [croftStr, bondStr] = yield \x3cspan class=\x22hljs-symbol\x22\x3eXXXX\x3c\/span\x3e\n.\n.\n.\n.\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意行A处递归调用step(genObj.next(result)),使得generator函数中可以存在多个异步调用，而co都能处理\x3c\/p\x3e\n\x3cp\x3e整个过程多么的巧妙啊。。。。。。。。。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>es6 Generators详解</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012358863">https://segmentfault.com/a/1190000012358863</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/q22frs8zn3i/" target="_blank">https://alili.tech/archive/q22frs8zn3i/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>