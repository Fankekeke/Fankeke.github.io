<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="读懂ES7中javascript修饰器"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>读懂ES7中javascript修饰器 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/que666q2z7/",
				"appid": "1613049289050283", 
				"title": "读懂ES7中javascript修饰器 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/5ftt1g97bub/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/qph3spzpxi7/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&text=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&text=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&title=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&is_video=false&description=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&title=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&title=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&title=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fque666q2z7%2f&title=%e8%af%bb%e6%87%82ES7%e4%b8%adjavascript%e4%bf%ae%e9%a5%b0%e5%99%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">读懂ES7中javascript修饰器</h1><div class="meta"><div class="postdate"><time datetime="2018-12-29" itemprop="datePublished">2018-12-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3\x3e什么是修饰器\x3c\/h3\x3e\n\x3cp\x3e修饰器（Decorator）是ES7的一个提案，它的出现能解决两个问题：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e不同类间共享方法\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e编译期\x3c\/strong\x3e对类和方法的行为进行改变\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e用法也很简单，就是在类或方法的上面加一个@符，在\x3ccode\x3evue in typescript\x3c\/code\x3e中经常用到\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWjKD?w=469\x26amp;h=156\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWjKD?w=469\x26amp;h=156\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e以上的两个用处可能不太明白，没关系，我们开始第一个例子\x3c\/p\x3e\n\x3ch3\x3e例子1：修饰类\x3c\/h3\x3e\n\x3cpre\x3e\x3ccode\x3e@setProp\nclass User {}\n\nfunction setProp(target) {\n    target.age = 30\n}\n\nconsole.log(User.age)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个例子要表达的是对\x3ccode\x3eUser\x3c\/code\x3e类使用\x3ccode\x3esetProp\x3c\/code\x3e这个方法进行修饰，用来增加\x3ccode\x3eUser\x3c\/code\x3e类中\x3ccode\x3eage\x3c\/code\x3e的属性，\x3ccode\x3esetProp\x3c\/code\x3e方法会接收3个参数，我们现在接触第一个，\x3ccode\x3etarget\x3c\/code\x3e代表\x3ccode\x3eUser\x3c\/code\x3e类本身。\x3c\/p\x3e\n\x3ch3\x3e例子2：修饰类(自定义参数值)\x3c\/h3\x3e\n\x3cpre\x3e\x3ccode\x3e@setProp(20)\nclass User {}\n\nfunction setProp(value) {\n    return function (target) {\n        target.age = value\n    }\n}\n\nconsole.log(User.age)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此例和上面功能基本一致，唯一差别在于值是参考修饰函数传过来的\x3c\/p\x3e\n\x3ch3\x3e例子2：修饰方法\x3c\/h3\x3e\n\x3cpre\x3e\x3ccode\x3eclass User {\n    @readonly\n    getName() {\n        return \x27Hello World\x27\n    }\n}\n\n\/\/ readonly修饰函数，对方法进行只读操作\nfunction readonly(target, name, descriptor) {\n    descriptor.writable = false\n    return descriptor\n}\n\nlet u = new User()\n\/\/ 尝试修改函数，在控制台会报错\nu.getName = () =\x26gt; {\n    return \x27I will override\x27\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上例中，我们对\x3ccode\x3eUser\x3c\/code\x3e类中的\x3ccode\x3egetName\x3c\/code\x3e方法使用\x3ccode\x3ereadonly\x3c\/code\x3e修饰器进行修饰，使得方法不能被修改。第一个参数我们已经知道了，参数\x3ccode\x3ename\x3c\/code\x3e为方法名，也就是\x3ccode\x3ereadonly\x3c\/code\x3e，参数\x3ccode\x3edescriptor\x3c\/code\x3e是个啥东西呢，看到这行\x3ccode\x3edescriptor.writable = false\x3c\/code\x3e，我们大家猜的也差不多了，这三个参数对应的就是\x3ccode\x3eObject.defineProperty\x3c\/code\x3e的三个参数，我们来看一下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWjQ3?w=510\x26amp;h=191\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWjQ3?w=510\x26amp;h=191\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们设置\x3ccode\x3edescriptor.writable = false\x3c\/code\x3e就是让函数不可以被修改，如果我们写成\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3edescriptor.value = \x27function (){ console.log(\x27Hello decorator\x27) }\x27\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e那么，输出就是\x3ccode\x3eHello World\x3c\/code\x3e了，而是\x3ccode\x3eHello decorator\x3c\/code\x3e，是不是已经意识到修饰器的好处了。现在我们来看看实际工作中，我们用到修饰器的例子\x3c\/p\x3e\n\x3ch3\x3e实际应用1：日志管理\x3c\/h3\x3e\n\x3cp\x3e在用\x3ccode\x3ewebpack\x3c\/code\x3e打包时，我们经常需要好多步骤，比如第一步读取\x3ccode\x3epackage.json\x3c\/code\x3e文件，第二步处理该文件，第三步加载\x3ccode\x3ewebpack.base.js\x3c\/code\x3e文件，第四步进行打包...为了直观，我们经常在每一步打印一些日志文件，比如这步都干了些什么事，很明显打印日志的操作和业务代码根本就一点关系没有，我们不应该把日志和业务掺和在一起，这样使用修饰器就是避免这个问题，以下为代码：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eclass Pack {\n    @log(\x27读取package.json文件\x27)\n    step1() {\n        \/\/ do something...\n        \/\/ 没有修饰器之前，我们通常把console.log放到这里写\n        \/\/ 放到函数里面写会有两个坏处\n        \/\/     1.console和业务无关，会破坏函数单一性原则\n        \/\/     2.如果要删除所有的console，那我们只能深入到每一个方法中\n    }\n    @log(\x27合并webpack配置文件\x27)\n    step2() {\n        \/\/ do something...\n    }\n}\n\nfunction log(value) {\n    return function (target, name, descriptor) {\n        \/\/ 在这里，我们还可以拿到函数的参数，打印更加详细的信息\n        console.log(value)\n    }\n}\n\nlet pack = new Pack()\npack.step1()\npack.step2()\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3\x3e实际应用2：检查登录\x3c\/h3\x3e\n\x3cp\x3e这个例子在实际的开发中常用得到，我们一些操作前，必须得判断用户是否登录，比较点赞、结算、发送弹幕...按照之前的写法，我们必须在每一个方法中判断用户的登录情况，然后再进行业务的操作，很显然前置条件和业务又混到了一起，用修饰器，就可以完美的解决这一问题，代码如下：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eclass User {\n    \/\/ 获取已登录用户的用户信息\n    @checkLogin\n    getUserInfo() {\n        \/**\n         * 之前，我们都会这么写：\n         *      if(checkLogin()) {\n         *          \/\/ 业务代码\n         *      }\n         *  这段代码会在每一个需要登录的方法中执行\n         *  还是上面的问题，执行的前提和业务又混到了一起\n         *\/\n        console.log(\x27获取已登录用户的用户信息\x27)\n    }\n    \/\/ 发送消息\n    @checkLogin\n    sendMsg() {\n        console.log(\x27发送消息\x27)\n    }\n}\n\n\/\/ 检查用户是否登录，如果没有登录，就跳转到登录页面\nfunction checkLogin(target, name, descriptor) {\n    let method = descriptor.value\n\n    \/\/ 模拟判断条件\n    let isLogin = true\n\n    descriptor.value = function (...args) {\n        if (isLogin) {\n            method.apply(this, args)\n        } else {\n            console.log(\x27没有登录，即将跳转到登录页面...\x27)\n        }\n    }\n}\nlet u = new User()\nu.getUserInfo()\nu.sendMsg()\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3\x3e结语\x3c\/h3\x3e\n\x3cp\x3e以上只是修饰器的基本应用，只要我们掌握了原理，在实际的工作中，要思考自己的应用场景，只要我们涉及需要在执行前做一些处理的应用，不管是修改函数的参数值，还是增加属性，还是执行的先决条件，我们都可以使用修饰器，这种编程的方式，就是\x3cstrong\x3e面向切面编程\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch4\x3e源码以及使用方法，请\x3ca href=\x22https:\/\/github.com\/sunhaikuo\/decorator\x22 rel=\x22nofollow noreferrer\x22\x3e移步GitHub\x3c\/a\x3e\n\x3c\/h4\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>读懂ES7中javascript修饰器</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011479378">https://segmentfault.com/a/1190000011479378</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/que666q2z7/" target="_blank">https://alili.tech/archive/que666q2z7/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>