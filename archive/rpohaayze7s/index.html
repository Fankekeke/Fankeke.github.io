<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="ES6 变量声明与赋值：值传递、浅拷贝与深拷贝详解"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>ES6 变量声明与赋值：值传递、浅拷贝与深拷贝详解 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/rpohaayze7s/",
				"appid": "1613049289050283", 
				"title": "ES6 变量声明与赋值：值传递、浅拷贝与深拷贝详解 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-04T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/yb881ezh0ze/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/5qzftgfle6q/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&text=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&text=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&title=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&is_video=false&description=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&title=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&title=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&title=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frpohaayze7s%2f&title=ES6%20%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e%e4%b8%8e%e8%b5%8b%e5%80%bc%ef%bc%9a%e5%80%bc%e4%bc%a0%e9%80%92%e3%80%81%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d%e8%af%a6%e8%a7%a3"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">ES6 变量声明与赋值：值传递、浅拷贝与深拷贝详解</h1><div class="meta"><div class="postdate"><time datetime="2019-01-04" itemprop="datePublished">2019-01-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/28508795\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eES6 变量声明与赋值：值传递、浅拷贝与深拷贝详解\x3c\/a\x3e归纳于笔者的\x3ca href=\x22https:\/\/parg.co\/bjK\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e现代 JavaScript 开发：语法基础与实践技巧\x3c\/a\x3e系列文章。本文首先介绍 ES6 中常用的三种变量声明方式，然后讨论了 JavaScript 按值传递的特性，最后介绍了复合类型拷贝的技巧；有兴趣的可以阅读下一章节 \x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/28494566\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eES6 变量作用域与提升：变量的生命周期详解\x3c\/a\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e变量声明与赋值\x3c\/h1\x3e\n\x3cp\x3eES6 为我们引入了 let 与 const 两种新的变量声明关键字，同时也引入了块作用域；本文首先介绍 ES6 中常用的三种变量声明方式，然后讨论了 JavaScript 按值传递的特性以及多种的赋值方式，最后介绍了复合类型拷贝的技巧。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e变量声明\x3c\/h1\x3e\n\x3cp\x3e在 JavaScript 中，基本的变量声明可以用 var 方式；JavaScript 允许省略 var，直接对未声明的变量赋值。也就是说，\x3ccode\x3evar a = 1\x3c\/code\x3e 与 \x3ccode\x3ea = 1\x3c\/code\x3e，这两条语句的效果相同。但是由于这样的做法很容易不知不觉地创建全局变量（尤其是在函数内部），所以建议总是使用 var 命令声明变量。在 ES6 中，对于变量声明的方式进行了扩展，引入了 let 与 const。var 与 let 两个关键字创建变量的区别在于， var 声明的变量作用域是最近的函数块；而 let 声明的变量作用域是最近的闭合块，往往会小于函数块。另一方面，以 let 关键字创建的变量虽然同样被提升到作用域头部，但是并不能在实际声明前使用；如果强行使用则会抛出 ReferenceError 异常。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3evar\x3c\/h2\x3e\n\x3cp\x3evar 是 JavaScript 中基础的变量声明方式之一，其基本语法为:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var x; \/\/ Declaration and initialization\nx = \x26quot;Hello World\x26quot;; \/\/ Assignment\n\n\/\/ Or all in one\nvar y = \x26quot;Hello World\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Declaration and initialization\x3c\/span\x3e\nx = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello World\x22\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Assignment\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Or all in one\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e y = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello World\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eECMAScript 6 以前我们在 JavaScript 中并没有其他的变量声明方式，以 \x3ccode\x3evar\x3c\/code\x3e 声明的变量作用于函数作用域中，如果没有相应的闭合函数作用域，那么该变量会被当做默认的全局变量进行处理。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function sayHello(){\n  var hello = \x26quot;Hello World\x26quot;;\n  return hello;\n}\nconsole.log(hello);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esayHello\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hello = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello World\x22\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hello;\n}\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(hello);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e像如上这种调用方式会抛出异常: \x3ccode\x3eReferenceError: hello is not defined\x3c\/code\x3e，因为 \x3ccode\x3ehello\x3c\/code\x3e 变量只能作用于 \x3ccode\x3esayHello\x3c\/code\x3e 函数中，不过如果按照如下先声明全局变量方式再使用时，其就能够正常调用:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var hello = \x26quot;Hello World\x26quot;;\nfunction sayHello(){\n  return hello;\n}\nconsole.log(hello);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hello = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello World\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esayHello\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hello;\n}\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(hello);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3elet\x3c\/h2\x3e\n\x3cp\x3e在 ECMAScript 6 中我们可以使用 \x3ccode\x3elet\x3c\/code\x3e 关键字进行变量声明:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let x; \/\/ Declaration and initialization\nx = \x26quot;Hello World\x26quot;; \/\/ Assignment\n\n\/\/ Or all in one\nlet y = \x26quot;Hello World\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x; \/\/ Declaration \x3cspan class=\x22hljs-literal\x22\x3eand\x3c\/span\x3e initialization\n\x3cspan class=\x22hljs-attr\x22\x3ex\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello World\x22\x3c\/span\x3e; \/\/ Assignment\n\n\/\/ Or all \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e one\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ey\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello World\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3elet\x3c\/code\x3e 关键字声明的变量是属于块作用域，也就是包含在 \x3ccode\x3e{}\x3c\/code\x3e 之内的作用于。使用 \x3ccode\x3elet\x3c\/code\x3e 关键字的优势在于能够降低偶然的错误的概率，因为其保证了每个变量只能在最小的作用域内进行访问。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var name = \x26quot;Peter\x26quot;;\nif(name === \x26quot;Peter\x26quot;){\n  let hello = \x26quot;Hello Peter\x26quot;;\n} else {\n  let hello = \x26quot;Hi\x26quot;;\n}\nconsole.log(hello);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3evar \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Peter\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e === \x3cspan class=\x22hljs-string\x22\x3e\x22Peter\x22\x3c\/span\x3e){\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehello\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello Peter\x22\x3c\/span\x3e;\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehello\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Hi\x22\x3c\/span\x3e;\n}\nconsole.log(hello);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上述代码同样会抛出 \x3ccode\x3eReferenceError: hello is not defined\x3c\/code\x3e 异常，因为 \x3ccode\x3ehello\x3c\/code\x3e 只能够在闭合的块作用域中进行访问，我们可以进行如下修改:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var name = \x26quot;Peter\x26quot;;\nif(name === \x26quot;Peter\x26quot;){\n  let hello = \x26quot;Hello Peter\x26quot;;\n  console.log(hello);\n} else {\n  let hello = \x26quot;Hi\x26quot;;\n  console.log(hello);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3evar \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Peter\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e === \x3cspan class=\x22hljs-string\x22\x3e\x22Peter\x22\x3c\/span\x3e){\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehello\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Hello Peter\x22\x3c\/span\x3e;\n  console.log(hello);\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehello\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x22Hi\x22\x3c\/span\x3e;\n  console.log(hello);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们可以利用这种块级作用域的特性来避免闭包中因为变量保留而导致的问题，譬如如下两种异步代码，使用 var 时每次循环中使用的都是相同变量；而使用 let 声明的 i 则会在每次循环时进行不同的绑定，即每次循环中闭包捕获的都是不同的 i 实例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22for(let i = 0;i \x3c 2; i\x2b\x2b){\n        setTimeout(()=\x3e{console.log(`i:${i}`)},0);\n}\n\nfor(var j = 0;j \x3c 2; j\x2b\x2b){\n        setTimeout(()=\x3e{console.log(`j:${j}`)},0);\n}\n\nlet k = 0;\nfor(k = 0;k \x3c 2; k\x2b\x2b){\n        setTimeout(()=\x3e{console.log(`k:${k}`)},0);\n}\n\n\/\/ output\ni:0\ni:1\nj:2\nj:2\nk:2\nk:2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; i\x2b\x2b){\n        setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`i:\x3cspan class=\x22hljs-subst\x22\x3e${i}\x3c\/span\x3e`\x3c\/span\x3e)},\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e j = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;j \x26lt; \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; j\x2b\x2b){\n        setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`j:\x3cspan class=\x22hljs-subst\x22\x3e${j}\x3c\/span\x3e`\x3c\/span\x3e)},\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e k = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(k = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;k \x26lt; \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; k\x2b\x2b){\n        setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`k:\x3cspan class=\x22hljs-subst\x22\x3e${k}\x3c\/span\x3e`\x3c\/span\x3e)},\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ output\x3c\/span\x3e\ni:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\ni:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\nj:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\nj:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\nk:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\nk:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3econst\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3econst\x3c\/code\x3e 关键字一般用于常量声明，用 \x3ccode\x3econst\x3c\/code\x3e 关键字声明的常量需要在声明时进行初始化并且不可以再进行修改，并且 \x3ccode\x3econst\x3c\/code\x3e 关键字声明的常量被限制于块级作用域中进行访问。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function f() {\n  {\n    let x;\n    {\n      \/\/ okay, block scoped name\n      const x = \x26quot;sneaky\x26quot;;\n      \/\/ error, const\n      x = \x26quot;foo\x26quot;;\n    }\n    \/\/ error, already declared in block\n    let x = \x26quot;inner\x26quot;;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ef\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x;\n    {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ okay, block scoped name\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e x = \x3cspan class=\x22hljs-string\x22\x3e\x22sneaky\x22\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ error, const\x3c\/span\x3e\n      x = \x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ error, already declared in block\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x = \x3cspan class=\x22hljs-string\x22\x3e\x22inner\x22\x3c\/span\x3e;\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eJavaScript 中 const 关键字的表现于 C 中存在着一定差异，譬如下述使用方式在 JavaScript 中就是正确的，而在 C 中则抛出异常：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# JavaScript\nconst numbers = [1, 2, 3, 4, 6]\nnumbers[4] = 5\nconsole.log(numbers[4]) \/\/ print 5 \n\n# C\nconst int numbers[] = {1, 2, 3, 4, 6};\nnumbers[4] = 5; \/\/ error: read-only variable is not assignable\nprintf(\x26quot;%d\\n\x26quot;, numbers[4]); \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3e# JavaScript\nconst numbers = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e]\nnumbers[\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e] = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\nconsole.log(numbers[\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e]) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ print 5 \x3c\/span\x3e\n\n# C\nconst int numbers[] = {\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e};\nnumbers[\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e] = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ error: read-only variable is not assignable\x3c\/span\x3e\nprintf(\x3cspan class=\x22hljs-string\x22\x3e\x22%d\x3cspan class=\x22hljs-subst\x22\x3e\\n\x3c\/span\x3e\x22\x3c\/span\x3e, numbers[\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e]); \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从上述对比我们也可以看出，JavaScript 中 const 限制的并非值不可变性；而是创建了不可变的绑定，即对于某个值的只读引用，并且禁止了对于该引用的重赋值，即如下的代码会触发错误：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const numbers = [1, 2, 3, 4, 6]\nnumbers = [7, 8, 9, 10, 11] \/\/ error: assignment to constant variable\nconsole.log(numbers[4])\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3econst numbers = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e]\nnumbers = [\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e] \x3cspan class=\x22hljs-comment\x22\x3e\/\/ error: assignment to constant variable\x3c\/span\x3e\nconsole.log(numbers[\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e])\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们可以参考如下图片理解这种机制，每个变量标识符都会关联某个存放变量实际值的物理地址；所谓只读的变量即是该变量标识符不可以被重新赋值，而该变量指向的值还是可变的。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010652254\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010652254\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eJavaScript 中存在着所谓的原始类型与复合类型，使用 const 声明的原始类型是值不可变的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# Example 1\nconst a = 10\na = a \x2b 1 \/\/ error: assignment to constant variable\n# Example 2\nconst isTrue = true\nisTrue = false \/\/ error: assignment to constant variable\n# Example 3\nconst sLower = \x27hello world\x27\nconst sUpper = sLower.toUpperCase() \/\/ create a new string\nconsole.log(sLower) \/\/ print hello world\nconsole.log(sUpper) \/\/ print HELLO WORLD\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e# Example 1\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e\na = a \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ error: assignment to constant variable\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e# Example 2\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e isTrue = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\nisTrue = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ error: assignment to constant variable\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e# Example 3\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e sLower = \x3cspan class=\x22hljs-string\x22\x3e\x27hello world\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e sUpper = sLower.toUpperCase() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ create a new string\x3c\/span\x3e\nconsole.log(sLower) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ print hello world\x3c\/span\x3e\nconsole.log(sUpper) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ print HELLO WORLD\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而如果我们希望将某个对象同样变成不可变类型，则需要使用 \x3ccode\x3eObject.freeze()\x3c\/code\x3e；不过该方法仅对于键值对的 Object 起作用，而无法作用于 Date、Map 与 Set 等类型：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# Example 4\nconst me = Object.freeze({name: “Jacopo”})\nme.age = 28\nconsole.log(me.age) \/\/ print undefined\n# Example 5\nconst arr = Object.freeze([-1, 1, 2, 3])\narr[0] = 0\nconsole.log(arr[0]) \/\/ print -1\n# Example 6\nconst me = Object.freeze({\n  name: \x27Jacopo\x27, \n  pet: {\n    type: \x27dog\x27,\n    name: \x27Spock\x27\n  }\n})\nme.pet.name = \x27Rocky\x27\nme.pet.breed = \x27German Shepherd\x27\nconsole.log(me.pet.name) \/\/ print Rocky\nconsole.log(me.pet.breed) \/\/ print German Shepherd\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e# Example \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\nconst \x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e = Object.freeze({name: “Jacopo”})\n\x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e.age = \x3cspan class=\x22hljs-number\x22\x3e28\x3c\/span\x3e\nconsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e.age) \/\/ \x3cspan class=\x22hljs-keyword\x22\x3eprint\x3c\/span\x3e undefined\n# Example \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\nconst arr = Object.freeze([-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e])\narr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\nconsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(arr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]) \/\/ \x3cspan class=\x22hljs-keyword\x22\x3eprint\x3c\/span\x3e -\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n# Example \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e\nconst \x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e = Object.freeze({\n  name: \x3cspan class=\x22hljs-string\x22\x3e\x27Jacopo\x27\x3c\/span\x3e, \n  \x3cspan class=\x22hljs-keyword\x22\x3epe\x3c\/span\x3e\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27dog\x27\x3c\/span\x3e,\n    name: \x3cspan class=\x22hljs-string\x22\x3e\x27Spock\x27\x3c\/span\x3e\n  }\n})\n\x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e.pet.name = \x3cspan class=\x22hljs-string\x22\x3e\x27Rocky\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e.pet.breed = \x3cspan class=\x22hljs-string\x22\x3e\x27German Shepherd\x27\x3c\/span\x3e\nconsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e.pet.name) \/\/ \x3cspan class=\x22hljs-keyword\x22\x3eprint\x3c\/span\x3e Rocky\nconsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eme\x3c\/span\x3e.pet.breed) \/\/ \x3cspan class=\x22hljs-keyword\x22\x3eprint\x3c\/span\x3e German Shepherd\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e即使是 \x3ccode\x3eObject.freeze()\x3c\/code\x3e 也只能防止顶层属性被修改，而无法限制对于嵌套属性的修改，这一点我们会在下文的浅拷贝与深拷贝部分继续讨论。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e变量赋值\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e按值传递\x3c\/h2\x3e\n\x3cp\x3eJavaScript 中永远是按值传递（pass-by-value），只不过当我们传递的是某个对象的引用时，这里的值指的是对象的引用。按值传递中函数的形参是被调用时所传实参的副本。修改形参的值并不会影响实参。而按引用传递（pass-by-reference）时，函数的形参接收实参的隐式引用，而不再是副本。这意味着函数形参的值如果被修改，实参也会被修改。同时两者指向相同的值。我们首先看下 C 中按值传递与引用传递的区别：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22void Modify(int p, int * q)\n{\n    p = 27; \/\/ 按值传递 - p是实参a的副本, 只有p被修改\n    *q = 27; \/\/ q是b的引用，q和b都被修改\n}\nint main()\n{\n    int a = 1;\n    int b = 1;\n    Modify(a, \x26amp;b);   \/\/ a 按值传递, b 按引用传递,\n                     \/\/ a 未变化, b 改变了\n    return(0);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cpp\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eModify\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e p, \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e * q)\x3c\/span\x3e\n\x3c\/span\x3e{\n    p = \x3cspan class=\x22hljs-number\x22\x3e27\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 按值传递 - p是实参a的副本, 只有p被修改\x3c\/span\x3e\n    *q = \x3cspan class=\x22hljs-number\x22\x3e27\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ q是b的引用，q和b都被修改\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emain\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\n\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e b = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    Modify(a, \x26amp;b);   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ a 按值传递, b 按引用传递,\x3c\/span\x3e\n                     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ a 未变化, b 改变了\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而在 JavaScript 中，对比例子如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function changeStuff(a, b, c)\n{\n  a = a * 10;\n  b.item = \x26quot;changed\x26quot;;\n  c = {item: \x26quot;changed\x26quot;};\n}\n\nvar num = 10;\nvar obj1 = {item: \x26quot;unchanged\x26quot;};\nvar obj2 = {item: \x26quot;unchanged\x26quot;};\n\nchangeStuff(num, obj1, obj2);\n\nconsole.log(num);\nconsole.log(obj1.item);    \nconsole.log(obj2.item);\n\n\/\/ 输出结果\n10\nchanged\nunchanged\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echangeStuff\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ea, b, c\x3c\/span\x3e)\n\x3c\/span\x3e{\n  a = a * \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n  b.item = \x3cspan class=\x22hljs-string\x22\x3e\x22changed\x22\x3c\/span\x3e;\n  c = {\x3cspan class=\x22hljs-attr\x22\x3eitem\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22changed\x22\x3c\/span\x3e};\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e num = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj1 = {\x3cspan class=\x22hljs-attr\x22\x3eitem\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22unchanged\x22\x3c\/span\x3e};\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj2 = {\x3cspan class=\x22hljs-attr\x22\x3eitem\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22unchanged\x22\x3c\/span\x3e};\n\nchangeStuff(num, obj1, obj2);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(num);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(obj1.item);    \n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(obj2.item);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出结果\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e\nchanged\nunchanged\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eJavaScript 按值传递就表现于在内部修改了 c 的值但是并不会影响到外部的 obj2 变量。如果我们更深入地来理解这个问题，JavaScript 对于对象的传递则是按共享传递的（pass-by-sharing，也叫按对象传递、按对象共享传递）。最早由Barbara Liskov. 在1974年的GLU语言中提出；该求值策略被用于Python、Java、Ruby、JS等多种语言。该策略的重点是：调用函数传参时，函数接受对象实参引用的副本(既不是按值传递的对象副本，也不是按引用传递的隐式引用)。 它和按引用传递的不同在于：在共享传递中对函数形参的赋值，不会影响实参的值。按共享传递的直接表现就是上述代码中的 obj1，当我们在函数内修改了 b 指向的对象的属性值时，我们使用 obj1 来访问相同的变量时同样会得到变化后的值。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e连续赋值\x3c\/h2\x3e\n\x3cp\x3eJavaScript 中是支持变量的连续赋值，即譬如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a=b=1;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3evar a\x3c\/span\x3e=b=1;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是在连续赋值中，会发生引用保留，可以考虑如下情景：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nvar a = {n:1};  \na.x = a = {n:2};  \nalert(a.x); \/\/ --\x3e undefined  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\nvar a = {\x3cspan class=\x22hljs-string\x22\x3en:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e};  \na.x = a = {\x3cspan class=\x22hljs-string\x22\x3en:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e};  \nalert(a.x); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ --\x26gt; undefined  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了解释上述问题，我们引入一个新的变量:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nvar a = {n:1};  \nvar b = a; \/\/ 持有a，以回查  \na.x = a = {n:2};  \nalert(a.x);\/\/ --\x3e undefined  \nalert(b.x);\/\/ --\x3e [object Object]  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode\x3e\nvar a = {n:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e}\x3cspan class=\x22hljs-comment\x22\x3e;  \x3c\/span\x3e\nvar \x3cspan class=\x22hljs-keyword\x22\x3eb \x3c\/span\x3e= a\x3cspan class=\x22hljs-comment\x22\x3e; \/\/ 持有a，以回查  \x3c\/span\x3e\na.x = a = {n:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e}\x3cspan class=\x22hljs-comment\x22\x3e;  \x3c\/span\x3e\nalert(a.x)\x3cspan class=\x22hljs-comment\x22\x3e;\/\/ --\x26gt; undefined  \x3c\/span\x3e\nalert(\x3cspan class=\x22hljs-keyword\x22\x3eb.x);\/\/ \x3c\/span\x3e--\x26gt; [object Object]  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e实际上在连续赋值中，值是直接赋予给变量指向的内存地址：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n              a.x  =  a  = {n:2}\n              │      │\n      {n:1}\x3c──┘      └─\x3e{n:2}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\n              \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.x\x3c\/span\x3e  =  \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e  = {n:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e}\n              │      │\n      {n:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e}\x26lt;──┘      └─\x26gt;{n:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3eDeconstruction: 解构赋值\x3c\/h2\x3e\n\x3cp\x3e解构赋值允许你使用类似数组或对象字面量的语法将数组和对象的属性赋给各种变量。这种赋值语法极度简洁，同时还比传统的属性访问方法更为清晰。传统的访问数组前三个元素的方式为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var first = someArray[0];\n    var second = someArray[1];\n    var third = someArray[2];\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e first = someArray[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e second = someArray[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e third = someArray[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e];\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而通过解构赋值的特性，可以变为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var [first, second, third] = someArray;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e [\x3cspan class=\x22hljs-built_in\x22\x3efirst\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3ethird\x3c\/span\x3e] = someArray;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ === Arrays\n\nvar [a, b] = [1, 2];\nconsole.log(a, b);\n\/\/=\x3e 1 2\n\n\n\/\/ Use from functions, only select from pattern\nvar foo = () =\x3e {\n  return [1, 2, 3];\n};\n\nvar [a, b] = foo();\nconsole.log(a, b);\n\/\/ =\x3e 1 2\n\n\n\/\/ Omit certain values\nvar [a, , b] = [1, 2, 3];\nconsole.log(a, b);\n\/\/ =\x3e 1 3\n\n\n\/\/ Combine with spread\/rest operator (accumulates the rest of the values)\nvar [a, ...b] = [1, 2, 3];\nconsole.log(a, b);\n\/\/ =\x3e 1 [ 2, 3 ]\n\n\n\/\/ Fail-safe.\nvar [, , , a, b] = [1, 2, 3];\nconsole.log(a, b);\n\/\/ =\x3e undefined undefined\n\n\n\/\/ Swap variables easily without temp\nvar a = 1, b = 2;\n[b, a] = [a, b];\nconsole.log(a, b);\n\/\/ =\x3e 2 1\n\n\n\/\/ Advance deep arrays\nvar [a, [b, [c, d]]] = [1, [2, [[[3, 4], 5], 6]]];\nconsole.log(\x26quot;a:\x26quot;, a, \x26quot;b:\x26quot;, b, \x26quot;c:\x26quot;, c, \x26quot;d:\x26quot;, d);\n\/\/ =\x3e a: 1 b: 2 c: [ [ 3, 4 ], 5 ] d: 6\n\n\n\/\/ === Objects\n\nvar {user: x} = {user: 5};\nconsole.log(x);\n\/\/ =\x3e 5\n\n\n\/\/ Fail-safe\nvar {user: x} = {user2: 5};\nconsole.log(x);\n\/\/ =\x3e undefined\n\n\n\/\/ More values\nvar {prop: x, prop2: y} = {prop: 5, prop2: 10};\nconsole.log(x, y);\n\/\/ =\x3e 5 10\n\n\/\/ Short-hand syntax\nvar { prop, prop2} = {prop: 5, prop2: 10};\nconsole.log(prop, prop2);\n\/\/ =\x3e 5 10\n\n\/\/ Equal to:\nvar { prop: prop, prop2: prop2} = {prop: 5, prop2: 10};\nconsole.log(prop, prop2);\n\/\/ =\x3e 5 10\n\n\/\/ Oops: This doesn\x27t work:\nvar a, b;\n{ a, b } = {a: 1, b: 2};\n\n\/\/ But this does work\nvar a, b;\n({ a, b } = {a: 1, b: 2});\nconsole.log(a, b);\n\/\/ =\x3e 1 2\n\n\/\/ This due to the grammar in JS. \n\/\/ Starting with { implies a block scope, not an object literal. \n\/\/ () converts to an expression.\n\n\/\/ From Harmony Wiki:\n\/\/ Note that object literals cannot appear in\n\/\/ statement positions, so a plain object\n\/\/ destructuring assignment statement\n\/\/  { x } = y must be parenthesized either\n\/\/ as ({ x } = y) or ({ x }) = y.\n\n\/\/ Combine objects and arrays\nvar {prop: x, prop2: [, y]} = {prop: 5, prop2: [10, 100]};\nconsole.log(x, y);\n\/\/ =\x3e 5 100\n\n\n\/\/ Deep objects\nvar {\n  prop: x,\n  prop2: {\n    prop2: {\n      nested: [ , , b]\n    }\n  }\n} = { prop: \x26quot;Hello\x26quot;, prop2: { prop2: { nested: [\x26quot;a\x26quot;, \x26quot;b\x26quot;, \x26quot;c\x26quot;]\x22}}\x22};\nconsole.log(x, b);\n\/\/ =\x3e Hello c\n\n\n\/\/ === Combining all to make fun happen\n\n\/\/ All well and good, can we do more? Yes!\n\/\/ Using as method parameters\nvar foo = function ({prop: x}) {\n  console.log(x);\n};\n\nfoo({invalid: 1});\nfoo({prop: 1});\n\/\/ =\x3e undefined\n\/\/ =\x3e 1\n\n\n\/\/ Can also use with the advanced example\nvar foo = function ({\n  prop: x,\n  prop2: {\n    prop2: {\n      nested: b\n    }\n  }\n}) {\n  console.log(x, ...b);\n};\nfoo({ prop: \x26quot;Hello\x26quot;, prop2: { prop2: { nested: [\x26quot;a\x26quot;, \x26quot;b\x26quot;, \x26quot;c\x26quot;]\x22}}\x22});\n\/\/ =\x3e Hello a b c\n\n\n\/\/ In combination with other ES2015 features.\n\n\/\/ Computed property names\nconst name = \x27fieldName\x27;\nconst computedObject = { [name]: name }; \/\/ (where object is { \x27fieldName\x27: \x27fieldName\x27 })\nconst { [name]: nameValue } = computedObject;\nconsole.log(nameValue)\n\/\/ =\x3e fieldName\n\n\n\n\/\/ Rest and defaults\nvar ajax = function ({ url = \x26quot;localhost\x26quot;, port: p = 80}, ...data) {\n  console.log(\x26quot;Url:\x26quot;, url, \x26quot;Port:\x26quot;, p, \x26quot;Rest:\x26quot;, data);\n};\n\najax({ url: \x26quot;someHost\x26quot; }, \x26quot;additional\x26quot;, \x26quot;data\x26quot;, \x26quot;hello\x26quot;);\n\/\/ =\x3e Url: someHost Port: 80 Rest: [ \x27additional\x27, \x27data\x27, \x27hello\x27 ]\n\najax({ }, \x26quot;additional\x26quot;, \x26quot;data\x26quot;, \x26quot;hello\x26quot;);\n\/\/ =\x3e Url: localhost Port: 80 Rest: [ \x27additional\x27, \x27data\x27, \x27hello\x27 ]\n\n\n\/\/ Ooops: Doesn\x27t work (in traceur)\nvar ajax = ({ url = \x26quot;localhost\x26quot;, port: p = 80}, ...data) =\x3e {\n  console.log(\x26quot;Url:\x26quot;, url, \x26quot;Port:\x26quot;, p, \x26quot;Rest:\x26quot;, data);\n};\najax({ }, \x26quot;additional\x26quot;, \x26quot;data\x26quot;, \x26quot;hello\x26quot;);\n\/\/ probably due to traceur compiler\n\nBut this does:\nvar ajax = ({ url: url = \x26quot;localhost\x26quot;, port: p = 80}, ...data) =\x3e {\n  console.log(\x26quot;Url:\x26quot;, url, \x26quot;Port:\x26quot;, p, \x26quot;Rest:\x26quot;, data);\n};\najax({ }, \x26quot;additional\x26quot;, \x26quot;data\x26quot;, \x26quot;hello\x26quot;);\n\n\n\/\/ Like _.pluck\nvar users = [\n  { user: \x26quot;Name1\x26quot; },\n  { user: \x26quot;Name2\x26quot; },\n  { user: \x26quot;Name2\x26quot; },\n  { user: \x26quot;Name3\x26quot; }\n];\nvar names = users.map( ({ user }) =\x3e user );\nconsole.log(names);\n\/\/ =\x3e [ \x27Name1\x27, \x27Name2\x27, \x27Name2\x27, \x27Name3\x27 ]\n\n\n\/\/ Advanced usage with Array Comprehension and default values\nvar users = [\n  { user: \x26quot;Name1\x26quot; },\n  { user: \x26quot;Name2\x26quot;, age: 2 },\n  { user: \x26quot;Name2\x26quot; },\n  { user: \x26quot;Name3\x26quot;, age: 4 }\n];\n\n[for ({ user, age = \x26quot;DEFAULT AGE\x26quot; } of users) console.log(user, age)];\n\/\/ =\x3e Name1 DEFAULT AGE\n\/\/ =\x3e Name2 2\n\/\/ =\x3e Name2 DEFAULT AGE\n\/\/ =\x3e Name3 4\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ === Arrays\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [a, b] = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e];\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/=\x26gt; 1 2\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Use from functions, only select from pattern\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e foo = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [a, b] = foo();\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 1 2\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Omit certain values\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [a, , b] = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 1 3\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Combine with spread\/rest operator (accumulates the rest of the values)\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [a, ...b] = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 1 [ 2, 3 ]\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Fail-safe.\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [, , , a, b] = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; undefined undefined\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Swap variables easily without temp\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, b = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n[b, a] = [a, b];\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 2 1\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Advance deep arrays\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [a, [b, [c, d]]] = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, [[[\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e], \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e], \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e]]];\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22a:\x22\x3c\/span\x3e, a, \x3cspan class=\x22hljs-string\x22\x3e\x22b:\x22\x3c\/span\x3e, b, \x3cspan class=\x22hljs-string\x22\x3e\x22c:\x22\x3c\/span\x3e, c, \x3cspan class=\x22hljs-string\x22\x3e\x22d:\x22\x3c\/span\x3e, d);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; a: 1 b: 2 c: [ [ 3, 4 ], 5 ] d: 6\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ === Objects\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: x} = {\x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e};\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 5\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Fail-safe\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: x} = {\x3cspan class=\x22hljs-attr\x22\x3euser2\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e};\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; undefined\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ More values\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: x, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: y} = {\x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e};\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x, y);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 5 10\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Short-hand syntax\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { prop, prop2} = {\x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e};\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(prop, prop2);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 5 10\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Equal to:\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: prop, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: prop2} = {\x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e};\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(prop, prop2);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 5 10\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Oops: This doesn\x27t work:\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a, b;\n{ a, b } = {\x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ But this does work\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a, b;\n({ a, b } = {\x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e});\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 1 2\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ This due to the grammar in JS. \x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Starting with { implies a block scope, not an object literal. \x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ () converts to an expression.\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ From Harmony Wiki:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Note that object literals cannot appear in\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ statement positions, so a plain object\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ destructuring assignment statement\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/  { x } = y must be parenthesized either\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ as ({ x } = y) or ({ x }) = y.\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Combine objects and arrays\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: x, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: [, y]} = {\x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e]};\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x, y);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 5 100\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Deep objects\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: x,\n  \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3enested\x3c\/span\x3e: [ , , b]\n    }\n  }\n} = { \x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: { \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: { \x3cspan class=\x22hljs-attr\x22\x3enested\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22b\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22c\x22\x3c\/span\x3e]\x22}}\x22};\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x, b);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Hello c\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ === Combining all to make fun happen\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ All well and good, can we do more? Yes!\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Using as method parameters\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e foo = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e{prop: x}\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n};\n\nfoo({\x3cspan class=\x22hljs-attr\x22\x3einvalid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e});\nfoo({\x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; undefined\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 1\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Can also use with the advanced example\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e foo = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e{\n  prop: x,\n  prop2: {\n    prop2: {\n      nested: b\n    }\n  }\n}\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x, ...b);\n};\nfoo({ \x3cspan class=\x22hljs-attr\x22\x3eprop\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: { \x3cspan class=\x22hljs-attr\x22\x3eprop2\x3c\/span\x3e: { \x3cspan class=\x22hljs-attr\x22\x3enested\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22b\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22c\x22\x3c\/span\x3e]\x22}}\x22});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Hello a b c\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ In combination with other ES2015 features.\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Computed property names\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e name = \x3cspan class=\x22hljs-string\x22\x3e\x27fieldName\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e computedObject = { [name]: name }; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (where object is { \x27fieldName\x27: \x27fieldName\x27 })\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { [name]: nameValue } = computedObject;\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(nameValue)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; fieldName\x3c\/span\x3e\n\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Rest and defaults\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ajax = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e{ url = \x3cspan class=\x22hljs-string\x22\x3e\x22localhost\x22\x3c\/span\x3e, port: p = \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e}, ...data\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22Url:\x22\x3c\/span\x3e, url, \x3cspan class=\x22hljs-string\x22\x3e\x22Port:\x22\x3c\/span\x3e, p, \x3cspan class=\x22hljs-string\x22\x3e\x22Rest:\x22\x3c\/span\x3e, data);\n};\n\najax({ \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22someHost\x22\x3c\/span\x3e }, \x3cspan class=\x22hljs-string\x22\x3e\x22additional\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Url: someHost Port: 80 Rest: [ \x27additional\x27, \x27data\x27, \x27hello\x27 ]\x3c\/span\x3e\n\najax({ }, \x3cspan class=\x22hljs-string\x22\x3e\x22additional\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Url: localhost Port: 80 Rest: [ \x27additional\x27, \x27data\x27, \x27hello\x27 ]\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Ooops: Doesn\x27t work (in traceur)\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ajax = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ url = \x3cspan class=\x22hljs-string\x22\x3e\x22localhost\x22\x3c\/span\x3e, port: p = \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e}, ...data\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22Url:\x22\x3c\/span\x3e, url, \x3cspan class=\x22hljs-string\x22\x3e\x22Port:\x22\x3c\/span\x3e, p, \x3cspan class=\x22hljs-string\x22\x3e\x22Rest:\x22\x3c\/span\x3e, data);\n};\najax({ }, \x3cspan class=\x22hljs-string\x22\x3e\x22additional\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ probably due to traceur compiler\x3c\/span\x3e\n\nBut \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e does:\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ajax = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ url: url = \x3cspan class=\x22hljs-string\x22\x3e\x22localhost\x22\x3c\/span\x3e, port: p = \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e}, ...data\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22Url:\x22\x3c\/span\x3e, url, \x3cspan class=\x22hljs-string\x22\x3e\x22Port:\x22\x3c\/span\x3e, p, \x3cspan class=\x22hljs-string\x22\x3e\x22Rest:\x22\x3c\/span\x3e, data);\n};\najax({ }, \x3cspan class=\x22hljs-string\x22\x3e\x22additional\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22hello\x22\x3c\/span\x3e);\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Like _.pluck\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e users = [\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name1\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name2\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name2\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name3\x22\x3c\/span\x3e }\n];\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e names = users.map( \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ user }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e user );\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(names);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [ \x27Name1\x27, \x27Name2\x27, \x27Name2\x27, \x27Name3\x27 ]\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Advanced usage with Array Comprehension and default values\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e users = [\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name1\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name2\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eage\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name2\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Name3\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eage\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e }\n];\n\n[\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e ({ user, age = \x3cspan class=\x22hljs-string\x22\x3e\x22DEFAULT AGE\x22\x3c\/span\x3e } \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e users) \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(user, age)];\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Name1 DEFAULT AGE\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Name2 2\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Name2 DEFAULT AGE\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; Name3 4\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e数组与迭代器\x3c\/h3\x3e\n\x3cp\x3e以上是数组解构赋值的一个简单示例，其语法的一般形式为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    [ variable1, variable2, ..., variableN ] = array;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ceylon\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e    [ \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, ..., variableN ] = array;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这将为variable1到variableN的变量赋予数组中相应元素项的值。如果你想在赋值的同时声明变量，可在赋值语句前加入\x3ccode\x3evar\x3c\/code\x3e、\x3ccode\x3elet\x3c\/code\x3e或\x3ccode\x3econst\x3c\/code\x3e关键字，例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var [ variable1, variable2, ..., variableN ] = array;\n    let [ variable1, variable2, ..., variableN ] = array;\n    const [ variable1, variable2, ..., variableN ] = array;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ceylon\x22\x3e\x3ccode\x3e    var [ \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, ..., variableN ] = array;\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e [ \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, ..., variableN ] = array;\n    const [ \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3evariable\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, ..., variableN ] = array;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e事实上，用\x3ccode\x3e变量\x3c\/code\x3e来描述并不恰当，因为你可以对任意深度的嵌套数组进行解构：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var [foo, [[bar], baz]] = [1, [[2], 3]];\n    console.log(foo);\n    \/\/ 1\n    console.log(bar);\n    \/\/ 2\n    console.log(baz);\n    \/\/ 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lua\x22\x3e\x3ccode\x3e    var [foo, \x3cspan class=\x22hljs-string\x22\x3e[[bar], baz]]\x3c\/span\x3e = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e[[2], 3]]\x3c\/span\x3e;\n    console.log(foo);\n    \/\/ \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    console.log(bar);\n    \/\/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n    console.log(baz);\n    \/\/ \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此外，你可以在对应位留空来跳过被解构数组中的某些元素：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var [,,third] = [\x26quot;foo\x26quot;, \x26quot;bar\x26quot;, \x26quot;baz\x26quot;];\n    console.log(third);\n    \/\/ \x26quot;baz\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode\x3e    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e [,,\x3cspan class=\x22hljs-built_in\x22\x3ethird\x3c\/span\x3e] = [\x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22bar\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22baz\x22\x3c\/span\x3e];\n    console.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3ethird\x3c\/span\x3e);\n    \/\/ \x3cspan class=\x22hljs-string\x22\x3e\x22baz\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而且你还可以通过“\x3ca href=\x22http:\/\/www.infoq.com\/cn\/articles\/es6-in-depth-rest-parameters-and-defaults\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e不定参数\x3c\/a\x3e”模式捕获数组中的所有尾随元素：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var [head, ...tail] = [1, 2, 3, 4];\n    console.log(tail);\n    \/\/ [2, 3, 4]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [head, ...tail] = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(tail);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [2, 3, 4]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当访问空数组或越界访问数组时，对其解构与对其索引的行为一致，最终得到的结果都是：\x3ccode\x3eundefined\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    console.log([][0]);\n    \/\/ undefined\n    var [missing] = [];\n    console.log(missing);\n    \/\/ undefined\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log([][\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ undefined\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [missing] = [];\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(missing);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ undefined\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e请注意，数组解构赋值的模式同样适用于任意迭代器：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    function* fibs() {\n      var a = 0;\n      var b = 1;\n      while (true) {\n        yield a;\n        [a, b] = [b, a \x2b b];\n      }\n    }\n    var [first, second, third, fourth, fifth, sixth] = fibs();\n    console.log(sixth);\n    \/\/ 5\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3efibs\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e a;\n        [a, b] = [b, a \x2b b];\n      }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [first, second, third, fourth, fifth, sixth] = fibs();\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(sixth);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 5\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e对象\x3c\/h3\x3e\n\x3cp\x3e通过解构对象，你可以把它的每个属性与不同的变量绑定，首先指定被绑定的属性，然后紧跟一个要解构的变量。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var robotA = { name: \x26quot;Bender\x26quot; };\n    var robotB = { name: \x26quot;Flexo\x26quot; };\n    var { name: nameA } = robotA;\n    var { name: nameB } = robotB;\n    console.log(nameA);\n    \/\/ \x26quot;Bender\x26quot;\n    console.log(nameB);\n    \/\/ \x26quot;Flexo\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e robotA = { \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Bender\x22\x3c\/span\x3e };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e robotB = { \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Flexo\x22\x3c\/span\x3e };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: nameA } = robotA;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: nameB } = robotB;\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(nameA);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Bender\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(nameB);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Flexo\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当属性名与变量名一致时，可以通过一种实用的句法简写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var { foo, bar } = { foo: \x26quot;lorem\x26quot;, bar: \x26quot;ipsum\x26quot; };\n    console.log(foo);\n    \/\/ \x26quot;lorem\x26quot;\n    console.log(bar);\n    \/\/ \x26quot;ipsum\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { foo, bar } = { \x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22lorem\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ebar\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22ipsum\x22\x3c\/span\x3e };\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(foo);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22lorem\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(bar);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22ipsum\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e与数组解构一样，你可以随意嵌套并进一步组合对象解构：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var complicatedObj = {\n      arrayProp: [\n        \x26quot;Zapp\x26quot;,\n        { second: \x26quot;Brannigan\x26quot; }\n      ]\n    };\n    var { arrayProp: [first, { second }] } = complicatedObj;\n    console.log(first);\n    \/\/ \x26quot;Zapp\x26quot;\n    console.log(second);\n    \/\/ \x26quot;Brannigan\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e complicatedObj = {\n      \x3cspan class=\x22hljs-attr\x22\x3earrayProp\x3c\/span\x3e: [\n        \x3cspan class=\x22hljs-string\x22\x3e\x22Zapp\x22\x3c\/span\x3e,\n        { \x3cspan class=\x22hljs-attr\x22\x3esecond\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Brannigan\x22\x3c\/span\x3e }\n      ]\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3earrayProp\x3c\/span\x3e: [first, { second }] } = complicatedObj;\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(first);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Zapp\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(second);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Brannigan\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当你解构一个未定义的属性时，得到的值为\x3ccode\x3eundefined\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var { missing } = {};\n    console.log(missing);\n    \/\/ undefined\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { missing } = {};\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(missing);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ undefined\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e请注意，当你解构对象并赋值给变量时，如果你已经声明或不打算声明这些变量（亦即赋值语句前没有\x3ccode\x3elet\x3c\/code\x3e、\x3ccode\x3econst\x3c\/code\x3e或\x3ccode\x3evar\x3c\/code\x3e关键字），你应该注意这样一个潜在的语法错误：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    { blowUp } = { blowUp: 10 };\n    \/\/ Syntax error 语法错误\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e    { \x3cspan class=\x22hljs-keyword\x22\x3eblowUp \x3c\/span\x3e} = { \x3cspan class=\x22hljs-keyword\x22\x3eblowUp: \x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e }\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    \/\/ Syntax error 语法错误\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为什么会出错？这是因为JavaScript语法通知解析引擎将任何以{开始的语句解析为一个块语句（例如，\x3ccode\x3e{console}\x3c\/code\x3e是一个合法块语句）。解决方案是将整个表达式用一对小括号包裹：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    ({ safe } = {});\n    \/\/ No errors 没有语法错误\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e    (\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{ safe }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e = \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e);\n    \/\/ No errors 没有语法错误\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e默认值\x3c\/h3\x3e\n\x3cp\x3e当你要解构的属性未定义时你可以提供一个默认值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var [missing = true] = [];\n    console.log(missing);\n    \/\/ true\n    var { message: msg = \x26quot;Something went wrong\x26quot; } = {};\n    console.log(msg);\n    \/\/ \x26quot;Something went wrong\x26quot;\n    var { x = 3 } = {};\n    console.log(x);\n    \/\/ 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [missing = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e] = [];\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(missing);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e: msg = \x3cspan class=\x22hljs-string\x22\x3e\x22Something went wrong\x22\x3c\/span\x3e } = {};\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(msg);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Something went wrong\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e { x = \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e } = {};\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于解构中允许对对象进行解构，并且还支持默认值，那么完全可以将解构应用在函数参数以及参数的默认值中。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function removeBreakpoint({ url, line, column }) {\n      \/\/ ...\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eremoveBreakpoint\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ url, line, column }\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当我们构造一个提供配置的对象，并且需要这个对象的属性携带默认值时，解构特性就派上用场了。举个例子，jQuery的\x3ccode\x3eajax\x3c\/code\x3e函数使用一个配置对象作为它的第二参数，我们可以这样重写函数定义：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22jQuery.ajax = function (url, {\n      async = true,\n      beforeSend = noop,\n      cache = true,\n      complete = noop,\n      crossDomain = false,\n      global = true,\n      \/\/ ... 更多配置\n    }) {\n      \/\/ ... do stuff\n    };\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3ejQuery.ajax = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eurl, {\n      async = true,\n      beforeSend = noop,\n      cache = true,\n      complete = noop,\n      crossDomain = false,\n      global = true,\n      \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e ... 更多配置\n    }\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ... do stuff\x3c\/span\x3e\n    };\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同样，解构也可以应用在函数的多重返回值中，可以类似于其他语言中的元组的特性：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function returnMultipleValues() {\n      return [1, 2];\n    }\nvar [foo, bar] = returnMultipleValues();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ereturnMultipleValues\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e];\n    }\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e [foo, bar] = returnMultipleValues();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3eThree Dots\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3eRest Operator\x3c\/h3\x3e\n\x3cp\x3e在 JavaScript 函数调用时我们往往会使用内置的 arguments 对象来获取函数的调用参数，不过这种方式却存在着很多的不方便性。譬如 arguments 对象是 Array-Like 对象，无法直接运用数组的 .map() 或者 .forEach() 函数；并且因为 arguments 是绑定于当前函数作用域，如果我们希望在嵌套函数里使用外层函数的 arguments 对象，我们还需要创建中间变量。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function outerFunction() {  \n   \/\/ store arguments into a separated variable\n   var argsOuter = arguments;\n   function innerFunction() {\n      \/\/ args is an array-like object\n      var even = Array.prototype.map.call(argsOuter, function(item) {\n         \/\/ do something with argsOuter               \n      });\n   }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eouterFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{  \n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ store arguments into a separated variable\x3c\/span\x3e\n   \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e argsOuter = \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e;\n   \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3einnerFunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ args is an array-like object\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e even = \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e.prototype.map.call(argsOuter, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) \x3c\/span\x3e{\n         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ do something with argsOuter               \x3c\/span\x3e\n      });\n   }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eES6 中为我们提供了 Rest Operator 来以数组形式获取函数的调用参数，Rest Operator 也可以用于在解构赋值中以数组方式获取剩余的变量：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function countArguments(...args) {  \n   return args.length;\n}\n\/\/ get the number of arguments\ncountArguments(\x27welcome\x27, \x27to\x27, \x27Earth\x27); \/\/ =\x3e 3  \n\/\/ destructure an array\nlet otherSeasons, autumn;  \n[autumn, ...otherSeasons] = cold;\notherSeasons      \/\/ =\x3e [\x27winter\x27]  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecountArguments\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-rest_arg\x22\x3e...args\x3c\/span\x3e)\x3c\/span\x3e \x3c\/span\x3e{  \n   \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e args.length;\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ get the number of arguments\x3c\/span\x3e\ncountArguments(\x3cspan class=\x22hljs-string\x22\x3e\x27welcome\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27to\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Earth\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 3  \x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ destructure an array\x3c\/span\x3e\nlet otherSeasons, autumn;  \n[autumn, ...otherSeasons] = cold;\notherSeasons      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [\x27winter\x27]  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e典型的 Rest Operator 的应用场景譬如进行不定数组的指定类型过滤：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function filter(type, ...items) {  \n  return items.filter(item =\x3e typeof item === type);\n}\nfilter(\x27boolean\x27, true, 0, false);        \/\/ =\x3e [true, false]  \nfilter(\x27number\x27, false, 4, \x27Welcome\x27, 7); \/\/ =\x3e [4, 7]  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efilter\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(type, \x3cspan class=\x22hljs-rest_arg\x22\x3e...items\x3c\/span\x3e)\x3c\/span\x3e \x3c\/span\x3e{  \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e items.filter(item =\x26gt; \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e item === type);\n}\nfilter(\x3cspan class=\x22hljs-string\x22\x3e\x27boolean\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [true, false]  \x3c\/span\x3e\nfilter(\x3cspan class=\x22hljs-string\x22\x3e\x27number\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Welcome\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [4, 7]  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e尽管 Arrow Function 中并没有定义 arguments 对象，但是我们仍然可以使用 Rest Operator 来获取 Arrow Function 的调用参数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(function() {\n  let outerArguments = arguments;\n  const concat = (...items) =\x3e {\n    console.log(arguments === outerArguments); \/\/ =\x3e true\n    return items.reduce((result, item) =\x3e result \x2b item, \x27\x27);\n  };\n  concat(1, 5, \x27nine\x27); \/\/ =\x3e \x2715nine\x27\n})();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e outerArguments = \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e concat = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e...items\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e === outerArguments); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e items.reduce(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresult, item\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e result \x2b item, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e);\n  };\n  concat(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27nine\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; \x2715nine\x27\x3c\/span\x3e\n})();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3eSpread Operator\x3c\/h3\x3e\n\x3cp\x3eSpread Operator 则与 Rest Opeator 的功能正好相反，其常用于进行数组构建与解构赋值，也可以用于将某个数组转化为函数的参数列表，其基本使用方式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let cold = [\x27autumn\x27, \x27winter\x27];  \nlet warm = [\x27spring\x27, \x27summer\x27];  \n\/\/ construct an array\n[...cold, ...warm] \/\/ =\x3e [\x27autumn\x27, \x27winter\x27, \x27spring\x27, \x27summer\x27]\n\/\/ function arguments from an array\ncold.push(...warm);  \ncold              \/\/ =\x3e [\x27autumn\x27, \x27winter\x27, \x27spring\x27, \x27summer\x27]  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs smali\x22\x3e\x3ccode\x3elet cold = [\x27autumn\x27, \x27winter\x27];  \nlet warm = [\x27spring\x27, \x27summer\x27];  \n\/\/ construct an\x3cspan class=\x22hljs-built_in\x22\x3e array\n\x3c\/span\x3e[...cold, ...warm] \/\/ =\x26gt; [\x27autumn\x27, \x27winter\x27, \x27spring\x27, \x27summer\x27]\n\/\/ function arguments from an\x3cspan class=\x22hljs-built_in\x22\x3e array\n\x3c\/span\x3ecold.push(...warm);  \ncold              \/\/ =\x26gt; [\x27autumn\x27, \x27winter\x27, \x27spring\x27, \x27summer\x27]  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们也可以使用 Spread Operator 来简化函数调用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class King {  \n   constructor(name, country) {\n     this.name = name;\n     this.country = country;     \n   }\n   getDescription() {\n     return `${this.name} leads ${this.country}`;\n   }\n}\nvar details = [\x27Alexander the Great\x27, \x27Greece\x27];  \nvar Alexander = new King(...details);  \nAlexander.getDescription(); \/\/ =\x3e \x27Alexander the Great leads Greece\x27  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eKing\x3c\/span\x3e \x3c\/span\x3e{  \n   \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(name, country) {\n     \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;\n     \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.country = country;     \n   }\n   getDescription() {\n     \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name}\x3c\/span\x3e leads \x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.country}\x3c\/span\x3e`\x3c\/span\x3e;\n   }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e details = [\x3cspan class=\x22hljs-string\x22\x3e\x27Alexander the Great\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27Greece\x27\x3c\/span\x3e];  \n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Alexander = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e King(...details);  \nAlexander.getDescription(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; \x27Alexander the Great leads Greece\x27  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e还有另外一个好处就是可以用来替换 Object.assign 来方便地从旧有的对象中创建新的对象，并且能够修改部分值；譬如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {a:1,b:2}\nvar obj_new_1 = Object.assign({},obj,{a:3});\nvar obj_new_2 = {\n  ...obj,\n  a:3\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = \x3cspan class=\x22hljs-comment\x22\x3e{a:1,b:2}\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj_new_1 = \x3cspan class=\x22hljs-keyword\x22\x3eObject\x3c\/span\x3e.assign(\x3cspan class=\x22hljs-comment\x22\x3e{}\x3c\/span\x3e,obj,\x3cspan class=\x22hljs-comment\x22\x3e{a:3}\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj_new_2 = \x3cspan class=\x22hljs-comment\x22\x3e{\n  ...obj,\n  a:3\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后我们还需要讨论下 Spread Operator 与 Iteration Protocols，实际上 Spread Operator 也是使用的 Iteration Protocols 来进行元素遍历与结果搜集；因此我们也可以通过自定义 Iterator 的方式来控制 Spread Operator 的表现。Iterable 协议规定了对象必须包含 Symbol.iterator 方法，该方法返回某个 Iterator 对象：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22interface Iterable {  \n  [Symbol.iterator]() {\n    \/\/...\n    return Iterator;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode\x3einterface Iterable {  \n  [\x3cspan class=\x22hljs-string\x22\x3eSymbol.iterator\x3c\/span\x3e](\x3cspan class=\x22hljs-link\x22\x3e\x3c\/span\x3e) {\n\x3cspan class=\x22hljs-code\x22\x3e    \/\/...\x3c\/span\x3e\n\x3cspan class=\x22hljs-code\x22\x3e    return Iterator;\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e该 Iterator 对象从属于 Iterator Protocol，其需要提供 next 成员方法，该方法会返回某个包含 done 与 value 属性的对象：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22interface Iterator {  \n  next() {\n     \/\/...\n     return {\n        value: \x3cvalue\x3e,\n        done: \x3cboolean\x3e\n     };\n  };\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3einterface \x3cspan class=\x22hljs-class\x22\x3eIterator \x3c\/span\x3e{  \n  next() {\n     \x3cspan class=\x22hljs-comment\x22\x3e\/\/...\x3c\/span\x3e\n     \x3cspan class=\x22hljs-class\x22\x3ereturn \x3c\/span\x3e{\n\x3cspan class=\x22hljs-symbol\x22\x3e        value:\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e\x26lt;value\x26gt;\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        done:\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e\x26lt;boolean\x26gt;\x3c\/span\x3e\n     };\n  };\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e典型的 Iterable 对象就是字符串：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var str = \x27hi\x27;  \nvar iterator = str[Symbol.iterator]();  \niterator.toString(); \/\/ =\x3e \x27[object String Iterator]\x27  \niterator.next();     \/\/ =\x3e { value: \x27h\x27, done: false }  \niterator.next();     \/\/ =\x3e { value: \x27i\x27, done: false }  \niterator.next();     \/\/ =\x3e { value: undefined, done: true }  \n[...str];            \/\/ =\x3e [\x27h\x27, \x27i\x27]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3evar str = \x3cspan class=\x22hljs-string\x22\x3e\x27hi\x27\x3c\/span\x3e;  \nvar iterator = str[Symbol.iterator]();  \niterator.toString(); \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e =\x26gt; \x3cspan class=\x22hljs-string\x22\x3e\x27[object String Iterator]\x27\x3c\/span\x3e  \niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e();     \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e =\x26gt; { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27h\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e }  \niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e();     \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e =\x26gt; { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27i\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e }  \niterator.\x3cspan class=\x22hljs-keyword\x22\x3enext\x3c\/span\x3e();     \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e =\x26gt; { \x3cspan class=\x22hljs-symbol\x22\x3evalue:\x3c\/span\x3e undefined, \x3cspan class=\x22hljs-symbol\x22\x3edone:\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e }  \n[...str];            \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e =\x26gt; [\x3cspan class=\x22hljs-string\x22\x3e\x27h\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27i\x27\x3c\/span\x3e]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们可以通过自定义 array-like 对象的 Symbol.iterator 属性来控制其在迭代器上的效果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function iterator() {  \n  var index = 0;\n  return {\n    next: () =\x3e ({ \/\/ Conform to Iterator protocol\n      done : index \x3e= this.length,\n      value: this[index\x2b\x2b]\n    })\n  };\n}\nvar arrayLike = {  \n  0: \x27Cat\x27,\n  1: \x27Bird\x27,\n  length: 2\n};\n\/\/ Conform to Iterable Protocol\narrayLike[Symbol.iterator] = iterator;  \nvar array = [...arrayLike];  \nconsole.log(array); \/\/ =\x3e [\x27Cat\x27, \x27Bird\x27]  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eiterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{  \n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e index = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({ \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Conform to Iterator protocol\x3c\/span\x3e\n      done : index \x26gt;= \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.length,\n      \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e[index\x2b\x2b]\n    })\n  };\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e arrayLike = {  \n  \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Cat\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Bird\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3elength\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n};\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Conform to Iterable Protocol\x3c\/span\x3e\narrayLike[\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.iterator] = iterator;  \n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e array = [...arrayLike];  \n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(array); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [\x27Cat\x27, \x27Bird\x27]  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3earrayLike[Symbol.iterator]\x3c\/code\x3e 为该对象创建了值为某个迭代器的属性，从而使该对象符合了 Iterable 协议；而 iterator() 又返回了包含 next 成员方法的对象，使得该对象最终具有和数组相似的行为表现。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader15\x22\x3eCopy Composite Data Types: 复合类型的拷贝\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3eShallow Copy: 浅拷贝\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e顶层属性遍历\x3c\/h3\x3e\n\x3cp\x3e浅拷贝是指复制对象的时候，指对第一层键值对进行独立的复制。一个简单的实现如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 浅拷贝实现\nfunction shadowCopy(target, source){ \n    if( !source || typeof source !== \x27object\x27){\n        return;\n    }\n    \/\/ 这个方法有点小trick，target一定得事先定义好，不然就不能改变实参了。\n       \/\/ 具体原因解释可以看参考资料中 JS是值传递还是引用传递\n    if( !target || typeof target !== \x27object\x27){\n        return;\n    }  \n    \/\/ 这边最好区别一下对象和数组的复制\n    for(var key in source){\n        if(source.hasOwnProperty(key)){\n            target[key] = source[key];\n        }\n    }\n}\n\n\/\/测试例子\nvar arr = [1,2,3];\nvar arr2 = [];\nshadowCopy(arr2, arr);\nconsole.log(arr2);\n\/\/[1,2,3]\n\nvar today = {\n    weather: \x27Sunny\x27,\n    date: {\n        week: \x27Wed\x27\n    } \n}\n\nvar tomorrow = {};\nshadowCopy(tomorrow, today);\nconsole.log(tomorrow);\n\/\/ Object {weather: \x26quot;Sunny\x26quot;, date: Object}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 浅拷贝实现\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eshadowCopy\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etarget, source\x3c\/span\x3e)\x3c\/span\x3e{ \n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e( !source || \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e source !== \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这个方法有点小trick，target一定得事先定义好，不然就不能改变实参了。\x3c\/span\x3e\n       \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 具体原因解释可以看参考资料中 JS是值传递还是引用传递\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e( !target || \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e target !== \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n    }  \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这边最好区别一下对象和数组的复制\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e source){\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(source.hasOwnProperty(key)){\n            target[key] = source[key];\n        }\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/测试例子\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e arr = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e arr2 = [];\nshadowCopy(arr2, arr);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arr2);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/[1,2,3]\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e today = {\n    \x3cspan class=\x22hljs-attr\x22\x3eweather\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Sunny\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3edate\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eweek\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Wed\x27\x3c\/span\x3e\n    } \n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e tomorrow = {};\nshadowCopy(tomorrow, today);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(tomorrow);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Object {weather: \x22Sunny\x22, date: Object}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader18\x22\x3eObject.assign\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3eObject.assign()\x3c\/strong\x3e 方法可以把任意多个的\x3cstrong\x3e源对象\x3c\/strong\x3e所拥有的\x3cstrong\x3e自身可枚举属性\x3c\/strong\x3e拷贝给目标对象，然后返回目标对象。\x3ccode\x3eObject.assign\x3c\/code\x3e 方法只会拷贝源对象自身的并且可枚举的属性到目标对象身上。注意，对于访问器属性，该方法会执行那个访问器属性的 \x3ccode\x3egetter\x3c\/code\x3e 函数，然后把得到的值拷贝给目标对象，如果你想拷贝访问器属性本身，请使用 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Object\/getOwnPropertyDescriptor\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eObject.getOwnPropertyDescriptor()\x3c\/code\x3e\x3c\/a\x3e 和\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Object\/defineProperties\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eObject.defineProperties()\x3c\/code\x3e\x3c\/a\x3e 方法。\x3c\/p\x3e\n\x3cp\x3e注意，\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/String\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3e字符串\x3c\/code\x3e\x3c\/a\x3e类型和 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Symbol\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3esymbol\x3c\/code\x3e\x3c\/a\x3e 类型的属性都会被拷贝。\x3c\/p\x3e\n\x3cp\x3e注意，在属性拷贝过程中可能会产生异常，比如目标对象的某个只读属性和源对象的某个属性同名，这时该方法会抛出一个 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/TypeError\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eTypeError\x3c\/code\x3e\x3c\/a\x3e 异常，拷贝过程中断，已经拷贝成功的属性不会受到影响，还未拷贝的属性将不会再被拷贝。\x3c\/p\x3e\n\x3cp\x3e注意， \x3ccode\x3eObject.assign\x3c\/code\x3e 会跳过那些值为 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/null\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3enull\x3c\/code\x3e\x3c\/a\x3e 或 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/undefined\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eundefined\x3c\/code\x3e\x3c\/a\x3e 的源对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Object.assign(target, ...sources)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eObject\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.assign\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3etarget\x3c\/span\x3e, ..\x3cspan class=\x22hljs-selector-class\x22\x3e.sources\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e例子：浅拷贝一个对象\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = { a: 1 };\nvar copy = Object.assign({}, obj);\nconsole.log(copy); \/\/ { a: 1 }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs oxygene\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = \x3cspan class=\x22hljs-comment\x22\x3e{ a: 1 }\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ecopy\x3c\/span\x3e = Object.assign(\x3cspan class=\x22hljs-comment\x22\x3e{}\x3c\/span\x3e, obj);\nconsole.log(\x3cspan class=\x22hljs-keyword\x22\x3ecopy\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { a: 1 }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e例子：合并若干个对象\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var o1 = { a: 1 };\nvar o2 = { b: 2 };\nvar o3 = { c: 3 };\n\nvar obj = Object.assign(o1, o2, o3);\nconsole.log(obj); \/\/ { a: 1, b: 2, c: 3 }\nconsole.log(o1);  \/\/ { a: 1, b: 2, c: 3 }, 注意目标对象自身也会改变。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e o1 = { \x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e };\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e o2 = { \x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e };\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e o3 = { \x3cspan class=\x22hljs-attr\x22\x3ec\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e };\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign(o1, o2, o3);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(obj); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { a: 1, b: 2, c: 3 }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(o1);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { a: 1, b: 2, c: 3 }, 注意目标对象自身也会改变。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e例子：拷贝 symbol 类型的属性\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var o1 = { a: 1 };\nvar o2 = { [Symbol(\x26quot;foo\x26quot;)]: 2 };\n\nvar obj = Object.assign({}, o1, o2);\nconsole.log(obj); \/\/ { a: 1, [Symbol(\x26quot;foo\x26quot;)]: 2 }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e o1 = { \x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e };\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e o2 = { [\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e)]: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e };\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({}, o1, o2);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(obj); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { a: 1, [Symbol(\x22foo\x22)]: 2 }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e例子：继承属性和不可枚举属性是不能拷贝的\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = Object.create({foo: 1}, { \/\/ foo 是个继承属性。\n    bar: {\n        value: 2  \/\/ bar 是个不可枚举属性。\n    },\n    baz: {\n        value: 3,\n        enumerable: true  \/\/ baz 是个自身可枚举属性。\n    }\n});\n\nvar copy = Object.assign({}, obj);\nconsole.log(copy); \/\/ { baz: 3 }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.create({\x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e}, { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ foo 是个继承属性。\x3c\/span\x3e\n    bar: {\n        \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ bar 是个不可枚举属性。\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ebaz\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eenumerable\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ baz 是个自身可枚举属性。\x3c\/span\x3e\n    }\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e copy = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({}, obj);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(copy); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { baz: 3 }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e例子：原始值会被隐式转换成其包装对象\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var v1 = \x26quot;123\x26quot;;\nvar v2 = true;\nvar v3 = 10;\nvar v4 = Symbol(\x26quot;foo\x26quot;)\n\nvar obj = Object.assign({}, v1, null, v2, undefined, v3, v4); \n\/\/ 源对象如果是原始值，会被自动转换成它们的包装对象，\n\/\/ 而 null 和 undefined 这两种原始值会被完全忽略。\n\/\/ 注意，只有字符串的包装对象才有可能有自身可枚举属性。\nconsole.log(obj); \/\/ { \x26quot;0\x26quot;: \x26quot;1\x26quot;, \x26quot;1\x26quot;: \x26quot;2\x26quot;, \x26quot;2\x26quot;: \x26quot;3\x26quot; }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e v1 = \x3cspan class=\x22hljs-string\x22\x3e\x22123\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e v2 = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e v3 = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e v4 = Symbol(\x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = Object.assign({}, v1, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, v2, \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e, v3, v4); \n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/ 源对象如果是原始值，会被自动转换成它们的包装对象，\n\/\/\x3c\/span\x3e 而 \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e 和 \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e 这两种原始值会被完全忽略。\n\x3cspan class=\x22hljs-regexp\x22\x3e\/\/ 注意，只有字符串的包装对象才有可能有自身可枚举属性。\nconsole.log(obj); \/\/\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3e\x220\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x221\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x221\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x222\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x223\x22\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e例子：拷贝属性过程中发生异常\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var target = Object.defineProperty({}, \x26quot;foo\x26quot;, {\n    value: 1,\n    writeable: false\n}); \/\/ target 的 foo 属性是个只读属性。\n\nObject.assign(target, {bar: 2}, {foo2: 3, foo: 3, foo3: 3}, {baz: 4});\n\/\/ TypeError: \x26quot;foo\x26quot; is read-only\n\/\/ 注意这个异常是在拷贝第二个源对象的第二个属性时发生的。\n\nconsole.log(target.bar);  \/\/ 2，说明第一个源对象拷贝成功了。\nconsole.log(target.foo2); \/\/ 3，说明第二个源对象的第一个属性也拷贝成功了。\nconsole.log(target.foo);  \/\/ 1，只读属性不能被覆盖，所以第二个源对象的第二个属性拷贝失败了。\nconsole.log(target.foo3); \/\/ undefined，异常之后 assign 方法就退出了，第三个属性是不会被拷贝到的。\nconsole.log(target.baz);  \/\/ undefined，第三个源对象更是不会被拷贝到的。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e target = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.defineProperty({}, \x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e, {\n    \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ewriteable\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n}); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ target 的 foo 属性是个只读属性。\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign(target, {\x3cspan class=\x22hljs-attr\x22\x3ebar\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3efoo2\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3efoo\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3efoo3\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e}, {\x3cspan class=\x22hljs-attr\x22\x3ebaz\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ TypeError: \x22foo\x22 is read-only\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注意这个异常是在拷贝第二个源对象的第二个属性时发生的。\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(target.bar);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 2，说明第一个源对象拷贝成功了。\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(target.foo2); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 3，说明第二个源对象的第一个属性也拷贝成功了。\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(target.foo);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1，只读属性不能被覆盖，所以第二个源对象的第二个属性拷贝失败了。\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(target.foo3); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ undefined，异常之后 assign 方法就退出了，第三个属性是不会被拷贝到的。\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(target.baz);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ undefined，第三个源对象更是不会被拷贝到的。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3e使用 \x3ccode\x3e[].concat\x3c\/code\x3e 来复制数组\x3c\/h3\x3e\n\x3cp\x3e同样类似于对于对象的复制，我们建议使用\x3ccode\x3e[].concat\x3c\/code\x3e来进行数组的深复制:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var list = [1, 2, 3];\nvar changedList = [].concat(list);\nchangedList[1] = 2;\nlist === changedList; \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3evar \x3cspan class=\x22hljs-type\x22\x3elist\x3c\/span\x3e = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\nvar changedList = [].concat(\x3cspan class=\x22hljs-type\x22\x3elist\x3c\/span\x3e);\nchangedList[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n\x3cspan class=\x22hljs-type\x22\x3elist\x3c\/span\x3e === changedList; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同样的，\x3ccode\x3econcat\x3c\/code\x3e方法也只能保证一层深复制:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e list = [[1,2,3]]\n[ [ 1, 2, 3 ] ]\n\x3e new_list = [].concat(list)\n[ [ 1, 2, 3 ] ]\n\x3e new_list[0][0] = 4\n4\n\x3e list\n[ [ 4, 2, 3 ] ]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3e\x26gt; \x3cspan class=\x22hljs-type\x22\x3elist\x3c\/span\x3e = [[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]]\n[ [ \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e ] ]\n\x26gt; new_list = [].concat(\x3cspan class=\x22hljs-type\x22\x3elist\x3c\/span\x3e)\n[ [ \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e ] ]\n\x26gt; new_list[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e][\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] = \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\n\x26gt; \x3cspan class=\x22hljs-type\x22\x3elist\x3c\/span\x3e\n[ [ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e ] ]\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader20\x22\x3e浅拷贝的缺陷\x3c\/h3\x3e\n\x3cp\x3e不过需要注意的是，assign是浅拷贝，或者说，它是一级深拷贝，举两个例子说明：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const defaultOpt = {\n    title: {\n        text: \x27hello world\x27,\n        subtext: \x27It\\\x27s my world.\x27\n    }\n};\n\nconst opt = Object.assign({}, defaultOpt, {\n    title: {\n        subtext: \x27Yes, your world.\x27\n    }\n});\n\nconsole.log(opt);\n\n\/\/ 预期结果\n{\n    title: {\n        text: \x27hello world\x27,\n        subtext: \x27Yes, your world.\x27\n    }\n}\n\/\/ 实际结果\n{\n    title: {\n        subtext: \x27Yes, your world.\x27\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e defaultOpt = {\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hello world\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3esubtext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27It\\\x27s my world.\x27\x3c\/span\x3e\n    }\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e opt = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({}, defaultOpt, {\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3esubtext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Yes, your world.\x27\x3c\/span\x3e\n    }\n});\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(opt);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 预期结果\x3c\/span\x3e\n{\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hello world\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3esubtext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Yes, your world.\x27\x3c\/span\x3e\n    }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 实际结果\x3c\/span\x3e\n{\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3esubtext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Yes, your world.\x27\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面这个例子中，对于对象的一级子元素而言，只会替换引用，而不会动态的添加内容。那么，其实assign并没有解决对象的引用混乱问题，参考下下面这个例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const defaultOpt = {\n    title: {\n        text: \x27hello world\x27,\n        subtext: \x27It\\\x27s my world.\x27\n    } \n};\n\nconst opt1 = Object.assign({}, defaultOpt);\nconst opt2 = Object.assign({}, defaultOpt);\nopt2.title.subtext = \x27Yes, your world.\x27;\n\nconsole.log(\x27opt1:\x27);\nconsole.log(opt1);\nconsole.log(\x27opt2:\x27);\nconsole.log(opt2);\n\n\/\/ 结果\nopt1:\n{\n    title: {\n        text: \x27hello world\x27,\n        subtext: \x27Yes, your world.\x27\n    }\n}\nopt2:\n{\n    title: {\n        text: \x27hello world\x27,\n        subtext: \x27Yes, your world.\x27\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e defaultOpt = {\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hello world\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3esubtext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27It\\\x27s my world.\x27\x3c\/span\x3e\n    } \n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e opt1 = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({}, defaultOpt);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e opt2 = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({}, defaultOpt);\nopt2.title.subtext = \x3cspan class=\x22hljs-string\x22\x3e\x27Yes, your world.\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27opt1:\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(opt1);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27opt2:\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(opt2);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 结果\x3c\/span\x3e\nopt1:\n{\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hello world\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3esubtext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Yes, your world.\x27\x3c\/span\x3e\n    }\n}\nopt2:\n{\n    \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27hello world\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3esubtext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Yes, your world.\x27\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader21\x22\x3eDeepCopy: 深拷贝\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader22\x22\x3e递归属性遍历\x3c\/h3\x3e\n\x3cp\x3e一般来说，在JavaScript中考虑复合类型的深层复制的时候，往往就是指对于Date、Object与Array这三个复合类型的处理。我们能想到的最常用的方法就是先创建一个空的新对象，然后递归遍历旧对象，直到发现基础类型的子节点才赋予到新对象对应的位置。不过这种方法会存在一个问题，就是JavaScript中存在着神奇的原型机制，并且这个原型会在遍历的时候出现，然后原型不应该被赋予给新对象。那么在遍历的过程中，我们应该考虑使用\x3ccode\x3ehasOenProperty\x3c\/code\x3e方法来过滤掉那些继承自原型链上的属性：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function clone(obj) {\n    var copy;\n\n    \/\/ Handle the 3 simple types, and null or undefined\n    if (null == obj || \x26quot;object\x26quot; != typeof obj) return obj;\n\n    \/\/ Handle Date\n    if (obj instanceof Date) {\n        copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    \/\/ Handle Array\n    if (obj instanceof Array) {\n        copy = [];\n        for (var i = 0, len = obj.length; i \x3c len; i\x2b\x2b) {\n            copy[i] = clone(obj[i]);\n        }\n        return copy;\n    }\n\n    \/\/ Handle Object\n    if (obj instanceof Object) {\n        copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\x26quot;Unable to copy obj! Its type isn\x27t supported.\x26quot;);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eclone\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e copy;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Handle the 3 simple types, and null or undefined\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e == obj || \x3cspan class=\x22hljs-string\x22\x3e\x22object\x22\x3c\/span\x3e != \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e obj;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Handle Date\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (obj \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e) {\n        copy = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e();\n        copy.setTime(obj.getTime());\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e copy;\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Handle Array\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (obj \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e) {\n        copy = [];\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = obj.length; i \x26lt; len; i\x2b\x2b) {\n            copy[i] = clone(obj[i]);\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e copy;\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Handle Object\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (obj \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e) {\n        copy = {};\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attr \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e obj) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e copy;\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Unable to copy obj! Its type isn\x27t supported.\x22\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ This would be cloneable:\nvar tree = {\n    \x26quot;left\x26quot;  : { \x26quot;left\x26quot; : null, \x26quot;right\x26quot; : null, \x26quot;data\x26quot; : 3 },\n    \x26quot;right\x26quot; : null,\n    \x26quot;data\x26quot;  : 8\n};\n\n\/\/ This would kind-of work, but you would get 2 copies of the \n\/\/ inner node instead of 2 references to the same copy\nvar directedAcylicGraph = {\n    \x26quot;left\x26quot;  : { \x26quot;left\x26quot; : null, \x26quot;right\x26quot; : null, \x26quot;data\x26quot; : 3 },\n    \x26quot;data\x26quot;  : 8\n};\ndirectedAcyclicGraph[\x26quot;right\x26quot;] = directedAcyclicGraph[\x26quot;left\x26quot;];\n\n\/\/ Cloning this would cause a stack overflow due to infinite recursion:\nvar cylicGraph = {\n    \x26quot;left\x26quot;  : { \x26quot;left\x26quot; : null, \x26quot;right\x26quot; : null, \x26quot;data\x26quot; : 3 },\n    \x26quot;data\x26quot;  : 8\n};\ncylicGraph[\x26quot;right\x26quot;] = cylicGraph;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ This would be cloneable:\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e tree = {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e  : { \x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n    \x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e  : \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ This would kind-of work, but you would get 2 copies of the \x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ inner node instead of 2 references to the same copy\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e directedAcylicGraph = {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e  : { \x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n    \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e  : \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e\n};\ndirectedAcyclicGraph[\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e] = directedAcyclicGraph[\x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e];\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Cloning this would cause a stack overflow due to infinite recursion:\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cylicGraph = {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e  : { \x3cspan class=\x22hljs-string\x22\x3e\x22left\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n    \x3cspan class=\x22hljs-string\x22\x3e\x22data\x22\x3c\/span\x3e  : \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e\n};\ncylicGraph[\x3cspan class=\x22hljs-string\x22\x3e\x22right\x22\x3c\/span\x3e] = cylicGraph;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader23\x22\x3e利用 JSON 深拷贝\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22JSON.parse(JSON.stringify(obj));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eJSON\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.parse\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eJSON\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.stringify\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eobj\x3c\/span\x3e));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于一般的需求是可以满足的，但是它有缺点。下例中，可以看到JSON复制会忽略掉值为undefined以及函数表达式。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {\n    a: 1,\n    b: 2,\n    c: undefined,\n    sum: function() { return a \x2b b; }\n};\n\nvar obj2 = JSON.parse(JSON.stringify(obj));\nconsole.log(obj2);\n\/\/Object {a: 1, b: 2}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = {\n    \x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ec\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3esum\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{ \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e a \x2b b; }\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj2 = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(\x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(obj));\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(obj2);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Object {a: 1, b: 2}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader24\x22\x3e延伸阅读\x3c\/h1\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/28313321\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e基于 JSX 的动态数据绑定\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/27844393\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eECMAScript 2017（ES8）特性概述\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/27410280\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWebAssembly 初体验：从零开始重构计算模块\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>ES6 变量声明与赋值：值传递、浅拷贝与深拷贝详解</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010652249">https://segmentfault.com/a/1190000010652249</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/rpohaayze7s/" target="_blank">https://alili.tech/archive/rpohaayze7s/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>