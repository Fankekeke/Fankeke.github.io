<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="now.js 0.1.0 发布了"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>now.js 0.1.0 发布了 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/scudm30pzx/",
				"appid": "1613049289050283", 
				"title": "now.js 0.1.0 发布了 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-23T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/au8n1qba9m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/6kok36925/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&text=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&text=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&title=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&is_video=false&description=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&title=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&title=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&title=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fscudm30pzx%2f&title=now.js%200.1.0%20%e5%8f%91%e5%b8%83%e4%ba%86"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">now.js 0.1.0 发布了</h1><div class="meta"><div class="postdate"><time datetime="2018-12-23" itemprop="datePublished">2018-12-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3enow.js是什么\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3enow.js\x3c\/code\x3e是一个javascript的时间操作小工具，类似\x3ca href=\x22https:\/\/github.com\/date-fns\/date-fns\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edate-fns\x3c\/a\x3e和\x3ca href=\x22https:\/\/github.com\/moment\/moment\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emoment\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e长啥样\x3c\/h2\x3e\n\x3cp\x3e简单的把示例放这，更多用法请到\x3ca href=\x22https:\/\/github.com\/hongmaoxiao\/now\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e去发现。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Now from \x27now.js\x27; \/\/ for node(browser do not need this)\n\nnow = new Now()\n\nnow.format() \/\/ \x26quot;2017-11-20T22:23:00\x2b08:00\x26quot;\nnow.format(\x27YYYY-MM-DD HH:mm:ss.SSS\x27) \/\/ \x26quot;2017-11-20 22:23:00.285\x26quot;\nnow.format(\x26quot;dddd, MMMM Do YYYY, h:mm:ss a\x26quot;) \/\/ \x26quot;Monday, November 20th 2017, 10:23:00 pm\x26quot;\n\nnow.locale(\x27zh-cn\x27) \/\/ support 118 languages\nnow.format(\x26quot;dddd, MMMM Do YYYY, h:mm:ss a\x26quot;) \/\/ \x26quot;星期一, 十一月 20日 2017, 10:23:00 晚上\x26quot;\nnow.elapse() \/\/ \x26quot;10 天前\x26quot;\n\/\/ same as\nnow.timeAgo() \/\/ \x26quot;10 天前\x26quot;\n\n\/\/ monday\nnow.monday() \/\/ \x26quot;2017-11-20 00:00:00\x26quot;\n\n\/\/ isMonday\nnow.isMonday() \/\/ true\n\n\/\/ isBefore\nnow.isBefore(new Date(2020, 10, 11)) \/\/ true\n\n\/\/ isLeapYear\nnow.isLeapYear() \/\/ false\nnow.isLeapYear(2008) \/\/ true\n\n\/\/ between\nnow.between(new Date(2008, 10, 10), new Date(2018, 10, 10)) \/\/ true\n\n\/\/ UTC\nnow.UTC().format() \/\/ \x26quot;2017-11-20T22:23:00\x2b00:00\x26quot;\n\nnow.beginningOfMinute()   \/\/ \x26quot;2017-11-20 22:23:00\x26quot;\nnow.beginningOfHour()     \/\/ \x26quot;2017-11-20 22:00:00\x26quot;\nnow.beginningOfDay()      \/\/ \x26quot;2017-11-20 00:00:00\x26quot;\nnow.beginningOfWeek()     \/\/ \x26quot;2017-11-19 00:00:00\x26quot;\nnow.firstDayMonday = true \/\/ Set Monday as first day, default is Sunday\nnow.beginningOfWeek()     \/\/ \x26quot;2017-11-20 00:00:00\x26quot;\nnow.beginningOfMonth()    \/\/ \x26quot;2017-11-01 00:00:00\x26quot;\nnow.beginningOfQuarter()  \/\/ \x26quot;2017-10-01 00:00:00\x26quot;\nnow.beginningOfYear()     \/\/ \x26quot;2017-01-01 00:00:00\x26quot;\n\nnow.endOfMinute()         \/\/ \x26quot;2017-11-20 22:23:59.999\x26quot;\nnow.endOfHour()           \/\/ \x26quot;2017-11-20 22:59:59.999\x26quot;\nnow.endOfDay()            \/\/ \x26quot;2017-11-20 23:59:59.999\x26quot;\nnow.endOfWeek()           \/\/ \x26quot;2017-11-25 23:59:59.999\x26quot;\nnow.firstDayMonday = true \/\/ Set Monday as first day, default is Sunday\nnow.endOfWeek()           \/\/ \x26quot;2017-11-26 23:59:59.999\x26quot;\nnow.endOfMonth()          \/\/ \x26quot;2017-11-30 23:59:59.999\x26quot;\nnow.endOfQuarter()        \/\/ \x26quot;2017-12-31 23:59:59.999\x26quot;\nnow.endOfYear()           \/\/ \x26quot;2017-12-31 23:59:59.999\x26quot;\n\nAll the above functions return String type. You can pass \x27self\x27 to return Now instance:\n\nvar beginningOfMinute = now.beginningOfMinute(\x27self\x27) \/\/ return Now instance\nbeginningOfMinute.format(\x27ddd, Ah\x27) \/\/ \x26quot;Mon, PM10\x26quot;\nbeginningOfMinute.format(\x27LLLL\x27) \/\/ \x26quot;Monday, November 20, 2017 10:23 PM\x26quot;\nbeginningOfMinute.isMonday() \/\/ true\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Now \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27now.js\x27\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ for node(browser do not need this)\x3c\/span\x3e\n\nnow = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Now()\n\nnow.format() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20T22:23:00\x2b08:00\x22\x3c\/span\x3e\nnow.format(\x3cspan class=\x22hljs-string\x22\x3e\x27YYYY-MM-DD HH:mm:ss.SSS\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 22:23:00.285\x22\x3c\/span\x3e\nnow.format(\x3cspan class=\x22hljs-string\x22\x3e\x22dddd, MMMM Do YYYY, h:mm:ss a\x22\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Monday, November 20th 2017, 10:23:00 pm\x22\x3c\/span\x3e\n\nnow.locale(\x3cspan class=\x22hljs-string\x22\x3e\x27zh-cn\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ support 118 languages\x3c\/span\x3e\nnow.format(\x3cspan class=\x22hljs-string\x22\x3e\x22dddd, MMMM Do YYYY, h:mm:ss a\x22\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22星期一, 十一月 20日 2017, 10:23:00 晚上\x22\x3c\/span\x3e\nnow.elapse() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x2210 天前\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ same as\x3c\/span\x3e\nnow.timeAgo() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x2210 天前\x22\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ monday\x3c\/span\x3e\nnow.monday() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 00:00:00\x22\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ isMonday\x3c\/span\x3e\nnow.isMonday() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ isBefore\x3c\/span\x3e\nnow.isBefore(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e2020\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ isLeapYear\x3c\/span\x3e\nnow.isLeapYear() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\nnow.isLeapYear(\x3cspan class=\x22hljs-number\x22\x3e2008\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ between\x3c\/span\x3e\nnow.between(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e2008\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e), \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e2018\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ UTC\x3c\/span\x3e\nnow.UTC().format() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20T22:23:00\x2b00:00\x22\x3c\/span\x3e\n\nnow.beginningOfMinute()   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 22:23:00\x22\x3c\/span\x3e\nnow.beginningOfHour()     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 22:00:00\x22\x3c\/span\x3e\nnow.beginningOfDay()      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 00:00:00\x22\x3c\/span\x3e\nnow.beginningOfWeek()     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-19 00:00:00\x22\x3c\/span\x3e\nnow.firstDayMonday = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set Monday as first day, default is Sunday\x3c\/span\x3e\nnow.beginningOfWeek()     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 00:00:00\x22\x3c\/span\x3e\nnow.beginningOfMonth()    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-01 00:00:00\x22\x3c\/span\x3e\nnow.beginningOfQuarter()  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-10-01 00:00:00\x22\x3c\/span\x3e\nnow.beginningOfYear()     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-01-01 00:00:00\x22\x3c\/span\x3e\n\nnow.endOfMinute()         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 22:23:59.999\x22\x3c\/span\x3e\nnow.endOfHour()           \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 22:59:59.999\x22\x3c\/span\x3e\nnow.endOfDay()            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-20 23:59:59.999\x22\x3c\/span\x3e\nnow.endOfWeek()           \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-25 23:59:59.999\x22\x3c\/span\x3e\nnow.firstDayMonday = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set Monday as first day, default is Sunday\x3c\/span\x3e\nnow.endOfWeek()           \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-26 23:59:59.999\x22\x3c\/span\x3e\nnow.endOfMonth()          \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-11-30 23:59:59.999\x22\x3c\/span\x3e\nnow.endOfQuarter()        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-12-31 23:59:59.999\x22\x3c\/span\x3e\nnow.endOfYear()           \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x222017-12-31 23:59:59.999\x22\x3c\/span\x3e\n\nAll the above functions \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e type. You can pass \x3cspan class=\x22hljs-string\x22\x3e\x27self\x27\x3c\/span\x3e to \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e Now instance:\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e beginningOfMinute = now.beginningOfMinute(\x3cspan class=\x22hljs-string\x22\x3e\x27self\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ return Now instance\x3c\/span\x3e\nbeginningOfMinute.format(\x3cspan class=\x22hljs-string\x22\x3e\x27ddd, Ah\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Mon, PM10\x22\x3c\/span\x3e\nbeginningOfMinute.format(\x3cspan class=\x22hljs-string\x22\x3e\x27LLLL\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22Monday, November 20, 2017 10:23 PM\x22\x3c\/span\x3e\nbeginningOfMinute.isMonday() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e为什么要写这个库\x3c\/h2\x3e\n\x3cp\x3e因为学习\x3ca href=\x22https:\/\/github.com\/jashkenas\/underscore\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eunderscore\x3c\/a\x3e源码的过程中，感觉无聊。想写个库调剂一下，当做学习的机会。\x3cbr\x3e\x3cbr\x3e我是照着\x3ccode\x3eunderscore\x3c\/code\x3e源码一个个commit敲的.代码放在\x3ca href=\x22https:\/\/github.com\/hongmaoxiao\/underscore_source\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e，刚看了一眼，有668次commit，两个月，敲到了1.4.3版本，可能还没到一半。\x3cbr\x3e\x3cbr\x3e敲久了有点无聊。想动手写一个库作为调剂。碰巧之前做防健忘短信提醒的时候是用go写的后台，用了\x3ca href=\x22https:\/\/github.com\/jinzhu\/gorm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egorm\x3c\/a\x3e，在作者\x3ccode\x3ejinzhu\x3c\/code\x3e的github主页上发现了\x3ca href=\x22https:\/\/github.com\/jinzhu\/now\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enow\x3c\/a\x3e，是一个go的时间帮助库，觉得很有意思。clone之，学之。\x3cbr\x3e\x3cbr\x3e偷了\x3ccode\x3enow\x3c\/code\x3e的思想。造一个javascript版的就显得很容易。很快我就写完了除了\x3ccode\x3eParse \x3c\/code\x3e和\x3ccode\x3eMustParse \x3c\/code\x3e之外的所有方法。跟原库对比一下。觉得now.js就是个玩具。这不怪我，javascript对时间处理的支持远不如go。比如go原生支持\x3ccode\x3eformat\x3c\/code\x3e、字符串解析成时间以及\x3ccode\x3eDuration\x3c\/code\x3e等等。\x3cbr\x3e\x3cbr\x3e想着加上\x3ccode\x3eformat\x3c\/code\x3e。该怎么去写？立马就想到的方法是平时经常写的根据不同条件做字符串拼接。确实是个方法。但得多少switch case才能涵盖所有情况，想想都可怕。显然这是最蠢也是工作量最大的方法。\x3cbr\x3e\x3cbr\x3e不会，那就借鉴别人的。github上发现了date-fns和moment，支持i18n国际化。\x3c\/p\x3e\n\x3cp\x3edate-fns:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { formatRelative } from \x27date-fns\x27\nimport { es, ru } from \x27date-fns\/esm\/locale\x27\n\nformatRelative(subDays(new Date(), 3), new Date(), { locale: es })\n\/\/=\x3e \x26quot;el viernes pasado a las 19:26\x26quot;\n\nformatRelative(subDays(new Date(), 3), new Date(), { locale: ru })\n\/\/=\x3e \x26quot;в прошлую пятницу в 19:26\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { formatRelative } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27date-fns\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { es, ru } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27date-fns\/esm\/locale\x27\x3c\/span\x3e\n\nformatRelative(subDays(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(), \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e), \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(), { \x3cspan class=\x22hljs-attr\x22\x3elocale\x3c\/span\x3e: es })\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/=\x26gt; \x22el viernes pasado a las 19:26\x22\x3c\/span\x3e\n\nformatRelative(subDays(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(), \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e), \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(), { \x3cspan class=\x22hljs-attr\x22\x3elocale\x3c\/span\x3e: ru })\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/=\x26gt; \x22в прошлую пятницу в 19:26\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3emoment:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22moment.locale(\x27fr\x27);\nmoment(1316116057189).fromNow(); \/\/ il y a une heure\nmoment.locale(\x27en\x27);\nmoment(1316116057189).fromNow(); \/\/ an hour ago\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3emoment.locale(\x3cspan class=\x22hljs-string\x22\x3e\x27fr\x27\x3c\/span\x3e);\nmoment(\x3cspan class=\x22hljs-number\x22\x3e1316116057189\x3c\/span\x3e).fromNow(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ il y a une heure\x3c\/span\x3e\nmoment.locale(\x3cspan class=\x22hljs-string\x22\x3e\x27en\x27\x3c\/span\x3e);\nmoment(\x3cspan class=\x22hljs-number\x22\x3e1316116057189\x3c\/span\x3e).fromNow(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ an hour ago\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我的审美告诉我应该选择moment，调用一次locale()，这之后的format都是基于该locale的。当然它也还支持每次单独指定locale的:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22moment.duration(1, \x26quot;minutes\x26quot;).locale(\x26quot;en\x26quot;).humanize(); \/\/ a minute\nmoment.duration(1, \x26quot;minutes\x26quot;).locale(\x26quot;fr\x26quot;).humanize(); \/\/ une minute\nmoment.duration(1, \x26quot;minutes\x26quot;).locale(\x26quot;es\x26quot;).humanize(); \/\/ un minuto\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3emoment.duration(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22minutes\x22\x3c\/span\x3e).locale(\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e).humanize(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ a minute\x3c\/span\x3e\nmoment.duration(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22minutes\x22\x3c\/span\x3e).locale(\x3cspan class=\x22hljs-string\x22\x3e\x22fr\x22\x3c\/span\x3e).humanize(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ une minute\x3c\/span\x3e\nmoment.duration(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22minutes\x22\x3c\/span\x3e).locale(\x3cspan class=\x22hljs-string\x22\x3e\x22es\x22\x3c\/span\x3e).humanize(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ un minuto\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e进一步学习发现moment的format和i18n国际化高度耦合。要用它的i18n意味着基本上也得用它的format。当然i18n也不是核心的moment库作者写的，他们也精通不了那么多国家的语言，那都是github上许许多多人贡献的。开源就有这好处。看下LICENCE是MIT的，代码可用，抄。\x3cbr\x3e\x3cbr\x3enow.js也是MIT协议的，负罪感少了点(其实MIT协议是相当宽松的，就算你拿它代码去商业化也是没有问题的)。况且我写库的主要目的是为了学习。\x3cbr\x3e\x3cbr\x3e开干！虽说是抄，毕竟代码要整合到我的库，直接复制粘贴是不行的。所有的代码细节未必都需要全知道，但看懂整体运行的逻辑是必须的，下点功夫，整合成功，开源。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e思维脑图\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3emoment:\x3c\/strong\x3e\x3cbr\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/fengxiaomao.com\/upload\/moment.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/fengxiaomao.com\/upload\/moment.png\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e当然，moment的东西不止上图这些，我只取了一部分来画。\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cstrong\x3enow.js:\x3c\/strong\x3e\x3cbr\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/fengxiaomao.com\/upload\/now.js.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/fengxiaomao.com\/upload\/now.js.png\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3enow.js的Duration和moment的不一样，现在还不支持单独使用，只是给内部方法\x3ccode\x3eelapse\x3c\/code\x3e使用，以后可能会支持单独使用。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e对比\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3emoment是大而全，now.js是刚够用。\x3c\/li\x3e\n\x3cli\x3emoment的parse相当强大，now.js就暂时不支持了，只支持和\x3ccode\x3enew Date(args)\x3c\/code\x3e相同的\x3ccode\x3eargs\x3c\/code\x3e参数类型。不过\x3ccode\x3eformat\x3c\/code\x3e应该都基本上和moment的一样，不过测试用例现在还没有写太全，如果谁用了并且发现bug，可以到\x3ca href=\x22https:\/\/github.com\/hongmaoxiao\/now\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e去提issues。不胜感激。\x3cbr\x3e\n\x3c\/li\x3e\n\x3cli\x3emoment是页面一加载的时候会把所有的i18n都初始化了，这点我个人认为不好，加载时间长，网络情况不好的时候，差不多需要10秒我才能在devtool上调试（当然这也包括官网加载的其他很多东西）。now.js只加载默认的，需要的时候按需加载。\x3c\/li\x3e\n\x3cli\x3emoment做什么操作前都要检测一下date是否合法的（isvalid）。now.js在parse的时候如果不合法就直接抛出错误，以免后续没玩没了的检测。当然这可能损失了用户友好性，但是对减少代码量是很有帮助的。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e结语\x3c\/h2\x3e\n\x3cp\x3e这个库不是我一个人写的，是许多开源工作者共同完成的。感谢moment的所有开源贡献者，我从中学习了很多东西。后续还会继续研究moment的代码细节，偷偷它的思想。\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cstrong\x3e写代码什么最重要？思想最重要！\x3c\/strong\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>now.js 0.1.0 发布了</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012270796">https://segmentfault.com/a/1190000012270796</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/scudm30pzx/" target="_blank">https://alili.tech/archive/scudm30pzx/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>