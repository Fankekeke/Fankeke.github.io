<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="使用 Vue.js 和 Flask 来构建一个单页的App"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>使用 Vue.js 和 Flask 来构建一个单页的App | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/stytndigxun/",
				"appid": "1613049289050283", 
				"title": "使用 Vue.js 和 Flask 来构建一个单页的App | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-09T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/adglkdb5oi4/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/sd6otxqjjzr/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&text=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&text=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&title=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&is_video=false&description=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&title=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&title=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&title=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fstytndigxun%2f&title=%e4%bd%bf%e7%94%a8%20Vue.js%20%e5%92%8c%20Flask%20%e6%9d%a5%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e9%a1%b5%e7%9a%84App"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">使用 Vue.js 和 Flask 来构建一个单页的App</h1><div class="meta"><div class="postdate"><time datetime="2018-12-09" itemprop="datePublished">2018-12-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e在这个教程中，我们将讲解如何将vue.js单页应用与Flask后端进行连接。\x3c\/p\x3e\n\x3cp\x3e一般来说，如果你只是想通过Flask模板使用vue.js库也是没有问题的。但是，实际上是一个很明显的问题那就是，Jinja（模板引擎）也和Vue.js一样采用双大括号用于渲染，但只是一个还算过的去的解决方案。\x3c\/p\x3e\n\x3cp\x3e我想要一个不同的例子。如果我需要建立一个单页应用程序（应用程序使用单页组成，\x3cstrong\x3evue-router\x3c\/strong\x3e在HTML5的History-mode以及其他更多好用的功能）用vue.js，由Flask提供Web服务？简单地说应该这样，如下所示：\x3c\/p\x3e\n\x3cp\x3eFlask为\x3cstrong\x3eindex.html\x3c\/strong\x3e服务，\x3cstrong\x3eindex.html\x3c\/strong\x3e包含我的vue.js App。\x3c\/p\x3e\n\x3cp\x3e在前端开发中我使用Webpack，它提供了所有很酷的功能。\x3c\/p\x3e\n\x3cp\x3eFlask有API端，我可以从我的SPA访问。\x3c\/p\x3e\n\x3cp\x3e我可以访问API端，甚至当我为了前端开发而运行Node.js的时候。\x3c\/p\x3e\n\x3cp\x3e听起来是不是很有趣？那让我们这样动手做做吧。\x3c\/p\x3e\n\x3cp\x3e完整的源代码，你可以在这里找到：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/oleg-agapov\/flask-vue-spa\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/oleg-agapo...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e客户端\x3c\/h2\x3e\n\x3cp\x3e我将使用Vue CLI产生基本vue.js App。如果你还没有安装它，请运行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install -g vue-cli\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install -g vue-\x3cspan class=\x22hljs-keyword\x22\x3ecli\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e客户端和后端代码将被拆分到不同的文件夹。初始化前端部分运行跟踪：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ mkdir flaskvue\n$ cd flaskvue\n$ vue init webpack frontend\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3emkdir flaskvue\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3ecd flaskvue\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3evue init webpack frontend\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过安装向导。我的设置是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3eVue 只在运行时构建。 \x3c\/li\x3e\n\x3cli\x3e安装Vue-router。\x3c\/li\x3e\n\x3cli\x3e使用ESLint检查代码。\x3c\/li\x3e\n\x3cli\x3e选择一个ESLint 标准预设 。\x3c\/li\x3e\n\x3cli\x3e不试用Karma \x2b Mocha进行单位测试。\x3c\/li\x3e\n\x3cli\x3e不使用Nightwatch建立端到端的测试。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3eok，接着来：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ cd frontend\n$ npm install\n# after installation\n$ npm run dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3ecd frontend\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3enpm install\n\x3cspan class=\x22hljs-comment\x22\x3e# after installation\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3enpm run dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这就可以开始安装\x3cstrong\x3evue.js\x3c\/strong\x3e应用程序。让我们从添加一些页面开始吧。\x3c\/p\x3e\n\x3cp\x3e添加\x3cstrong\x3ehome.vue\x3c\/strong\x3e和\x3cstrong\x3eabout.vue\x3c\/strong\x3e到\x3cstrong\x3efrontend\/src\/components\x3c\/strong\x3e文件夹。它们非常简单，像这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Home.vue\n\n\x3ctemplate\x3e\n\x3cdiv\x3e\n\x3cp\x3eHome page\x3c\/p\x3e\n\x3c\/div\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Home.vue\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;template\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;div\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;p\x26gt;\x3c\/span\x3eHome page\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/p\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/div\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/template\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eand\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ About.vue\n\n\x3ctemplate\x3e\n\x3cdiv\x3e\n\x3cp\x3eAbout\x3c\/p\x3e\n\x3c\/div\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ About.vue\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;template\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;div\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;p\x26gt;\x3c\/span\x3eAbout\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/p\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/div\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/template\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们将使用它们正确地识别我们当前的位置（根据地址栏）。现在我们需要改变\x3cstrong\x3efrontend\/src\/router\/index.js\x3c\/strong\x3e文件以便使用我们的新组件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\nimport Router from \x27vue-router\x27\nconst routerOptions = [\n{ path: \x27\/\x27, component: \x27Home\x27 },\n{ path: \x27\/about\x27, component: \x27About\x27 }\n]\n\nconst routes = routerOptions.map(route =\x3e {\nreturn {\n...route,\ncomponent: () =\x3e import(`@\/components\/${route.component}.vue`)\n}\n\n})\n\nVue.use(Router)\nexport default new Router({\nroutes,\nmode: \x27history\x27\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Router \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue-router\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e routerOptions = [\n{ \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Home\x27\x3c\/span\x3e },\n{ \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27About\x27\x3c\/span\x3e }\n]\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e routes = routerOptions.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n...route,\n\x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e`@\/components\/\x3cspan class=\x22hljs-subst\x22\x3e${route.component}\x3c\/span\x3e.vue`\x3c\/span\x3e)\n}\n\n})\n\nVue.use(Router)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router({\nroutes,\n\x3cspan class=\x22hljs-attr\x22\x3emode\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27history\x27\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你试着输入\x3cstrong\x3elocalhost:8080\x3c\/strong\x3e 和 \x3cstrong\x3elocalhost:8080\/about\x3c\/strong\x3e，你应该看到相应的页面。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013862871?w=1000\x26amp;h=624\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013862871?w=1000\x26amp;h=624\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们几乎已经准备好构建一个项目，并且能够创建一个静态资源文件包。在此之前，让我们为它们重新定义一下输出目录。在\x3cstrong\x3efrontend\/config\/index.js\x3c\/strong\x3e找到下一个设置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22index: path.resolve(__dirname, \x27..\/dist\/index.html\x27),\nassetsRoot: path.resolve(__dirname, \x27..\/dist\x27),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3eindex\x3c\/span\x3e: path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/dist\/index.html\x27\x3c\/span\x3e),\nassetsRoo\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/dist\x27\x3c\/span\x3e),\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e把它们改为\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22index: path.resolve(__dirname, \x27..\/..\/dist\/index.html\x27),\nassetsRoot: path.resolve(__dirname, \x27..\/..\/dist\x27),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3eindex\x3c\/span\x3e: path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/dist\/index.html\x27\x3c\/span\x3e),\nassetsRoo\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e path.\x3cspan class=\x22hljs-built_in\x22\x3eresolve\x3c\/span\x3e(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/dist\x27\x3c\/span\x3e),\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以\/dist文件夹的HTML、CSS、JS会在同一级目录\/frontend 。现在你可以运行 \x3cstrong\x3e$ npm run build\x3c\/strong\x3e 创建一个包。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013862872?w=1000\x26amp;h=647\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013862872?w=1000\x26amp;h=647\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e后端\x3c\/h2\x3e\n\x3cp\x3e对于Flask服务器，我将使用Python版本3.6。在 \x3cstrong\x3e\/flaskvue\x3c\/strong\x3e创建新的子文件夹存放后端代码并初始化虚拟环境：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ mkdir backend\n$ cd backend\n$ virtualenv -p python3 venv\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3emkdir backend\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3ecd backend\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3evirtualenv -p python3 venv\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了使虚拟环境中运行（MacOS）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ source venv\/bin\/activate\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3esource\x3c\/span\x3e venv\x3cspan class=\x22hljs-regexp\x22\x3e\/bin\/\x3c\/span\x3eactivate\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在Windows中需要激活此文档（\x3ca href=\x22http:\/\/pymote.readthedocs.io\/en\/latest\/install\/windows_virtualenv.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/pymote.readthedocs.io\/...\x3c\/a\x3e）。\x3c\/p\x3e\n\x3cp\x3e在虚拟环境下安装：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(venv) pip install Flask\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e(\x3cspan class=\x22hljs-name\x22\x3evenv\x3c\/span\x3e) pip install Flask\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在让我们为Flask服务端编写代码。创建根目录文件run.py：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(venv) cd ..\n(venv) touch run.py\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e(venv) cd ..\n(venv) touch \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e.\x3cspan class=\x22bash\x22\x3epy\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e向这个文件添加下一个代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22from flask import Flask, render_template\napp = Flask(__name__,\nstatic_folder = \x26quot;.\/dist\/static\x26quot;,\ntemplate_folder = \x26quot;.\/dist\x26quot;)\n\n@app.route(\x27\/\x27)\ndef index():\nreturn render_template(\x26quot;index.html\x26quot;)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs python\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e flask \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Flask, render_template\napp = Flask(__name__,\nstatic_folder = \x3cspan class=\x22hljs-string\x22\x3e\x22.\/dist\/static\x22\x3c\/span\x3e,\ntemplate_folder = \x3cspan class=\x22hljs-string\x22\x3e\x22.\/dist\x22\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-meta\x22\x3e@app.route(\x27\/\x27)\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edef\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eindex\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e:\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e render_template(\x3cspan class=\x22hljs-string\x22\x3e\x22index.html\x22\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这段代码与Flask的 \x3cstrong\x3e“Hello World”\x3c\/strong\x3e代码略有不同。主要的区别是，我们指定存储静态文件和模板位置在文件夹 \x3cstrong\x3e\/dist\x3c\/strong\x3e，以便和我们的前端文件夹区别开。在根文件夹中运行Flask服务端：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(venv) FLASK_APP=run.py FLASK_DEBUG=1 flask run\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e(venv) FLASK_APP=\x3cspan class=\x22hljs-built_in\x22\x3erun\x3c\/span\x3e.py FLASK_DEBUG=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e flask \x3cspan class=\x22hljs-built_in\x22\x3erun\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这将启动本地主机上的Web服务器：\x3cstrong\x3elocalhost:5000\x3c\/strong\x3e 上的\x3cstrong\x3eFLASK_APP\x3c\/strong\x3e服务器端的启动文件，\x3cstrong\x3eflask_debug = 1\x3c\/strong\x3e将运行在调试模式。如果一切正确，你会看到熟悉的主页，你已经完成了对Vue的设置。\x3c\/p\x3e\n\x3cp\x3e同时，如果您尝试输入\/about页面，您将面临一个错误。Flask抛出一个错误，说找不到请求的URL。事实上，因为我们使用了HTML5的History-Mode在Vue-router需要配置Web服务器的重定向，将所有路径指向index.html。用Flask做起来很容易。将现有路由修改为以下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@app.route(\x27\/\x27, defaults={\x27path\x27: \x27\x27})\n@app.route(\x27\/\x3cpath:path\x3e\x27)\ndef catch_all(path):\nreturn render_template(\x26quot;index.html\x26quot;)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-variable\x22\x3e@app\x3c\/span\x3e.route(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, defaults={\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e})\n\x3cspan class=\x22hljs-variable\x22\x3e@app\x3c\/span\x3e.route(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x26lt;path:path\x26gt;\x27\x3c\/span\x3e)\ndef catch_all(path):\nreturn render_template(\x3cspan class=\x22hljs-string\x22\x3e\x22index.html\x22\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在输入网址localhost:5000\/about 将重新定向到index.html和vue-router将处理路由。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e添加404页\x3c\/h2\x3e\n\x3cp\x3e因为我们有一个包罗万象的路径，我们的Web服务器在现在已经很难赶上404错误，Flask将所有请求指向index.html（甚至不存在的页面）。所以我们需要处理未知的路径在vue.js应用。当然，所有的工作都可以在我们的路由文件中完成。\x3c\/p\x3e\n\x3cp\x3e在frontend\/src\/router\/index.js添加下一行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const routerOptions = [\n{ path: \x27\/\x27, component: \x27Home\x27 },\n{ path: \x27\/about\x27, component: \x27About\x27 },\n{ path: \x27*\x27, component: \x27NotFound\x27 }\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3econst routerOptions = [\n{ \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Home\x27\x3c\/span\x3e },\n{ \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27About\x27\x3c\/span\x3e },\n{ \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27NotFound\x27\x3c\/span\x3e }\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的路径\x27*\x27是一个通配符，\x3cbr\x3e\x3cstrong\x3eVue-router\x3c\/strong\x3e就知道除了我们上面定义的所有其他任何路径。现在我们需要更多的创造\x3cstrong\x3eNotFound.vue\x3c\/strong\x3e文件在\x3cstrong\x3e\/components\x3c\/strong\x3e目录。试一下很简单：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ NotFound.vue\n\n\x3ctemplate\x3e\n\x3cdiv\x3e\n\x3cp\x3e404 - Not Found\x3c\/p\x3e\n\x3c\/div\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ NotFound.vue\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;template\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;div\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;p\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e404\x3c\/span\x3e - Not Found\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/p\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/div\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e\x26lt;\/template\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在运行的前端服务器再次\x3cstrong\x3enpm run dev\x3c\/strong\x3e，尝试进入一些毫无意义的地址例如：\x3cstrong\x3elocalhost:8080\/gljhewrgoh\x3c\/strong\x3e。您应该看到我们的“未找到”消息。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e添加API端\x3c\/h2\x3e\n\x3cp\x3e我们的\x3cstrong\x3evue.js\/flask\x3c\/strong\x3e教程的最后一个例子将是服务器端API创建和调度客户端。我们将创建一个简单的Api，它将从1到100返回一个随机数。\x3c\/p\x3e\n\x3cp\x3e打开run.py并添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22from flask import Flask, render_template, jsonify\nfrom random import *\n\napp = Flask(__name__,\nstatic_folder = \x26quot;.\/dist\/static\x26quot;,\ntemplate_folder = \x26quot;.\/dist\x26quot;)\n\n@app.route(\x27\/api\/random\x27)\n\ndef random_number():\nresponse = {\n\x27randomNumber\x27: randint(1, 100)\n}\nreturn jsonify(response)\n\n@app.route(\x27\/\x27, defaults={\x27path\x27: \x27\x27})\n@app.route(\x27\/\x3cpath:path\x3e\x27)\ndef catch_all(path):\n\nreturn render_template(\x26quot;index.html\x26quot;)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ruby\x22\x3e\x3ccode\x3efrom flask import Flask, render_template, jsonify\nfrom random import *\n\napp = Flask(__name_\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3e,\nstatic_folder = \x3cspan class=\x22hljs-string\x22\x3e\x22.\/dist\/static\x22\x3c\/span\x3e,\ntemplate_folder = \x3cspan class=\x22hljs-string\x22\x3e\x22.\/dist\x22\x3c\/span\x3e)\n\n@app.route(\x3cspan class=\x22hljs-string\x22\x3e\x27\/api\/random\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edef\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erandom_number\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e:\nresponse = {\n\x3cspan class=\x22hljs-string\x22\x3e\x27randomNumber\x27\x3c\/span\x3e: randint(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e)\n}\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e jsonify(response)\n\n@app.route(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, defaults={\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e})\n@app.route(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x26lt;path:path\x26gt;\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edef\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecatch_all\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(path)\x3c\/span\x3e\x3c\/span\x3e:\n\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e render_template(\x3cspan class=\x22hljs-string\x22\x3e\x22index.html\x22\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e首先我导入random库和jsonify函数从Flask库中。然后我添加了新的路由 \x3cstrong\x3e\/api\/random\x3c\/strong\x3e来返回像这样的JSON：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n\x26quot;randomNumber\x26quot;: 36\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n\x3cspan class=\x22hljs-attr\x22\x3e\x22randomNumber\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你可以通过本地浏览测试这个路径：\x3cstrong\x3elocalhost:5000\/api\/random。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e此时服务器端工作已经完成。是时候在客户端显示了。我们来改变home.vue组件显示随机数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n\x3cdiv\x3e\n\x3cp\x3eHome page\x3c\/p\x3e\n\x3cp\x3eRandom number from backend: \x22{{\x22 randomNumber \x22}}\x22\x3c\/p\x3e\n\x3cbutton @click=\x26quot;getRandom\x26quot;\x3eNew random number\x3c\/button\x3e\n\x3c\/div\x3e\n\n\x3c\/template\x3e\n\x3cscript\x3e\nexport default {\ndata () {\nreturn {\nrandomNumber: 0\n}\n},\n\nmethods: {\ngetRandomInt (min, max) {\nmin = Math.ceil(min)\nmax = Math.floor(max)\nreturn Math.floor(Math.random() * (max - min \x2b 1)) \x2b min\n},\n\ngetRandom () {\nthis.randomNumber = this.getRandomInt(1, 100)\n}\n},\n\ncreated () {\nthis.getRandom()\n}\n\n}\n\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eHome page\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3eRandom number from backend: \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22 randomNumber \x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22getRandom\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eNew random number\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\ndata () {\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n\x3cspan class=\x22hljs-attr\x22\x3erandomNumber\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n}\n},\n\n\x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\ngetRandomInt (min, max) {\nmin = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.ceil(min)\nmax = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(max)\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(\x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.random() * (max - min \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)) \x2b min\n},\n\ngetRandom () {\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.randomNumber = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getRandomInt(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e)\n}\n},\n\ncreated () {\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getRandom()\n}\n\n}\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这个阶段，我们只是模仿客户端的随机数生成过程。所以，这个组件就是这样工作的：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e在初始化变量 \x3cstrong\x3erandomNumber\x3c\/strong\x3e等于0。\x3c\/li\x3e\n\x3cli\x3e在methods部分我们通过\x3cstrong\x3egetRandomInt(min, max)\x3c\/strong\x3e功能来从指定的范围内返回一个随机数，\x3cstrong\x3egetrandom\x3c\/strong\x3e函数将生成随机数并将赋值给\x3cstrong\x3erandomNumber\x3c\/strong\x3e\n\x3c\/li\x3e\n\x3cli\x3e组件方法\x3cstrong\x3egetrandom\x3c\/strong\x3e创建后将会被调用来初始化随机数\x3c\/li\x3e\n\x3cli\x3e在按钮的单击事件我们将用\x3cstrong\x3egetrandom\x3c\/strong\x3e方法得到新的随机数\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e现在在主页上，你应该看到前端显示我们产生的随机数。让我们把它连接到后端。\x3c\/p\x3e\n\x3cp\x3e为此目的，我将用\x3cstrong\x3eaxios\x3c\/strong\x3e库。它允许我们用响应HTTP请求并用\x3cstrong\x3eJson\x3c\/strong\x3e返回\x3cstrong\x3eJavaScript Promise\x3c\/strong\x3e。我们安装下它：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(venv) cd frontend\n(venv) npm install --save axios\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3e(\x3cspan class=\x22hljs-name\x22\x3evenv\x3c\/span\x3e) cd frontend\n(\x3cspan class=\x22hljs-name\x22\x3evenv\x3c\/span\x3e) npm install --save axios\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e打开 \x3cstrong\x3ehome.vue\x3c\/strong\x3e 再在 \x3cstrong\x3e\x26lt;script\x26gt;\x3c\/strong\x3e 部分添加一些变化：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import axios from \x27axios\x27\nmethods: {\ngetRandom () {\n\/\/ this.randomNumber = this.getRandomInt(1, 100)\nthis.randomNumber = this.getRandomFromBackend()\n},\n\ngetRandomFromBackend () {\nconst path = `http:\/\/localhost:5000\/api\/random`\naxios.get(path)\n.then(response =\x3e {\nthis.randomNumber = response.data.randomNumber\n})\n.catch(error =\x3e {\nconsole.log(error)\n})\n\n}\n\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e axios \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27axios\x27\x3c\/span\x3e\nmethods: {\ngetRandom () {\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ this.randomNumber = this.getRandomInt(1, 100)\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.randomNumber = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getRandomFromBackend()\n},\n\ngetRandomFromBackend () {\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-string\x22\x3e`http:\/\/localhost:5000\/api\/random`\x3c\/span\x3e\naxios.get(path)\n.then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.randomNumber = response.data.randomNumber\n})\n.catch(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(error)\n})\n\n}\n\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在顶部，我们需要引用Axios库。然后有一个新的方法\x3cstrong\x3egetrandomfrombackend\x3c\/strong\x3e将使用Axios异步调用API和检索结果。最后，\x3cstrong\x3egetrandom\x3c\/strong\x3e方法现在应该使用\x3cstrong\x3egetrandomfrombackend\x3c\/strong\x3e函数得到一个随机值。\x3c\/p\x3e\n\x3cp\x3e保存文件，到浏览器，运行一个开发服务器再次刷新 \x3cstrong\x3elocalhost:8080\x3c\/strong\x3e。你应该看到控制台错误没有随机值。但别担心，一切都正常。我们得到了\x3cstrong\x3eCORS\x3c\/strong\x3e的错误意味着Flask服务器API默认会关闭其他Web服务器（在我们这里，vue.js App是在 Node.js服务器上运行的应用程序）。如果你\x3cstrong\x3enpm run build\x3c\/strong\x3e 项目，那在\x3cstrong\x3elocalhost:5000\x3c\/strong\x3e（如Flask服务器）你会看到App在工作的。但是，每次对客户端应用程序进行一些更改时，都创建一个包并不十分方便。\x3c\/p\x3e\n\x3cp\x3e让我们用打包了CORS插件的Flask，将使我们能够创建一个API访问规则。插件叫做FlaskCORS，让我们安装它：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(venv) pip install -U flask-cors\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e(\x3cspan class=\x22hljs-name\x22\x3evenv\x3c\/span\x3e) pip install -U flask-cors\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你可以阅读文档，更好的解释你要使你的服务器怎么样使用CORS。我将使用特定的方法，并将\x3cstrong\x3e{“origins”: “\x3cem\x3e”}\x3c\/em\x3e\x3c\/strong\x3e应用于所有\/api\/路由（这样每个人都可以使用我的API端）。在run.py加上：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22from flask_cors import CORS\napp = Flask(__name__,\nstatic_folder = \x26quot;.\/dist\/static\x26quot;,\ntemplate_folder = \x26quot;.\/dist\x26quot;)\ncors = CORS(app, resources={r\x26quot;\/api\/*\x26quot;: {\x26quot;origins\x26quot;: \x26quot;*\x26quot;\x22}}\x22)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs python\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e flask_cors \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e CORS\napp = Flask(__name__,\nstatic_folder = \x3cspan class=\x22hljs-string\x22\x3e\x22.\/dist\/static\x22\x3c\/span\x3e,\ntemplate_folder = \x3cspan class=\x22hljs-string\x22\x3e\x22.\/dist\x22\x3c\/span\x3e)\ncors = CORS(app, resources={\x3cspan class=\x22hljs-string\x22\x3er\x22\/api\/*\x22\x3c\/span\x3e: {\x3cspan class=\x22hljs-string\x22\x3e\x22origins\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22*\x22\x3c\/span\x3e\x22}}\x22)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有了这种改变，您就可以从前端调用服务端。\x3c\/p\x3e\n\x3cp\x3e更新:\x3c\/p\x3e\n\x3cp\x3e事实上，如果你想通过Flask提供静态文件不需要CORS。感谢Carson Gee的下面的这一招。\x3c\/p\x3e\n\x3cp\x3e这个主意是这样的。如果应用程序在调试模式下，它只会代理我们的前端服务器。否则（在生产中）只为静态文件服务。所以我们这样做：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import requests\n@app.route(\x27\/\x27, defaults={\x27path\x27: \x27\x27})\n@app.route(\x27\/\x3cpath:path\x3e\x27)\ndef catch_all(path):\n\nif app.debug:\n\nreturn requests.get(\x27http:\/\/localhost:8080\/{}\x27.format(path)).text\n\nreturn render_template(\x26quot;index.html\x26quot;)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e requests\n\x3cspan class=\x22hljs-meta\x22\x3e@app\x3c\/span\x3e.route(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, defaults={\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e})\n\x3cspan class=\x22hljs-meta\x22\x3e@app\x3c\/span\x3e.route(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x26lt;path:path\x26gt;\x27\x3c\/span\x3e)\ndef catch_all(path):\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e app.debug:\n\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e requests.\x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/localhost:8080\/{}\x27\x3c\/span\x3e.format(path)).text\n\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e render_template(\x3cspan class=\x22hljs-string\x22\x3e\x22index.html\x22\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e很优雅的魔法✨！\x3c\/p\x3e\n\x3cp\x3e现在有了一个完整的全栈\x3cstrong\x3e（full-stack）\x3c\/strong\x3e应用程序，用您最喜爱\x3cstrong\x3eVue.js\x3c\/strong\x3e和\x3cstrong\x3eFlask\x3c\/strong\x3e技术构建。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013862873?w=1000\x26amp;h=1086\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013862873?w=1000\x26amp;h=1086\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000013862874?w=1000\x26amp;h=1086\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000013862874?w=1000\x26amp;h=1086\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e后记\x3c\/h2\x3e\n\x3cp\x3e最后，我想就如何改进这个解决方案谈几句话。\x3c\/p\x3e\n\x3cp\x3e首先利用CORS，如果你想让你的API端访问外部的服务器。否则的话只需要使用代理服务器与前端开发技巧。\x3c\/p\x3e\n\x3cp\x3e另一个改进是避免客户端硬编码API路由。也许你需要考虑一些API端点的字典。因此，当您更改API路由时，只需刷新一个字典即可。前端仍然有一个有效的端点。\x3c\/p\x3e\n\x3cp\x3e通常在开发过程中，你将至少有2个终端窗口：一个是Flask和另一个是vue.js。在生产中可以摆脱Vue而只单独运行Node.js服务器。\x3c\/p\x3e\n\x3cp\x3e源代码：\x3ca href=\x22https:\/\/github.com\/oleg-agapov\/flask-vue-spa\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/oleg-agapo...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e谢谢你的阅读！\x3c\/p\x3e\n\x3cp\x3e分享一个Vue.js 2 的入门级全家桶系列教程：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3evue.js 2 入门与提高: \x3ca href=\x22http:\/\/xc.hubwiz.com\/course\/592ee9b2b343f27b0ae1ba99?affid=20180320sf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xc.hubwiz.com\/course\/vue.js\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3evuex 2 入门与提高: \x3ca href=\x22http:\/\/xc.hubwiz.com\/course\/597d463fff52d0da7e3e397a?affid=20180320sf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xc.hubwiz.com\/course\/vuex\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3evue-router 2 入门与提高: \x3ca href=\x22http:\/\/xc.hubwiz.com\/course\/5983d3aeff52d0da7e3e3d50?affid=20180320sf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xc.hubwiz.com\/course\/vuerouter\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3evue.js 2 工程化实践: \x3ca href=\x22http:\/\/xc.hubwiz.com\/course\/598bad66c7fd1d49453979c9?affid=20180320sf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/xc.hubwiz.com\/course\/vuegch\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e另外推荐一个flask的入门教程：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/xc.hubwiz.com\/course\/562427361bc20c980538e26f?affid=20180316sf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e深入浅出 flask  http:\/\/xc.hubwiz.com\/course\/562427361bc20c980538e26f\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>使用 Vue.js 和 Flask 来构建一个单页的App</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013862866">https://segmentfault.com/a/1190000013862866</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/stytndigxun/" target="_blank">https://alili.tech/archive/stytndigxun/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>