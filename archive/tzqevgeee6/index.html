<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="个人 vue 项目的优化总结"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>个人 vue 项目的优化总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/tzqevgeee6/",
				"appid": "1613049289050283", 
				"title": "个人 vue 项目的优化总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-20T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/y8ysjrqkch/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rk1olunsqm9/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&text=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&text=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&title=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&is_video=false&description=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&title=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&title=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&title=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftzqevgeee6%2f&title=%e4%b8%aa%e4%ba%ba%20vue%20%e9%a1%b9%e7%9b%ae%e7%9a%84%e4%bc%98%e5%8c%96%e6%80%bb%e7%bb%93"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">个人 vue 项目的优化总结</h1><div class="meta"><div class="postdate"><time datetime="2018-12-20" itemprop="datePublished">2018-12-20</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e主要说的是，我在项目中，自己遇到的一些小问题和解决方案\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e图片 base64 问题\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 有一个 test 的组件\n\x3ctemplate\x3e\n  \x3cdiv class=\x27icon\x27\x3e\x3c\/div\x3e\n\x3c\/template\x3e\n\x3cstyle\x3e\n  .icon {\n    background: url(..\/assets\/test.png);\n  }\n\x3c\/style\x3e\n\n\/\/ 然后有三个页面，引入了 test 组件\n\/\/ h1.vue, h2.vue, h3.vue 分别都引入 test 组件\n\x3ctemplate\x3e\n  \x3ctest\x3e\x3c\/test\x3e\n\x3c\/template\x3e\n\x3cscript\x3e\nimport test from \x27@\/components\/test.vue\x27\n\/\/ ...\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\/\/ 有一个 test 的组件\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27icon\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.icon\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eurl\x3c\/span\x3e(..\/assets\/test.png);\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\/\/ 然后有三个页面，引入了 test 组件\n\/\/ h1.vue, h2.vue, h3.vue 分别都引入 test 组件\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etest\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etest\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e test \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/components\/test.vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e第一次打包文件之后，三个页面的 js 文件，都会出现相同的一个 base64 图片\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/oxnbdd4i9.bkt.clouddn.com\/vueOptimizationpic1.jpg\x22 src=\x22https:\/\/static.alili.techhttp:\/\/oxnbdd4i9.bkt.clouddn.com\/vueOptimizationpic1.jpg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e后面第二次打包使用 \x3ccode\x3eimport\x3c\/code\x3e 进行引用，或者直接在标签写死，就不会出现上面这种情况\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import a from \x27a.jpg\x27\n\x3cdiv style=\x27backgroundImage: url(a.jpg)\x27\x3e\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e a \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a.jpg\x27\x3c\/span\x3e\n\x26lt;div style=\x3cspan class=\x22hljs-string\x22\x3e\x27backgroundImage: url(a.jpg)\x27\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e使用 keep-alive\x3c\/h2\x3e\n\x3cp\x3e使用 \x3ccode\x3ekeep-alive\x3c\/code\x3e 对某些页面进行缓存\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ app.vue\n\x3ckeep-alive :include=\x26quot;[\x27a\x27, \x27b\x27, \x27c\x27]\x26quot;\x3e\n  \x3crouter-view\x3e\x3c\/router-view\x3e\n\x3c\/keep-alive\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ app.vue\x3c\/span\x3e\n\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ekeep\x3c\/span\x3e-alive :\x3cspan class=\x22hljs-keyword\x22\x3einclude\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22[\x27a\x27, \x27b\x27, \x27c\x27]\x22\x3c\/span\x3e\x26gt;\n  \x26lt;router-\x3cspan class=\x22hljs-keyword\x22\x3eview\x3c\/span\x3e\x26gt;\x26lt;\/router-\x3cspan class=\x22hljs-keyword\x22\x3eview\x3c\/span\x3e\x26gt;\n\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ekeep\x3c\/span\x3e-alive\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 \x3ccode\x3erouter-view\x3c\/code\x3e 父级，加上一层 \x3ccode\x3ekeep-alive\x3c\/code\x3e，再使用 \x3ccode\x3einclude\x3c\/code\x3e ，告诉 vue 有哪些页面需要缓存，就行了。\x3c\/p\x3e\n\x3cp\x3e其中 a, b, c 是 \x3ccode\x3e.vue\x3c\/code\x3e 文件的 \x3ccode\x3ename\x3c\/code\x3e 属性值\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ekeep-alive\x3c\/code\x3e 标签，支持两个属性\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3einclude: 只有匹配的组件会被缓存\x3c\/li\x3e\n\x3cli\x3eexclude: 任何匹配的组件都不会被缓存\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e会被缓存的页面（其实就是一个 vue 组件），离开时，vue 会在内部缓存当前组件的状态，下次再次进入这个页面，就会显示离开时的状态\x3c\/p\x3e\n\x3cp\x3e如果有些需求，需要你在特定得状态下，才需要缓存，而在其他时间，进入页面都是保持最初的状态时，我们可以使用 vue 的一个方法，去销毁该组件，达到刷新的效果\x3c\/p\x3e\n\x3cp\x3e在 \x3ccode\x3eactivated\x3c\/code\x3e 或 \x3ccode\x3edeactivated\x3c\/code\x3e 钩子函数事件中，使用 \x3ccode\x3ethis.$destroy()\x3c\/code\x3e 这个方法进行销毁组件\x3c\/p\x3e\n\x3cp\x3e使用 keepa-alive 的好处，缓存组件，的确是很好，我在项目体验中，更重要是缓存页面离开时的状态，这个真得非常棒。\x3c\/p\x3e\n\x3cp\x3e比如我在一个支付页面，有 M 种状态，然后要用户去另外一个页面去设置密码后，才能支付（特定需求），这时不能用一个遮罩去挡住，而是真正得跳转另一个页面，然后用户在另外一个页面操作完后，跳回去支付页面，此时支付页面还是维持离开时的状态，大大减少了很多工作（可以用 vuex 实现此效果，不过有点麻烦）\x3c\/p\x3e\n\x3cp\x3e而且配上钩子函数和 $destroy 销毁组件的方法，可以处理好各种情况\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e2018.01.15 更新\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e使用 $destroy 对组件进行销毁，会有个 BUG。\x3c\/p\x3e\n\x3cp\x3e有三个页面 A，B，C。B 页面是要进行缓存的。B 页面，配置了 keep-alive\x3c\/p\x3e\n\x3cp\x3eA -\x26gt; B\x3c\/p\x3e\n\x3cp\x3eB -\x26gt; C（B 到 C 要进行缓存，所以不销毁）\x3c\/p\x3e\n\x3cp\x3eC -\x26gt; B  (B 维持跳去 C 时的状态)\x3c\/p\x3e\n\x3cp\x3eB -\x26gt; A (不缓存)\x3c\/p\x3e\n\x3cp\x3eA -\x26gt; B\x3c\/p\x3e\n\x3cp\x3eB -\x26gt; C（B 到 C 要进行缓存，所以不销毁）\x3c\/p\x3e\n\x3cp\x3eC -\x26gt; B  (这时候就会出问题了！，会触发 activated 和 created 两个钩子函数。在 vue 的 issue 中有人提出过这个问题，尤大也说了不支持。这里是链接)\x3c\/p\x3e\n\x3cp\x3e解决方案：\x3c\/p\x3e\n\x3cp\x3e我现在是把页面加进去 keep-alive 里面，然后离开时，判断下次进入要不要刷新页面。如果要刷新页面，手动把 state 更新…..超级麻烦，不优雅\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e2018.01.17 更新\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e有一个新的解决方案，动态的修改 include，达到更新的效果\x3c\/p\x3e\n\x3cp\x3e比如，t1 组件是要缓存的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ckeep-alive :include=\x27array\x27\x3e\n  \x3crouter-view\x3e\x3c\/router-view\x3e\n\x3c\/keep-alive\x3e\n\/\/ ...\nwatch: {\n  $route(to) {\n    if (to.name === \x27t1\x27) {\n      this.array = \x27t1\x27\n    }\n  }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sqf\x22\x3e\x3ccode\x3e\x26lt;keep-\x3cspan class=\x22hljs-built_in\x22\x3ealive\x3c\/span\x3e :include=\x3cspan class=\x22hljs-string\x22\x3e\x27array\x27\x3c\/span\x3e\x26gt;\n  \x26lt;router-view\x26gt;\x26lt;\/router-view\x26gt;\n\x26lt;\/keep-\x3cspan class=\x22hljs-built_in\x22\x3ealive\x3c\/span\x3e\x26gt;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\nwatch: {\n  $route(\x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e === \x3cspan class=\x22hljs-string\x22\x3e\x27t1\x27\x3c\/span\x3e) {\n      this.array = \x3cspan class=\x22hljs-string\x22\x3e\x27t1\x27\x3c\/span\x3e\n    }\n  }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e每次要去到 t1 页面，对页面设置为缓存。然后在 t1 页面要跳去其他页面时候，判断是否需要缓存页面，如果不需要，修改 array 这个值。而这个 array 值，应该存在 vuex 中，这样可以更好地处理它\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e代码分割\x3c\/h2\x3e\n\x3cp\x3e在 \x3ccode\x3erouter.js\x3c\/code\x3e 文件里\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{ path: \x27\/home\x27, component: resolve =\x3e require([\x27@\/module\/home\x27], resolve) },\n{ path: \x27\/h1\x27, component: resolve =\x3e require([\x27@\/module\/h1\x27], resolve) },\n{ path: \x27\/h2\x27, component: resolve =\x3e require([\x27@\/module\/h2\x27], resolve) }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e{ \x3cspan class=\x22hljs-attribute\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/home\x27\x3c\/span\x3e, component: resolve =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e([\x3cspan class=\x22hljs-string\x22\x3e\x27@\/module\/home\x27\x3c\/span\x3e], resolve) },\n{ \x3cspan class=\x22hljs-attribute\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/h1\x27\x3c\/span\x3e, component: resolve =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e([\x3cspan class=\x22hljs-string\x22\x3e\x27@\/module\/h1\x27\x3c\/span\x3e], resolve) },\n{ \x3cspan class=\x22hljs-attribute\x22\x3epath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/h2\x27\x3c\/span\x3e, component: resolve =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e([\x3cspan class=\x22hljs-string\x22\x3e\x27@\/module\/h2\x27\x3c\/span\x3e], resolve) }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里使用了 \x3ccode\x3evue-router\x3c\/code\x3e 的懒加载，结合 webpack 的代码分割，将代码按页面进行分割，达到懒加载效果。进入某个页面，会按需加载 js 文件，有效地降低首屏文件大小\x3c\/p\x3e\n\x3cp\x3e但这里有个问题，如果某页面的 js 文件很大，用户在跳转页面时，会出现暂时性的白屏或者无法点击的情况，影响用户体验\x3c\/p\x3e\n\x3cp\x3e这里我觉得就要根据项目情况去考虑了。在某个项目中，有5个页面是没用代码分割的，而这5个页面，浏览数会比较多，并且文件的大小相对会比较大。所以取消使用了代码分隔后，当用户首次点入这几个页面，就不会出现延迟的情况\x3c\/p\x3e\n\x3cp\x3e当你这个页面使用了很多 icon ，经过 base64 转换后，这个 js 文件也会相对很大，是否不应该在页面的 js 文件出现 base64 ?提前把 base64 的图片加载了？\x3c\/p\x3e\n\x3cp\x3e上面的操作都是为了提高用户的体验，这个要看情况而定了\x3c\/p\x3e\n\x3cp\x3e使用代码分割，文件的大小，会稍微比不用的时候大一点\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e优化依赖文件\x3c\/h2\x3e\n\x3cp\x3e当我们 \x3ccode\x3enpm run build\x3c\/code\x3e 后，通常可以看到一个依赖文件，有好几百 KB，甚至 1、2MB 大，而这个文件是所有依赖文件的集合，像 \x3ccode\x3evue.js, vue-router.js, axios.js, mint-ui.js\x3c\/code\x3e 等\x3c\/p\x3e\n\x3cp\x3e这里我们可以使用 webpack 的 \x3ccode\x3eexternals\x3c\/code\x3e 进行优化，webpack 文档是这样说 \x3ccode\x3eexternals\x3c\/code\x3e: \x22防止将某些 import 的包(package)打包到 bundle 中，而是在运行时(runtime)再去从外部获取这些扩展依赖\x22\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eexternals\x3c\/code\x3e 其实很多大神的优化贴都有写了，根据自己得体验，这里只是简单得说明\x3c\/p\x3e\n\x3cp\x3e我们在 \x3ccode\x3eindex.html\x3c\/code\x3e 引入两个 js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;\/\/cdn.bootcss.com\/vue\/2.2.2\/vue.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x27\/\/cdn.bootcss.com\/mint-ui\/2.2.3\/index.js\x27\x3e\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\/cdn.bootcss.com\/vue\/2.2.2\/vue.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27\/\/cdn.bootcss.com\/mint-ui\/2.2.3\/index.js\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 \x3ccode\x3ewebpack.base.conf.js\x3c\/code\x3e 里，添加一代代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22externals: {\n  \x27vue\x27: \x27Vue\x27,\n  \x27mint-ui\x27: \x27MINT\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3eexternals:\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Vue\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x27mint-ui\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27MINT\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样就能无缝切换，使用 cdn 去加载比较大的依赖文件，减少打包后的 bundle 文件大小\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e打包文件大小对比\x3c\/h3\x3e\n\x3cp\x3e没有使用 externals 的情况， vendor.js 文件是 307KB\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/oxnbdd4i9.bkt.clouddn.com\/vueOptimizationpic3.jpg\x22 src=\x22https:\/\/static.alili.techhttp:\/\/oxnbdd4i9.bkt.clouddn.com\/vueOptimizationpic3.jpg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e使用 externals 的情况， vendor.js 文件是 107KB\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/oxnbdd4i9.bkt.clouddn.com\/vueOptimizationpic4.jpg\x22 src=\x22https:\/\/static.alili.techhttp:\/\/oxnbdd4i9.bkt.clouddn.com\/vueOptimizationpic4.jpg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这里面是去掉了 vue 和 mint-ui 两个 js 文件，而这两个 js 文件通过外链 cdn 进行引用，两个 js 文件大约都是 31KB 左右，这里面节省了 140KB 左右的大小\x3c\/p\x3e\n\x3cp\x3e这样做，虽然加多了 HTTP 请求，但是不会影响并发的数量，而且大大减少了单个文件的大小，性能更好\x3c\/p\x3e\n\x3cp\x3e在 ngrok 里运行时，会运行得更快（测试过）\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e使用 v-once\x3c\/h2\x3e\n\x3cp\x3e在 vue 文档中，是这样提示的：对低开销的静态组件使用 v-once\x3c\/p\x3e\n\x3cp\x3e使用了 v-once ，除了第一次的渲染，后面就不会再次渲染了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv v-once\x3e\x22{{\x22 a \x22}}\x22\x3c\/div\x3e\n\n\x3cscript\x3e\n\/\/ ...\ndata() {\n  return {\n    a: 1\n  }\n},\ncreated() {\n  this.a = 2\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e v-once\x26gt;\x22{{\x22 \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e \x22}}\x22\x26lt;\/div\x26gt;\n\n\x26lt;script\x26gt;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edata\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e {\n  return {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n  }\n},\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3ecreated\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e {\n  this\x3cspan class=\x22hljs-selector-class\x22\x3e.a\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n}\n\x26lt;\/script\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后 div 还是显示 1。这可以用于优化更新性能\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e以上的一些问题，在 PC 端好像影响不大，移动端的话，还是比较严重的。很多优化点都是根据实际情况入手，上面这几个，都是我在做项目时，感觉不合适而进行优化的，后面会持续补充下去~\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>个人 vue 项目的优化总结</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012631049">https://segmentfault.com/a/1190000012631049</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/tzqevgeee6/" target="_blank">https://alili.tech/archive/tzqevgeee6/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>