<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React 应用设计之道 - curry 化妙用"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React 应用设计之道 - curry 化妙用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/u9cltb727ad/",
				"appid": "1613049289050283", 
				"title": "React 应用设计之道 - curry 化妙用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-05T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/qhwysexgf4/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/87m3fb9bhdo/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&text=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&text=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&title=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&is_video=false&description=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&title=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&title=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&title=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu9cltb727ad%2f&title=React%20%e5%ba%94%e7%94%a8%e8%ae%be%e8%ae%a1%e4%b9%8b%e9%81%93%20-%20curry%20%e5%8c%96%e5%a6%99%e7%94%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React 应用设计之道 - curry 化妙用</h1><div class="meta"><div class="postdate"><time datetime="2018-12-05" itemprop="datePublished">2018-12-05</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014458612?w=1240\x26amp;h=663\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014458612?w=1240\x26amp;h=663\x22 alt=\x22Zedd on live\x22 title=\x22Zedd on live\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e使用 React 开发应用，给予了前端工程师无限“组合拼装”快感。但在此基础上，组件如何划分，数据如何流转等应用设计都决定了代码层面的美感和强健性。\x3c\/p\x3e\n\x3cp\x3e同时，在 React 世界里提到 curry 化，也许很多开发者会第一时间反应出 React-redux 库的 connect 方法。然而，如果仅仅机械化地停留于此，而没有更多灵活地应用，是非常可惜的。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e这篇文章以一个真实场景为基础，从细节出发，分析 curry 化如何化简为繁，更优雅地实现需求。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch2\x3e场景介绍\x3c\/h2\x3e\n\x3cp\x3e需求场景为一个卖食品的电商网站，左侧部分为商品筛选栏目，用户可以根据：价格区间、商品年限、商品品牌进行过滤。右侧展现对应产品。如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014458613?w=772\x26amp;h=562\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014458613?w=772\x26amp;h=562\x22 alt=\x22页面示意图\x22 title=\x22页面示意图\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e作为 React 开发者，我们知道 React 是组件化的，第一步将考虑根据 UE 图，进行组件拆分。这个过程比较简单直观，我们对拆分结果用下图表示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000014458614?w=923\x26amp;h=612\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000014458614?w=923\x26amp;h=612\x22 alt=\x22组件设计\x22 title=\x22组件设计\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e对应代码为：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e\x26lt;Products\x26gt;\n    \x26lt;Filters\x26gt;\n        \x26lt;PriceFilter\/\x26gt;\n        \x26lt;AgeFilter\/\x26gt;\n        \x26lt;BrandFilter\/\x26gt;\n    \x26lt;\/Filters\x26gt;\n    \x26lt;ProductResults\/\x26gt;\n\x26lt;\/Products\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2\x3e初级实现\x3c\/h2\x3e\n\x3cp\x3eReact 是基于数据状态的，紧接着第二步就要考虑应用状态。商品展现结果数据我们暂时不需要关心。这里主要考虑应用最重要的状态，即\x3cstrong\x3e过滤条件信息\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e我们使用命名为 filterSelections 的 JavaScript 对象表示过滤条件信息，如下：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3efilterSelections = {\n  price: ...,\n  ages: ...,\n  brands: ...,\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此数据需要在 Products 组件中进行维护。因为 Products 组件的子组件 Filters 和 ProductResults 都将依赖这项数据状态。\x3c\/p\x3e\n\x3cp\x3eFilters 组件通过 prop 接收 filterSelections 状态，并拆解传递给它的三项筛选子组件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eclass Filters extends React.Component {\n  render() {\n    return (\n      \x26lt;div\x26gt;\n        \x26lt;PriceFilter price={this.props.filterSelections.price} \/\x26gt;\n        \x26lt;AgeFilter ages={this.props.filterSelections.ages} \/\x26gt;\n        \x26lt;BrandFilter brands={this.props.filterSelections.brands} \/\x26gt;\n      \x26lt;\/div\x26gt;\n    );\n  };\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同样地，ProductResults 组件也通过 prop 接收 filterSelections 状态，进行相应产品的展示。\x3c\/p\x3e\n\x3cp\x3e对于 Filters 组件，它一定不仅仅是接收 filterSelections 数据而已，同样也需要对此项数据进行更新。为此，我们在 Products 组件中设计相应的 handler 函数，对过滤信息进行更新，命名为 updateFilters，并将此处理函数作为 prop 下发给 Filters 组件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eclass Products extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterSelections: {\n        price: someInitialValue,\n        ages: someInitialValue,\n        brands: someInitialValue,\n      }\n    }\n  }\n\n  updateFilters = (newSelections) =\x26gt; {\n    this.setState({\n      filterSelections: newSelections\n    })\n  };\n\n  render() {\n    return(\n      \x26lt;div\x26gt;\n        \x26lt;Filters \n          filterSelections={this.state.filterSelections}\n          selectionsChanged={this.updateFilters}\n        \/\x26gt;\n        \x26lt;Products filterSelections={this.state.filterSelections} \/\x26gt;\n      \x26lt;\/div\x26gt;\n    );\n  }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意这里我们对 this 绑定方式。有兴趣的读者可以参考我的另一篇文章：\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/27713910\x22 rel=\x22nofollow noreferrer\x22\x3e从 React 绑定 this，看 JS 语言发展和框架设计\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e作为 Filters 组件，同样也要对处理函数进行进一步拆分和分发：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eclass Filters extends React.Component {\n  updatePriceFilter = (newValue) =\x26gt; {\n    this.props.selectionsChanged({\n      ...this.props.filterSelections,\n      price: newValue\n    })\n  };\n\n  updateAgeFilter = (newValue) =\x26gt; {\n    this.props.selectionsChanged({\n      ...this.props.filterSelections,\n      ages: newValue\n    })\n  };\n\n  updateBrandFilter = (newValue) =\x26gt; {\n    this.props.selectionsChanged({\n      ...this.props.filterSelections,\n      brands: newValue\n    })\n  };\n  \n  render() {\n    return (\n      \x26lt;div\x26gt;\n        \x26lt;PriceFilter \n          price={this.props.filterSelections.price} \n          priceChanged={this.updatePriceFilter} \n        \/\x26gt;\n        \x26lt;AgeFilter \n          ages={this.props.filterSelections.ages} \n          agesChanged={this.updateAgeFilter} \n        \/\x26gt;\n        \x26lt;BrandFilter \n          brands={this.props.filterSelections.brands} \n          brandsChanged={this.updateBrandFilter} \n        \/\x26gt;\n      \x26lt;\/div\x26gt;\n    );\n  };\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们根据 selectionsChanged 函数，通过传递不同类型参数，设计出 updatePriceFilter、updateAgeFilter、updateBrandFilter 三个方法，分别传递给 PriceFilter、AgeFilter、BrandFilter 三个组件。\x3c\/p\x3e\n\x3cp\x3e这样的做法非常直接，然而运行良好。但是在 Filters 组件中，多了很多函数，且这些函数看上去做着相同的逻辑。如果将来又多出了一个或多个过滤条件，那么同样也要多出同等数量的“双胞胎”函数。这显然不够优雅。\x3c\/p\x3e\n\x3ch2\x3ecurrying 是什么\x3c\/h2\x3e\n\x3cp\x3e在分析更加优雅的解决方案之前，我们先简要了解一下 curry 化是什么。curry 化事实上是一种变形，它将一个函数 f 变形为 f\x27，f\x27 的参数接收原本函数 f 的参数，同时返回一个新的函数 f\x27\x27，f\x27\x27 接收剩余的参数并返回函数 f 的计算结果。\x3c\/p\x3e\n\x3cp\x3e这么描述无疑是抽象的，我们还是通过代码来理解。这是一个简单的求和函数：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eadd = (x, y) =\x26gt; x \x2b y;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ecurried 之后：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3ecurriedAdd = (x) =\x26gt; {\n  return (y) =\x26gt; {\n    return x \x2b y;\n  }\n}\n    \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以，当执行 curriedAdd(1)(2) 之后，得到结果 3，curriedAdd(x) 函数有一个名字叫 partial application，curriedAdd 函数只需要原本 add(X, y) 函数的一部分参数。\x3c\/p\x3e\n\x3cblockquote\x3eCurrying a regular function let’s us perform partial application on it.\x3c\/blockquote\x3e\n\x3ch2\x3ecurry 化应用\x3c\/h2\x3e\n\x3cp\x3e再回到之前的场景，我们设计 curry 化函数：updateSelections，\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eupdateSelections = (selectionType) =\x26gt; {\n  return (newValue) =\x26gt; {\n    this.props.selectionsChanged({\n      ...this.props.filterSelections,\n      [selectionType]: newValue,\n    });\n  }\n};\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e进一步可以简化为：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eupdateSelections = (selectionType) =\x26gt; (newValue) =\x26gt; {\n   this.props.selectionsChanged({\n      ...this.props.filterSelections,\n      [selectionType]: newValue,\n   })\n};\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于 updateSelections 的偏应用（即上面提到的 partial application）：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eupdateSelections(\x27ages\x27);\nupdateSelections(\x27brands\x27);\nupdateSelections(\x27price\x27);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相信大家已经理解了这么做的好处。这样一来，我们的 Filters 组件完整为：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e\nclass Filters extends React.Component {\n  \n  updateSelections = (selectionType) =\x26gt; {\n    return (newValue) =\x26gt; {\n      this.props.selectionsChanged({\n        ...this.props.selections,\n        [selectionType]: newValue,  \/\/ new ES6 Syntax!! :)\n      });\n    }\n  };\n\n  render() {\n    return (\n      \x26lt;div\x26gt;\n        \x26lt;PriceFilter \n          price={this.props.selections.price} \n          priceChanged={this.updateSelections(\x27price\x27)} \n        \/\x26gt;\n        \x26lt;AgeFilter \n          ages={this.props.selections.ages} \n          agesChanged={this.updateSelections(\x27ages\x27)} \n        \/\x26gt;\n        \x26lt;BrandFilter \n          brands={this.props.selections.brands} \n          brandsChanged={this.updateSelections(\x27brands\x27)} \n        \/\x26gt;\n      \x26lt;\/div\x26gt;\n    );\n  };\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然，currying 并不是解决上述问题的唯一方案。我们再来了解一种方法，进行对比消化，updateSelections 函数 uncurried 版本：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e\nupdateSelections = (selectionType, newValue) =\x26gt; {\n  this.props.updateFilters({\n    ...this.props.filterSelections,\n    [selectionType]: newValue,\n  });\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样的设计使得每一个 Filter 组件：PriceFilter、AgeFilter、BrandFilter 都要调用 updateSelections 函数本身，并且要求组件本身感知 filterSelections 的属性名，以进行相应属性的更新。这就是一种耦合，完整实现：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3eclass Filters extends React.Component {\n\n      updateSelections = (selectionType, newValue) =\x26gt; {\n        this.props.selectionsChanged({\n          ...this.props.filterSelections,\n          [selectionType]: newValue, \n        });\n      };\n    \n      render() {\n        return (\n          \x26lt;\x26gt;\n            \x26lt;PriceFilter \n              price={this.props.selections.price} \n              priceChanged={(value) =\x26gt; this.updateSelections(\x27price\x27, value)} \n            \/\x26gt;\n            \x26lt;AgeFilter \n              ages={this.props.selections.ages} \n              agesChanged={(value) =\x26gt; this.updateSelections(\x27ages\x27, value)} \n            \/\x26gt;\n            \x26lt;BrandFilter \n              brands={this.props.selections.brands} \n              brandsChanged={(value) =\x26gt; this.updateSelections(\x27brands\x27, value)} \n            \/\x26gt;\n          \x26lt;\/\x26gt;\n        );\n      };\n    }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其实我认为，在这种场景下，关于两种方案的选择，可以根据开发者的偏好来决定。\x3c\/p\x3e\n\x3ch2\x3e总结\x3c\/h2\x3e\n\x3cp\x3e这篇文章内容较为基础，但从细节入手，展现了 React 开发编写和函数式理念相结合的魅力。文章\x3ca href=\x22https:\/\/hackernoon.com\/curry-away-in-react-7c4ed110c65a\x22 rel=\x22nofollow noreferrer\x22\x3e译自这里\x3c\/a\x3e，部分内容有所改动。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e广告时间：\x3c\/strong\x3e\x3cbr\x3e如果你对前端发展，尤其对 React 技术栈感兴趣：我的新书中，也许有你想看到的内容。关注作者 \x3ca href=\x22https:\/\/www.zhihu.com\/people\/lucas-hc\/activities\x22 rel=\x22nofollow noreferrer\x22\x3eLucas HC\x3c\/a\x3e，新书出版将会有送书活动。\x3c\/p\x3e\n\x3cp\x3eHappy Coding!\x3c\/p\x3e\n\x3cp\x3ePS: 作者\x26nbsp;\x3ca href=\x22http:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/HOUCe\x22 rel=\x22nofollow noreferrer\x22\x3eGithub仓库\x3c\/a\x3e\x26nbsp;和\x26nbsp;\x3ca href=\x22https:\/\/www.zhihu.com\/people\/lucas-hc\/answers\x22 rel=\x22nofollow noreferrer\x22\x3e知乎问答链接\x3c\/a\x3e\x26nbsp;欢迎各种形式交流！\x3c\/p\x3e\n\x3cp\x3e我的其他几篇关于React技术栈的文章：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/28905707\x22 rel=\x22nofollow noreferrer\x22\x3e从setState promise化的探讨 体会React团队设计思想\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/28905707\x22 rel=\x22nofollow noreferrer\x22\x3e从setState promise化的探讨 体会React团队设计思想\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/27825741\x22 rel=\x22nofollow noreferrer\x22\x3e通过实例，学习编写 React 组件的“最佳实践”\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/27727292\x22 rel=\x22nofollow noreferrer\x22\x3eReact 组件设计和分解思考\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/28905707\/edit\x22 rel=\x22nofollow noreferrer\x22\x3e从 React 绑定 this，看 JS 语言发展和框架设计\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/link.zhihu.com\/?target=http%3A\/\/www.jianshu.com\/p\/49029b49f2b4\x22 rel=\x22nofollow noreferrer\x22\x3e做出Uber移动网页版还不够 极致性能打造才见真章**\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/link.zhihu.com\/?target=http%3A\/\/www.jianshu.com\/p\/cde3cf7e2760\x22 rel=\x22nofollow noreferrer\x22\x3eReact\x2bRedux打造“NEWS EARLY”单页应用 一个项目理解最前沿技术栈真谛**\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React 应用设计之道 - curry 化妙用</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014458607">https://segmentfault.com/a/1190000014458607</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/u9cltb727ad/" target="_blank">https://alili.tech/archive/u9cltb727ad/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>