<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="使用Angular CLI时的6个最佳实践和专业技巧"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>使用Angular CLI时的6个最佳实践和专业技巧 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/umea266j45d/",
				"appid": "1613049289050283", 
				"title": "使用Angular CLI时的6个最佳实践和专业技巧 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-23T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/y6a6ca8zjoo/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/f93l2wylvht/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&text=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&text=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&title=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&is_video=false&description=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&title=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&title=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&title=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fumea266j45d%2f&title=%e4%bd%bf%e7%94%a8Angular%20CLI%e6%97%b6%e7%9a%846%e4%b8%aa%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%92%8c%e4%b8%93%e4%b8%9a%e6%8a%80%e5%b7%a7"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">使用Angular CLI时的6个最佳实践和专业技巧</h1><div class="meta"><div class="postdate"><time datetime="2018-12-23" itemprop="datePublished">2018-12-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e使用Angular CLI开发angular应用程序是一种非常愉快的体验！Angular团队为我们提供了令人惊叹的CLI，它支持了任何重要项目开箱即用所需的大部分东西。\x3c\/p\x3e\n\x3cp\x3e规范化的项目结构与全面的测试能力（包括单元测试和端到端测试），脚手架，支持使用特定的环境配置去构建产品。这在构建每一个新项目时候节约了大量时间。感谢Angular团队！?\x3c\/p\x3e\n\x3cp\x3e虽然Angular CLI的工作的很好，但我们可以利用一些潜在的配置和最佳实践使我们的项目更好！\x3c\/p\x3e\n\x3ch4\x3e我们将要学习什么？\x3c\/h4\x3e\n\x3col\x3e\n\x3cli\x3e具有Core(核心)，Shared(共享)，lazy-loaded Feature modules(延迟加载功能模块)体系结构的最佳实践\x3c\/li\x3e\n\x3cli\x3e为app和environments文件夹使用别名来支持更干净的导入\x3c\/li\x3e\n\x3cli\x3e为什么和如何使用Sass ，Angular Material\x3c\/li\x3e\n\x3cli\x3e如何组织好的产品构建方式\x3c\/li\x3e\n\x3cli\x3e如何向PhantomJS说再见以及使用Headless Chrome来替代(测试)\x3c\/li\x3e\n\x3cli\x3e如何发布我们的项目通过自动生成更新日志和正确的版本号\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e1. 关于项目的的文件结构\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e好的, 我们使用Angular CLI生成了新的项目，但是现在呢？我们应该继续在一些随机文件夹生成我们的服务和组件吗？我们应该如何组织我们的项目？\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e一个好的指导原则应该是遵循将应用程序分成至少三个不同的模块： Core(核心模块), Shared(共享模块) 和 Feature(功能模块) (不过我们可能需要更多的功能模块。?).\x3c\/p\x3e\n\x3ch4\x3e核心模块\x3c\/h4\x3e\n\x3cp\x3e所有服务都应该在核心模块实现。典型的例子比如认证服务或用户服务。让我们看个例子。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* 3rd party libraries *\/\nimport { NgModule, Optional, SkipSelf } from \x27@angular\/core\x27;\nimport { CommonModule } from \x27@angular\/common\x27;\nimport { HttpClientModule } from \x27@angular\/common\/http\x27;\n\n\/* our own custom services  *\/\nimport { SomeSingletonService } from \x27.\/some-singleton\/some-singleton.service\x27;\n\n@NgModule({\n  imports: [\n    \/* 3rd party libraries *\/\n    CommonModule,\n    HttpClientModule,\n  ],\n  declarations: [],\n  providers: [\n    \/* our own custom services  *\/\n    SomeSingletonService\n  ]\n})\nexport class CoreModule {\n  \/* make sure CoreModule is imported only by one NgModule the AppModule *\/\n  constructor (\n    @Optional() @SkipSelf() parentModule: CoreModule\n  ) {\n    if (parentModule) {\n      throw new Error(\x27CoreModule is already loaded. Import only in AppModule\x27);\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* 3rd party libraries *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { NgModule, Optional, SkipSelf } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/core\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { CommonModule } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/common\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { HttpClientModule } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/common\/http\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* our own custom services  *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { SomeSingletonService } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/some-singleton\/some-singleton.service\x27\x3c\/span\x3e;\n\n@NgModule({\n  \x3cspan class=\x22hljs-attr\x22\x3eimports\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 3rd party libraries *\/\x3c\/span\x3e\n    CommonModule,\n    HttpClientModule,\n  ],\n  \x3cspan class=\x22hljs-attr\x22\x3edeclarations\x3c\/span\x3e: [],\n  \x3cspan class=\x22hljs-attr\x22\x3eproviders\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* our own custom services  *\/\x3c\/span\x3e\n    SomeSingletonService\n  ]\n})\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCoreModule\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/* make sure CoreModule is imported only by one NgModule the AppModule *\/\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e (\n    @Optional() @SkipSelf() parentModule: CoreModule\n  ) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (parentModule) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27CoreModule is already loaded. Import only in AppModule\x27\x3c\/span\x3e);\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e共享模块\x3c\/h4\x3e\n\x3cp\x3e所有的“dumb(哑)”组件和管道都应该在这里实现。这些组件不能从核心模块或其他特性模块的构造函数中的导入和注入服务。它们应该使用组件的模板中的属性接收所有数据。这一切都归结到这一事实，SharedModule(共享模块)没有任何依赖于我们的应用程序的其余部分。\x3c\/p\x3e\n\x3cp\x3e这也是导入和重新导入Angular Material 组件库的完美场所。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* 3rd party libraries *\/\nimport { NgModule } from \x27@angular\/core\x27;\nimport { CommonModule } from \x27@angular\/common\x27;\nimport { FormsModule  } from \x27@angular\/forms\x27;\nimport { MdButtonModule } from \x27@angular\/material\x27;\n\n\/* our own custom components *\/\nimport { SomeCustomComponent } from \x27.\/some-custom\/some-custom.component\x27;\n\n@NgModule({\n  imports: [\n    \/* angular stuff *\/\n    CommonModule,\n    FormsModule,\n\n    \/* 3rd party components *\/\n    MdButtonModule,\n  ],\n  declarations: [\n    SomeCustomComponent\n  ],\n  exports: [\n    \/* angular stuff *\/\n    CommonModule,\n    FormsModule,\n\n    \/* 3rd party components *\/\n    MdButtonModule,\n\n    \/* our own custom components *\/\n    SomeCustomComponent\n  ]\n})\nexport class SharedModule { }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* 3rd party libraries *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { NgModule } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/core\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { CommonModule } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/common\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { FormsModule  } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/forms\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { MdButtonModule } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/material\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* our own custom components *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { SomeCustomComponent } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/some-custom\/some-custom.component\x27\x3c\/span\x3e;\n\n@NgModule({\n  \x3cspan class=\x22hljs-attr\x22\x3eimports\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* angular stuff *\/\x3c\/span\x3e\n    CommonModule,\n    FormsModule,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 3rd party components *\/\x3c\/span\x3e\n    MdButtonModule,\n  ],\n  \x3cspan class=\x22hljs-attr\x22\x3edeclarations\x3c\/span\x3e: [\n    SomeCustomComponent\n  ],\n  \x3cspan class=\x22hljs-attr\x22\x3eexports\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* angular stuff *\/\x3c\/span\x3e\n    CommonModule,\n    FormsModule,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 3rd party components *\/\x3c\/span\x3e\n    MdButtonModule,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* our own custom components *\/\x3c\/span\x3e\n    SomeCustomComponent\n  ]\n})\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSharedModule\x3c\/span\x3e \x3c\/span\x3e{ }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e如何使用Angular CLI编写项目结构\x3c\/h4\x3e\n\x3cp\x3e我们可以在创建新项目后立即生成核心和共享模块。这样，我们就可以从一开始就准备生成额外的组件和服务。\x3c\/p\x3e\n\x3cp\x3e运行命令\x3ccode\x3eng generate module core\x3c\/code\x3e生成核心模块。然后在\x3ccode\x3ecore\x3c\/code\x3e文件夹创建index.ts文件，再重新导出\x3ccode\x3eCoreModule\x3c\/code\x3e。我们将重新导出额外的公共服务，这些服务在整个开发过程中都可以使用。 \x3c\/p\x3e\n\x3cp\x3e完成后，我们可以对shared module(共享模块)执行同样的操作。\x3c\/p\x3e\n\x3ch4\x3e功能模块\x3c\/h4\x3e\n\x3cp\x3e我们将为应用程序的每一个独立特性创建多个功能模块。Feature modules(功能模块)应该只能从CoreModule导入服务。如果功能模块A需要从功能模块B导入服务，可以考虑将该服务迁移到CoreModule。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e在某些情况下，需要只是某些功能模块共享的服务，将它们移动到核心是没有意义的。在这种情况下，我们可以创建特殊的共享功能模块，如本文后面所述。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cblockquote\x3e\x3cp\x3e经验法则是： 我们创建的功能模块尽量不依赖其他功能模块，仅仅服务由CoreModule提供，组件由SharedModule提供\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e这将保持我们的代码干净，易于维护和扩展的新功能。它还减少了重构所需的工作量。如果遵循得当，我们将确信对一个功能的更改不会影响或破坏我们的应用程序的其余部分。\x3c\/p\x3e\n\x3ch4\x3e延迟加载\x3c\/h4\x3e\n\x3cp\x3e我们应该尽可能延迟加载我们的功能模块。理论上，只有一个功能模块应该在应用程序启动时同步加载以显示初始内容。每个其他功能模块应该在用户触发导航后缓慢加载。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e2. app 和 environments 的别名使用\x3c\/h3\x3e\n\x3cp\x3e我们的app 和 environments文件夹使用别名将使我们能够实现干净的导入，在我们的应用程序这将是一致的。\x3c\/p\x3e\n\x3cp\x3e假设，但通常情况。我们正在研究一个组件，它位于功能模块A中的三个文件夹深处，我们希望从核心模块中导入位于两个文件夹深处的服务。这将导致导入声明看起来有点像\x3ccode\x3eimport { SomeService } from \x27..\/..\/..\/core\/subpackage1\/subpackage2\/some.service\x27\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e绝对不是最干净的导入申明…\x3c\/p\x3e\n\x3cp\x3e更糟糕的是，每当我们想改变这两个文件中任何一个的位置时，我们的导入语句都会中断。相比之下，更短的导入申明\x3ccode\x3eimport { SomeService } from \x22@app\/core\x22\x3c\/code\x3e。看起来更好，不是吗？\x3c\/p\x3e\n\x3cp\x3e能够使用别名必须添加URL地址和路径属性，我们\x3ccode\x3etsconfig.json\x3c\/code\x3e文件像这样…\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;compilerOptions\x26quot;: {\n    \x26quot;...\x26quot;: \x26quot;reduced for brevity\x26quot;,\n    \n    \x26quot;baseUrl\x26quot;: \x26quot;src\x26quot;,\n    \x26quot;paths\x26quot;: {\n      \x26quot;@app\/*\x26quot;: [\x26quot;app\/*\x26quot;],\n      \x26quot;@env\/*\x26quot;: [\x26quot;environments\/*\x26quot;]\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22compilerOptions\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22...\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22reduced for brevity\x22\x3c\/span\x3e,\n    \n    \x3cspan class=\x22hljs-attr\x22\x3e\x22baseUrl\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22src\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22paths\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22@app\/*\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22app\/*\x22\x3c\/span\x3e],\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22@env\/*\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22environments\/*\x22\x3c\/span\x3e]\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e我们还添加了\x3ccode\x3e@env\x3c\/code\x3e别名，以便能够从\x3ccode\x3eimport { environment } from \x22@env\/environment\x22\x3c\/code\x3e中使用同一个导入申明轻松地从应用程序的任何地方访问环境变量。它将为所有指定的\x3ccode\x3eenvironments\x3c\/code\x3e工作，因为它将根据传递给\x3ccode\x3eng build\x3c\/code\x3e命令的\x3ccode\x3e--env\x3c\/code\x3e标志自动解析正确的环境配置文件。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e通过我们的路径，我们现在可以像这样导入environment 和 services …\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* 3rd party libraries *\/\nimport { Component, OnInit } from \x27@angular\/core\x27;\nimport { Observable } from \x27rxjs\/Observable\x27;\n\n\/* globally accessible app code (in every feature module) *\/\nimport { SomeSingletonService } from \x27@app\/core\x27;\nimport { environment } from \x27@env\/environment\x27;\n\n\/* localy accessible feature module code, always use relative path *\/\nimport { ExampleService } from \x27.\/example.service\x27;\n\n@Component({\n  \/* ... *\/\n})\nexport class ExampleComponent implements OnInit {\n  constructor(\n    private someSingletonService: SomeSingletonService,\n    private exampleService: ExampleService\n  ) {}\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* 3rd party libraries *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Component, OnInit } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/core\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Observable } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27rxjs\/Observable\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* globally accessible app code (in every feature module) *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { SomeSingletonService } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@app\/core\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { environment } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@env\/environment\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* localy accessible feature module code, always use relative path *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { ExampleService } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/example.service\x27\x3c\/span\x3e;\n\n@Component({\n  \x3cspan class=\x22hljs-comment\x22\x3e\/* ... *\/\x3c\/span\x3e\n})\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eExampleComponent\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eimplements\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eOnInit\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\n    private someSingletonService: SomeSingletonService,\n    private exampleService: ExampleService\n  ) {}\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在上面的例子中，你也许注意到我们直接导入服务\x3ccode\x3eSomeSingletonService\x3c\/code\x3e是通过\x3ccode\x3e@app\/core\x3c\/code\x3e，代替了\x3ccode\x3e@app\/core\/some-package\/some-singleton.service\x3c\/code\x3e。这得感谢核心模块的入口文件index.ts重新导出了每一个公共实体。我们在每一个包(文件夹)都创建了一个文件index.ts，它看起来像这样...\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export * from \x27.\/core.module\x27;\nexport * from \x27.\/auth\/auth.service\x27;\nexport * from \x27.\/user\/user.service\x27;\nexport * from \x27.\/some-singleton-service\/some-singleton.service\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/core.module\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/auth\/auth.service\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/user\/user.service\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/some-singleton-service\/some-singleton.service\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在大多数的应用程序中，特殊功能模块的组件和服务的通常只需要访问服务的 CoreModule 和组件的SharedModule。有时这可能不足以解决特定的业务情况，我们还需要某种“shared feature module(共享功能模块)”，它为其他功能模块的有限子集提供功能。\x3c\/p\x3e\n\x3cp\x3e在这种情况下，我们将得到类似的东西\x3ccode\x3eimport { SomeService } from \x27@app\/shared-feature\x27;\x3c\/code\x3e。和核心模块一样，共享功能模块使用别名\x3ccode\x3e@app\x3c\/code\x3e进行访问。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZTwX?w=800\x26amp;h=501\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZTwX?w=800\x26amp;h=501\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e3. 使用SASS\x3c\/h3\x3e\n\x3cp\x3eSASS是一个CSS的预处理器，支持有趣的东西，像variables(尽管CSS将要实现变量），functions，mixin等等。\x3c\/p\x3e\n\x3cp\x3eSASS在\x3ca href=\x22https:\/\/material.angular.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAngular Material Components\x3c\/a\x3e官方库的多主题中进行有效的使用。项目中默认选择使用SASS可以假设是安全的。\x3c\/p\x3e\n\x3cp\x3e为了使用SASS我们在使用Angular CLI生成我们的项目时候必须用命令\x3ccode\x3eng new command --style scss \x3c\/code\x3e。这就设置了大部分必须的配置。默认情况下不添加\x3ccode\x3estylePreprocessorOptions includePaths\x3c\/code\x3e，我们可以自己设置成根目录 \x22.\/\x22 和 可选的 \x22.\/themes\x22。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;apps\x26quot;: [\n    {\n      \x26quot;...\x26quot;: \x26quot;reduced for brevity\x26quot;,\n      \n      \x26quot;stylePreprocessorOptions\x26quot;: {\n        \x26quot;includePaths\x26quot;: [\x26quot;.\/\x26quot;, \x26quot;.\/themes\x26quot;]\n      }\n    }\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22apps\x22\x3c\/span\x3e: [\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22...\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22reduced for brevity\x22\x3c\/span\x3e,\n      \n      \x3cspan class=\x22hljs-attr\x22\x3e\x22stylePreprocessorOptions\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22includePaths\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22.\/\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22.\/themes\x22\x3c\/span\x3e]\n      }\n    }\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这有助于我们的编辑器找到导入标志，并且通过Angular Material的变量和工具函数的代码完成来增强开发人员的体验。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eWhen theming Angular Material apps it’s a good practice to extract theme definitions into separate themes folder, one theme per file.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e4. 应用产品构建\x3c\/h3\x3e\n\x3cp\x3eAngular CLI声称的项目只提供了一个非常简单开箱即用的构建脚本\x3ccode\x3eng build\x3c\/code\x3e。为了生成产品级的工件，我们必须自己做一些定制。\x3c\/p\x3e\n\x3cp\x3e我们在package.json中添加脚本\x3ccode\x3e\x22build:prod\x22: \x22ng build --target production --build-optimizer --vendor-chunk\x22\x3c\/code\x3e 。\x3c\/p\x3e\n\x3ch4\x3eTarget Production\x3c\/h4\x3e\n\x3cp\x3e这是一个标志能使代码压缩，以及还有很多默认的有用的构建标志。使用如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e--environment prod —使用 environment.prod.ts 文件设置环境变量\x3c\/li\x3e\n\x3cli\x3e--aot —预编译，提前编译. 这将在未来的Angular CLI是默认设置，但是现在我们必须手动启动。\x3c\/li\x3e\n\x3cli\x3e--output-hashing all — 将生成的文件的散列内容添加到文件名中，以方便浏览器缓存破坏（文件内容的任何更改都会导致不同的哈希值，因此浏览器被迫加载新版本的文件）\x3c\/li\x3e\n\x3cli\x3e--extract-css true — 将所有的css提取到到单独的样式表文件\x3c\/li\x3e\n\x3cli\x3e--sourcemaps false — 禁用source maps的生成\x3c\/li\x3e\n\x3cli\x3e--named-chunks false — 禁用使用可读的名字，用数字替代\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3eOther useful flags\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e--build-optimizer — 新的功能，导致更小的捆绑，但更长的构建时间，所以慎用！（将来也应该默认启用）\x3c\/li\x3e\n\x3cli\x3e--vendor-chunk — 将所有第三方（库）代码提取到单独的块中\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e去\x3ca href=\x22https:\/\/github.com\/angular\/angular-cli\/wiki\/build\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e检查其他有用的配置项，也许在个人项目中用得上。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e5. Phantom JS 死了! Headless Chrome 永存!\x3c\/h3\x3e\n\x3cp\x3ePhantomJS是一个非常著名的无头的浏览器。这是事实上的解决方案，在CI服务器和许多开发机器上运行前端测试。\x3c\/p\x3e\n\x3cp\x3e虽然有好的，这是现代ECMAScript支持滞后。更重要的是，它是不规范的行为，在许多情况下导致头痛，当测试通过本地没有问题，但他们仍然在CI环境出现问题。\x3c\/p\x3e\n\x3cp\x3e幸运的是，我们不再需要处理它了！\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZTZG?w=1000\x26amp;h=692\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZTZG?w=1000\x26amp;h=692\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e就像\x3ca href=\x22https:\/\/developers.google.com\/web\/updates\/2017\/04\/headless-chrome\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e说的一样…\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eHeadless Chrome 是在Chrome 59上运行。这是在Headless环境下运行Chrome浏览器的一种方式。本质上，运行没有Chrome的Chrome！它将Chrome和闪烁渲染引擎提供的所有现代Web平台特性带到命令行。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cem\x3e很棒，那我们在Angular CLI上使用它呢？\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e我们在package.json上添加脚本\x3ccode\x3e\x22test\x22: \x22ng test --browser ChromeHeadless --single-run\x22\x3c\/code\x3e 和 \x3ccode\x3e\x22watch\x22: \x22ng test --browser ChromeHeadless\x22\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e很简单，对吧！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e6. 使用标准的提交信息 \x26amp; 自动生成更新日志\x3c\/h3\x3e\n\x3cp\x3e对我们感兴趣的项目的新特性和bug修复有一个快速概述总是很棒的。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e让我们为用户提供同样的便利！\x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e手动写更改日志将是极其繁琐，而且容易出错的任务，所以它最好是自动化的过程。有很多可用的工具可以做这项工作，但是让我们看下\x3ca href=\x22https:\/\/github.com\/conventional-changelog\/standard-version\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estandard-version\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e这个工具根据\x3ca href=\x22https:\/\/conventionalcommits.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eConventional Commits specification\x3c\/a\x3e把所有提交自动生成和更新changelog.md文件，并且正确地确定我们项目的新版本。\x3c\/p\x3e\n\x3cp\x3e常规提交定义了强制类型、可选（范围）：其次是提交消息。还可以添加可选的正文和页脚，它们都由空行分隔。让我们来看看\x3ca href=\x22https:\/\/github.com\/tomastrajan\/ngx-model\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3engx-model\x3c\/a\x3e库所有提交信息的一个实践例子。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22fix(dependency): multiple versions of rxjs in single project (TS90010)\n\nBREAKING CHANGE: rxjs is now peerDependency instead of dependency\n\ncloses #1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs http\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3efix(dependency)\x3c\/span\x3e: multiple versions of rxjs in single project (TS90010)\n\n\x3cspan class=\x22mipsasm\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eBREAKING \x3c\/span\x3eCHANGE: rxjs is now peerDependency \x3cspan class=\x22hljs-keyword\x22\x3einstead \x3c\/span\x3eof dependency\n\n\x3cspan class=\x22hljs-keyword\x22\x3ecloses \x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e#1\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e标准版本将正确地撞击(bump)项目的主要版本，因为在提交主体中存在着BREAKING CHANGE关键字。\x3c\/p\x3e\n\x3cp\x3e生成的 CHANGELOG.md 文件将像这个样子….\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZVOZ?w=800\x26amp;h=472\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZVOZ?w=800\x26amp;h=472\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e看起来很好！那么我们如何在我们的项目中使用它呢？\x3c\/p\x3e\n\x3cp\x3e首先我们需要通过命令\x3ccode\x3enpm install -D standard-version\x3c\/code\x3e安装到\x3ccode\x3edevDependencies \x3c\/code\x3e，然后添加脚本\x3ccode\x3e\x22release\x22: \x22standard-version\x22\x3c\/code\x3e到package.json文件中。\x3c\/p\x3e\n\x3cp\x3e我们也可以通过\x3ccode\x3egit push\x3c\/code\x3e和\x3ccode\x3enpm publish\x3c\/code\x3e使整个过程自动化。本例子中使用脚本\x3ccode\x3e\x22release\x22: \x22standard-version \x26amp;\x26amp; git push — follow-tags origin master \x26amp;\x26amp; npm publish\x22\x3c\/code\x3e。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e注意我们使用\x26amp;\x26amp;链接命令是平台相关的，只能在基于Unix的系统上（因此也对Windows Cygwin，gitbash，或新的win10）。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e附赠 Use resource root (Intellij IDEA, Webstorm only)\x3c\/h3\x3e\n\x3cp\x3eIntelliJ IDEA永远不会找到所有默认情况下(带有错误的标记和残废的红色代码)的路径。幸运的是，解决方案非常简单。只需选择SRC文件夹并将其标记为Sources Root。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVZVVY?w=800\x26amp;h=694\x22 src=\x22https:\/\/static.alili.tech\/img\/bVZVVY?w=800\x26amp;h=694\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e很棒! 你终于读完了它!\x3c\/h3\x3e\n\x3cp\x3e我希望你能找到一些有用的技巧和最佳实践！请支持这篇文章，以便向更多的受众传播这些建议！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e参考资源\x3c\/h3\x3e\n\x3chr\x3e\n\x3cul\x3e\x3cli\x3e\x3ca href=\x22https:\/\/medium.com\/@tomastrajan\/6-best-practices-pro-tips-for-angular-cli-better-developer-experience-7b328bc9db81\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e6 Best Practices \x26amp; Pro Tips when using Angular CLI\x3c\/a\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>使用Angular CLI时的6个最佳实践和专业技巧</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012330491">https://segmentfault.com/a/1190000012330491</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/umea266j45d/" target="_blank">https://alili.tech/archive/umea266j45d/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>