<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Weex在达人店的一年实践"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Weex在达人店的一年实践 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/uxnq74lzrpc/",
				"appid": "1613049289050283", 
				"title": "Weex在达人店的一年实践 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-22T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/s1zbjoxzhn/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/aplso6q597i/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&text=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&text=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&title=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&is_video=false&description=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&title=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&title=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&title=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fuxnq74lzrpc%2f&title=Weex%e5%9c%a8%e8%be%be%e4%ba%ba%e5%ba%97%e7%9a%84%e4%b8%80%e5%b9%b4%e5%ae%9e%e8%b7%b5"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Weex在达人店的一年实践</h1><div class="meta"><div class="postdate"><time datetime="2018-12-22" itemprop="datePublished">2018-12-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3eWeex在达人店的一年实践\x3c\/h1\x3e\n\x3cblockquote\x3e\x3cp\x3e本文来自尚妆移动端团队\x3ca href=\x22https:\/\/github.com\/or0fun\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e路飞\x3c\/a\x3e\x3cbr\x3e发表于尚妆github博客，欢迎订阅！\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e尚妆达人店接入weex也一年的时间了，在此期间，也陆陆续续出了一些文章：\x3cbr\x3e\x3ca href=\x22https:\/\/juejin.im\/post\/58c22192570c35006d50ba34\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e「Android」 详细全面的基于vue2.0Weex接入过程（Android视角）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/juejin.im\/post\/5992db27518825244249e2db\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e「前端」weex页面传参\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/juejin.im\/post\/59f6d6b46fb9a0450a66a143\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e「大前端」weex里native主动发送事件到JS的方案实现\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/juejin.im\/entry\/59c388f1f265da065476d024\/detail\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eweex 三端实现Pager 组件(ViewPager) - 本仁笔记\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/ShowJoy-com\/showjoy-weex-notice\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e记录团队weex实践过程中需要特殊注意的点\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e这里就详细地做一个总结，希望可以给大家带来一些参考。我们团队也比较小，App的量级也不大，很多做得不够好的地方，还希望大神不吝赐教。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e一、什么是Weex\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3eWeex 是一套简单易用的跨平台开发方案，能以 web 的开发体验构建高性能、可扩展的 native 应用，为了做到这些，Weex 与 Vue 合作，使用 Vue 作为上层框架，并遵循 W3C 标准实现了统一的 JSEngine 和 DOM API，这样一来，你甚至可以使用其他框架驱动 Weex，打造三端一致的 native 应用。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e前言引用了\x3ca href=\x22https:\/\/weex.apache.org\/cn\/guide\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex官网\x3c\/a\x3e的定义，我们在实践的过程中也实际地体会到了这些。以下是提炼出的几个关键字：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386624?w=559\x26amp;h=232\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386624?w=559\x26amp;h=232\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e还未接触过weex的同学，如果想先看一下效果，可以访问 Weex 提供的 \x3ca href=\x22http:\/\/dotwe.org\/vue\/3ce15afce07208bead2b5aac9ff3080a\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在线Playground\x3c\/a\x3e，进行编辑和浏览，App端下载\x3ca href=\x22https:\/\/weex.apache.org\/cn\/playground.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eplayground\x3c\/a\x3eplayground进行扫码浏览效果。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386625?w=1507\x26amp;h=747\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386625?w=1507\x26amp;h=747\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到，Weex可以通过自己设计的DSL，用vue像写 web 页面一样写一个 app 的页面，整个页面书写分成了3段，\x3ccode\x3etemplate\x3c\/code\x3e、\x3ccode\x3estyle\x3c\/code\x3e、\x3ccode\x3escript\x3c\/code\x3e，借鉴了成熟的MVVM的思想。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e后面会讲到，理论上也可以横向支持采用React、angular等框架来书写页面。阿里开源的Rax，就是基于React的标准，支持在Weex渲染，具体可以看知乎上一个问答\x3ca href=\x22https:\/\/www.zhihu.com\/question\/54738521\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何看待阿里开源的Rax框架？\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e而Playground集成了\x3ccode\x3eWeex SDK\x3c\/code\x3e，扫码后，得到了编译好的\x3ccode\x3eJS Bundle\x3c\/code\x3e，然后通过JS Framework层解析，输出Json格式的\x3ccode\x3eVisual Dom\x3c\/code\x3e，然后通过\x3ccode\x3eJS-Native Bridge\x3c\/code\x3e 来渲染成Native界面，也通过Bridge来进行Js-Native的事件传递。如下是官网给出的架构图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386626?w=1251\x26amp;h=831\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386626?w=1251\x26amp;h=831\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e通过断点调试可以看到，JSFramework传给SDK的渲染指令是这样子，SDK 再根据不同的type和参数，渲染成对应的Native组件。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386627?w=1631\x26amp;h=547\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386627?w=1631\x26amp;h=547\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e传统的App，Native UI 是可以直接获取 Device Power的，而Weex App里，Native UI 和 Device Power之间通过JavaScript来连接，如图所示(图来自weex官网)：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386628?w=1176\x26amp;h=816\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386628?w=1176\x26amp;h=816\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在开始接入之前，关于Weex的页面结构，需要了解一下，具体可以查看Weex官网的\x3ca href=\x22https:\/\/weex.apache.org\/cn\/guide\/intro\/page-architecture.html#sidebar\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex页面结构\x3c\/a\x3e。为了阅读方便，下面直接引用：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eWeex 页面结构\x3c\/h3\x3e\n\x3cp\x3e界面展示、逻辑处理、设备能力使用、生命周期管理等部分。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eDom模型\x3c\/h3\x3e\n\x3cp\x3eWeex 页面通过类似 HTML DOM 的方式管理界面，首先页面会被分解为一个 DOM 树，，每个 DOM 结点都代表了一个相对独立的 native 视图的单元。然后不同的视图单元之间通过树形结构组合在了一起，构成一个完整的页面。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e组件\x3c\/h3\x3e\n\x3cp\x3eWeex 支持文字text、图片image、视频video等内容型组件，也支持 div、list、scroller 等容器型组件，还包括 slider、input、textarea、switch 等多种特殊的组件。Weex 的界面就是由这些组件以 DOM 树的方式构建出来的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e布局系统\x3c\/h3\x3e\n\x3cp\x3eWeex 页面中的组件会按照一定的布局规范来进行排布，我们这里提供了 CSS 中的盒模型、flexbox 和 绝对\/相对\/固定\/吸附布局这三大块布局模型。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e功能\x3c\/h3\x3e\n\x3cp\x3eWeex 提供了非常丰富的系统功能 API，包括弹出存储、网络、导航、弹对话框和 toast 等，开发者可以在 Weex 页面通过获取一个 native module 的方式引入并调用这些客户端功能 API。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e生命周期\x3c\/h3\x3e\n\x3cp\x3e每个 Weex 页面都有其自身的生命周期，页面从开始被创建到最后被销毁，会经历到整个过程。这是通过对 Weex 页面的创建和销毁，在路由中通过 SDK 自行定义并实现的。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3eWeex的扩展性很好，可以对网络、图片、存储、UT、组件、接口等根据自身App和业务需求进行扩展，即使weex提供的组件有问题，也都可以直接重写替换。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386629?w=622\x26amp;h=319\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386629?w=622\x26amp;h=319\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e对于一个新技术的接入，我们首先会去考虑这个技术的优缺点，能给团队和业务带来什么效益；然后考虑接入的成本，包括团队成员的学习成本，对项目的修改成本，时间成本；开发体验，性能监控，容灾处理等。\x3cbr\x3e在考虑完这些之后，OK，我们开始决定接入Weex。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386630?w=532\x26amp;h=299\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386630?w=532\x26amp;h=299\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e二、达人店接入Weex\x3c\/h2\x3e\n\x3cp\x3e达人店目前是一个量级比较小的应用，在一年时间里，目前有46个页面。目前整体都比较稳定，后续所有页面也都会采用weex进行开发。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386631?w=655\x26amp;h=188\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386631?w=655\x26amp;h=188\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e因为Weex给我们带来的效益是显而易见的：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e3人\/日 -\x26gt; 1人\/日\x3c\/li\x3e\n\x3cli\x3e大程度摆脱App更新限制\x3c\/li\x3e\n\x3cli\x3eNative 体验\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e在接入的过程中，我们在各方面做了很多事情，包括脚手架、配置下发、跳转规则、相对地址、预加载、降级、错误监控、建立组件库、页面传参等等。下面详细介绍一下这个过程，如果您有更好的方法，非常欢迎进行讨论交流。\x3c\/p\x3e\n\x3ch4\x3e(一) 前端\x3c\/h4\x3e\n\x3cp\x3e首先要建立Weex项目，这个可以看做是一个前端的项目，Weex也提供了脚手架工具。\x3c\/p\x3e\n\x3cp\x3eweex 推荐的脚手架全家桶：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eweex-toolkit\x3c\/code\x3e：用来初始化项目，编译，运行，debug所有工具。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eweexpack\x3c\/code\x3e：用来打包JSBundle的，实际也是对Webpack的封装。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eplayground\x3c\/code\x3e：一个上架的App，这个可以用来通过扫码实时在手机上显示出实际的页面。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ecode snippets\x3c\/code\x3e：这个是一个在线的playground。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eweex devtools\x3c\/code\x3e：就是为weex前端和native开发工程师服务的一款调试工具。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eweex-loader\x3c\/code\x3e：Webpack 的一个加载器，针对 Android 和 iOS 平台，用于编译 .vue 格式的单文件组件\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e达人店没有使用weex提供的脚手架，而是我们前端同学定义了适合我们业务的项目结构，以下是达人店的Weex项目结构的一部分，每个页面有一个文件夹，包含了html，js，vue：\x3cbr\x3e\x3ccode\x3ehtml文件\x3c\/code\x3e：接入weex 的h5页面\x3cbr\x3e\x3ccode\x3ejs文件\x3c\/code\x3e：webpack编译的入口文件\x3cbr\x3e\x3ccode\x3evue文件\x3c\/code\x3e：weex的编辑页面\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386632?w=314\x26amp;h=446\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386632?w=314\x26amp;h=446\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e以下是开发环境的示例，所以引入的js都没有版本号，正式环境的path里会有版本号\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3eHTML示例\x3c\/strong\x3e\x3cbr\x3e其中，\/dist\/weex.js 引入\x3ccode\x3eweex-vue-render\x3c\/code\x3e，进行了扩展，包括注册module，注册新的自定义组件。\x3ccode\x3eweex-vue-render\x3c\/code\x3e可以理解为weex在H5的SDK。详情见 \x3ca href=\x22https:\/\/weex.apache.org\/cn\/references\/advanced\/extend-to-html5.html#\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHTML扩展\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml\x3e\n  \x3chead\x3e\n    \x3cmeta charset=\x26quot;utf-8\x26quot;\x3e\n    \x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width, initial-scale=1, user-scalable=no\x26quot;\x3e\n    \x3cscript src=\x26quot;http:\/\/res.wx.qq.com\/open\/js\/jweixin-1.0.0.js\x26quot;\x3e\x3c\/script\x3e\n  \x3c\/head\x3e\n  \x3cbody\x3e\n    \x3cdiv id=\x26quot;weex\x26quot;\x3e\x3c\/div\x3e\n    \x3c!-- entry --\x3e\n    \x3cscript src=\x26quot;\/\/assets.showjoy.net\/joyf2e\/vendor\/weex-extend\/dist\/weex.js\x26quot; type=\x26quot;text\/javascript\x26quot;\x3e\x3c\/script\x3e\n    \x3cscript src=\x26quot;.\/register-weex.min.js\x26quot; type=\x26quot;text\/javascript\x26quot;\x3e\x3c\/script\x3e\n  \x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22utf-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width, initial-scale=1, user-scalable=no\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/res.wx.qq.com\/open\/js\/jweixin-1.0.0.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22weex\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- entry --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\/assets.showjoy.net\/joyf2e\/vendor\/weex-extend\/dist\/weex.js\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/register-weex.min.js\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eJs示例\x3c\/strong\x3e\x3cbr\x3e#weex 就是对应html里 \x3ccode\x3e\x26lt;div id=\x22weex\x22\x26gt;\x26lt;\/div\x26gt;\x3c\/code\x3e，vue渲染后会挂在这个div上。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import weexComponent from \x27.\/register-weex.vue\x27;\nweexComponent.el = \x27#weex\x27;\nexport default new Vue(weexComponent);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e weexComponent \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/register-weex.vue\x27\x3c\/span\x3e;\nweexComponent.el = \x3cspan class=\x22hljs-string\x22\x3e\x27#weex\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue(weexComponent);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eVue示例\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv class=\x26quot;wrapper\x26quot;\x3e\n  \x3cdiv\x3e\n\x3c\/template\x3e\n\x3cstyle scoped\x3e\n  .wrapper {\n    background-color: #fff;\n    flex: 1;\n  }\n\x3c\/style\x3e\n\x3cscript\x3e\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22wrapper\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3escoped\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.wrapper\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eflex\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n  }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e构建的时候定义了两套webpackConfig，分别用于编译给h5和Native的JS。之所以需要分开编译，是出于weex的要求，下文来自\x3ca href=\x22https:\/\/weex.apache.org\/cn\/references\/vue\/difference-with-web.html#\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex官网\x3c\/a\x3e，我们在Jenkins上实现了远程构建。\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e编译环境的差异\x3c\/h2\x3e\n\x3cp\x3e在 Weex 中使用 Vue.js ，你所需要关注的运行平台除了 Web 之外还有 Android 和 iOS ，在开发和编译环境上还有一些不同点。针对 Web 和原生平台，将 Vue 项目源文件编译成目标文件，有两种不同的方式：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e针对 Web 平台，和普通 Vue 2.X 项目一样，可以使用任意官方推荐的方式编译源文件，如 Webpack \x2b vue-loader 或者 Browserify \x2b vueify 。\x3c\/li\x3e\n\x3cli\x3e针对 Android 和 iOS 平台，我们提供了 weex-loader 工具支持编译 .vue 格式的单文件组件；也就是说，目前只能使用 Webpack \x2b weex-loader 来生成原生端可用的 js bundle。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386633?w=1384\x26amp;h=689\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386633?w=1384\x26amp;h=689\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e(二) Native 接入\x3c\/h4\x3e\n\x3cp\x3e请直接参考官网\x3ca href=\x22https:\/\/weex.apache.org\/cn\/guide\/integrate-to-your-app.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e集成 Weex 到已有应用\x3c\/a\x3e，SDK的依赖，初始化，渲染，都已说明。\x3c\/p\x3e\n\x3cp\x3e说到底，最后的渲染结果都是返回一个\x3ccode\x3eView\x3c\/code\x3e，理论上根据业务需求，可以将view放置在页面的任何地方。\x3ccode\x3e我们达人店，都是整个页面的形式来引入weex。\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e在Android方面，我们把weex的接入放入了自定义的WeexFragment。另外，新建WeexActivity，引用WeexFragment。这样使用起来更灵活。\x3c\/p\x3e\n\x3cp\x3e在iOS方面，我们把weex的接入放入了自定义的WeexViewController。\x3c\/p\x3e\n\x3ch4\x3e（三）跳转规则\x3c\/h4\x3e\n\x3cp\x3eNative 渲染weex页面的时候，需要传入构建出来的js bundle，即一个js文件。但是，不管是Native的日常写法还是前端的惯常用法，都不会直接跳转到一个js文件。所以，考虑到符合前端的日常写法，跳转时，统一跳转到url，如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386634?w=836\x26amp;h=264\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386634?w=836\x26amp;h=264\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e不管是weex，native，webview里的跳转都是url，然后再根据一定的规则进行match，根据match结果来决定是用weex、native还是webview来打开。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e要做到weex，native，webview里的跳转都是url，这里需要做两点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e1、跳转需要调用统一的openUrl，weex里的a标签href直接可以写目标url，然后在Native端对a标签的跳转进行拦截；\x3c\/li\x3e\n\x3cli\x3e2、webview 里的跳转进行拦截，每个url都要进行规则匹配\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e定义规则，App内置一份，并可以动态下发\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e1、url 和 原先 Native 页面的对应关系，page可以根据原先App里的Router设计来定义。\x3c\/li\x3e\n\x3cli\x3e2、url 和 weex js的对应关系,\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22`hideTitleBar`:是否隐藏native的titlebar;\n`v`：支持最低App版本，不支持就降级；\n`page`: 页面名称，作为本地预加载的文件名；\n`h5`: h5的url; \n`url`: js的路径；\n`md5`: js文件的md5,用于完整性校验\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autohotkey\x22\x3e\x3ccode\x3e`hideTitleBar`:是否隐藏native的titlebar\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n`v`：支持最低App版本，不支持就降级；\n`page`: 页面名称，作为本地预加载的文件名；\n`h5`: h5的url\x3cspan class=\x22hljs-comment\x22\x3e; \x3c\/span\x3e\n`url`: js的路径；\n`md5`: js文件的md5,用于完整性校验\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eurl 和 Native 页面的对应关系示例\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22         [\n                {\n                    \x26quot;page\x26quot;:\x26quot;chat\x26quot;,\n                    \x26quot;url\x26quot;:\x26quot;(.*)\/\/shop.m.showjoy.net\/shop\/chat\\?type=1\x26quot;,\n                    \x26quot;v\x26quot;:\x26quot;1.7.0\x26quot;\n                },\n                {\n                    \x26quot;page\x26quot;:\x26quot;main\x26quot;,\n                    \x26quot;url\x26quot;:\x26quot;(.*)\/\/shop.m.showjoy.net\/shop\/seller_home\x26quot;,\n                    \x26quot;v\x26quot;:\x26quot;1.12.0\x26quot;\n                }\n    ]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e         [\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22page\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22chat\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22url\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22(.*)\/\/shop.m.showjoy.net\/shop\/chat\\?type=1\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22v\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x221.7.0\x22\x3c\/span\x3e\n                },\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22page\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22main\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22url\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22(.*)\/\/shop.m.showjoy.net\/shop\/seller_home\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22v\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x221.12.0\x22\x3c\/span\x3e\n                }\n    ]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eurl和weex页面对应关系示例\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[\n    {\n    \x26quot;hideTitleBar\x26quot;: \x26quot;\x26quot;,\n    \x26quot;v\x26quot;: \x26quot;1.7.0\x26quot;,\n    \x26quot;page\x26quot;: \x26quot;order\x26quot;,\n    \x26quot;h5\x26quot;: \x26quot;http:\/\/shop.m.showjoy.com\/u\/trade.html\x26quot;,\n    \x26quot;url\x26quot;: \x26quot;http:\/\/cdn1.showjoy.com\/assets\/f2e\/showjoy-assets\/shop-weex-m\/0.8.1\/order-list-weex\/order-list-weex.weex.min.js\x26quot;,\n    \x26quot;md5\x26quot;: \x26quot;8b3268ef136291f2e9b8bd776e625c6b\x26quot;\n    },\n    {\n    \x26quot;hideTitleBar\x26quot;: \x26quot;\x26quot;,\n    \x26quot;v\x26quot;: \x26quot;1.7.0\x26quot;,\n    \x26quot;page\x26quot;: \x26quot;shoporder\x26quot;,\n    \x26quot;h5\x26quot;: \x26quot;http:\/\/shop.m.showjoy.com\/user\/tradePage\x26quot;,\n    \x26quot;url\x26quot;: \x26quot;http:\/\/cdn1.showjoy.com\/assets\/f2e\/showjoy-assets\/shop-weex-m\/0.1.1\/shop-order-weex\/shop-order-weex.weex.min.js\x26quot;,\n    \x26quot;md5\x26quot;: \x26quot;ca818a24588509bfe083cd4b99855841\x26quot;\n    }\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e[\n    {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22hideTitleBar\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22v\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x221.7.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22page\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22order\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22h5\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/shop.m.showjoy.com\/u\/trade.html\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22url\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/cdn1.showjoy.com\/assets\/f2e\/showjoy-assets\/shop-weex-m\/0.8.1\/order-list-weex\/order-list-weex.weex.min.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22md5\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x228b3268ef136291f2e9b8bd776e625c6b\x22\x3c\/span\x3e\n    },\n    {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22hideTitleBar\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22v\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x221.7.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22page\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22shoporder\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22h5\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/shop.m.showjoy.com\/user\/tradePage\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22url\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/cdn1.showjoy.com\/assets\/f2e\/showjoy-assets\/shop-weex-m\/0.1.1\/shop-order-weex\/shop-order-weex.weex.min.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22md5\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22ca818a24588509bfe083cd4b99855841\x22\x3c\/span\x3e\n    }\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e（四）配置平台\x3c\/h4\x3e\n\x3cp\x3e针对跳转规则的配置，我们做了自己的配置平台，针对全量、预发、线下提供不同的配置。参数：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eappType：1代表android  2代表iOS\x3c\/li\x3e\n\x3cli\x3epreTest：  true 代表预发 false 代表全量\x3c\/li\x3e\n\x3cli\x3eappVersion：App的版本号\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e平台会根据三个参数，下发当前App支持渲染的js页面配置。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386635?w=1512\x26amp;h=451\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386635?w=1512\x26amp;h=451\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e（五）支持相对地址\x3c\/h4\x3e\n\x3cp\x3e按照平常前端的写法，跳转以及a标签写的基本都是相对地址，这样对于线下、线上环境都不用做特别的处理。如下：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386636?w=1487\x26amp;h=632\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386636?w=1487\x26amp;h=632\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e开始介入weex的时候，大概版本是0.8左右，那时候默认还不支持相对地址，而我们就已经开始自己做了。在weex sdk 0.9.4开始 默认支持了相对地址，但是通过测试和源代码查看，它取的host是js bundle的host，如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386637?w=850\x26amp;h=578\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386637?w=850\x26amp;h=578\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e而我们把js bundle放在了cdn，日常页面的域名是shop.m.showjoy.com，两者不一致，所以在Native端，我们重写了\x3ccode\x3eURIAdapter\x3c\/code\x3e(Android)和\x3ccode\x3eWXURLRewriteProtocol\x3c\/code\x3e（iOS），对url进行了处理，如果是相对地址，加上日常h5页面的\x3ccode\x3ehost\x3c\/code\x3e，请求也是一样。如此就支持了相对地址。\x3cbr\x3e\x3cstrong\x3eAndoird\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/这里还可以配置其他的adapter，比如image,storage等\nWXSDKEngine.initialize(application,\n                new InitConfig.Builder()\n                        .setURIAdapter(new SHCustomURIAdapter())\n                        .build());\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haxe\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/这里还可以配置其他的adapter，比如image,storage等\x3c\/span\x3e\nWXSDKEngine.initialize(application,\n                \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eInitConfig\x3c\/span\x3e.Builder()\n                        .setURIAdapter(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eSHCustomURIAdapter\x3c\/span\x3e())\n                        .build());\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eiOS\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[WXSDKEngine registerHandler:[WXSJNetworkDefaultlmpl new] withProtocol:@protocol(WXURLRewriteProtocol)];\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scheme\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e[\x3cspan class=\x22hljs-name\x22\x3eWXSDKEngine\x3c\/span\x3e registerHandler:[\x3cspan class=\x22hljs-name\x22\x3eWXSJNetworkDefaultlmpl\x3c\/span\x3e new] withProtocol:@protocol(\x3cspan class=\x22hljs-name\x22\x3eWXURLRewriteProtocol\x3c\/span\x3e)]\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\n\x3cp\x3e实现的时候，重写rewrite接口，我们会根据线下、线上、预发等环境配置不一样的host，另外还会支持Native的协议，如：sms:\/\/, weixin:\/\/dl\/privacy\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3ePS\x3c\/strong\x3e: A 标签的跳转，Native SDK的实现是调用Module“event”的openURL接口。可是默认没有注册“event”的Module，所以需要自己注册event，或者自己重新实现 a标签。\x3cbr\x3esdk里对a标签跳转的处理\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386638?w=850\x26amp;h=297\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386638?w=850\x26amp;h=297\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e自定义event  module.\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386639?w=864\x26amp;h=358\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386639?w=864\x26amp;h=358\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch4\x3e（六）预加载方案\x3c\/h4\x3e\n\x3cp\x3e如图，是在本地开发时抓的包，加载的js bundle 虽然也不大，duration也很短。但是为了让速度更进一步，我们还是做了预加载方案。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386640?w=1620\x26amp;h=543\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386640?w=1620\x26amp;h=543\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e方案设计如下：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e1）每次更新完配置文件，遍历，check pagename.js文件的md5\x3c\/li\x3e\n\x3cli\x3e2）如果本地存在md5一致的文件，就跳过，否则下载\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e3）下载完成后，保存格式为pagename.js，已存在则覆盖，校验md5来保证文件的完整性：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e相同的话，记录文件的最后修改时间；\x3c\/li\x3e\n\x3cli\x3e不同的话，删除已下载文件，重新下载，重复校验流程。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e4）每次打开指定页面的时候：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e先检查本地是否有对应page文件\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e如果不存在，则直接使用配置里的remote url\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e如果存在，则校验记录的修改时间是否与该文件的最后修改时间是否一致(这么做，是为了\x3ccode\x3e防篡改\x3c\/code\x3e；不直接计算md5来校验，是考虑到md5的计算有时间消耗)\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e一致就加载\x3c\/li\x3e\n\x3cli\x3e不一致就用配置里的remote url\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e（七）Native-JS通信\x3c\/h4\x3e\n\x3ch5\x3e1、JS 调用Native\x3c\/h5\x3e\n\x3cul\x3e\x3cli\x3eWeex 提供了Module扩展接口，开发者可以自己注册Module，Module里定义接口；\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386641\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386641\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch5\x3e2、Native调用JS\x3c\/h5\x3e\n\x3cul\x3e\n\x3cli\x3eModule接口可以设置Callback，接口实现处理完后，可以直接调用Callback，回调JS.\x3c\/li\x3e\n\x3cli\x3eWXSDKInstance.fireEvent 是元素级别的，fireEvent 是instance的成员函数，需要传递elementRef。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386642?w=1481\x26amp;h=665\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386642?w=1481\x26amp;h=665\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3eWXSDKInstance.fireGlobalEventCallback 是页面级别的，需要传递instanceID\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386643?w=1308\x26amp;h=685\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386643?w=1308\x26amp;h=685\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e（八）错误监控\x3c\/h4\x3e\n\x3cp\x3e*Native 端可以通过接口 IWXRenderListener 中的 onException 方法进行处理，这里包括render error，js exception，network error等。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3eWeex层，自定义loge接口来实现错误的监控\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch4\x3e（九）页面传参\x3c\/h4\x3e\n\x3cp\x3e关于页面传参，我们团队的南洋同学写过一篇文章(Weex页面传参)[\x3ca href=\x22https:\/\/juejin.im\/post\/5992db27518825244249e2db\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/juejin.im\/post\/5992db...\x3c\/a\x3e]，为了方便阅读，这里再讲述一遍。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e1、正向传参：x.com\/a.html  跳转到 x.com\/b.html?age=12\x3c\/strong\x3e\x3cbr\x3eNative 渲染的时候，除了传入JS Bundle，还有options参数，我们把url后面的参数都存入options，然后传到weex页面。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[_instance renderWithURL:[NSURL URLWithString:mstrURL] options:[self SHWeexOptionsWithH5URL:mstrH5URL withURL:mstrURL] data:nil];\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e[_instance \x3cspan class=\x22hljs-string\x22\x3erenderWithURL:\x3c\/span\x3e[NSURL \x3cspan class=\x22hljs-string\x22\x3eURLWithString:\x3c\/span\x3emstrURL] \x3cspan class=\x22hljs-string\x22\x3eoptions:\x3c\/span\x3e[self \x3cspan class=\x22hljs-string\x22\x3eSHWeexOptionsWithH5URL:\x3c\/span\x3emstrH5URL \x3cspan class=\x22hljs-string\x22\x3ewithURL:\x3c\/span\x3emstrURL] \x3cspan class=\x22hljs-string\x22\x3edata:\x3c\/span\x3enil];\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个参数，在书写weex时，可以通过\x3ccode\x3eweex.config.age\x3c\/code\x3e获取。\x3c\/p\x3e\n\x3cp\x3e为了获取参数的统一性，H5页面也一样，打开一个url时，首先获取url后面的参数，存入window.weex.config。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22for (let key in urlParamObj) {\n  window.weex.config[key] = encodeURIComponent(urlParamObj[key]);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gauss\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e in urlParamObj) {\n  \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.weex.config[\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e] = encodeURIComponent(urlParamObj[\x3cspan class=\x22hljs-built_in\x22\x3ekey\x3c\/span\x3e]);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e2、反向传参：x.com\/b.html  回退到 x.com\/a.html，带回参数age=2\x3c\/strong\x3e\x3cbr\x3e这个是为了实现类似Android里 onActivityResult的功能，可以把参数传回给上个页面。而实现这样的功能，iOS Native的实现也只要加个Delegate就可以了。\x3c\/p\x3e\n\x3cp\x3e在weex要实现这个效果，本身没有提供直接可以使用的方法，下面是我们目前采取的方案。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e首先自定义定义Module，增加setResult接口，然后再weex调用，参数是k-v的形式。接口的实现，就是把数据先存在本地；\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386644?w=1286\x26amp;h=710\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386644?w=1286\x26amp;h=710\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e回到上个页面，resume\/willappear时候，获取存储的k-v，并通过fireGlobalEventCallback把数据传递到weex页面。，并且remove数据。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386645?w=1607\x26amp;h=718\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386645?w=1607\x26amp;h=718\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e在weex页面进行监听，并处理\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386646?w=554\x26amp;h=148\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386646?w=554\x26amp;h=148\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e(十) 降级方案\x3c\/h4\x3e\n\x3cp\x3e所谓降级，就是当前新页面渲染失败，或者当前App版本不够新，无法支持新页面，故会访问h5页面。这里我们区分了两种情况：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e1、渲染失败： 一致跳转到h5页面\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e2、版本控制：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e新增的页面：无法支持新页面的App版本就降级访问h5页面\x3c\/li\x3e\n\x3cli\x3e老页面的修改：无法支持新页面的App版本会访问老页面\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386647?w=1073\x26amp;h=291\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386647?w=1073\x26amp;h=291\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e（十一）屏幕适配\x3c\/h4\x3e\n\x3cp\x3e屏幕适配一直是移动端开发不可避开的话题。在Weex的世界里，定义了一个默认屏幕尺寸，用来适配iOS，Android各种不同大小的屏幕。weex框架在底层做了针对不同屏幕的适配工作，具体计算公式为 \x3ccode\x3e实际高宽 = 代码高宽 * (屏幕宽度 \/ 750)\x3c\/code\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386648?w=1585\x26amp;h=172\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386648?w=1585\x26amp;h=172\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e目前我们设计给的视觉稿是375的，我们开发的时候只要拿到值x2，就可以了。\x3cbr\x3e其中有一种普遍会遇到需要的计算的地方，这里详细讲一下。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386649?w=350\x26amp;h=322\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386649?w=350\x26amp;h=322\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e使用List和scroll的时候，高度是需要设置的，而这个高度需要根据不同页面进行计算，以上图为例，首先想到的是：\x3cbr\x3e\x3cstrong\x3elist高度 = screen高度 - titlebarHeight\x3c\/strong\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eweex可以通过\x3ccode\x3e$getConfig().env.deviceHeight\x3c\/code\x3e和\x3ccode\x3e$getConfig().env.deviceWidth\x3c\/code\x3e的形式来获取手机屏幕的高度\x3cbr\x3e但是其实这样是不准确的，因为Android Native的总高度，事实上是可供显示的全屏高度，而不一定是物理屏幕的高度，因为有状态栏，虚拟按键栏，Smartbar等等安卓碎片化引入的额外显示元素，实际全屏高度很有可能小于物理屏幕高度。\x3cbr\x3e所以真正的容器高度，需要由外部传入，\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3eList实际高度 = ContainnerHeight - titleBar的高度字面量 * 转换比例ratio\x3c\/strong\x3e\x3cbr\x3e转化比例ratio = this.$getConfig().env.deviceWidth \/ 750\x3c\/p\x3e\n\x3cp\x3eps: 外部传入的ContainnerHeight通过Module的接口传入\x3c\/p\x3e\n\x3cp\x3e`list的字面量高度 =  list实际高度 \/ 转换比例ratio \x3cbr\x3e= ContainnerHeight \/ ratio - titleBar的高度字面量`\x3c\/p\x3e\n\x3cp\x3e另外，weex也提供\x3ccode\x3ethis.$getConfig().env.scale\x3c\/code\x3e，如有需要可以利用它来计算dp2px。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e三、我们遇到的一些问题和解决方案\x3c\/h2\x3e\n\x3cp\x3e1）Android 的weex sdk 0.13.1，input组件初始值是空时，粘贴的时候无法触发事件@input\x3cbr\x3e\x3ccode\x3e设置初始值，点击时，如果初始值与placeholder一致，就清空\x3c\/code\x3e\x3cbr\x3e2）在iOS9.x系统中文本被截断\x3cbr\x3e\x3ccode\x3e在iOS9.x系统中不支持line-height，被强行绘制，存在兼容性问题，暂时不要使用font-size和line-height相同大小\x3c\/code\x3e\x3cbr\x3e3）class 的动态绑定\x3cbr\x3e`vue的写法\x3cbr\x3e:class={\x27header\x27: true}  \x3cbr\x3eweex的写法\x3cbr\x3e:class=“[true ? \x27header\x27 : \x27\x27]\x22`\x3cbr\x3e4）animation动画在iOS 8及以下的H5页面失效\x3cbr\x3e\x3ccode\x3e对于webkit不兼容的css样式(transform)进行兼容\x3c\/code\x3e\x3cbr\x3e5）scroller横向滚动时iOS设备元素无法横向排列\x3cbr\x3e\x3ccode\x3e需要给scroller设置样式 flex-deriction: row，这样可以确保三端显示一致。\x3c\/code\x3e\x3cbr\x3e6）Js Date 转换时间，Android差8小时\x3cbr\x3e`dateConfigTimeZone(timeValue, offset) {\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  const date = new Date(timeValue);\n  \/\/ UTC时间 (1970-1-1至今毫秒数 \x2b 本地时间与GMT分钟差)\n  const utc = date.getTime() \x2b (date.getTimezoneOffset() * 60 * 1000);\n  \/\/ 返回 (UTC时间 \x2b 时区差)\n  return new Date(utc \x2b (60 * 60 * 1000 * offset));\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(timeValue);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ UTC时间 (1970-1-1至今毫秒数 \x2b 本地时间与GMT分钟差)\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e utc = \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.getTime() \x2b (\x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.getTimezoneOffset() * \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回 (UTC时间 \x2b 时区差)\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(utc \x2b (\x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e * offset));\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e`\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e四、我们还在做的事情\x3c\/h2\x3e\n\x3ch4\x3e（一）weex组件库\x3c\/h4\x3e\n\x3cp\x3e一年的实践，我们也积累了一些基础组件和业务组件，如图，有description、import、example、preview、qrcode等。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012386650?w=1474\x26amp;h=703\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012386650?w=1474\x26amp;h=703\x22 alt=\x22image\x22 title=\x22image\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e看下 spon-ui 组件库项目的目录结构。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22|- spon-ui\n||-- build\n||-- docs\n||-- examples\n||-- packages\n|||--- weex-field\n||||---- index.js\n||||---- field.vue\n||||---- example.vue\n||||---- readme.md\n||||---- package.json\n||-- src\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ruby\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-params\x22\x3e|- spon-ui\n|\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e|-- build\n|\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e|-- docs\n|\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e|-- examples\n|\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e|-- packages\n|\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e--- weex-field\n\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e---- index.js\n\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e---- field.vue\n\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e---- example.vue\n\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e---- readme.md\n\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e---- package.json\n\x3cspan class=\x22hljs-params\x22\x3e||\x3c\/span\x3e-- src\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3ebuild 中存放一些脚本执行文件，用于工程的调试、发布。\x3c\/li\x3e\n\x3cli\x3edocs 中存放文档调试的脚本，生成一个文档调试服务器。\x3c\/li\x3e\n\x3cli\x3eexamples 中存放组件调试的脚本，生成一个组件调试服务器。（不存放组件例子）\x3c\/li\x3e\n\x3cli\x3epackages 存放真实组件，以及组件的文档和例子。\x3c\/li\x3e\n\x3cli\x3esrc 存放组件可以使用的公共方法。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e详情请查看我们的前端同学南洋写\x3ca href=\x22https:\/\/github.com\/ShowJoy-com\/showjoy-blog\/issues\/37\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e「大前端」尚妆达人店 UI 组件化 工程实践\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e(二) 其他\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3eCookie 支持\x3c\/li\x3e\n\x3cli\x3eHttpDNS 接入\x3c\/li\x3e\n\x3cli\x3e图片支持裁剪、webp\x3c\/li\x3e\n\x3cli\x3e性能监控，正在做\x3c\/li\x3e\n\x3cli\x3e增量更新，正在做\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\n\x3cp\x3e以上就是我们这一年的总结，希望能给大家带来参考。欢迎讨论交流文中的不足。\x3c\/p\x3e\n\x3cp\x3e感谢团队所有成员，以上是我们一起努力的结果。\x3cbr\x3e@嘉文，资深iOS，\x3ca href=\x22https:\/\/github.com\/Luis-X\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e，\x3ca href=\x22http:\/\/www.jianshu.com\/u\/6387bbe37e0a\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客\x3c\/a\x3e\x3cbr\x3e@黎鹤，资深iOS，\x3ca href=\x22https:\/\/github.com\/EmptyWalker\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e\x3cbr\x3e@路远，资深Android，\x3ca href=\x22https:\/\/github.com\/chendongMarch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e，\x3ca href=\x22http:\/\/cdevlab.top\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客\x3c\/a\x3e\x3cbr\x3e@米奇，前端女神，欢迎关注\x3ca href=\x22https:\/\/weibo.com\/RyenCheer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e微博\x3c\/a\x3e\x3cbr\x3e@南洋，前端大神，欢迎关注\x3ca href=\x22https:\/\/weibo.com\/u\/2115840795\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e微博\x3c\/a\x3e ，技术文章产出高，\x3cbr\x3e@路飞，移动端负责人，\x3ca href=\x22https:\/\/github.com\/or0fun\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e，\x3ca href=\x22http:\/\/ie8384.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e感谢以下大神文章提供的帮助：（看了很多文章，如果没有加了，麻烦告知一声）\x3cbr\x3e\x3ca href=\x22https:\/\/weex.apache.org\/cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex官网\x3c\/a\x3e\x3cbr\x3e\x3ca\x3eWeex github\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/react-china.org\/t\/rax-rax\/11552\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRax官网\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.jianshu.com\/p\/32a6ac9fc503\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e网易严选App感受Weex开发\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.jianshu.com\/p\/d085032d4788\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e由FlexBox算法强力驱动的Weex布局引擎\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.jianshu.com\/p\/419b96aecc39\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex 事件传递的那些事儿\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.jianshu.com\/p\/edaf0448df01\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWeex 中别具匠心的 JS Framework\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.jianshu.com\/p\/740431068ff5\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e地球上最全的weex踩坑攻略-出自大量实践与沉淀\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Weex在达人店的一年实践</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012386619">https://segmentfault.com/a/1190000012386619</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/uxnq74lzrpc/" target="_blank">https://alili.tech/archive/uxnq74lzrpc/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>