<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="2018年3月面试心得《跨域问题》"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>2018年3月面试心得《跨域问题》 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/v1cavj267/",
				"appid": "1613049289050283", 
				"title": "2018年3月面试心得《跨域问题》 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-08T02:30:30"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/bfg542ysgsf/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/bfcc9f4zmsp/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&text=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&text=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&title=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&is_video=false&description=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&title=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&title=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&title=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fv1cavj267%2f&title=2018%e5%b9%b43%e6%9c%88%e9%9d%a2%e8%af%95%e5%bf%83%e5%be%97%e3%80%8a%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98%e3%80%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">2018年3月面试心得《跨域问题》</h1><div class="meta"><div class="postdate"><time datetime="2018-12-08" itemprop="datePublished">2018-12-08</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cstrong\x3e金三银四\x3c\/strong\x3e，换工作大季，这段时间应该不少被面到怀疑人生的孩子，就包括本宝宝。\x3cbr\x3e为了下次面试不被虐到，默默的拿出小本本记录所有的问题了。\x3cbr\x3e我不会告诉你写这个系列是因为昨晚接到阿里面试被虐成了渣渣然后一个人在那里尬笑了很久！！！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e首先什么是跨域\x3c\/h2\x3e\n\x3cp\x3e浏览器有一个同源策略，为了保护用户的信息安全，你看我们Cookie不是每次都会传给后端咩，那如果其他域名下还可以访问我这个网站的Cookie，还怎么保证数据的安全咧。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e那么什么情况不是同一域呢～\x3c\/h2\x3e\n\x3cul\x3e\x3cli\x3ehttp或者https之类的协议不相同，即属于跨域。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22http:\/\/www.baidu.com\nhttps:\/\/www.baidu.com\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.baidu.com\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.baidu.com\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e不同域名当然也属于跨域。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22http:\/\/www.baidu.com\nhttp:\/\/www.bilibili.com\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.baidu.com\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.bilibili.com\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e不同二级域名也属于跨域\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22http:\/\/www.baidu.com\nhttp:\/\/hehe.baidu.com\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.baidu.com\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/hehe.baidu.com\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e端口不一致也属于跨域\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22http:\/\/www.baidu.com:8080\nhttp:\/\/www.baidu.com  \/* 默认端口是80，所以咧，你80的端口可以直接输入地址的*\/\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.baidu.com:8080\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3ehttp:\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.baidu.com  \/* 默认端口是80，所以咧，你80的端口可以直接输入地址的*\/\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e那么，接下来就会问你跨域的方式有哪些。\x3cbr\x3e当然有的面试官还不给人机会扯上面我刚刷上的技能点就开始问下一道问题，啊西吧。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e跨域的几种方式\x3c\/h2\x3e\n\x3cp\x3e嘿嘿，首先列一下常用的几种。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3eproxy代理\x3c\/li\x3e\n\x3cli\x3ecors\x3c\/li\x3e\n\x3cli\x3eJSONP\x3c\/li\x3e\n\x3cli\x3exdr （这个呢，是针对ie8、9的解决方式，因为我最常写的是移动端的，所以这个也了解的不多。）\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e扯点闲话，我是16年年底才开始接触到跨域这种东西的，之前懵懂阶段在css和js上面撞的头破血流，当然现在这俩也没有对我有多友好，只有我待他们如同亲孙子一般的爱护。哼！\x3cbr\x3e生硬的文字让人想睡觉啊…………\x3cbr\x3e但是你要想你每多回答对一道题，你的工资也许就往上涨1k啊！！！\x3cbr\x3e虽然以上是我的猜想，不过还是有机会的，咩哈哈哈哈哈哈哈哈……哈…哈…哈……\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e我们现在比喻一下。\x3c\/h2\x3e\n\x3cp\x3e我当前在的这个\x3cstrong\x3e域就是一个房子\x3c\/strong\x3e，跨域就是我要去拿\x3cstrong\x3e隔壁房子\x3c\/strong\x3e里的东西，因为同源政策，所以我\x3cstrong\x3e不能\x3c\/strong\x3e把手伸出房子的窗户，但是我\x3cstrong\x3e可以\x3c\/strong\x3e从窗户口去拿取或者丢出东西。\x3c\/p\x3e\n\x3cp\x3e下面来详细说说这几个代理的方式哈，一般问的比较多的就是2、3了，如果对代理没兴趣直接下拉一下就看到了。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cstrong\x3eproxy代理\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e这个就很好理解啦，所谓的同源政策不是浏览器发出的咩。\x3cbr\x3e就像我的手只能在我自己的屋子里伸，只可以通过这个\x3cstrong\x3e窗户口\x3c\/strong\x3e出去，烟囱什么其他地方我都伸不出去。\x3cbr\x3e那么我找一个站在我窗口的人，借助他的手把我的请求丢给隔壁屋子的人，然后再借用他的手把我要的东西还给我。\x3c\/p\x3e\n\x3cp\x3e常用的工具有ngnix、webpack。\x3c\/p\x3e\n\x3cp\x3e先说\x3cstrong\x3ewebpack\x3c\/strong\x3e吧，你看vue脚手架里面，配置代理十分的简单，只需要在config目录找到index.js，dev里添加proxyTable就好啦。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22proxyTable: {\n\n      \x27\/api\x27: {\n\n            target: \x27http:\/\/aa.bb.com:8989\x27, \/\/ 你接口的域名  http:\/\/aa.bb.com:8989\n\n            \/\/secure: false,      \/\/ 如果是https接口，需要配置这个参数\n\n            changeOrigin: true,     \/\/ 如果接口跨域，需要进行这个参数配置\n\n            pathRewrite: {\n\n              \x27^\/api\x27: \x27\x27\/\/这里理解成用‘\/api\x27代替target里面的地址，后面组件中我们掉接口时直接用api代替 \n            \/\/比如我要调用\x27http:\/\/aa.bb.com:8989\/hahahah\x27，直接写‘\/api\/hahah\x27即可\n\n            }\n\n        }\n\n  　},\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3eproxyTable\x3c\/span\x3e: {\n\n      \x3cspan class=\x22hljs-string\x22\x3e\x27\/api\x27\x3c\/span\x3e: {\n\n            \x3cspan class=\x22hljs-attribute\x22\x3etarget\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/aa.bb.com:8989\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 你接口的域名  http:\/\/aa.bb.com:8989\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/secure: false,      \/\/ 如果是https接口，需要配置这个参数\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-attribute\x22\x3echangeOrigin\x3c\/span\x3e: true,     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果接口跨域，需要进行这个参数配置\x3c\/span\x3e\n\n            \x3cspan class=\x22hljs-attribute\x22\x3epathRewrite\x3c\/span\x3e: {\n\n              \x3cspan class=\x22hljs-string\x22\x3e\x27^\/api\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/这里理解成用‘\/api\x27代替target里面的地址，后面组件中我们掉接口时直接用api代替 \x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/比如我要调用\x27http:\/\/aa.bb.com:8989\/hahahah\x27，直接写‘\/api\/hahah\x27即可\x3c\/span\x3e\n\n            }\n\n        }\n\n  　},\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后\x3cstrong\x3engnix\x3c\/strong\x3e的配置是这样的，修改nginx.conf里面的server里面的location里面的proxy_pass。\x3cbr\x3e嘿嘿嘿嘿看不懂没关系，我写个例子。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22server {\n    listen       80;                                                         \n    server_name  0.0.0.1; \/\/ 你自己页面里面写的请求地址\n\n    #默认请求\n    location \/ {\n        proxy_pass http:\/\/aa.bb.com\/; \/\/ 帮你转到你真正要请求的地址\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs axapta\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eserver\x3c\/span\x3e {\n    listen       \x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e;                                                         \n    server_name  \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.1\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 你自己页面里面写的请求地址\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-meta\x22\x3e#默认请求\x3c\/span\x3e\n    location \/ {\n        proxy_pass http:\x3cspan class=\x22hljs-comment\x22\x3e\/\/aa.bb.com\/; \/\/ 帮你转到你真正要请求的地址\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e大致是这样的，其余的要去看文档哦，看文档的宝宝是最棒的。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cstrong\x3ecors\x3c\/strong\x3e（Cross-origin resource sharing）\x3c\/p\x3e\n\x3cp\x3e哇塞这个就碉堡了，几乎所有浏览器都支持，但是ie必须10以上。\x3cbr\x3e这是啥呢，其自己翻译英文去。\x3cem\x3e _ \x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e这里丢上阮大神的文章\x3cbr\x3e\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2016\/04\/cors.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e链接描述\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e嗯嗯如果想详细了解的话，可以去看看。\x3c\/p\x3e\n\x3cp\x3e我这里大致借用阮老师的话总结一下。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e跟JSONP比较：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eJSONP只支持GET请求，CORS支持所有类型的HTTP请求。JSONP的优势在于支持老式浏览器，以及可以向不支持CORS的网站请求数据。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e请求方式：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e要在服务器端的response header里面加一个 Access-Control-Allow-Origin: 指定域名|| \x3cem\x3e(\x3c\/em\x3e 表示所有域名都可以跨域), 浏览器端便可以发起post的跨域请求。\x3c\/p\x3e\n\x3cp\x3e说实话我对这个也不是特别的了解，所以以后了解到还是会补充哒～\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cstrong\x3eJSONP\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e终于到你了，这个让我悲喜交加的朋友。\x3cbr\x3e我之前面试也问过这个问题，我的回答大都是……\x3c\/p\x3e\n\x3cblockquote\x3e静态文件不受同源政策影响，我可以返回一个script里面有一个回调函数，函数的里面是我要的东西。\x3c\/blockquote\x3e\n\x3cp\x3e一般这么说普通面试官都能被我忽悠过去了，但是！！！！\x3cbr\x3e但是总有忽悠不过去的！！！\x3cbr\x3e这里还是简单介绍一下吧，原理可以简单说明，可是基础知识不能，还是要补的。\x3cbr\x3e先丢上我朋友发我的一张图\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV7a1n?w=1262\x26amp;h=194\x22 src=\x22https:\/\/static.alili.tech\/img\/bV7a1n?w=1262\x26amp;h=194\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e首先：我们从基础的说起。\x3cbr\x3e我现在有两个js\x3c\/p\x3e\n\x3cp\x3ea.js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var name = \x27啊西吧～\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e\x27啊西吧～\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eb.js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22console.log(name)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3econsole.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e先运行a，再运行b，我们的name就出来了。\x3cbr\x3ejsonp本身也就是这样的。\x3c\/p\x3e\n\x3cp\x3ejsonp的原理就是手动创建script，然后script.src = \x27b.js\x27。\x3c\/p\x3e\n\x3cp\x3e可以简单的说，我们的步骤是这样的：\x3cbr\x3e创建a.js =\x26gt; 请求数据、创建b.js =\x26gt; 运行b.js然后调用a.js\x3c\/p\x3e\n\x3cp\x3e其中跨域的地方，就藏在第二点这里。\x3c\/p\x3e\n\x3cp\x3ea.js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function a(data) {\n    alert(`我是从${data.url}网站来的，我叫${data.name}`)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs fortran\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3c\/span\x3e a(\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e) {\n    alert(`我是从${\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e.url}网站来的，我叫${\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3ename\x3c\/span\x3e}`)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eb.js（通过设置这个script的src\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22a({url: \x27尼叩\x27, name: \x27大吉祥\x27})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e({\x3cspan class=\x22hljs-attribute\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27尼叩\x27\x3c\/span\x3e, name: \x3cspan class=\x22hljs-string\x22\x3e\x27大吉祥\x27\x3c\/span\x3e})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e嗯嗯结束了。\x3cbr\x3e其实并没有，关于这个我查了不少资料，有的对有的错，但是至少使用上来看这么理解比较简单一点……\x3cbr\x3e具体各位宝宝还是要多看看基础哒。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cstrong\x3exdr\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e不得不说，这个我没用过，待朕去查询一番。\x3c\/p\x3e\n\x3cp\x3e………………\x3cbr\x3e………………\x3cbr\x3e………………\x3cbr\x3e好了我找完了。\x3c\/p\x3e\n\x3cp\x3e首先打开官方文档，给他一个介绍。\x3c\/p\x3e\n\x3cblockquote\x3e通过使用 Internet Explorer 8 中的跨域请求（缩写为“XDR”），开发人员可以创建跨网站数据聚合方案。 这个名为 XDomainRequest 的请求与 XMLHttpRequest 对象类似，但编程模型更加简单，它可以提供一种最简单的方式来向支持 XDR 的第三方站点发出匿名请求，并选择使这些站点的数据可跨域使用。 只需三行代码即可生成基本的跨站点请求。 这将确保针对公共站点（例如，博客或其他社交网络应用程序）的数据聚合简单、安全和快速。\x3c\/blockquote\x3e\n\x3cp\x3e但是因为我没怎么遇到过，我相信现在也仍然有不少公司需要兼容ie低级浏览器，不过也是很大部分不需要兼容的，所以详细去看可能让你犯困～\x3cbr\x3e那我来总结一下。\x3c\/p\x3e\n\x3cp\x3e因为我们强大而坚挺的\x3cstrong\x3eie低版本\x3c\/strong\x3e浏览器并不支持cors的跨域方法，这个时候xdr就诞生了。\x3cbr\x3e它实现了CORS的部分规范，\x3cstrong\x3e只支持GET\/POST\x3c\/strong\x3e形式的请求。另外在协议部分\x3cstrong\x3e只支持http和https\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e在服务器端，依旧要求在响应报头添加\x22Access-Control-Allow-Methods\x22标签（\x3cstrong\x3e这点跟CORS一致\x3c\/strong\x3e）\x3c\/p\x3e\n\x3cp\x3e使用方法如下：\x3c\/p\x3e\n\x3cblockquote\x3e创建一个XDomainRequest的实例，调用open()方法，再调用send()方法。但与XHR对象的open()方法不同，XDR对象的open()方法只接收两个参数：请求的类型和URL，因为所有XDR请求都是异步执行的，不能用它来创建同步请求。\x3cp\x3e请求返回之后，会触发load事件，相应的数据也会保存在responseText属性中\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3chr\x3e\n\x3cp\x3e哎呀终于打完了，蜜汁感动。\x3cbr\x3e面试嘛，其实就是掏你底细的一种办法，我还是小白一只，虽然用过三大框架，但是基础还是比较弱的，刚从爬电线杆的专业转过来，不管怎么说这一路还是有人帮忙的，非常幸福～\x3c\/p\x3e\n\x3cp\x3e面试了很久，最后越来越明白，其实真的框架是工具，可以帮你很多，但是最重要的还是基础。\x3cbr\x3e所以基础不好的宝宝们，我们以后一起来补呀～～～\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e么么哒～\x3c\/h2\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>2018年3月面试心得《跨域问题》</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014065149">https://segmentfault.com/a/1190000014065149</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/v1cavj267/" target="_blank">https://alili.tech/archive/v1cavj267/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>