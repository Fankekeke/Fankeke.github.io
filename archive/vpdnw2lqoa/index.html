<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Vue&#43;ElementUI: 手把手教你做一个audio组件"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Vue&#43;ElementUI: 手把手教你做一个audio组件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/vpdnw2lqoa/",
				"appid": "1613049289050283", 
				"title": "Vue&#43;ElementUI: 手把手教你做一个audio组件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-22T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/35rum9clzqj/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/68i1a9t7a6/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&text=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&text=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&title=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&is_video=false&description=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&title=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&title=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&title=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvpdnw2lqoa%2f&title=Vue%2bElementUI%3a%20%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%81%9a%e4%b8%80%e4%b8%aaaudio%e7%bb%84%e4%bb%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Vue&#43;ElementUI: 手把手教你做一个audio组件</h1><div class="meta"><div class="postdate"><time datetime="2018-12-22" itemprop="datePublished">2018-12-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016177005?w=619\x26amp;h=343\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016177005?w=619\x26amp;h=343\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e目的\x3c\/h1\x3e\n\x3cul\x3e\n\x3cli\x3e本项目的目的是教你如何实现一个简单的音乐播放器（这并不难）\x3c\/li\x3e\n\x3cli\x3e本项目并不是一个可以用于生产环境的element播放器，所以并没有考虑太多的兼容性问题\x3c\/li\x3e\n\x3cli\x3e本项目不是ElementUI的一个音频插件，只是一个教程，不过你可以自行扩展实现\x3c\/li\x3e\n\x3cli\x3e本项目只是为了学习audio相关事件以及API\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e本项目的音频文件是位于\x3ccode\x3estatic\/falling-star.mp3\x3c\/code\x3e，歌曲名为：星球坠落Live 艾热、李佳隆\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e查看在线demo\x3c\/code\x3e: \x3ca href=\x22https:\/\/wangduanduan.github.io\/element-audio\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/wangduanduan.github.i...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e项目地址\x3c\/code\x3e: \x3ca href=\x22https:\/\/github.com\/wangduanduan\/element-audio\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/wangduandu...\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e运行\x3c\/h1\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cd element-aduio \x26amp;\x26amp; yarn \x26amp;\x26amp; yarn run dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecd element-aduio \x26amp;\x26amp; yarn \x26amp;\x26amp; yarn \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e dev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e文档\x3c\/h1\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e1. 简介\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e1.1 相关技术\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/cn.vuejs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/vuejs\/vue-cli\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue-cli\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/element-cn.eleme.io\/#\/zh-CN\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eElementUI\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/yarnpkg.com\/lang\/zh-hans\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eyarn\x3c\/a\x3e (之前我用npm, 并使用cnpm的源，但是用了yarn之后，我发现它比cnpm的速度还快，功能更好，我就毫不犹豫选择yarn了)\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009769804\x22\x3eAudio相关API和事件\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e1.2 从本教程你会学到什么？\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ccode\x3eVue单文件组件开发知识\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3eElement UI基本用法\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3eAudio原生API及Audio相关事件\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频播放器的基本原理\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频的播放暂停控制\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频显示时间\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频进度条控制与跳转\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频音量控制\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频播放速度控制\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频静音控制\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e音频下载控制\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e个性化配置与排他性播放\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3e一点点ES6语法\x3c\/code\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader6\x22\x3e1.3 学前准备\x3c\/h1\x3e\n\x3cp\x3e基本上不需要什么准备，但是如果你能先看一下Aduio相关API和事件将会更好\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009769804\x22 target=\x22_blank\x22\x3eAudio: 如果你愿意一层一层剥开我的心\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/Guide\/HTML\/Using_HTML5_audio_and_video\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e使用 HTML5 音频和视频\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader7\x22\x3e1.4 在线demo\x3c\/h1\x3e\n\x3cp\x3e\x3ccode\x3e没有在线demo的教程都是耍流氓\x3c\/code\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/wangduanduan.github.io\/element-audio\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e查看在线demon\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/wangduanduan\/element-audio\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e项目地址\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader8\x22\x3e2 开始编码\x3c\/h1\x3e\n\x3ch1 id=\x22articleHeader9\x22\x3e2.1 项目初始化\x3c\/h1\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22➜  test vue init webpack element-audio\n\n  A newer version of vue-cli is available.\n\n  latest:    2.9.2\n  installed: 2.9.1\n\n? Project name element-audio\n? Project description A Vue.js project\n? Author wangdd \x3cwangdd@xxxxxx.com\x3e\n? Vue build standalone\n? Install vue-router? No\n? Use ESLint to lint your code? No\n? Set up unit tests No\n? Setup e2e tests with Nightwatch? No\n? Should we run `npm install` for you after the project has been created? (recommended) npm\n\n➜  test cd element-audio \n➜  element-audio npm run dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e➜  \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e vue init webpack element-audio\n\n  A newer \x3cspan class=\x22hljs-keyword\x22\x3eversion\x3c\/span\x3e of vue-\x3cspan class=\x22hljs-keyword\x22\x3ecli\x3c\/span\x3e is available.\n\n  latest:    2.9.2\n  installed: 2.9.1\n\n? Project name element-audio\n? Project description A Vue.js project\n? Author wangdd \x26lt;wangdd@xxxxxx.com\x26gt;\n? Vue build standalone\n? Install vue-router? \x3cspan class=\x22hljs-keyword\x22\x3eNo\x3c\/span\x3e\n? \x3cspan class=\x22hljs-keyword\x22\x3eUse\x3c\/span\x3e ESLint to lint your code? \x3cspan class=\x22hljs-keyword\x22\x3eNo\x3c\/span\x3e\n? \x3cspan class=\x22hljs-keyword\x22\x3eSet\x3c\/span\x3e up unit tests \x3cspan class=\x22hljs-keyword\x22\x3eNo\x3c\/span\x3e\n? Setup e2e tests with Nightwatch? \x3cspan class=\x22hljs-keyword\x22\x3eNo\x3c\/span\x3e\n? Should we \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e `npm install` \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e you after the project has been created? (recommended) npm\n\n➜  \x3cspan class=\x22hljs-keyword\x22\x3etest\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ecd\x3c\/span\x3e element-audio \n➜  element-audio npm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e浏览器打开 \x3ccode\x3ehttp:\/\/localhost:8080\/\x3c\/code\x3e, 看到如下界面，说明项目初始化成功\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e图片1\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e2.2 安装ElementUI并插入audio标签\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e2.2.1 \x3ccode\x3e安装ElementUI\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22yarn add element-ui \/\/ or npm i element-ui -S\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eyarn \x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eelement\x3c\/span\x3e-ui\x3cspan class=\x22hljs-comment\x22\x3e \/\/ or npm i element-ui -S\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e2.2.2 在\x3ccode\x3esrc\/main.js\x3c\/code\x3e中引入Element UI\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ filename: src\/main.js\nimport Vue from \x27vue\x27\nimport ElementUI from \x27element-ui\x27\nimport App from \x27.\/App\x27\nimport \x27element-ui\/lib\/theme-chalk\/index.css\x27\n\nVue.config.productionTip = false\n\nVue.use(ElementUI)\n\n\/* eslint-disable no-new *\/\nnew Vue({\n  el: \x27#app\x27,\n  template: \x27\x3cApp\/\x3e\x27,\n  components: { App }\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ filename: src\/main.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ElementUI \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27element-ui\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/App\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27element-ui\/lib\/theme-chalk\/index.css\x27\x3c\/span\x3e\n\nVue.config.productionTip = \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e\n\nVue.use(ElementUI)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* eslint-disable no-new *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({\n  el: \x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e,\n  template: \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;App\/\x26gt;\x27\x3c\/span\x3e,\n  components: { App }\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e2.2.3 创建\x3ccode\x3esrc\/components\/VueAudio.vue\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ filename: src\/components\/VueAudio.vue\n\x3ctemplate\x3e\n  \x3cdiv\x3e\n    \x3caudio src=\x26quot;http:\/\/devtest.qiniudn.com\/secret base~.mp3\x26quot; controls=\x26quot;controls\x26quot;\x3e\x3c\/audio\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nexport default {\n  data () {\n    return {}\n  }\n}\n\x3c\/script\x3e\n\n\x3cstyle\x3e\n\n\x3c\/style\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\/\/ filename: src\/components\/VueAudio.vue\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eaudio\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/devtest.qiniudn.com\/secret base~.mp3\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtrols\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22controls\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eaudio\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {}\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e2.2.4 修改\x3ccode\x3esrc\/App.vue\x3c\/code\x3e, 并引入\x3ccode\x3eVueAudio.vue\x3c\/code\x3e组件\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ filename: src\/App.vue\n\x3ctemplate\x3e\n  \x3cdiv id=\x26quot;app\x26quot;\x3e\n    \x3cVueAudio \/\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport VueAudio from \x27.\/components\/VueAudio\x27\n\nexport default {\n  name: \x27app\x27,\n  components: {\n    VueAudio\n  },\n  data () {\n    return {}\n  }\n}\n\x3c\/script\x3e\n\n\x3cstyle\x3e\n\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\/\/ filename: src\/App.vue\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22app\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eVueAudio\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e VueAudio \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/VueAudio\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27app\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponents\x3c\/span\x3e: {\n    VueAudio\n  },\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {}\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e打开：\x3ca href=\x22http:\/\/localhost\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost\x3c\/a\x3e:8080\/，你应该能看到如下效果，说明引入成功，你可以点击播放按钮看看，音频是否能够播放\x3cbr\x3e\x3ccode\x3e图2\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e2.3 音频的播放暂停控制\x3c\/h2\x3e\n\x3cp\x3e我们需要用一个按钮去控制音频的播放与暂停，这里调用了audio的两个api,以及两个事件\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eaudio.play()\x3c\/li\x3e\n\x3cli\x3eaudio.pause()\x3c\/li\x3e\n\x3cli\x3eplay事件\x3c\/li\x3e\n\x3cli\x3epause事件\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e修改\x3ccode\x3esrc\/components\/VueAudio.vue\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ filename: src\/components\/VueAudio.vue\n\x3ctemplate\x3e\n  \x3cdiv\x3e\n    \x3c!-- 此处的ref属性，可以很方便的在vue组件中通过 this.$refs.audio获取该dom元素 --\x3e\n    \x3caudio ref=\x26quot;audio\x26quot; \n    @pause=\x26quot;onPause\x26quot;\n    @play=\x26quot;onPlay\x26quot;\n    src=\x26quot;http:\/\/devtest.qiniudn.com\/secret base~.mp3\x26quot; controls=\x26quot;controls\x26quot;\x3e\x3c\/audio\x3e\n\n    \x3c!-- 音频播放控件 --\x3e\n    \x3cdiv\x3e\n      \x3cel-button type=\x26quot;text\x26quot; @click=\x26quot;startPlayOrPause\x26quot;\x3e\x22{{\x22audio.playing | transPlayPause\x22}}\x22\x3c\/el-button\x3e\n    \x3c\/div\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nexport default {\n  data () {\n    return {\n      audio: {\n        \/\/ 该字段是音频是否处于播放状态的属性\n        playing: false\n      }\n    }\n  },\n  methods: {\n    \/\/ 控制音频的播放与暂停\n    startPlayOrPause () {\n      return this.audio.playing ? this.pause() : this.play()\n    },\n    \/\/ 播放音频\n    play () {\n      this.$refs.audio.play()\n    },\n    \/\/ 暂停音频\n    pause () {\n      this.$refs.audio.pause()\n    },\n    \/\/ 当音频播放\n    onPlay () {\n      this.audio.playing = true\n    },\n    \/\/ 当音频暂停\n    onPause () {\n      this.audio.playing = false\n    }\n  },\n  filters: {\n    \/\/ 使用组件过滤器来动态改变按钮的显示\n    transPlayPause(value) {\n      return value ? \x27暂停\x27 : \x27播放\x27\n    }\n  }\n}\n\x3c\/script\x3e\n\n\x3cstyle\x3e\n\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\/\/ filename: src\/components\/VueAudio.vue\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 此处的ref属性，可以很方便的在vue组件中通过 this.$refs.audio获取该dom元素 --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eaudio\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22audio\x22\x3c\/span\x3e \n    @\x3cspan class=\x22hljs-attr\x22\x3epause\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onPause\x22\x3c\/span\x3e\n    @\x3cspan class=\x22hljs-attr\x22\x3eplay\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onPlay\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/devtest.qiniudn.com\/secret base~.mp3\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtrols\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22controls\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eaudio\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 音频播放控件 --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22startPlayOrPause\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22audio.playing | transPlayPause\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3eaudio\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 该字段是音频是否处于播放状态的属性\x3c\/span\x3e\n        playing: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n      }\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 控制音频的播放与暂停\x3c\/span\x3e\n    startPlayOrPause () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.playing ? \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.pause() : \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.play()\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 播放音频\x3c\/span\x3e\n    play () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs.audio.play()\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 暂停音频\x3c\/span\x3e\n    pause () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs.audio.pause()\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当音频播放\x3c\/span\x3e\n    onPlay () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.playing = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当音频暂停\x3c\/span\x3e\n    onPause () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.playing = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3efilters\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用组件过滤器来动态改变按钮的显示\x3c\/span\x3e\n    transPlayPause(value) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e value ? \x3cspan class=\x22hljs-string\x22\x3e\x27暂停\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27播放\x27\x3c\/span\x3e\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e图3 音频播放与暂停\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3e2.4 音频显示时间\x3c\/h2\x3e\n\x3cp\x3e音频的时间显示主要有两部分，音频的总时长和当前播放时间。可以从两个事件中获取\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eloadedmetadata\x3c\/code\x3e:代表音频的元数据已经被加载完成，可以从中获取音频总时长\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3etimeupdate\x3c\/code\x3e: 当前播放位置作为正常播放的一部分而改变，或者以特别有趣的方式，例如不连续地改变，可以从该事件中获取音频的当前播放时间，\x3ccode\x3e该事件在播放过程中会不断被触发\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3ccode\x3e要点代码\x3c\/code\x3e：整数格式化成时:分:秒\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function realFormatSecond(second) {\n  var secondType = typeof second\n\n  if (secondType === \x27number\x27 || secondType === \x27string\x27) {\n    second = parseInt(second)\n\n    var hours = Math.floor(second \/ 3600)\n    second = second - hours * 3600\n    var mimute = Math.floor(second \/ 60)\n    second = second - mimute * 60\n\n    return hours \x2b \x27:\x27 \x2b (\x270\x27 \x2b mimute).slice(-2) \x2b \x27:\x27 \x2b (\x270\x27 \x2b second).slice(-2)\n  } else {\n    return \x270:00:00\x27\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3efunction realFormatSecond(\x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e) {\n  var secondType = typeof \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (secondType === \x3cspan class=\x22hljs-string\x22\x3e\x27number\x27\x3c\/span\x3e || secondType === \x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e = parseInt(\x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e)\n\n    var hours = Math.\x3cspan class=\x22hljs-built_in\x22\x3efloor\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e \/ \x3cspan class=\x22hljs-number\x22\x3e3600\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e - hours * \x3cspan class=\x22hljs-number\x22\x3e3600\x3c\/span\x3e\n    var mimute = Math.\x3cspan class=\x22hljs-built_in\x22\x3efloor\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e \/ \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e - mimute * \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hours \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27:\x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b mimute).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27:\x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-built_in\x22\x3esecond\x3c\/span\x3e).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x270:00:00\x27\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e要点代码\x3c\/code\x3e： 两个事件的处理\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 当timeupdate事件大概每秒一次，用来更新音频流的当前播放时间\nonTimeupdate(res) {\n      console.log(\x27timeupdate\x27)\n      console.log(res)\n      this.audio.currentTime = res.target.currentTime\n    },\n\/\/ 当加载语音流元数据完成后，会触发该事件的回调函数\n\/\/ 语音元数据主要是语音的长度之类的数据\nonLoadedmetadata(res) {\n  console.log(\x27loadedmetadata\x27)\n  console.log(res)\n  this.audio.maxTime = parseInt(res.target.duration)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当timeupdate事件大概每秒一次，用来更新音频流的当前播放时间\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eonTimeupdate\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(res)\x3c\/span\x3e\x3c\/span\x3e {\n      console.log(\x3cspan class=\x22hljs-string\x22\x3e\x27timeupdate\x27\x3c\/span\x3e)\n      console.log(res)\n      this\x3cspan class=\x22hljs-selector-class\x22\x3e.audio\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.currentTime\x3c\/span\x3e = res\x3cspan class=\x22hljs-selector-class\x22\x3e.target\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.currentTime\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当加载语音流元数据完成后，会触发该事件的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 语音元数据主要是语音的长度之类的数据\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eonLoadedmetadata\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(res)\x3c\/span\x3e\x3c\/span\x3e {\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x27loadedmetadata\x27\x3c\/span\x3e)\n  console.log(res)\n  this\x3cspan class=\x22hljs-selector-class\x22\x3e.audio\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.maxTime\x3c\/span\x3e = parseInt(res\x3cspan class=\x22hljs-selector-class\x22\x3e.target\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.duration\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e完整代码\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv\x3e\n    \x3c!-- 此处的ref属性，可以很方便的在vue组件中通过 this.$refs.audio获取该dom元素 --\x3e\n    \x3caudio ref=\x26quot;audio\x26quot; \n    @pause=\x26quot;onPause\x26quot;\n    @play=\x26quot;onPlay\x26quot;\n    @timeupdate=\x26quot;onTimeupdate\x26quot; \n    @loadedmetadata=\x26quot;onLoadedmetadata\x26quot;\n    src=\x26quot;http:\/\/devtest.qiniudn.com\/secret base~.mp3\x26quot; controls=\x26quot;controls\x26quot;\x3e\x3c\/audio\x3e\n\n    \x3c!-- 音频播放控件 --\x3e\n    \x3cdiv\x3e\n      \x3cel-button type=\x26quot;text\x26quot; @click=\x26quot;startPlayOrPause\x26quot;\x3e\x22{{\x22audio.playing | transPlayPause\x22}}\x22\x3c\/el-button\x3e\n\n      \x3cel-tag type=\x26quot;info\x26quot;\x3e\x22{{\x22 audio.currentTime | formatSecond\x22}}\x22\x3c\/el-tag\x3e\n\n      \x3cel-tag type=\x26quot;info\x26quot;\x3e\x22{{\x22 audio.maxTime | formatSecond\x22}}\x22\x3c\/el-tag\x3e\n    \x3c\/div\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\n\n\/\/ 将整数转换成 时：分：秒的格式\nfunction realFormatSecond(second) {\n  var secondType = typeof second\n\n  if (secondType === \x27number\x27 || secondType === \x27string\x27) {\n    second = parseInt(second)\n\n    var hours = Math.floor(second \/ 3600)\n    second = second - hours * 3600\n    var mimute = Math.floor(second \/ 60)\n    second = second - mimute * 60\n\n    return hours \x2b \x27:\x27 \x2b (\x270\x27 \x2b mimute).slice(-2) \x2b \x27:\x27 \x2b (\x270\x27 \x2b second).slice(-2)\n  } else {\n    return \x270:00:00\x27\n  }\n}\n\nexport default {\n  data () {\n    return {\n      audio: {\n        \/\/ 该字段是音频是否处于播放状态的属性\n        playing: false,\n        \/\/ 音频当前播放时长\n        currentTime: 0,\n        \/\/ 音频最大播放时长\n        maxTime: 0\n      }\n    }\n  },\n  methods: {\n    \/\/ 控制音频的播放与暂停\n    startPlayOrPause () {\n      return this.audio.playing ? this.pause() : this.play()\n    },\n    \/\/ 播放音频\n    play () {\n      this.$refs.audio.play()\n    },\n    \/\/ 暂停音频\n    pause () {\n      this.$refs.audio.pause()\n    },\n    \/\/ 当音频播放\n    onPlay () {\n      this.audio.playing = true\n    },\n    \/\/ 当音频暂停\n    onPause () {\n      this.audio.playing = false\n    },\n    \/\/ 当timeupdate事件大概每秒一次，用来更新音频流的当前播放时间\n    onTimeupdate(res) {\n      console.log(\x27timeupdate\x27)\n      console.log(res)\n      this.audio.currentTime = res.target.currentTime\n    },\n    \/\/ 当加载语音流元数据完成后，会触发该事件的回调函数\n    \/\/ 语音元数据主要是语音的长度之类的数据\n    onLoadedmetadata(res) {\n      console.log(\x27loadedmetadata\x27)\n      console.log(res)\n      this.audio.maxTime = parseInt(res.target.duration)\n    }\n  },\n  filters: {\n    \/\/ 使用组件过滤器来动态改变按钮的显示\n    transPlayPause(value) {\n      return value ? \x27暂停\x27 : \x27播放\x27\n    },\n    \/\/ 将整数转化成时分秒\n    formatSecond(second = 0) {\n      return realFormatSecond(second)\n    }\n  }\n}\n\x3c\/script\x3e\n\n\x3cstyle\x3e\n\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 此处的ref属性，可以很方便的在vue组件中通过 this.$refs.audio获取该dom元素 --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eaudio\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22audio\x22\x3c\/span\x3e \n    @\x3cspan class=\x22hljs-attr\x22\x3epause\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onPause\x22\x3c\/span\x3e\n    @\x3cspan class=\x22hljs-attr\x22\x3eplay\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onPlay\x22\x3c\/span\x3e\n    @\x3cspan class=\x22hljs-attr\x22\x3etimeupdate\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onTimeupdate\x22\x3c\/span\x3e \n    @\x3cspan class=\x22hljs-attr\x22\x3eloadedmetadata\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onLoadedmetadata\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/devtest.qiniudn.com\/secret base~.mp3\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtrols\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22controls\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eaudio\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 音频播放控件 --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22startPlayOrPause\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22audio.playing | transPlayPause\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-button\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-tag\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22info\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22 audio.currentTime | formatSecond\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-tag\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-tag\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22info\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22 audio.maxTime | formatSecond\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-tag\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将整数转换成 时：分：秒的格式\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erealFormatSecond\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3esecond\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e secondType = \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e second\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (secondType === \x3cspan class=\x22hljs-string\x22\x3e\x27number\x27\x3c\/span\x3e || secondType === \x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e) {\n    second = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(second)\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hours = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(second \/ \x3cspan class=\x22hljs-number\x22\x3e3600\x3c\/span\x3e)\n    second = second - hours * \x3cspan class=\x22hljs-number\x22\x3e3600\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e mimute = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(second \/ \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e)\n    second = second - mimute * \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e hours \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27:\x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b mimute).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27:\x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b second).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x270:00:00\x27\x3c\/span\x3e\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3eaudio\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 该字段是音频是否处于播放状态的属性\x3c\/span\x3e\n        playing: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 音频当前播放时长\x3c\/span\x3e\n        currentTime: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 音频最大播放时长\x3c\/span\x3e\n        maxTime: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n      }\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emethods\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 控制音频的播放与暂停\x3c\/span\x3e\n    startPlayOrPause () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.playing ? \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.pause() : \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.play()\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 播放音频\x3c\/span\x3e\n    play () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs.audio.play()\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 暂停音频\x3c\/span\x3e\n    pause () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs.audio.pause()\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当音频播放\x3c\/span\x3e\n    onPlay () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.playing = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当音频暂停\x3c\/span\x3e\n    onPause () {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.playing = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当timeupdate事件大概每秒一次，用来更新音频流的当前播放时间\x3c\/span\x3e\n    onTimeupdate(res) {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27timeupdate\x27\x3c\/span\x3e)\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(res)\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.currentTime = res.target.currentTime\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当加载语音流元数据完成后，会触发该事件的回调函数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 语音元数据主要是语音的长度之类的数据\x3c\/span\x3e\n    onLoadedmetadata(res) {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27loadedmetadata\x27\x3c\/span\x3e)\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(res)\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.maxTime = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(res.target.duration)\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3efilters\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用组件过滤器来动态改变按钮的显示\x3c\/span\x3e\n    transPlayPause(value) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e value ? \x3cspan class=\x22hljs-string\x22\x3e\x27暂停\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27播放\x27\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将整数转化成时分秒\x3c\/span\x3e\n    formatSecond(second = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e realFormatSecond(second)\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e打开浏览器可以看到，当音频播放时，当前时间也在改变。\x3cbr\x3e\x3ccode\x3e图4\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3e2.5 音频进度条控制\x3c\/h2\x3e\n\x3cp\x3e进度条主要有两个控制，改变进度的原理是：改变\x3ccode\x3eaudio.currentTime\x3c\/code\x3e属性值\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e音频播放后，当前时间改变，进度条就要随之改变\x3c\/li\x3e\n\x3cli\x3e拖动进度条，可以改变音频的当前时间\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 进度条ui\n\x3cel-slider v-model=\x26quot;sliderTime\x26quot; :format-tooltip=\x26quot;formatProcessToolTip\x26quot; @change=\x26quot;changeCurrentTime\x26quot; class=\x26quot;slider\x26quot;\x3e\x3c\/el-slider\x3e\n\n\/\/ 拖动进度条，改变当前时间，index是进度条改变时的回调函数的参数0-100之间，需要换算成实际时间\nchangeCurrentTime(index) {\n  this.$refs.audio.currentTime = parseInt(index \/ 100 * this.audio.maxTime)\n},\n\/\/ 当音频当前时间改变后，进度条也要改变\nonTimeupdate(res) {\n  console.log(\x27timeupdate\x27)\n  console.log(res)\n  this.audio.currentTime = res.target.currentTime\n  this.sliderTime = parseInt(this.audio.currentTime \/ this.audio.maxTime * 100)\n},\n\n\/\/ 进度条格式化toolTip\nformatProcessToolTip(index = 0) {\n  index = parseInt(this.audio.maxTime \/ 100 * index)\n  return \x27进度条: \x27 \x2b realFormatSecond(index)\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 进度条ui\x3c\/span\x3e\n\x26lt;el-slider v-model=\x3cspan class=\x22hljs-string\x22\x3e\x22sliderTime\x22\x3c\/span\x3e :format-tooltip=\x3cspan class=\x22hljs-string\x22\x3e\x22formatProcessToolTip\x22\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e@change\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22changeCurrentTime\x22\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x22\x3cspan class=\x22hljs-title\x22\x3eslider\x3c\/span\x3e\x22\x26gt;\x26lt;\x3cspan class=\x22hljs-type\x22\x3e\/el-slider\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 拖动进度条，改变当前时间，index是进度条改变时的回调函数的参数0-100之间，需要换算成实际时间\x3c\/span\x3e\nchangeCurrentTime(index) {\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$refs.audio.currentTime = parseInt(index \/ \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.maxTime)\n},\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当音频当前时间改变后，进度条也要改变\x3c\/span\x3e\nonTimeupdate(res) {\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x27timeupdate\x27\x3c\/span\x3e)\n  console.log(res)\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.currentTime = res.target.currentTime\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.sliderTime = parseInt(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.currentTime \/ \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.maxTime * \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e)\n},\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 进度条格式化toolTip\x3c\/span\x3e\nformatProcessToolTip(index = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n  index = parseInt(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.maxTime \/ \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e * index)\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27进度条: \x27\x3c\/span\x3e \x2b realFormatSecond(index)\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3e2.6 音频音量控制\x3c\/h2\x3e\n\x3cp\x3e音频的音量控制和进度控制差不多，也是通过拖动滑动条，去修改\x3ccode\x3eaduio.volume\x3c\/code\x3e属性值，此处不再啰嗦\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader19\x22\x3e2.7 音频播放速度控制\x3c\/h2\x3e\n\x3cp\x3e音频的音量控制和进度控制差不多，也是点击按钮，去修改\x3ccode\x3eaduio.playbackRate\x3c\/code\x3e属性值，该属性代表音量的大小，取值范围是0 - 1，用滑动条的时候，也是需要换算一下值，此处不再啰嗦\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader20\x22\x3e2.8 音频静音控制\x3c\/h2\x3e\n\x3cp\x3e静音的控制是点击按钮，去修改\x3ccode\x3eaduio.muted\x3c\/code\x3e属性，该属性有两个值: true(静音)，false(不静音)。 注意，静音的时候，音频的进度条还是会继续往前走的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader21\x22\x3e2.9 音频下载控制\x3c\/h2\x3e\n\x3cp\x3e音频下载是一个a链接，记得加上\x3ccode\x3edownload\x3c\/code\x3e属性，不然浏览器会在新标签打开音频，而不是下载音频\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca :href=\x26quot;url\x26quot; v-show=\x26quot;!controlList.noDownload\x26quot; target=\x26quot;_blank\x26quot; class=\x26quot;download\x26quot; download\x3e下载\x3c\/a\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:href\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22url\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22!controlList.noDownload\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22_blank\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22download\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edownload\x3c\/span\x3e\x26gt;\x3c\/span\x3e下载\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader22\x22\x3e2.10 个性化配置\x3c\/h2\x3e\n\x3cp\x3e音频的个性化配置有很多，大家可以自己扩展，通过父组件传递响应的值，可以做到个性化设置。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 controlList: {\n  \/\/ 不显示下载\n  noDownload: false,\n  \/\/ 不显示静音\n  noMuted: false,\n  \/\/ 不显示音量条\n  noVolume: false,\n  \/\/ 不显示进度条\n  noProcess: false,\n  \/\/ 只能播放一个\n  onlyOnePlaying: false,\n  \/\/ 不要快进按钮\n  noSpeed: false\n}\n\nsetControlList () {\n    let controlList = this.theControlList.split(\x27 \x27)\n    controlList.forEach((item) =\x3e {\n      if(this.controlList[item] !== undefined){\n        this.controlList[item] = true\n      }\n    })\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e controlList: {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不显示下载\x3c\/span\x3e\n  noDownload: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不显示静音\x3c\/span\x3e\n  noMuted: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不显示音量条\x3c\/span\x3e\n  noVolume: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不显示进度条\x3c\/span\x3e\n  noProcess: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 只能播放一个\x3c\/span\x3e\n  onlyOnePlaying: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不要快进按钮\x3c\/span\x3e\n  noSpeed: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n}\n\nsetControlList () {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e controlList = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.theControlList.split(\x3cspan class=\x22hljs-string\x22\x3e\x27 \x27\x3c\/span\x3e)\n    controlList.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.controlList[item] !== \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.controlList[item] = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n      }\n    })\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e例如父组件这样\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv id=\x26quot;app\x26quot;\x3e\n    \x3cdiv v-for=\x26quot;item in audios\x26quot; :key=\x26quot;item.url\x26quot;\x3e\n      \x3cVueAudio :theUrl=\x26quot;item.url\x26quot; :theControlList=\x26quot;item.controlList\x26quot;\/\x3e\n    \x3c\/div\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport VueAudio from \x27.\/components\/VueAudio\x27\n\nexport default {\n  name: \x27app\x27,\n  components: {\n    VueAudio\n  },\n  data () {\n    return {\n      audios: [\n        {\n          url: \x27http:\/\/devtest.qiniudn.com\/secret base~.mp3\x27,\n          controlList: \x27onlyOnePlaying\x27\n        },\n        {\n          url: \x27http:\/\/devtest.qiniudn.com\/回レ！雪月花.mp3\x27,\n          controlList: \x27noDownload noMuted onlyOnePlaying\x27\n        },{\n          url: \x27http:\/\/devtest.qiniudn.com\/あっちゅ～ま青春!.mp3\x27,\n          controlList: \x27noDownload noVolume noMuted onlyOnePlaying\x27\n        },{\n          url: \x27http:\/\/devtest.qiniudn.com\/Preparation.mp3\x27,\n          controlList: \x27noDownload noSpeed onlyOnePlaying\x27\n        }\n      ]\n    }\n  }\n}\n\x3c\/script\x3e\n\n\x3cstyle\x3e\n\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22app\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in audios\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:key\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.url\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eVueAudio\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:theUrl\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.url\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:theControlList\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.controlList\x22\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e VueAudio \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/VueAudio\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27app\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponents\x3c\/span\x3e: {\n    VueAudio\n  },\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3eaudios\x3c\/span\x3e: [\n        {\n          \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/devtest.qiniudn.com\/secret base~.mp3\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3econtrolList\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27onlyOnePlaying\x27\x3c\/span\x3e\n        },\n        {\n          \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/devtest.qiniudn.com\/回レ！雪月花.mp3\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3econtrolList\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27noDownload noMuted onlyOnePlaying\x27\x3c\/span\x3e\n        },{\n          \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/devtest.qiniudn.com\/あっちゅ～ま青春!.mp3\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3econtrolList\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27noDownload noVolume noMuted onlyOnePlaying\x27\x3c\/span\x3e\n        },{\n          \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/devtest.qiniudn.com\/Preparation.mp3\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3econtrolList\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27noDownload noSpeed onlyOnePlaying\x27\x3c\/span\x3e\n        }\n      ]\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader23\x22\x3e2.11 一点点ES6语法\x3c\/h2\x3e\n\x3cp\x3e大多数时候，我们希望页面上播放一个音频时，其他音频可以暂停。\x3cbr\x3e\x3ccode\x3e[...audios]\x3c\/code\x3e可以把一个类数组转化成数组，这个是我常用的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22onPlay (res) {\n    console.log(res)\n    this.audio.playing = true\n    this.audio.loading = false\n    \n    if(!this.controlList.onlyOnePlaying){\n      return \n    }\n    \n    let target = res.target\n    \n    let audios = document.getElementsByTagName(\x27audio\x27);\n    \/\/ 如果设置了排他性，当前音频播放是，其他音频都要暂停\n    [...audios].forEach((item) =\x3e {\n      if(item !== target){\n        item.pause()\n      }\n    })\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3eonPlay (res) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(res)\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.playing = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.audio.loading = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.controlList.onlyOnePlaying){\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \n    }\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e target = res.target\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e audios = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByTagName(\x3cspan class=\x22hljs-string\x22\x3e\x27audio\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果设置了排他性，当前音频播放是，其他音频都要暂停\x3c\/span\x3e\n    [...audios].forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(item !== target){\n        item.pause()\n      }\n    })\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader24\x22\x3e感谢\x3c\/h1\x3e\n\x3cul\x3e\x3cli\x3e如果你需要一个小型的vue音乐播放器，你可以试试\x3ca href=\x22https:\/\/github.com\/SevenOutman\/vue-aplayer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-aplayer\x3c\/a\x3e, 该播放器不仅仅支持vue组件，非Vue的也支持，你可以看看他们的\x3ca href=\x22https:\/\/sevenoutman.github.io\/vue-aplayer\/demo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo\x3c\/a\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader25\x22\x3e参考文档\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/www.ahonn.me\/2016\/05\/14\/use-javascript-to-achieve-simple-drag-and-drop\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e使用 JavaScript 实现简单的拖拽\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009769804\x22\x3eaudio 相关API 以及事件\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/Guide\/HTML\/Using_HTML5_audio_and_video\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e使用 HTML5 音频和视频\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Vue+ElementUI: 手把手教你做一个audio组件</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012453975">https://segmentfault.com/a/1190000012453975</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/vpdnw2lqoa/" target="_blank">https://alili.tech/archive/vpdnw2lqoa/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>