<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="【quickhybrid】H5和Native交互原理"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>【quickhybrid】H5和Native交互原理 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/vr2u93cekp/",
				"appid": "1613049289050283", 
				"title": "【quickhybrid】H5和Native交互原理 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-21T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/17fv931w1mci/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/b8pd05x3ivc/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&text=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&text=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&title=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&is_video=false&description=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&title=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&title=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&title=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvr2u93cekp%2f&title=%e3%80%90quickhybrid%e3%80%91H5%e5%92%8cNative%e4%ba%a4%e4%ba%92%e5%8e%9f%e7%90%86"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">【quickhybrid】H5和Native交互原理</h1><div class="meta"><div class="postdate"><time datetime="2018-12-21" itemprop="datePublished">2018-12-21</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eHybrid\x3c\/code\x3e架构的核心就是\x3ccode\x3eJSBridge\x3c\/code\x3e交互，而实现这个交互的前提是弄清楚H5和Native端的交互\x3c\/p\x3e\n\x3cp\x3e本文主要介绍Native端（Android\/iOS）和H5端（泛指前端）的交互原理\x3cbr\x3e（之前也整理过类似的文章，本系列重新梳理）\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e\n\x3ccode\x3eNative\x3c\/code\x3e与\x3ccode\x3eH5\x3c\/code\x3e交互的两种方式\x3c\/h2\x3e\n\x3cp\x3e原生和前端的交互有两种方式：\x3ccode\x3eurl scheme\x3c\/code\x3e以及\x3ccode\x3eJavaScriptCore\x3c\/code\x3e（在Android中是\x3ccode\x3eaddJavascriptInterface\x3c\/code\x3e）\x3c\/p\x3e\n\x3cp\x3eurl scheme适用于所有的系统设备（低版本Android和低版本iOS都适用）\x3c\/p\x3e\n\x3cp\x3e但是url scheme毕竟是通过url拦截实现的，在大量数据传输，以及效率上都有影响\x3c\/p\x3e\n\x3cp\x3e另一种方法则在低版本中会有这样或那样的问题\x3c\/p\x3e\n\x3cp\x3e如JavaScriptCore不支持\x3ccode\x3eiOS7\x3c\/code\x3e以下，addJavascriptInterface在\x3ccode\x3e4.2\x3c\/code\x3e以前有风险漏洞\x3c\/p\x3e\n\x3cp\x3e当然了，时至今日，这些低版本造成的影响已经慢慢不再\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eurl scheme交互\x3c\/h2\x3e\n\x3cp\x3e这个是最广为流传的交互方式，起因是因为在hybrid刚出来时，很多低版本都需要兼容，因此几乎都用的这种\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e一些概念：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e一般清空下，url scheme是一种类似于url的链接,是为了方便app直接互相调用设计的\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e具体为,可以用系统的OpenURI打开一个类似于url的链接(可拼入参数),\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22然后系统会进行判断,如果是系统的url scheme,则打开系统应用,\n否则找看是否有app注册这种scheme,打开对应app\n\n- 需要注意的是,这种scheme必须原生app注册后才会生效,如微信的scheme为(weixin:\/\/)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mizar\x22\x3e\x3ccode\x3e然后系统会进行判断,如果是系统的url \x3cspan class=\x22hljs-keyword\x22\x3escheme\x3c\/span\x3e,则打开系统应用,\n否则找看是否有app注册这种\x3cspan class=\x22hljs-keyword\x22\x3escheme\x3c\/span\x3e,打开对应app\n\n- 需要注意的是,这种\x3cspan class=\x22hljs-keyword\x22\x3escheme\x3c\/span\x3e必须原生app注册后才会生效,如微信的\x3cspan class=\x22hljs-keyword\x22\x3escheme\x3c\/span\x3e为(weixin:\/\/)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e而本文中混合开发交互的url scheme则是仿照上述的形式的一种方式\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e具体为,由前端页面通过某种方式触发scheme(如用iframe.src),\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22然后Native用某种方法捕获对应的url触发事件,然后拿到当前的触发url,\n根据定义好的协议,分析当前触发了那种方法,然后根据定义来执行等\n\n- 协议类似于：`quickhybrid:\/\/xxx`\n\n- 一般这种交互的url没有必要在原生app配置中注册\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haml\x22\x3e\x3ccode\x3e然后Native用某种方法捕获对应的url触发事件,然后拿到当前的触发url,\n根据定义好的协议,分析当前触发了那种方法,然后根据定义来执行等\n\n-\x3cspan class=\x22ruby\x22\x3e 协议类似于：\x3cspan class=\x22hljs-string\x22\x3e`quickhybrid:\/\/xxx`\x3c\/span\x3e\n\x3c\/span\x3e\n-\x3cspan class=\x22ruby\x22\x3e 一般这种交互的url没有必要在原生app配置中注册\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e注意⚠️： ️\x3ccode\x3eiOS10\x3c\/code\x3e以后，urlscheme必须符合url规范，否则会报错，\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e基本原理：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22H5 -\x3e 触发一个url（每一个功能代表的url都不同）-\x3e Native端捕获到url\n\n-\x3e Native端分析属于哪一个功能并执行 -\x3e Native端调用H5中的方法将执行结果回调给H5\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eH5 -\x26gt; 触发一个url（每一个功能代表的url都不同）-\x26gt; Native端捕获到url\n\n-\x26gt; Native端分析属于哪一个功能并执行 -\x26gt; Native端调用H5中的方法将执行结果回调给H5\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012559025?w=596\x26amp;h=625\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012559025?w=596\x26amp;h=625\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e相比于其它方案的优点：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eAndroid4.2以下,addJavascriptInterface方式有安全漏掉\x3c\/li\x3e\n\x3cli\x3eiOS7以下,JavaScriptCore无法使用\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e所以如果需要兼容这类型低版本的机型，url scheme方案是不二选择\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eH5直接与Native交互\x3c\/h2\x3e\n\x3cp\x3e分别包括Android，iOS中H5和原生互相调用，总结如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eH5调Android-原生通过\x3ccode\x3eaddJavascriptInterface\x3c\/code\x3e注册，然后H5直接调用\x3c\/li\x3e\n\x3cli\x3eAndroid调H5-原生通过\x3ccode\x3eloadUrl\x3c\/code\x3e来调用H5，\x3ccode\x3e4.4\x3c\/code\x3e及以上还可以通过\x3ccode\x3eevaluateJavascript\x3c\/code\x3e调用\x3c\/li\x3e\n\x3cli\x3eH5调iOS-原生通过\x3ccode\x3eJavaScriptCore\x3c\/code\x3e注册（需\x3ccode\x3eios7\x3c\/code\x3e以上），然后H5直接调用\x3c\/li\x3e\n\x3cli\x3eiOS调H5-通过\x3ccode\x3estringByEvaluatingJavaScriptFromString\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3eH5调Android：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e首先，原生webview需要先注册可供前端调用的JS函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 WebSettings webSettings = mWebView.getSettings();  \n \/\/ Android容器允许JS脚本，必须要\nwebSettings.setJavaScriptEnabled(true);\n\/\/ Android容器设置侨连对象\nmWebView.addJavascriptInterface(getJSBridge(), \x26quot;JSBridge\x26quot;);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e WebSettings webSettings = mWebView.getSettings();  \n \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Android容器允许JS脚本，必须要\x3c\/span\x3e\nwebSettings.setJavaScriptEnabled(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Android容器设置侨连对象\x3c\/span\x3e\nmWebView.addJavascriptInterface(getJSBridge(), \x3cspan class=\x22hljs-string\x22\x3e\x22JSBridge\x22\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Android4.2版本及以上，本地方法要加上注解@JavascriptInterface，否则会找不到方法。\nprivate Object getJSBridge(){  \n    Object insertObj = new Object(){  \n        @JavascriptInterface\n        public String foo(){  \n            return \x26quot;foo\x26quot;;  \n        }  \n\n        @JavascriptInterface\n        public String foo2(final String param){  \n            return \x26quot;foo2:\x26quot; \x2b param;  \n        }  \n\n    };  \n    return insertObj;  \n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Android4.2版本及以上，本地方法要加上注解@JavascriptInterface，否则会找不到方法。\x3c\/span\x3e\nprivate \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e getJSBridge(){  \n    \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e insertObj = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e(){  \n        @JavascriptInterface\n        public \x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e foo(){  \n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e;  \n        }  \n\n        @JavascriptInterface\n        public \x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e foo2(final \x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e param){  \n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22foo2:\x22\x3c\/span\x3e \x2b param;  \n        }  \n\n    };  \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e insertObj;  \n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后H5中即可调用原生中注册的函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 调用方法一\nwindow.JSBridge.foo(); \/\/ 返回:\x27foo\x27\n\/\/ 调用方法二\nwindow.JSBridge.foo2(\x27test\x27); \/\/ 返回:\x27foo2:test\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用方法一\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.JSBridge.foo(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回:\x27foo\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用方法二\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.JSBridge.foo2(\x3cspan class=\x22hljs-string\x22\x3e\x27test\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回:\x27foo2:test\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e在Android\x3ccode\x3e4.2\x3c\/code\x3e以上(api17后),暴露的api要加上注解\x3ccode\x3e@JavascriptInterface\x3c\/code\x3e，否则会找不到方法。\x3c\/li\x3e\n\x3cli\x3e在api17以前,addJavascriptInterface有风险,hacker可以通过反编译获取Native注册的Js对象，\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e然后在页面通过反射Java的内置静态类，获取一些敏感的信息和破坏\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eAndroid调H5：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e在\x3ccode\x3e4.4\x3c\/code\x3e版本之前\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 即当前webview对象     \nmWebView = new WebView(this);       \nmWebView.loadUrl(\x26quot;javascript: 方法名(\x27参数,需要转为字符串\x27)\x26quot;); \n\n\/\/ ui线程中运行\nrunOnUiThread(new Runnable() {  \n        @Override  \n        public void run() {  \n            mWebView.loadUrl(\x26quot;javascript: 方法名(\x27参数,需要转为字符串\x27)\x26quot;);  \n            Toast.makeText(Activity名.this, \x26quot;调用方法...\x26quot;, Toast.LENGTH_SHORT).show();  \n        }  \n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 即当前webview对象     \x3c\/span\x3e\nmWebView = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e WebView(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);       \nmWebView.loadUrl(\x3cspan class=\x22hljs-string\x22\x3e\x22javascript: 方法名(\x27参数,需要转为字符串\x27)\x22\x3c\/span\x3e); \n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ui线程中运行\x3c\/span\x3e\nrunOnUiThread(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Runnable() {  \n        @Override  \n        public \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e run() {  \n            mWebView.loadUrl(\x3cspan class=\x22hljs-string\x22\x3e\x22javascript: 方法名(\x27参数,需要转为字符串\x27)\x22\x3c\/span\x3e);  \n            Toast.makeText(Activity名.this, \x3cspan class=\x22hljs-string\x22\x3e\x22调用方法...\x22\x3c\/span\x3e, Toast.LENGTH_SHORT).show();  \n        }  \n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在\x3ccode\x3e4.4\x3c\/code\x3e及以后（包括）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 异步执行JS代码,并获取返回值    \nmWebView.evaluateJavascript(\x26quot;javascript: 方法名(\x27参数,需要转为字符串\x27)\x26quot;, new ValueCallback\x3cString\x3e() {\n        @Override\n        public void onReceiveValue(String value) {\n            \/\/ 这里的value即为对应JS方法的返回值\n        }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 异步执行JS代码,并获取返回值    \x3c\/span\x3e\nmWebView.evaluateJavascript(\x3cspan class=\x22hljs-string\x22\x3e\x22javascript: 方法名(\x27参数,需要转为字符串\x27)\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ValueCallback\x26lt;\x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e\x26gt;() {\n        @Override\n        public \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e onReceiveValue(\x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e value) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里的value即为对应JS方法的返回值\x3c\/span\x3e\n        }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e4.4之前Native通过loadUrl来调用JS方法,只能让某个JS方法执行,但是无法获取该方法的返回值\x3c\/li\x3e\n\x3cli\x3e4.4及之后,通过evaluateJavascript异步调用JS方法,并且能在onReceiveValue中拿到返回值\x3c\/li\x3e\n\x3cli\x3emWebView.loadUrl(\x22javascript: 方法名(\x27参数,需要转为字符串\x27)\x22);\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e函数需在UI线程运行，因为mWebView为UI控件(但是有一个坏处是会阻塞UI线程)\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eH5调iOS：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e以\x3ccode\x3eOC\x3c\/code\x3e为例\x3c\/p\x3e\n\x3cp\x3e首先，需要引入\x3ccode\x3eJavaScriptCore\x3c\/code\x3e库\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#import \x3cJavaScriptCore\/JavaScriptCore.h\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e#import \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eJavaScriptCore\x3c\/span\x3e\/\x3cspan class=\x22hljs-attr\x22\x3eJavaScriptCore.h\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后原生需要注册API\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/webview加载完毕后设置一些js接口\n-(void)webViewDidFinishLoad:(UIWebView *)webView{\n    [self hideProgress];\n    [self setJSInterface];\n}\n\n-(void)setJSInterface{\n\n    JSContext *context =[_wv valueForKeyPath:@\x26quot;documentView.webView.mainFrame.javaScriptContext\x26quot;];\n\n    \/\/ 注册名为foo的api方法\n    context[@\x26quot;foo\x26quot;] = ^() {\n\n        \/\/获取参数\n        NSArray *args = [JSContext currentArguments];\n        NSString *title = [NSString stringWithFormat:@\x26quot;%@\x26quot;,[args objectAtIndex:0]];\n        \/\/做一些自己的逻辑\n        \/\/返回一个值  \x27foo:\x27\x2btitle\n        return [NSString stringWithFormat:@\x26quot;foo:%@\x26quot;, title];\n    };\n    \n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/webview加载完毕后设置一些js接口\x3c\/span\x3e\n-(\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e)webViewDidFinishLoad:(UIWebView *)webView{\n    [self hideProgress];\n    [self setJSInterface];\n}\n\n-(\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e)setJSInterface{\n\n    JSContext *context =[_wv valueForKeyPath:@\x3cspan class=\x22hljs-string\x22\x3e\x22documentView.webView.mainFrame.javaScriptContext\x22\x3c\/span\x3e];\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注册名为foo的api方法\x3c\/span\x3e\n    context[@\x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e] = ^() {\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取参数\x3c\/span\x3e\n        NSArray *args = [JSContext currentArguments];\n        NSString *title = [NSString stringWithFormat:@\x3cspan class=\x22hljs-string\x22\x3e\x22%@\x22\x3c\/span\x3e,[args objectAtIndex:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]];\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/做一些自己的逻辑\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/返回一个值  \x27foo:\x27\x2btitle\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [NSString stringWithFormat:@\x3cspan class=\x22hljs-string\x22\x3e\x22foo:%@\x22\x3c\/span\x3e, title];\n    };\n    \n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e之后前端就可以调用了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 调用方法,用top是确保调用到最顶级,因为iframe要用top才能拿到顶级\nwindow.top.foo(\x27test\x27); \/\/ 返回:\x27foo:test\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用方法,用top是确保调用到最顶级,因为iframe要用top才能拿到顶级\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.top.foo(\x3cspan class=\x22hljs-string\x22\x3e\x27test\x27\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回:\x27foo:test\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e引入官方提供的JavaScriptCore库(iOS7中出现的)，然后可以将api绑定到JSContext上\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e(然后Html中JS默认通过window.top.*（\x3ccode\x3eiframe\x3c\/code\x3e中时需加\x3ccode\x3etop\x3c\/code\x3e）可调用)\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3eiOS7之前，js无法直接调用Native,只能通过urlscheme方式间接调用\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3eiOS调H5：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 可以取得JS函数执行的返回值\n\/\/ 方法必须是Html页面绑定在最顶层的window上对象的\n\/\/ 如window.top.foo\n\/\/ Swift\nwebview.stringByEvaluatingJavaScriptFromString(\x26quot;方法名(参数)\x26quot;)\n\/\/ OC\n[webView stringByEvaluatingJavaScriptFromString:@\x26quot;方法名(参数);\x26quot;];\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可以取得JS函数执行的返回值\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 方法必须是Html页面绑定在最顶层的window上对象的\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如window.top.foo\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Swift\x3c\/span\x3e\nwebview.stringByEvaluatingJavaScriptFromString(\x3cspan class=\x22hljs-string\x22\x3e\x22方法名(参数)\x22\x3c\/span\x3e)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ OC\x3c\/span\x3e\n[webView stringByEvaluatingJavaScriptFromString:@\x3cspan class=\x22hljs-string\x22\x3e\x22方法名(参数);\x22\x3c\/span\x3e];\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eNative调用JS方法时,能拿到JS方法的返回值\x3c\/li\x3e\n\x3cli\x3e有iframe时，需要获取顶层窗口的引用\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e返回根目录\x3c\/h2\x3e\n\x3cul\x3e\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/quickhybrid\/quickhybrid\/issues\/12\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e【quickhybrid】如何实现一个Hybrid框架\x3c\/a\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e源码\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3egithub\x3c\/code\x3e上这个框架的实现\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/quickhybrid\/quickhybrid\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3equickhybrid\/quickhybrid\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>【quickhybrid】H5和Native交互原理</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012559020">https://segmentfault.com/a/1190000012559020</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/vr2u93cekp/" target="_blank">https://alili.tech/archive/vr2u93cekp/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>