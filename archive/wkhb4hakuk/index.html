<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JS 中的闭包是什么？"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JS 中的闭包是什么？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/wkhb4hakuk/",
				"appid": "1613049289050283", 
				"title": "JS 中的闭包是什么？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-18T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/eoyrrs58ny/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/uke5l4a45z8/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&text=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&text=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&title=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&is_video=false&description=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&title=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&title=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&title=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fwkhb4hakuk%2f&title=JS%20%e4%b8%ad%e7%9a%84%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JS 中的闭包是什么？</h1><div class="meta"><div class="postdate"><time datetime="2018-12-18" itemprop="datePublished">2018-12-18</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e本文为\x3ca href=\x22https:\/\/jirengu.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e饥人谷讲师方方\x3c\/a\x3e原创文章，首发于 \x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/study-fe\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端学习指南\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e大名鼎鼎的闭包！面试必问。\x3cbr\x3e请用自己的话简述\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e什么是「闭包」。\x3c\/li\x3e\n\x3cli\x3e「闭包」的作用是什么。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e首先来简述什么是闭包\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012785217?w=689\x26amp;h=394\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012785217?w=689\x26amp;h=394\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e假设上面三行代码在一个立即执行函数中（为简明起见，我就不写立即执行函数了，影响读者理解）。\x3c\/p\x3e\n\x3cp\x3e评论里没看完就说我写得有问题的，请看清楚哦：\x3c\/p\x3e\n\x3cp\x3e上面三行代码在一个立即执行函数中。\x3c\/p\x3e\n\x3cp\x3e三行代码中，有一个局部变量 local，有一个函数 foo，foo 里面可以访问到 local 变量。\x3c\/p\x3e\n\x3cp\x3e好了这就是一个闭包：\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e「函数」和「函数内部能访问到的变量」（也叫环境）的总和，就是一个闭包。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e就这么简单。\x3c\/p\x3e\n\x3cp\x3e有的同学就疑惑了，闭包这么简单么？\x3c\/p\x3e\n\x3cp\x3e「我听说闭包是需要函数套函数，然后 return 一个函数的呀！」\x3c\/p\x3e\n\x3cp\x3e比如这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function foo(){\n  var local = 1\n  function bar(){\n    local\x2b\x2b\n    return local\n  }\n  return bar\n}\n\nvar func = foo()\nfunc()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autoit\x22\x3e\x3ccode\x3efunction foo(){\n  var \x3cspan class=\x22hljs-keyword\x22\x3elocal\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n  function bar(){\n    \x3cspan class=\x22hljs-keyword\x22\x3elocal\x3c\/span\x3e\x2b\x2b\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3elocal\x3c\/span\x3e\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e bar\n}\n\nvar \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunc\x3c\/span\x3e = \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunc\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里面确实有闭包，local 变量和 bar 函数就组成了一个闭包（Closure）。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e为什么要函数套函数呢？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e是因为需要局部变量，所以才把 local 放在一个函数里，如果不把 local 放在一个函数里，local 就是一个全局变量了，达不到使用闭包的目的——隐藏变量（等会会讲）。\x3c\/p\x3e\n\x3cp\x3e这也是为什么我上面要说「运行在一个立即执行函数中」。\x3c\/p\x3e\n\x3cp\x3e有些人看到「闭包」这个名字，就一定觉得要用什么包起来才行。其实这是翻译问题，闭包的原文是 Closure，跟「包」没有任何关系。\x3c\/p\x3e\n\x3cp\x3e所以函数套函数只是为了造出一个局部变量，跟闭包无关。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e为什么要 return bar 呢？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e因为如果不 return，你就无法使用这个闭包。把 return bar 改成 window.bar = bar 也是一样的，只要让外面可以访问到这个 bar 函数就行了。\x3c\/p\x3e\n\x3cp\x3e所以 return bar 只是为了 bar 能被使用，也跟闭包无关。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e闭包的作用\x3c\/h2\x3e\n\x3cp\x3e闭包常常用来「间接访问一个变量」。换句话说，「隐藏一个变量」。\x3c\/p\x3e\n\x3cp\x3e假设我们在做一个游戏，在写其中关于「还剩几条命」的代码。\x3cbr\x3e如果不用闭包，你可以直接用一个全局变量：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.lives = 30 \/\/ 还有三十条命\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ewindow\x3cspan class=\x22hljs-selector-class\x22\x3e.lives\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 还有三十条命\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样看起来很不妥。万一不小心把这个值改成 -1 了怎么办。所以我们不能让别人「直接访问」这个变量。怎么办呢？\x3c\/p\x3e\n\x3cp\x3e用局部变量。\x3c\/p\x3e\n\x3cp\x3e但是用局部变量别人又访问不到，怎么办呢？\x3c\/p\x3e\n\x3cp\x3e暴露一个访问器（函数），让别人可以「间接访问」。\x3c\/p\x3e\n\x3cp\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22!function(){\n\n  var lives = 50\n\n  window.奖励一条命 = function(){\n    lives \x2b= 1\n  }\n\n  window.死一条命 = function(){\n    lives -= 1\n  }\n\n}()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e!\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e lives = \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.奖励一条命 = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    lives \x2b= \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n  }\n\n  \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.死一条命 = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    lives -= \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n  }\n\n}()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e简明起见，我用了中文 :)\x3c\/p\x3e\n\x3cp\x3e那么在其他的 JS 文件，就可以使用 window.奖励一条命() 来涨命，使用 window.死一条命() 来让角色掉一条命。\x3c\/p\x3e\n\x3cp\x3e看到闭包在哪了吗？\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012785218?w=720\x26amp;h=397\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012785218?w=720\x26amp;h=397\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e闭包到底是什么？\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012785219?w=720\x26amp;h=452\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012785219?w=720\x26amp;h=452\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e五年前，我也被这个问题困扰，于是去搜了 stackoverflow 并总结下来。你在百度搜闭包，那篇《JavaScript闭包——懂不懂由你，反正我是懂了》就是我写的。当时我还是新手，一直不理解为什么大家口中的闭包这么模糊、这么琢磨不定呢。\x3cbr\x3e我们重新来审视一下闭包的代码：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012785220?w=689\x26amp;h=394\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012785220?w=689\x26amp;h=394\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e第一句是变量声明，第二句是函数声明，第三句是 console.log。\x3cbr\x3e每一句我都学过，为什么合起来我就看不出来是闭包？\x3c\/p\x3e\n\x3cp\x3e我告诉你答案，你根本不需要知道闭包这个概念，一样可以使用闭包！\x3c\/p\x3e\n\x3cp\x3e闭包是 JS 函数作用域的副产品。\x3c\/p\x3e\n\x3cp\x3e换句话说，正是由于 JS 的函数内部可以使用函数外部的变量，所以这段代码正好符合了闭包的定义。而不是 JS 故意要使用闭包。\x3c\/p\x3e\n\x3cp\x3e很多编程语言也支持闭包，另外有一些语言则不支持闭包。\x3c\/p\x3e\n\x3cp\x3e只要你懂了 JS 的作用域，你自然而然就懂了闭包，即使你不知道那就是闭包！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e所谓闭包的作用\x3c\/h2\x3e\n\x3cp\x3e如果我们在写代码时，根本就不知道闭包，只是按照自己的意图写，最后，发现满足了闭包的定义。\x3c\/p\x3e\n\x3cp\x3e那么请问，这算是闭包的作用吗？\x3c\/p\x3e\n\x3cp\x3e这个问题，留给你思考。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e关于闭包的谣言\x3c\/h2\x3e\n\x3cp\x3e闭包会造成内存泄露？\x3c\/p\x3e\n\x3cp\x3e错。\x3c\/p\x3e\n\x3cp\x3e说这话的人根本不知道什么是内存泄露。内存泄露是指你用不到（访问不到）的变量，依然占居着内存空间，不能被再次利用起来。\x3c\/p\x3e\n\x3cp\x3e闭包里面的变量明明就是我们需要的变量（lives），凭什么说是内存泄露？\x3c\/p\x3e\n\x3cp\x3e这个谣言是如何来的？\x3c\/p\x3e\n\x3cp\x3e因为 IE。IE 有 bug，IE 在我们使用完闭包之后，依然回收不了闭包里面引用的变量。\x3c\/p\x3e\n\x3cp\x3e这是 IE 的问题，不是闭包的问题。参见司徒正美的\x3ca href=\x22http:\/\/www.cnblogs.com\/rubylouvre\/p\/3345294.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这篇文章\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e一个小经验\x3c\/h2\x3e\n\x3cp\x3e编程界崇尚以简洁优雅唯美，很多时候\x3c\/p\x3e\n\x3cp\x3e如果你觉得一个概念很复杂，那么很可能是你理解错了。\x3c\/p\x3e\n\x3cp\x3e完。\x3c\/p\x3e\n\x3cp\x3e加微信号: astak10或者长按识别下方二维码进入前端技术交流群 ，暗号：写代码啦\x3c\/p\x3e\n\x3cp\x3e每日一题，每周资源推荐，精彩博客推荐，工作、笔试、面试经验交流解答，免费直播课，群友轻分享... ，数不尽的福利免费送\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000012605904?w=200\x26amp;h=200\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000012605904?w=200\x26amp;h=200\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JS 中的闭包是什么？</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000012785212">https://segmentfault.com/a/1190000012785212</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/wkhb4hakuk/" target="_blank">https://alili.tech/archive/wkhb4hakuk/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>