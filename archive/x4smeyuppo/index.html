<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="深入ES6：let和const"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>深入ES6：let和const | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/x4smeyuppo/",
				"appid": "1613049289050283", 
				"title": "深入ES6：let和const | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-01T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/arpkyjshflo/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/guwt2cgvp7j/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&text=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&text=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&title=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&is_video=false&description=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&title=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&title=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&title=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fx4smeyuppo%2f&title=%e6%b7%b1%e5%85%a5ES6%ef%bc%9alet%e5%92%8cconst"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">深入ES6：let和const</h1><div class="meta"><div class="postdate"><time datetime="2018-12-01" itemprop="datePublished">2018-12-01</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cem\x3e\x3ca href=\x22https:\/\/hacks.mozilla.org\/category\/es6-in-depth\/\x22 rel=\x22nofollow noreferrer\x22\x3eES6 In Depth\x3c\/a\x3e是一系列关于在ECMAScript标准的第六版中加入JavaScript编程语言的新功能，简称ES6。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e我今天想谈的这个特点既简单又令人感到惊喜。\x3c\/p\x3e\n\x3cp\x3e当Brendan Eich在1995年设计了JavaScript的第一个版本时，其中有很多问题，包括自此以后一直是该语言的一部分的东西，比如Date对象和对象在意外地相乘时会自动转换为NaN。然而，事后看来，他所做的事情是非常重要的事情：_objects_; _prototypes_;_function_和_作用域_;可变数据类型。这门语言有很好的结构。比任何人一开始意识到的要好。\x3c\/p\x3e\n\x3cp\x3e尽管如此，Brendan 还是做了一个特别的设计决定 - 这个决定我认为是一个错误。这是一件小事。一个微妙的东西。您可能会使用该语言多年，甚至没有注意到它。但它很重要，因为这个错误在我们现在认为是“好的部分”的语言中。\x3c\/p\x3e\n\x3cp\x3e它与变量有关\x3c\/p\x3e\n\x3ch3\x3e问题＃1：块不是范围\x3c\/h3\x3e\n\x3cp\x3e规则听起来很合理： \x3cstrong\x3eJS函数中声明的var的\x3ca href=\x22http:\/\/robertnyman.com\/2008\/10\/09\/explaining-javascript-scope-and-closures\/\x22 rel=\x22nofollow noreferrer\x22\x3e作用域\x3c\/a\x3e是该函数的整个主体。 \x3c\/strong\x3e 但是有两种方式会导致不同的后果。\x3c\/p\x3e\n\x3cp\x3e一个是块中声明的变量范围不仅仅是块。是整个函数。\x3c\/p\x3e\n\x3cp\x3e你以前可能从未注意到这一点。恐怕这是你无法看不到的东西之一。让我们通过一个会导致棘手问题的场景来说明这个bug。\x3c\/p\x3e\n\x3cp\x3e假设您有一段代码是使用名为t的变量：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3efunction runTowerExperiment(tower, startTime) {\n var t = startTime;\ntower.on(\x22tick\x22, function () {\n   ... code that uses t ...\n });\n... more code ...\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e到目前为止，一切都很好。现在你想添加保龄球速度测量，所以你添加一个if语句到内部回调函数。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3efunction runTowerExperiment(tower, startTime) {\n var t = startTime;\ntower.on(\x22tick\x22, function () {\n   ... code that uses t ...\n   if (bowlingBall.altitude() \x26lt;= 0) {\n     var t = readTachymeter();\n...\n   }\n });\n... more code ...\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你无意中添加了第二个名为t的变量。现在，在“使用t的代码”之前工作得很好，t指的是新的内部变量t，而不是现有的外部变量。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eJavaScript中var的范围就像Photoshop中的绘画工具。它从声明的两个方向延伸，向前和向后，并且它继续前进，直到它到达函数边界。由于这个变量的范围向后延伸，所以只要我们进入函数就必须创建它。这被称为提升。我喜欢想象JS引擎将每个变量和函数用一个小代码起重机提升到封闭函数的顶部。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e现在，变量提升有其好处。没有它，很多在全局范围内工作得很好的完美适用的技术在 \x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Immediately-invoked_function_expression\x22 rel=\x22nofollow noreferrer\x22\x3eIIFE\x3c\/a\x3e内部不起作用。但是在这种情况下，提升造成了一个令人讨厌的bug：所有使用t的计算都将开始生成NaN。这也很难追查，特别是如果你的代码比这个例子更大的时候。\x3c\/p\x3e\n\x3cp\x3e添加一个新的代码块导致该块之前的代码中出现神秘错误。我们不希望效果先于原因。\x3c\/p\x3e\n\x3cp\x3e但与第二个var问题相比，这还只是一个小问题。\x3c\/p\x3e\n\x3ch3\x3e问题＃2：循环中的变量泛滥\x3c\/h3\x3e\n\x3cp\x3e你可以猜测当你运行这段代码时会发生什么。这非常简单：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3evar messages = [\x22Hi!\x22, \x22I\x27m a web page!\x22, \x22alert() is fun!\x22];\n for (var i = 0;i \x26lt; messages.length;i\x2b\x2b) {\n   alert(messages[i]);\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你一直在关注这个\x3ca href=\x22https:\/\/hacks.mozilla.org\/category\/es6-in-depth\/\x22 rel=\x22nofollow noreferrer\x22\x3e系列\x3c\/a\x3e，你就知道我喜欢用alert（）作为代码。也许你也知道alert（）是一个糟糕的API。它是同步的。因此，虽然警报可见，但输入事件不会传递。您的JS代码 - 实际上是您的整个UI - 基本上都会暂停，直到用户单击确定。(译者： alert具有阻塞性)\x3c\/p\x3e\n\x3cp\x3e所有这些都让alert（）几乎成为了你想要在网页中做的任何事情的错误选择。我使用它是因为我认为所有这些相同的东西都使alert（）成为一个很好的教学工具。\x3c\/p\x3e\n\x3cp\x3e尽管如此，我还是可以说服自己放弃所有这些笨拙和不良行为......如果这意味着我可以做一个说话的猫。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3evar messages = [\x22Meow!\x22, \x22I\x27m a talking cat!\x22, \x22Callbacks are fun!\x22];\nfor (var i = 0;\ni \x26lt; messages.length;\ni\x2b\x2b) {\n setTimeout(function () {\n   cat.say(messages[i]);\n}, i * 1500);\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/jsfiddle.net\/8t2q8wfr\/4\/\x22 rel=\x22nofollow noreferrer\x22\x3e看到这个代码工作不正确！\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3eB但有些事情是错的。猫没有按顺序说出所有三条消息，而是三次说“undefined”。\x3c\/p\x3e\n\x3cp\x3e你能发现错误吗？\x3c\/p\x3e\n\x3cp\x3e这里的问题是，我只有一个变量。它由循环本身和所有三个超时回调共享。当循环结束运行时，i的值为3（因为messages.length为3），并且还没有调用任何回调。（译者：可以去了解一下Event  loop）\x3c\/p\x3e\n\x3cp\x3e所以当第一次超时触发并调用cat.say（messages [i]）时，它使用消息[3]。那个当然是undefined的。\x3c\/p\x3e\n\x3cp\x3e有很多方法可以解决这个问题（\x3ca href=\x22http:\/\/jsfiddle.net\/sybn4h33\/3\/\x22 rel=\x22nofollow noreferrer\x22\x3e这里是一个\x3c\/a\x3e），这是由var范围规则引起的第二个问题。\x3c\/p\x3e\n\x3ch3\x3elet 是新的 var\x3c\/h3\x3e\n\x3cp\x3e大多数情况下，JavaScript中的设计错误（其他编程语言，特别是JavaScript）也无法修复。向后兼容意味着永远不要改变Web上现有JS代码的行为。即使标准委员会也没有权力，比如用JavaScript的自动分号插入修正奇怪的怪癖。浏览器制造商根本不会实施突破性的改变，因为这种改变惩罚了用户。\x3c\/p\x3e\n\x3cp\x3e大约十年前，当Brendan Eich决定解决这个问题时，实际上只有一种方法可以解决这个问题。\x3c\/p\x3e\n\x3cp\x3e他添加了一个新的关键字let，它可以用来声明变量，就像var一样，但是具有更好的范围规则。\x3c\/p\x3e\n\x3cp\x3e它看起来像这样：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3elet t = readTachymeter();\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或则这样:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3efor (let i = 0;i \x26lt; messages.length;i\x2b\x2b) {\n ...\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3elet和var是不同的，所以如果你只是在整个代码中进行全局搜索和替换，那可能会破坏你的代码的一部分（可能无意）依赖于var的怪癖。但绝大多数情况下，在新的ES6代码中，您应该停止使用var并使用let来代替。因此口号是：“let is the new var”。\x3c\/p\x3e\n\x3cp\x3elet和var之间究竟有什么区别？很高兴你有这样的疑问！\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cstrong\x3elet 变量是 block-scope.\x3c\/strong\x3e 用let声明的变量的作用域就是封闭块，而不是整个封闭函数。\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3erunTowerExperiment示例可以通过将var更改为let来修复。如果你在任何地方使用let，你将永远不会有这样的错误。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3e全局let变量不是全局对象的属性。\x3c\/strong\x3e也就是说，你不会通过编写window.variableName来访问它们。相反，他们生活在一个隐形块的范围内，这个块在概念上包含了所有在网页中运行的JS代码。\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3e（let x ...）形式的循环在每次迭代中为x创建一个新的绑定。.\x3c\/strong\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这是一个非常微妙的差异。这意味着如果一个for（let ...）循环执行多次，并且该循环包含一个闭包，就像我们在谈论猫的例子中一样，每个闭包将捕获循环变量的不同副本，而不是捕获相同的闭包循环变量。\x3c\/p\x3e\n\x3cp\x3e所以说话的猫例子也可以通过改变var来解决。 这适用于所有三种for循环：\x3ca href=\x22https:\/\/hacks.mozilla.org\/2015\/04\/es6-in-depth-iterators-and-the-for-of-loop\/\x22 rel=\x22nofollow noreferrer\x22\x3efor-of\x3c\/a\x3e， for-in，以及带分号的旧式C类。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e在声明之前尝试使用let变量是错误的。\x3c\/strong\x3e 在控制流到达声明的代码行之前，该变量是未初始化的。例如：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3e function update() {\n console.log(\x22current time:\x22, t);\n \/\/ ReferenceError\n ...\n let t = readTachymeter();\n }\n \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这条规则可以帮助你发现错误。代替NaN结果，您会在问题所在的代码行中发现异常。\x3c\/p\x3e\n\x3cp\x3e这个变量在范围内但未初始化的时期称为时间盲区。\x3c\/p\x3e\n\x3cp\x3e（脆弱的性能细节：在大多数情况下，通过查看代码可以判断声明是否运行，所以JavaScript引擎在每次访问变量时都不需要执行额外的检查，以确保它已经但是，在一个闭包中，有时候不清楚，在这种情况下，JavaScript引擎会执行一次运行时检查，这意味着可以比var慢一点。）\x3c\/p\x3e\n\x3cp\x3e（脆弱的作用域范围详细说明：在一些编程语言中，变量的范围从声明开始，而不是向后覆盖整个封闭块。标准委员会考虑使用这种范围规则来让。这样，引用ReferenceError的t的使用根本就不在后面的let t的范围内，所以它根本不会引用该变量，它可以引用在封闭范围内的at。方法在封闭或功能提升方面效果不佳，因此最终放弃了）。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3e用let重复声明一个变量是一个SyntaxError(译者：语法错误)。\x3c\/strong\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这条规则也可以帮助你发现微不足道的错误。尽管如此，如果尝试进行全局let-to-var转换，最有可能导致您遇到一些问题的区别，因为它甚至适用于全局let变量。\x3c\/p\x3e\n\x3cp\x3e如果你有几个脚本都声明了相同的全局变量，那么最好继续使用var。如果您切换到let，无论哪个脚本加载第二个将失败并出现错误。\x3c\/p\x3e\n\x3cp\x3e或者使用ES6模块。但那又是别的故事。\x3c\/p\x3e\n\x3cp\x3e（Crunchy语法细节：let是严格模式代码中的保留字，在非严格模式代码中，为了向后兼容，您仍然可以声明名为let的变量，函数和参数，您可以编写var let =\x27 q\x27）\x3c\/p\x3e\n\x3cp\x3e除了这些差异之外，let和var几乎是一样的。\x3cbr\x3e例如，声明多个由逗号分隔的变量，并且它们都支持\x3ca href=\x22https:\/\/hacks.mozilla.org\/2015\/05\/es6-in-depth-destructuring\/\x22 rel=\x22nofollow noreferrer\x22\x3e解构\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e请注意，class声明的行为如let，而不是var。如果多次加载包含类的脚本，则第二次重新声明该类时会出现错误。\x3c\/p\x3e\n\x3ch3\x3econst（常量）\x3c\/h3\x3e\n\x3cp\x3e对，还有一件事！\x3c\/p\x3e\n\x3cp\x3eES6还引入了第三个关键字，您可以使用let：const。\x3c\/p\x3e\n\x3cp\x3e用const声明的变量就像let，除了你不能指定给它们，除了它们被声明的地方。这是一个SyntaxError。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3econst MAX_CAT_SIZE_KG = 3000;\n\/\/ 🙀\n\nMAX_CAT_SIZE_KG = 5000;\n\/\/ SyntaxError\nMAX_CAT_SIZE_KG\x2b\x2b;\n\/\/ nice try, but still a SyntaxError\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而且，你不能声明一个const而不给它一个值。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3econst theFairest;\n\/\/ SyntaxError, you troublemaker\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3\x3eSecret agent namespace\x3c\/h3\x3e\n\x3cp\x3e\x3cem\x3e“Namespaces are one honking great idea—let’s do more of those!” —Tim Peters, “The Zen of Python”\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e在ES3之前，JavaScript只有全局范围和功能范围。 （让我们忽略语句。）ES3引入了try-catch语句，这意味着添加一种新的作用域，仅用于catch块中的异常变量。 ES5添加了strict eval（）使用的作用域。在评估参数的默认值时，ES6添加了块范围，for-loop范围，新的全局调用范围，模块范围和其他范围。\x3c\/p\x3e\n\x3cp\x3e从ES3开始添加的所有额外范围对于使JavaScript的过程和面向对象特性像关闭一样顺畅，精确和直观地工作以及与闭包无缝协作是必要的。也许你在今天之前从未注意过任何这些范围规则。如果是这样，语言正在做它的工作\x3c\/p\x3e\n\x3ch3\x3e我现在可以使用let和const吗？\x3c\/h3\x3e\n\x3cp\x3e是。要在网络上使用它们，您必须使用ES6编译器，例如 \x3ca href=\x22http:\/\/babeljs.io\/\x22 rel=\x22nofollow noreferrer\x22\x3eBabel\x3c\/a\x3e， \x3ca href=\x22https:\/\/github.com\/google\/traceur-compiler#what-is-traceur\x22 rel=\x22nofollow noreferrer\x22\x3eTraceur\x3c\/a\x3e或 \x3ca href=\x22http:\/\/www.typescriptlang.org\/\x22 rel=\x22nofollow noreferrer\x22\x3eTypeScript\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3eio.js支持let和const，但仅限于严格模式代码。 Node.js支持是相同的，但是--harmony选项也是必需的。\x3c\/p\x3e\n\x3cp\x3eBrendan Eich在\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/New_in_JavaScript\/1.7\x22 rel=\x22nofollow noreferrer\x22\x3e九年前\x3c\/a\x3e.实现了Firefox的第一个版本。该功能在标准化过程中进行了彻底重新设计。Shu-yu Guo 正在升级我们的实施以符合标准，由Jeff Walden等人进行代码评审。\x3c\/p\x3e\n\x3cp\x3e那么，我们正在家中。我们史诗般的ES6功能之旅即将结束。在两周内，我们将完成可能是所有人最热切期待的ES6功能。但首先，我们将在下周发布一篇文章，扩展我们之前报道的超新功能。所以请加入我们，Eric Faust回顾一下ES6子类化的深度。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>深入ES6：let和const</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014827831">https://segmentfault.com/a/1190000014827831</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/x4smeyuppo/" target="_blank">https://alili.tech/archive/x4smeyuppo/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>