<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="大道至简--API设计的美学"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>大道至简--API设计的美学 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/y0n8iwoku3p/",
				"appid": "1613049289050283", 
				"title": "大道至简--API设计的美学 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-10T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/odxqt0co07/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/jsdz111a81/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&text=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&text=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&title=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&is_video=false&description=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&title=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&title=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&title=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy0n8iwoku3p%2f&title=%e5%a4%a7%e9%81%93%e8%87%b3%e7%ae%80--API%e8%ae%be%e8%ae%a1%e7%9a%84%e7%be%8e%e5%ad%a6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">大道至简--API设计的美学</h1><div class="meta"><div class="postdate"><time datetime="2018-12-10" itemprop="datePublished">2018-12-10</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e1.前言\x3c\/h2\x3e\n\x3cp\x3e对于前端开发而言，肯定会和API打交道，大家也都会想过怎么设计自己的API。优秀的 API 之于代码，就如良好内涵对于每个人。好的 API 不但利于使用者理解，开发时也会事半功倍，后期维护更是顺风顺水。至于怎么设计API，今天就提下我自己的一些建议。如果大家有什么好的想法，欢迎指点。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2.命名\x3c\/h2\x3e\n\x3cp\x3e良好的一个命名习惯，就是效率开发的第一步。如果命名规范，对自己而言，文件整理有很大的帮助，后期修改文件、可以快速的定位文件，命名规范，也显得自己专业。对团队而言，如果有统一的规范命名，交接时可以减少大量的学习和沟通成本。\x3c\/p\x3e\n\x3cp\x3e关于命名，下面提点几个小建议\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2-1.正确拼写\x3c\/h3\x3e\n\x3cp\x3e这个应该说是命名的一个底线了，经常性出现，单词拼写错误，搞得自己或者团队的人都一头雾水的情况不再少数。我遇到情况比较深刻的有\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e中文大意\x3c\/th\x3e\n\x3cth\x3e期望\x3c\/th\x3e\n\x3cth\x3e实际\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e表单\x3c\/td\x3e\n\x3ctd\x3eform\x3c\/td\x3e\n\x3ctd\x3efrom\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e报名\x3c\/td\x3e\n\x3ctd\x3esign-up\x3c\/td\x3e\n\x3ctd\x3esign-in\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e采纳\x3c\/td\x3e\n\x3ctd\x3eadopt\x3c\/td\x3e\n\x3ctd\x3eadept\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e内容\x3c\/td\x3e\n\x3ctd\x3econtent\x3c\/td\x3e\n\x3ctd\x3econtend\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e测试\x3c\/td\x3e\n\x3ctd\x3etest\x3c\/td\x3e\n\x3ctd\x3etext\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e联系\x3c\/td\x3e\n\x3ctd\x3econtact\x3c\/td\x3e\n\x3ctd\x3econtract\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e高度\x3c\/td\x3e\n\x3ctd\x3eheight\x3c\/td\x3e\n\x3ctd\x3eheigth\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e宽度\x3c\/td\x3e\n\x3ctd\x3ewidth\x3c\/td\x3e\n\x3ctd\x3ewidht\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e移动\x3c\/td\x3e\n\x3ctd\x3emobile\x3c\/td\x3e\n\x3ctd\x3emoblie\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e标签\x3c\/td\x3e\n\x3ctd\x3etab\x3c\/td\x3e\n\x3ctd\x3etap\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e这些单词，如果是拼写错误还好，至少编辑器都会提醒。但是如果写错了，但是单词又是正确的单词就可大可小了（表单，报名，采纳，内容这些例子，单词写错了，意思变了，但是单词是正确的，编辑器都不会提醒）。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e试过挖坑比较深的一次就是：一个活动，有报名，有签到的功能！处理方法如下\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e获取已报名用户信息：getSignUpUserList，\x3cbr\x3e重置报名的数据：resetSignUpUser，\x3cbr\x3e提交报名操作：signInDo\x3c\/p\x3e\n\x3cp\x3e获取已签到用户信息：getSignInUserList，\x3cbr\x3e重置签到的表单数据：resetSignInUser，\x3cbr\x3e提交签到的操作：signUpDo\x3c\/p\x3e\n\x3cp\x3e修改bug的时候，完全懵逼了，原因大家懂的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e2-2.注意单复数\x3c\/h3\x3e\n\x3cp\x3e所有涉及遍历，操作对象，数组,集合的函数，建议都采用复数。\x3c\/p\x3e\n\x3cblockquote\x3e对于展现复数，不同公司有不同的习惯，但是得统一，比如产品列表-\x3ccode\x3eproductList\x3c\/code\x3e。这里用了list表示复数，再其它地方，就不建议使用\x3ccode\x3eproducts\x3c\/code\x3e这种方式表示复数了\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e2-3.用词准确\x3c\/h3\x3e\n\x3cp\x3e这个主要的两方面的内容\x3c\/p\x3e\n\x3ch4\x3e2-3-1.单词意思搞错\x3c\/h4\x3e\n\x3cp\x3e比如弹窗上面的信息，有些时候见到，使用包含\x3ccode\x3enotice\x3c\/code\x3e的字样，但是实际上，\x3ccode\x3enotice\x3c\/code\x3e的中文意思，准确的应该是‘公告，告示，声明’之类。\x3cbr\x3e一个弹窗这样的会话消息，建议使用\x3ccode\x3emessage\x3c\/code\x3e这个字样。\x3ccode\x3enotice\x3c\/code\x3e应该像‘公告，告示，声明’之类的情况使用。\x3c\/p\x3e\n\x3ch4\x3e2-3-2.正反词义单词错用\x3c\/h4\x3e\n\x3cp\x3e比如关闭弹窗的方法，的方法是\x3ccode\x3ecloseDialog\x3c\/code\x3e，然后显示弹窗用的又是\x3ccode\x3eshowDialog\x3c\/code\x3e。\x3ccode\x3eshow\x3c\/code\x3e的意思是‘显示’，反义词应该是\x3ccode\x3ehide\x3c\/code\x3e‘隐藏’。而\x3ccode\x3eclose\x3c\/code\x3e意思是关闭，反义词应该是\x3ccode\x3eopen\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e附常用反义词组（有些带缩写）\x3c\/p\x3e\n\x3ctable\x3e\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3ein\x3c\/td\x3e\n\x3ctd\x3eout\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eon\x3c\/td\x3e\n\x3ctd\x3eoff\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eprev\x3c\/td\x3e\n\x3ctd\x3enext\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eshow\x3c\/td\x3e\n\x3ctd\x3ehide\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eclose\x3c\/td\x3e\n\x3ctd\x3eopen\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3esuccess\x3c\/td\x3e\n\x3ctd\x3efail\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ebefore\x3c\/td\x3e\n\x3ctd\x3eafter\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ebegin\x3c\/td\x3e\n\x3ctd\x3eend\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e2-4.命名意义\x3c\/h3\x3e\n\x3cp\x3e这一块，本来打算放在2-2里面讲的，因为命名如果有意义也是一个底线。但是最后放在这里，是因为这个情况在函数里面出现得不多，更多应该出现在普通变量里面(相信很多人会遇到过这样的命名：var n1,n2,n3;)。关于命名，还是建议大家要起有意义名称，不使用没意义的命名。\x3c\/p\x3e\n\x3cp\x3e遇到最多的情况，就是图标的命名方面。\x3c\/p\x3e\n\x3cp\x3e比如下面的图标（选自某平台的底部导航栏），点击不同的图标出发不同的方法。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV56G8?w=303\x26amp;h=55\x22 src=\x22https:\/\/static.alili.tech\/img\/bV56G8?w=303\x26amp;h=55\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e很多人喜欢下面的命名\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/版本1\nfunction handle1(){\n\n}\nfunction handle2(){\n\n}\n\/\/版本2\nfunction handleA(){\n\n}\nfunction handleB(){\n\n}\n\/\/版本3\nfunction handleOne(){\n\n}\nfunction handleTwo(){\n\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/版本1\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandle1\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandle2\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/版本2\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleA\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleB\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/版本3\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleOne\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleTwo\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样的命名，别人函数了，就算是元素的 class 。这样的命名在后期维护绝对增加了难度。甚至可能导致重构。\x3c\/p\x3e\n\x3cp\x3e建议的姿势\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nfunction handleHome(){\n\n}\nfunction handleCollect(){\n\n}\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleHome\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandleCollect\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e2-5.命名格式\x3c\/h3\x3e\n\x3cp\x3e文章说的API，主要针对的是函数，但是在这一小块里面，也列举一下其它的目标的建议命名方式。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e待命名对象\x3c\/th\x3e\n\x3cth\x3e推荐名称\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e图片\x3c\/td\x3e\n\x3ctd\x3e‘-’   ‘_’ 分割\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eclass,id\x3c\/td\x3e\n\x3ctd\x3e‘-’ 分割\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e文件，变量\x3c\/td\x3e\n\x3ctd\x3e驼峰命名\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e临时变量\x3c\/td\x3e\n\x3ctd\x3e‘_’ 开头，驼峰命名\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e2-6.处理中文拼音\x3c\/h3\x3e\n\x3cp\x3e对于中文拼音，应该说只有一种情况，被中国人创造出来，没有英文翻译的。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e命名\x3c\/th\x3e\n\x3cth\x3e含义\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3etaobao\x3c\/td\x3e\n\x3ctd\x3e淘宝\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3eweibo\x3c\/td\x3e\n\x3ctd\x3e微博\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ezongzi\x3c\/td\x3e\n\x3ctd\x3e粽子\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3epinyin\x3c\/td\x3e\n\x3ctd\x3e拼音\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cblockquote\x3e在一年多以前，遇到一个中二的命名-dengluDo。当时一直不知道是什么玩意，后来向那个人打听才知道，是执行登录的操作，denglu是中文拼音，do又是英文，这样的命名。后期如果维护，他不哭，算我输。\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e2-7.命名潜规则\x3c\/h3\x3e\n\x3cp\x3e有些情况，给特定的对象命名，还要用特定的名字，可以说是潜规则吧。印象最清楚的就是给按钮命名要么全拼，要么写btn。很清楚的记得我一个老师说过：写but，bto的程序也能正常运行，也没人说你错，但是我做面试官，就是不录用你，就说你不专业。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e待命名对象\x3c\/th\x3e\n\x3cth\x3e推荐名称\x3c\/th\x3e\n\x3cth\x3e错误示范\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e按钮\x3c\/td\x3e\n\x3ctd\x3ebtn\x3c\/td\x3e\n\x3ctd\x3ebut  bto\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e背景\x3c\/td\x3e\n\x3ctd\x3ebg\x3c\/td\x3e\n\x3ctd\x3eback background\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e模板\x3c\/td\x3e\n\x3ctd\x3etpl\x3c\/td\x3e\n\x3ctd\x3etem\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e提示信息\x3c\/td\x3e\n\x3ctd\x3emsg\x3c\/td\x3e\n\x3ctd\x3emes\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e标签栏\x3c\/td\x3e\n\x3ctd\x3etab\x3c\/td\x3e\n\x3ctd\x3etit\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e网站大图（广告宣传图）\x3c\/td\x3e\n\x3ctd\x3ebanner\x3c\/td\x3e\n\x3ctd\x3eban\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e注册\x3c\/td\x3e\n\x3ctd\x3eregister\x3c\/td\x3e\n\x3ctd\x3esign-in\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e3.参数\x3c\/h2\x3e\n\x3cp\x3e对于函数而言，参数是用户设置最频繁，也是最关心的部分，合理设计函数参数，这一步很重要，直接影响函数的使用。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e3-1.const入参\x3c\/h3\x3e\n\x3cp\x3e这个应该说是一个习惯吧，不要直接改变入参的值。这个规则的初衷是解决函数副作用问题。如果参数是一个引用类型的数据，如果在函数内修改了参数，到时候将会使得原本的数据发生改变，往往会发生难以追踪的问题。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e3-2.控制参数数量\x3c\/h3\x3e\n\x3cp\x3e参数的数量，个人建议就是，超过3个，使用对象进行封装。因为如果API参数越多，那么使用对于这个API的记忆成本就越大，易用性也很受影响。\x3c\/p\x3e\n\x3cp\x3e比如下面的例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22encryptStr: function (str, regArr, type, replacement) {\n    var regtext = \x27\x27,\n        Reg = null,\n        _type=type||0,\n        replaceText = replacement || \x27*\x27;\n    \/\/ecDo.encryptStr(\x2718819322663\x27,[3,5,3],0)\n    \/\/result：188*****663\n    \/\/repeatStr是在上面定义过的（字符串循环复制），大家注意哦\n    if (regArr.length === 3 \x26amp;\x26amp; type === 0) {\n        regtext = \x27(\\\\w{\x27 \x2b regArr[0] \x2b \x27})\\\\w{\x27 \x2b regArr[1] \x2b \x27}(\\\\w{\x27 \x2b regArr[2] \x2b \x27})\x27\n        Reg = new RegExp(regtext);\n        var replaceCount = this.repeatStr(replaceText, regArr[1]);\n        return str.replace(Reg, \x27$1\x27 \x2b replaceCount \x2b \x27$2\x27)\n    }\n    \/\/ecDo.encryptStr(\x27asdasdasdaa\x27,[3,5,3],1)\n    \/\/result：***asdas***\n    else if (regArr.length === 3 \x26amp;\x26amp; type === 1) {\n        regtext = \x27\\\\w{\x27 \x2b regArr[0] \x2b \x27}(\\\\w{\x27 \x2b regArr[1] \x2b \x27})\\\\w{\x27 \x2b regArr[2] \x2b \x27}\x27\n        Reg = new RegExp(regtext);\n        var replaceCount1 = this.repeatStr(replaceText, regArr[0]);\n        var replaceCount2 = this.repeatStr(replaceText, regArr[2]);\n        return str.replace(Reg, replaceCount1 \x2b \x27$1\x27 \x2b replaceCount2)\n    }\n    \/\/ecDo.encryptStr(\x271asd88465asdwqe3\x27,[5],0)\n    \/\/result：*****8465asdwqe3\n    else if (regArr.length === 1 \x26amp;\x26amp; type === 0) {\n        regtext = \x27(^\\\\w{\x27 \x2b regArr[0] \x2b \x27})\x27\n        Reg = new RegExp(regtext);\n        var replaceCount = this.repeatStr(replaceText, regArr[0]);\n        return str.replace(Reg, replaceCount)\n    }\n    \/\/ecDo.encryptStr(\x271asd88465asdwqe3\x27,[5],1,\x27\x2b\x27)\n    \/\/result：\x26quot;1asd88465as\x2b\x2b\x2b\x2b\x2b\x26quot;\n    else if (regArr.length === 1 \x26amp;\x26amp; type === 1) {\n        regtext = \x27(\\\\w{\x27 \x2b regArr[0] \x2b \x27}$)\x27\n        Reg = new RegExp(regtext);\n        var replaceCount = this.repeatStr(replaceText, regArr[0]);\n        return str.replace(Reg, replaceCount)\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3eencryptStr: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3estr, regArr, \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e, replacement\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e regtext = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n        Reg = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n        _type=\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e||\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        replaceText = replacement || \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ecDo.encryptStr(\x2718819322663\x27,[3,5,3],0)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/result：188*****663\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/repeatStr是在上面定义过的（字符串循环复制），大家注意哦\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (regArr.length === \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        regtext = \x3cspan class=\x22hljs-string\x22\x3e\x27(\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27})\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27}(\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27})\x27\x3c\/span\x3e\n        Reg = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(regtext);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e replaceCount = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.repeatStr(replaceText, regArr[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e str.replace(Reg, \x3cspan class=\x22hljs-string\x22\x3e\x27$1\x27\x3c\/span\x3e \x2b replaceCount \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27$2\x27\x3c\/span\x3e)\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ecDo.encryptStr(\x27asdasdasdaa\x27,[3,5,3],1)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/result：***asdas***\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (regArr.length === \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n        regtext = \x3cspan class=\x22hljs-string\x22\x3e\x27\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27}(\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27})\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27}\x27\x3c\/span\x3e\n        Reg = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(regtext);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e replaceCount1 = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.repeatStr(replaceText, regArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e replaceCount2 = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.repeatStr(replaceText, regArr[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e]);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e str.replace(Reg, replaceCount1 \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27$1\x27\x3c\/span\x3e \x2b replaceCount2)\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ecDo.encryptStr(\x271asd88465asdwqe3\x27,[5],0)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/result：*****8465asdwqe3\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (regArr.length === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        regtext = \x3cspan class=\x22hljs-string\x22\x3e\x27(^\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27})\x27\x3c\/span\x3e\n        Reg = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(regtext);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e replaceCount = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.repeatStr(replaceText, regArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e str.replace(Reg, replaceCount)\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ecDo.encryptStr(\x271asd88465asdwqe3\x27,[5],1,\x27\x2b\x27)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/result：\x221asd88465as\x2b\x2b\x2b\x2b\x2b\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (regArr.length === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n        regtext = \x3cspan class=\x22hljs-string\x22\x3e\x27(\\\\w{\x27\x3c\/span\x3e \x2b regArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27}$)\x27\x3c\/span\x3e\n        Reg = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(regtext);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e replaceCount = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.repeatStr(replaceText, regArr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e str.replace(Reg, replaceCount)\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e大家可以看上面的注释，就知道这段代码的具体作用了，如果想想就找个参数，我必须要除了记得4个参数的作用，还要记得参数的顺序。\x3c\/p\x3e\n\x3cp\x3e如果使用对象记录参数，用户只需要记得4个参数的作用，不需要记参数的顺序。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22encryptStr: function (obj) {\n        var _default={\n            type:0,\n            replacement:\x27*\x27\n        };\n        for(var key in obj){\n            _default[key]=obj[key];\n        }\n},\n\n\/\/调用方式\necDo.encryptStr({str:\x2718819266335\x27,regArr:[5],type:0,replacement:\x27-\x27});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3eencryptStr: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _default={\n            \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n            replacement:\x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e\n        };\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e obj){\n            _default[key]=obj[key];\n        }\n},\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/调用方式\x3c\/span\x3e\necDo.encryptStr({str:\x3cspan class=\x22hljs-string\x22\x3e\x2718819266335\x27\x3c\/span\x3e,regArr:[\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e],\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,replacement:\x3cspan class=\x22hljs-string\x22\x3e\x27-\x27\x3c\/span\x3e});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样还有一个好处就是，比如像刚才的函数，type这个参数，我想保留默认值，偷懒不传。原来的方案，就得这样传。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ecDo.encryptStr(\x271asd88465asdwqe3\x27,[5],\x27\x27,\x27\x2b\x27);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eecDo\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.encryptStr\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x271asd88465asdwqe3\x27\x3c\/span\x3e,[\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e],\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27\x2b\x27\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样肯定是会激起不少有代码洁癖的开发者，比如我。如果使用对象，就很好避免了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ecDo.encryptStr({str:\x2718819266335\x27,regArr:[5],replacement:\x27-\x27});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eecDo\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.encryptStr\x3c\/span\x3e({\x3cspan class=\x22hljs-attribute\x22\x3estr\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x2718819266335\x27\x3c\/span\x3e,regArr:[\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e],replacement:\x3cspan class=\x22hljs-string\x22\x3e\x27-\x27\x3c\/span\x3e});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e3-3.前置相关性高的参数\x3c\/h3\x3e\n\x3cp\x3e这个应该没什么可能，就一个意思：必填重要的参数前置，可省略的参数后置。\x3c\/p\x3e\n\x3cp\x3e比如下面的例子\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/格式化处理字符串\n\/\/ecDo.formatText(\x271234asda567asd890\x27)\n\/\/result：\x26quot;12,34a,sda,567,asd,890\x26quot;\n\/\/ecDo.formatText(\x271234asda567asd890\x27,4,\x27 \x27)\n\/\/result：\x26quot;1 234a sda5 67as d890\x26quot;\n\/\/ecDo.formatText(\x271234asda567asd890\x27,4,\x27-\x27)\n\/\/result：\x26quot;1-234a-sda5-67as-d890\x26quot;\nformatText: function (str, size, delimiter) {\n    var _size = size || 3, _delimiter = delimiter || \x27,\x27;\n    var regText = \x27\\\\B(?=(\\\\w{\x27 \x2b _size \x2b \x27})\x2b(?!\\\\w))\x27;\n    var reg = new RegExp(regText, \x27g\x27);\n    return str.replace(reg, _delimiter);\n},\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\/格式化处理字符串\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ecDo.formatText(\x271234asda567asd890\x27)\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/result：\x2212,34a,sda,567,asd,890\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ecDo.formatText(\x271234asda567asd890\x27,4,\x27 \x27)\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/result：\x221 234a sda5 67as d890\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ecDo.formatText(\x271234asda567asd890\x27,4,\x27-\x27)\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/result：\x221-234a-sda5-67as-d890\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3eformatText\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3estr, size, delimiter\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e _size = \x3cspan class=\x22hljs-built_in\x22\x3esize\x3c\/span\x3e || \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, _delimiter = delimiter || \x3cspan class=\x22hljs-string\x22\x3e\x27,\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e regText = \x3cspan class=\x22hljs-string\x22\x3e\x27\\\\B(?=(\\\\w{\x27\x3c\/span\x3e \x2b _size \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27})\x2b(?!\\\\w))\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e reg = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(regText, \x3cspan class=\x22hljs-string\x22\x3e\x27g\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e str.replace(reg, _delimiter);\n},\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e调用大家都看得出来。如果API这样设计\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22formatText: function (size, delimiter, str) {\n    var _size = size || 3, _delimiter = delimiter || \x27,\x27;\n    var regText = \x27\\\\B(?=(\\\\w{\x27 \x2b _size \x2b \x27})\x2b(?!\\\\w))\x27;\n    var reg = new RegExp(regText, \x27g\x27);\n    return str.replace(reg, _delimiter);\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3eformatText\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3esize, delimiter, str\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e _size = \x3cspan class=\x22hljs-built_in\x22\x3esize\x3c\/span\x3e || \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, _delimiter = delimiter || \x3cspan class=\x22hljs-string\x22\x3e\x27,\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e regText = \x3cspan class=\x22hljs-string\x22\x3e\x27\\\\B(?=(\\\\w{\x27\x3c\/span\x3e \x2b _size \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27})\x2b(?!\\\\w))\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e reg = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(regText, \x3cspan class=\x22hljs-string\x22\x3e\x27g\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e str.replace(reg, _delimiter);\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就得这样调用，如果这样写API，被批斗的可能性很大！\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ecDo.formatText(\x27\x27,\x27\x27,\x271234asda567asd890\x27)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eecDo\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.formatText\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x271234asda567asd890\x27\x3c\/span\x3e)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e4.作用\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e4-1.支持批量处理\x3c\/h3\x3e\n\x3cp\x3e比如这个例子，页面有这样的元素\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;div1\x26quot;\x3e\x3c\/div\x3e\n\x3cdiv class=\x26quot;div1\x26quot;\x3e\x3c\/div\x3e\n\x3cdiv id=\x26quot;div2\x26quot;\x3e\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22div1\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22div1\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x26lt;div id=\x3cspan class=\x22hljs-string\x22\x3e\x22div2\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有一个类似jQuery的css这个API的API。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22css: function (dom, json) {\n    for (var attr in json) {\n        dom.style[attr] = json[attr];\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3ecss: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(dom, json)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e attr \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e json) {\n        dom.style[attr] = json[attr];\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后给这些div设置样式的时候，代码如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var oDiv1 =document.querySelectorAll(\x26quot;.div1\x26quot;);\nvar oDiv2=document.querySelector(\x26quot;#div1\x26quot;);\necDo.css(oDiv2,{\x27height\x27:\x27100px\x27,\x27width\x27:\x27100px\x27,\x27background\x27:\x27#333\x27});\necDo.css(oDiv1,{\x27height\x27:\x27100px\x27,\x27width\x27:\x27100px\x27,\x27background\x27:\x27#09f\x27});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDiv1 =\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3equerySelectorAll\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.div1\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oDiv2=\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3equerySelector\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22#div1\x22\x3c\/span\x3e);\necDo.css(oDiv2,{\x3cspan class=\x22hljs-string\x22\x3e\x27height\x27\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27100px\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27width\x27\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27100px\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27background\x27\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27#333\x27\x3c\/span\x3e});\necDo.css(oDiv1,{\x3cspan class=\x22hljs-string\x22\x3e\x27height\x27\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27100px\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27width\x27\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27100px\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27background\x27\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27#09f\x27\x3c\/span\x3e});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当运行到\x3ccode\x3eecDo.css(oDiv1,{\x27height\x27:\x27100px\x27,\x27width\x27:\x27100px\x27,\x27background\x27:\x27#09f\x27});\x3c\/code\x3e会提示报错，原因大家也知道。css这个API里面，只处理了单个元素，并没有处理元素的集合。\x3c\/p\x3e\n\x3cp\x3e建议的方式是把 css 这个API改成可批量处理元素集合的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22css: function (dom, json) {\n    if (dom.length) {\n        for (var i = 0; i \x3c dom.length; i\x2b\x2b) {\n            for (var attr in json) {\n                dom[i].style[attr] = json[attr];\n            }\n        }\n    }\n    else {\n        for (var attr in json) {\n            dom.style[attr] = json[attr];\n        }\n    }\n},    \n   \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode\x3ecss: function (dom, json) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (dom.\x3cspan class=\x22hljs-built_in\x22\x3elength\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; dom.\x3cspan class=\x22hljs-built_in\x22\x3elength\x3c\/span\x3e; i\x2b\x2b) {\n            \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e attr \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e json) {\n                dom[i].\x3cspan class=\x22hljs-built_in\x22\x3estyle\x3c\/span\x3e[attr] = json[attr];\n            }\n        }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e attr \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e json) {\n            dom.\x3cspan class=\x22hljs-built_in\x22\x3estyle\x3c\/span\x3e[attr] = json[attr];\n        }\n    }\n},    \n   \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e4-2.多态处理\x3c\/h3\x3e\n\x3cp\x3e一个类似jQuery的html这个API的API-html\x3c\/p\x3e\n\x3cp\x3e之前遇到一个开发者的处理方式是：获取元素的innerHTML和设置元素innerHTML分开为两个方法-getHtml，setHtml。这样的问题又在于记忆的成本比原生的 innerHTML 还要高。建议的姿势就是，获取和设置用同一个API。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22html: function (dom) {\n    if (arguments.length === 1) {\n        return dom.innerHTML;\n    } else if (arguments.length === 2) {\n        dom.innerHTML = arguments[1];\n    }\n}\n\necDo.html(oDiv);\/\/获取\necDo.html(oDiv,\x27守候\x27);\/\/设置\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3ehtml: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3edom\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e.length === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dom.innerHTML;\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e.length === \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) {\n        dom.innerHTML = \x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n    }\n}\n\necDo.html(oDiv);\x3cspan class=\x22hljs-comment\x22\x3e\/\/获取\x3c\/span\x3e\necDo.html(oDiv,\x3cspan class=\x22hljs-string\x22\x3e\x27守候\x27\x3c\/span\x3e);\x3cspan class=\x22hljs-comment\x22\x3e\/\/设置\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3e4-3.可扩展性\x3c\/h3\x3e\n\x3cp\x3e可扩展性，就是建议遵守开放-封闭原则。对扩展开放，对修改关闭。比如jQuery的$.fn和$.fn.extend()。\x3c\/p\x3e\n\x3cp\x3e说一个简单的例子-计算加薪额度\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var addMoney = (function () {\n    \/\/定义策略类\n    var strategies = {\n        A:function(money){\n            return money \x2b 2000;\n        },\n        B:function(money){\n            return money \x2b 1000;\n        }\n    };\n    \/\/暴露接口\n    return {\n        \/\/根据等级和现工资，输入加薪后的工资\n        compute:function(lv,money){\n            return strategies[lv](money)\n        }\n    };\n})();\n\n\/\/比如：等级为A，5000\x2b2000\nconsole.log(addMoney.compute(\x27A\x27,5000))\/\/7000\n\/\/比如：等级为B，20000\x2b1000\nconsole.log(addMoney.compute(\x27B\x27,20000))\/\/21000\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e addMoney = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/定义策略类\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e strategies = {\n        \x3cspan class=\x22hljs-attr\x22\x3eA\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emoney\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e;\n        },\n        \x3cspan class=\x22hljs-attr\x22\x3eB\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emoney\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n        }\n    };\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/暴露接口\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/根据等级和现工资，输入加薪后的工资\x3c\/span\x3e\n        compute:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3elv,money\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e strategies[lv](money)\n        }\n    };\n})();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/比如：等级为A，5000\x2b2000\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(addMoney.compute(\x3cspan class=\x22hljs-string\x22\x3e\x27A\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e))\x3cspan class=\x22hljs-comment\x22\x3e\/\/7000\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/比如：等级为B，20000\x2b1000\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(addMoney.compute(\x3cspan class=\x22hljs-string\x22\x3e\x27B\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e20000\x3c\/span\x3e))\x3cspan class=\x22hljs-comment\x22\x3e\/\/21000\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e代码看着没有问题，但是如果以后需求要增加C等级呢？这就不得不修改strategies。在里面增加方法。\x3cbr\x3e如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var strategies = {\n    A:function(money){\n        return money \x2b 2000;\n    },\n    B:function(money){\n        return money \x2b 1000;\n    },\n    C:function(money){\n        return money \x2b 500;\n    }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e strategies = {\n    A:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(money)\x3c\/span\x3e\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e;\n    },\n    B:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(money)\x3c\/span\x3e\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n    },\n    C:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(money)\x3c\/span\x3e\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e;\n    }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样实现也简单，如果以后要增加S等级呢？又得改strategies。这里还有一个问题就是，如果增加的C等级只有在A模块需要用到，在B模块不会出现，那么在B模块引用addMoney的时候，又会把C等级的计算方式也引入进去，造成不必要的资源浪费。\x3cbr\x3e建议的方式是，设置一个接口，扩展strategies。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var addMoney = (function () {\n    \/\/定义策略类\n    let strategies = {\n        A:function(money){\n            return money \x2b 2000;\n        },\n        B:function(money){\n            return money \x2b 1000;\n        }\n    };\n    \/\/暴露接口\n    return {\n        \/\/根据等级和现工资，输入加薪后的工资\n        compute:function(lv,money){\n            return strategies[lv](money)\n        },\n        \/\/扩展等级\n        addRule:function(lv,fn){\n            strategies[lv]=fn;\n        }\n    };\n})();\n\/\/增加C等级的调用\naddMoney.addRule(\x27C\x27,function(money){\n    return money \x2b 500;\n});\nconsole.log(addMoney.compute(\x27C\x27,20000))\/\/20500    \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e addMoney = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/定义策略类\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e strategies = {\n        \x3cspan class=\x22hljs-attr\x22\x3eA\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emoney\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e;\n        },\n        \x3cspan class=\x22hljs-attr\x22\x3eB\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emoney\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n        }\n    };\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/暴露接口\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/根据等级和现工资，输入加薪后的工资\x3c\/span\x3e\n        compute:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3elv,money\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e strategies[lv](money)\n        },\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/扩展等级\x3c\/span\x3e\n        addRule:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3elv,fn\x3c\/span\x3e)\x3c\/span\x3e{\n            strategies[lv]=fn;\n        }\n    };\n})();\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/增加C等级的调用\x3c\/span\x3e\naddMoney.addRule(\x3cspan class=\x22hljs-string\x22\x3e\x27C\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emoney\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e money \x2b \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e;\n});\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(addMoney.compute(\x3cspan class=\x22hljs-string\x22\x3e\x27C\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e20000\x3c\/span\x3e))\x3cspan class=\x22hljs-comment\x22\x3e\/\/20500    \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e4-4.避免副作用\x3c\/h3\x3e\n\x3cp\x3e函数的副作用，相信很多人都会遇到过，比如在一个函数体内修改一个外部作用域的变量，或者全局变量，在函数体内修改引用类型的参数，这些情况多少都会遇到过。\x3c\/p\x3e\n\x3cp\x3e如何避免呢？主要是以下两个写代码习惯。\x3c\/p\x3e\n\x3cp\x3e1.函数体内可以使用参数，进行操作，但是不能修改。如果修改，用一个临时变量记录参数（如果是引用类型，需要用深拷贝记录）。这样可以避免直接修改参数。\x3c\/p\x3e\n\x3cp\x3e2.对于函数外的变量，如全局变量。函数体内可以访问，但是不能修改。\x3c\/p\x3e\n\x3cp\x3e3.如果需要给函数外的变量赋值，不能在函数体内操作，把值返回到外部，在外部进行赋值。（感觉这里有点啰嗦，因为赋值了，就是修改了外部变量，就违反了第二点）。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/不好做法\nvar myName=\x27\x27;\nfunction setName(firstName,lastName){\n    myName=firstName\x2blastName;\n}\nsetName(\x27守\x27,\x27侯\x27);\n\/\/推荐做法\nvar myName=\x27\x27;\nfunction setName(firstName,lastName){\n    return firstName\x2blastName;\n}\nmyName=setName(\x27守\x27,\x27侯\x27);\n\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/不好做法\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e myName=\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esetName\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(firstName,lastName)\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e{\n    myName=firstName\x2blastName;\n}\x3c\/span\x3e\n\x3cspan class=\x22hljs-title\x22\x3esetName\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27守\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27侯\x27\x3c\/span\x3e)\x3c\/span\x3e;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/推荐做法\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e myName=\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esetName\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(firstName,lastName)\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e{\n    return firstName\x2blastName;\n}\x3c\/span\x3e\n\x3cspan class=\x22hljs-title\x22\x3emyName\x3c\/span\x3e=\x3cspan class=\x22hljs-title\x22\x3esetName\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27守\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27侯\x27\x3c\/span\x3e)\x3c\/span\x3e;\x3c\/span\x3e\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3e5.向下兼容\x3c\/h2\x3e\n\x3cp\x3e这个建议主要就是为了兼顾以前的写法。还是拿上面的那个例子吧！\x3cbr\x3e原本传参方式是这样\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22encryptStr: function (str, regArr, type, replacement) {};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eencryptStr: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(str, regArr, \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e, replacement)\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e{}\x3c\/span\x3e;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e后来升级改成这样\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22encryptStr: function (obj){}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eencryptStr: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(obj)\x3c\/span\x3e\x3c\/span\x3e{}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样问题就来了，一个项目里面，因为历史的原因难免会使用这个API，并且使用了第一种方式传参。现在API改了，解决的方案有两个，要么把整个项目使用的这个API的方式，都改成第二种的传参方式，要么就是对接口进行向下兼容，兼容以前的方案。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22encryptStr: function (obj) {\n    var _default={\n        type:0,\n        replacement:\x27*\x27\n    };\n    \/\/如果还是以之前的方式调用函数，兼容性判断\n    if(arguments.length\x3e1){\n        _default.str=arguments[0];\n        _default.regArr=arguments[1];\n        _default.type=arguments[2]||0;\n        _default.replacement=arguments[3]||\x27*\x27;\n    }\n    else{\n        for(var key in obj){\n            _default[key]=obj[key];\n        }\n    }\n    \/\/下面代码略\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3eencryptStr: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _default={\n        \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ereplacement\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e\n    };\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/如果还是以之前的方式调用函数，兼容性判断\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e.length\x26gt;\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e){\n        _default.str=\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n        _default.regArr=\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n        _default.type=\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e]||\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        _default.replacement=\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]||\x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e obj){\n            _default[key]=obj[key];\n        }\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/下面代码略\x3c\/span\x3e\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e如果API已经准备来一个大版本的更新，（比如从1.0.0升级到2.0.0，不是1.0.0升级到1.0.1，或者1.0.0升级到1.1.0）。不打算兼容以前的版本了。可以忽略这一步，毕竟兼容性的代码可能也很多。\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader19\x22\x3e6.简单\x3c\/h2\x3e\n\x3cp\x3e这一步可以说是API设计最高级的一步，也是最难开发的一步，这就是为什么这篇文章会带有‘大道至简’的字样，即使API的实现很难，但使用起来简单感觉就是高级的API。这一步也直接影响API的好用与否。简单的API不但是用起来简单，试试可以一看就懂的API。这样的API更易理解、记忆、调试和变更使用方式。\x3c\/p\x3e\n\x3cp\x3e原生的API，比如Date，some、map、find等所有数组遍历操作函数，es6提供的Object.assign，Object.keys，Object.values等。\x3c\/p\x3e\n\x3cp\x3e曾经的霸主jQuery，现在的王者react，黑马vue。这些项目让人拍手称赞的原因虽然有很多，但也不可否认的，那便是它们的API设计非常的巧妙。如：jQuery的$,siblings,toogleClass,animate等，react的cloneElement,replaceProps等，vue的nextTick,set等。\x3c\/p\x3e\n\x3cblockquote\x3ejQuery对于现在而言，虽然是过时了，但里面的知识还是值得学习，比如使用的淋漓尽致的 js 写作技巧，设计模式，以及 API 设计等。\x3c\/blockquote\x3e\n\x3cp\x3e自己写的API，我也是把API写得尽量的简单，最高境界就是让别人扫一眼文档，就知道记牢了API的使用方式。这个是我追求的目标，只是现在距离还是有点远。大家看我\x3ccode\x3eencryptStr\x3c\/code\x3e这个API就知道（此处尴尬一天）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader20\x22\x3e7.小结\x3c\/h2\x3e\n\x3cp\x3e在我的眼里，一个好的API，会有一个一看就懂的名字，一个强大的功能，一个简单的调用方式。虽然只有三个条件，但是这三个条件结合起来，可不是那么容易做到的。一个好的API，无论是对自己，对团队，对项目开发都是一个很好的帮助。\x3c\/p\x3e\n\x3cp\x3e对于设计API的一些个人建议，就到这里了，如果以后有更好的想法，会第一时间分享，和大家交流意见。如果大家有什么想法，欢迎指点迷津。\x3c\/p\x3e\n\x3cp\x3e---------------------------华丽的分割线--------------------------------\x3c\/p\x3e\n\x3cp\x3e想了解更多，关注我的微信公众号-守候书阁\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV55El?w=258\x26amp;h=258\x22 src=\x22https:\/\/static.alili.tech\/img\/bV55El?w=258\x26amp;h=258\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>大道至简&ndash;API设计的美学</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000013818583">https://segmentfault.com/a/1190000013818583</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/y0n8iwoku3p/" target="_blank">https://alili.tech/archive/y0n8iwoku3p/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>