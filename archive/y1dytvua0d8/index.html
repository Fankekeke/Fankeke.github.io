<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="茴字的四种写法—移动适配方案的进化"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>茴字的四种写法—移动适配方案的进化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/y1dytvua0d8/",
				"appid": "1613049289050283", 
				"title": "茴字的四种写法—移动适配方案的进化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-06T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/phgsne8miw/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rjyetjw0l4n/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&text=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&text=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&title=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&is_video=false&description=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&title=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&title=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&title=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy1dytvua0d8%2f&title=%e8%8c%b4%e5%ad%97%e7%9a%84%e5%9b%9b%e7%a7%8d%e5%86%99%e6%b3%95%e2%80%94%e7%a7%bb%e5%8a%a8%e9%80%82%e9%85%8d%e6%96%b9%e6%a1%88%e7%9a%84%e8%bf%9b%e5%8c%96"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">茴字的四种写法—移动适配方案的进化</h1><div class="meta"><div class="postdate"><time datetime="2018-12-06" itemprop="datePublished">2018-12-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e话说我刚工作的时候，就开始用rem了，过了没多久，接触到了flexible，系统化且支持iOS的retina屏迅速征服了我，最近又看到了大漠大神的vw。所以本文想完成一篇一站式的文章，可以系统的了解前端适配的演进。闲话少叙，马上开始。\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1. 什么是前端适配\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e从UI展现层面上：\x3c\/strong\x3e\x3cbr\x3e我们期望不同尺寸的设备，页面可以\x3cstrong\x3e自适应的展示\x3c\/strong\x3e或者进行\x3cstrong\x3e等比缩放\x3c\/strong\x3e，从而在不同的尺寸的设备下\x3cstrong\x3e看起来协调\x3c\/strong\x3e或者\x3cstrong\x3e差不多\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e从代码实现层面上：\x3c\/strong\x3e\x3cbr\x3e我们希望前端适配可以用用\x3cstrong\x3e尽可能简洁\x3c\/strong\x3e的代码来实现。最好\x3cstrong\x3e一套代码\x3c\/strong\x3e实现兼容所有设备，而不是对每个或每种设备都写一套方案，不是次次都选用最无奈的方案（Android和iOS分开编写）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2. 关键字\x3c\/h2\x3e\n\x3cp\x3e如果你了解这些关键字，那么这段大可以跳过，如果后面遇到了问题，感觉有些疑惑，也可以再回来查阅。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2.1 Viewport\/视口\x3c\/h3\x3e\n\x3cp\x3e通俗的讲，移动设备上的viewport就是设备的屏幕上能用来显示我们的网页的那一块区域[1]，但不一定是我们可见的区域。具体来说，分为以下三种。\x3c\/p\x3e\n\x3ch4\x3e2.1.1 Visual Viewport\x3c\/h4\x3e\n\x3cblockquote\x3eVisual Viewport: 可见视口。就是移动设备上可以被我们看见的部分。宽度在移动端通过window.innerWidth获得（仅限移动端，PC上哪怕是chrome模拟也会有不同的结果）。\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVsmnf\x22 src=\x22https:\/\/static.alili.tech\/img\/bVsmnf\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e2.2.2 Layout Viewport\x3c\/h4\x3e\n\x3cblockquote\x3eLayout Viewport: 布局视口。\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVsmm7\x22 src=\x22https:\/\/static.alili.tech\/img\/bVsmm7\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果把PC上的页面放到移动端，以iphone8为例，如果只展示为可见视口的宽度（375px），那么页面会被压缩的特别窄而显示错乱，所以移动浏览器就决定默认情况下把viewport设为一个较宽的值，比如980px，这样的话即使是那些为桌面设计的网站也能在移动浏览器上正常显示了。[1]\x3c\/p\x3e\n\x3cp\x3e而事实上，我们一般看不到如上图这样出现横向滚动条的界面；在手机上访问页面时，往往是下图的样子：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV77H6?w=375\x26amp;h=667\x22 src=\x22https:\/\/static.alili.tech\/img\/bV77H6?w=375\x26amp;h=667\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这是由于页面body宽度设置了100%而没有指定一个具体的宽度导致的，从而使页面被等比缩放了。由于用户可以缩放，所以还算能正常浏览。\x3c\/p\x3e\n\x3ch4\x3e2.2.3 Ideal Viewport\x3c\/h4\x3e\n\x3cblockquote\x3eIdeal Viewport：理想视口，其实就是设备的可见区域，和可见视口一致。\x3c\/blockquote\x3e\n\x3cp\x3e设置Ideal Viewport的好处是，只要按照Ideal Viewport来设计样式稿，用户就不用能最完美的查看网站的内容——既不用左右滑动，也不用放大缩小。\x3c\/p\x3e\n\x3cp\x3e设置理想视口：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;meta \x3cspan class=\x22hljs-attr\x22\x3ename=\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent=\x22width=device-width,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3einitial-scale=1.0,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emaximum-scale=1.0,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3euser-scalable=0\x22\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这段代码的意思是将布局视口的宽度设置为设备宽度，初始缩放比例为1，最大缩放比例为1，用户不能缩放。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e2.2 像素\x3c\/h3\x3e\n\x3ch4\x3e2.2.1 物理像素\x3c\/h4\x3e\n\x3cblockquote\x3e物理像素：一个物理像素是显示器(手机屏幕)上最小的物理显示单元，在操作系统的调度下，每一个设备像素都有自己的颜色值和亮度值。[2]\x3c\/blockquote\x3e\n\x3ch4\x3e2.2.2 设备独立像素\x3c\/h4\x3e\n\x3cblockquote\x3e设备独立像素：又称为CSS像素，就是我们日常代码中使用的像素。浏览器内的一切长度都是以CSS像素为单位的，CSS像素的单位是px。\x3c\/blockquote\x3e\n\x3ch4\x3e2.2.3 设备像素比\x3c\/h4\x3e\n\x3cp\x3e设备像素比(简称dpr)定义了物理像素和设备独立像素的对应关系。比如说对于iOS的retina屏，一个设备独立像素就对应着4个物理像素。这样的设计可以使画面更加清晰锐利，如下图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVzIBs\x22 src=\x22https:\/\/static.alili.tech\/img\/bVzIBs\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e3. 业界的解决方案\x3c\/h2\x3e\n\x3cp\x3eOK，LongLongAgo的前缀之后，终于到了正题。回到我们最开始的初心：我们只是想要通过一套代码，实现一个可以在不同页面尺寸上展示差不多的页面。在这一块，现在主要有三种方案。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e3.1 Rem的解决方案\x3c\/h3\x3e\n\x3cp\x3eDPR一致时，px在不同的屏幕尺寸上会展示为定宽，这就导致我们的页面可能会出现滚动条或者占不满的情况。而通过rem来设置div的宽高，可以保证页面可以通过调整html的font-size来整体放大或者缩小，从而达到不管屏幕宽度是多少，页面都能完美展示的效果。\x3c\/p\x3e\n\x3cp\x3e例如，针对750*1334的设计稿：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;initial-scale=1,maximum-scale=1, minimum-scale=1\x26quot;\x3e\n\x3cscript\x3e\n    document.documentElement.style.fontSize = window.innerWidth \/ 7.5 \x2b \x27px\x27;\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22initial-scale=1,maximum-scale=1, minimum-scale=1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.documentElement.style.fontSize = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerWidth \/ \x3cspan class=\x22hljs-number\x22\x3e7.5\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样，所有的设备的宽度都是7.5rem，只需要把设计稿上的px值统一除以100，就可以得到相应的rem值了。\x3c\/p\x3e\n\x3cp\x3e网易也采用的这种方法。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e3.2 Flexible.js\x3c\/h3\x3e\n\x3cp\x3eFlexible是阿里团队开发的前端适配方案，也是用的rem的方法。那么第一种方法其实已经能解决前端适配问题了，为什么阿里还要开发一个Flexible呢？\x3c\/p\x3e\n\x3cp\x3e在第一种方法中，dpr=1时没有任何问题，但是在dpr=2或者更高的手机屏幕上，因为物理像素的增加，存在小于1px的显示空间。如果采用第一种方法，因为它统一对scale设置为1，那么我们假如想要实现0.5px, 就只能通过transform的方式。如果有多个这样的样式，代码就会变得很麻烦。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.scale{\n    position: relative;\n}\n.scale:after{\n    content:\x26quot;\x26quot;;\n    position: absolute;\n    bottom:0px;\n    left:0px;\n    right:0px;\n    border-bottom:1px solid #ddd;\n    -webkit-transform:scaleY(.5);\n    -webkit-transform-origin:0 0;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.scale\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.scale\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:after\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3econtent\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebottom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eright\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder-bottom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#ddd\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-transform\x3c\/span\x3e:\x3cspan class=\x22hljs-built_in\x22\x3escaleY\x3c\/span\x3e(.5);\n    \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-transform-origin\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因此，阿里的flexible方案充分考虑了这种情况，动态的设置了fontsize和scale, 从而使得CSS中的1px等于物理像素中的1px，在IOS下得到最清晰的体验。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (!dpr \x26amp;\x26amp; !scale) {\n    var isAndroid = win.navigator.appVersion.match(\/android\/gi);\n    var isIPhone = win.navigator.appVersion.match(\/iphone\/gi);\n    var devicePixelRatio = win.devicePixelRatio;\n    if (isIPhone) {\n        \/\/ iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案\n        if (devicePixelRatio \x3e= 3 \x26amp;\x26amp; (!dpr || dpr \x3e= 3)) {                \n            dpr = 3;\n        } else if (devicePixelRatio \x3e= 2 \x26amp;\x26amp; (!dpr || dpr \x3e= 2)){\n            dpr = 2;\n        } else {\n            dpr = 1;\n        }\n    } else {\n        \/\/ 其他设备下，仍旧使用1倍的方案\n        dpr = 1;\n    }\n    scale = 1 \/ dpr;\n}\n\n最终在iphone8下页面的header被设置为：\n\x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;initial-scale=0.5,maximum-scale=0.5,minimum-scale=0.5,user-scalable=no\x26quot;\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!dpr \x26amp;\x26amp; !scale) {\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e isAndroid = \x3cspan class=\x22hljs-keyword\x22\x3ewin\x3c\/span\x3e.navigator.appVersion.\x3cspan class=\x22hljs-built_in\x22\x3ematch\x3c\/span\x3e(\/android\/gi);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e isIPhone = \x3cspan class=\x22hljs-keyword\x22\x3ewin\x3c\/span\x3e.navigator.appVersion.\x3cspan class=\x22hljs-built_in\x22\x3ematch\x3c\/span\x3e(\/iphone\/gi);\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e devicePixelRatio = \x3cspan class=\x22hljs-keyword\x22\x3ewin\x3c\/span\x3e.devicePixelRatio;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (isIPhone) {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (devicePixelRatio \x26gt;= 3 \x26amp;\x26amp; (!dpr || dpr \x26gt;= 3)) {                \n            dpr = 3;\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (devicePixelRatio \x26gt;= 2 \x26amp;\x26amp; (!dpr || dpr \x26gt;= 2)){\n            dpr = 2;\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n            dpr = 1;\n        }\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 其他设备下，仍旧使用1倍的方案\x3c\/span\x3e\n        dpr = 1;\n    }\n    scale = 1 \/ dpr;\n}\n\n最终在iphone8下页面的header被设置为：\n\x26lt;meta name=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e content=\x3cspan class=\x22hljs-string\x22\x3e\x22initial-scale=0.5,maximum-scale=0.5,minimum-scale=0.5,user-scalable=no\x22\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e具体的大家可以看《\x3ca href=\x22https:\/\/github.com\/amfe\/article\/issues\/17\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e使用Flexible实现手淘H5页面的终端适配\x3c\/a\x3e》\x3c\/p\x3e\n\x3cp\x3e另外需要指出的一点是：Flexible将页面分成了100份，页面的宽度是10rem，对于750的设计稿，我们需要用相应的px数除以75来得到。手动计算是愚蠢的，不同的编译器都可以下载pix2rem插件（可以直接写px然后自动转换为相应的rem值），直接使用sass或者postcss打包也能达到同样的功能。\x3c\/p\x3e\n\x3cp\x3e总结一下上面两种rem方法，主要思想为：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e根据dpr的值来修改html的font-size，从而使用rem实现等比缩放\x3c\/li\x3e\n\x3cli\x3e根据dpr的值来修改viewport实现1px的线\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e但是Flexible也有它的局限性，具体表现为：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e不能与响应式布局兼容\x3c\/li\x3e\n\x3cli\x3e对Android没有做处理，导致1px和backgroudImage还要额外做处理的问题[4]\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e所以我们有了第三种解决方案——vw。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e3.3 vw\x3c\/h3\x3e\n\x3cp\x3evw是基于Viewport视窗的长度单位，在CSS3中和Viewport相关的单位有四个，分别为vw、vh、vmin和vmax。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3evw: 是Viewport\x27s width的简写,1vw等于window.innerWidth的1%\x3c\/li\x3e\n\x3cli\x3evh：和vw类似，是Viewport\x27s height的简写，1vh等于window.innerHeihgt的1%\x3c\/li\x3e\n\x3cli\x3evmin: vmin的值是当前vw和vh中较小的值\x3c\/li\x3e\n\x3cli\x3evmax: vmax的值是当前vw和vh中较大的值\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e其实vw的方案的写法和flexible方案的写法一致——因为flexible其实就是用hack的手段模拟了vw的实现而已。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e具体写法：针对750px的设计稿，将相应的px值除以7.5就是vw的值。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e因为此方法不会改变可见视口的宽度，所以可以和media query通用了，另外，也支持了Android上高分辨率屏的展示。\x3c\/p\x3e\n\x3cp\x3e尽管在某些Android机型上还存在兼容问题，我们也可以使用Viewport Units Buggyfill，具体见《\x3ca href=\x22https:\/\/www.w3cplus.com\/mobile\/vw-layout-in-vue.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何在Vue项目中使用vw实现移动端适配\x3c\/a\x3e》\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e正如大漠所说，\x3cstrong\x3eflexible模拟vw的时代已经过去，真正的酋长vw已经归来\x3c\/strong\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e参考文档：\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e《\x3ca href=\x22https:\/\/www.cnblogs.com\/2050\/p\/3877280.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e移动前端开发之viewport的深入理解\x3c\/a\x3e》\x3c\/li\x3e\n\x3cli\x3e《\x3ca href=\x22http:\/\/div.io\/topic\/1092\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e移动端高清、多屏适配方案\x3c\/a\x3e》\x3c\/li\x3e\n\x3cli\x3e《\x3ca href=\x22https:\/\/www.w3cplus.com\/css\/vw-for-layout.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e再聊移动端页面的适配\x3c\/a\x3e》\x3c\/li\x3e\n\x3cli\x3e《\x3ca href=\x22https:\/\/www.cnblogs.com\/lyzg\/p\/5117324.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e基于淘宝弹性布局方案lib-flexible的问题研究\x3c\/a\x3e》\x3c\/li\x3e\n\x3cli\x3e《\x3ca href=\x22https:\/\/www.w3cplus.com\/mobile\/vw-layout-in-vue.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何在Vue项目中使用vw实现移动端适配\x3c\/a\x3e》\x3c\/li\x3e\n\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>茴字的四种写法—移动适配方案的进化</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014309664">https://segmentfault.com/a/1190000014309664</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/y1dytvua0d8/" target="_blank">https://alili.tech/archive/y1dytvua0d8/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>