<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Vue.js最佳实践（五招让你成为Vue.js大师）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Vue.js最佳实践（五招让你成为Vue.js大师） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/y20wom1k1ys/",
				"appid": "1613049289050283", 
				"title": "Vue.js最佳实践（五招让你成为Vue.js大师） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-08T02:30:30"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/0nw1blacmwx/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/yiu5d76tj9g/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&text=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&text=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&title=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&is_video=false&description=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&title=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&title=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&title=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy20wom1k1ys%2f&title=Vue.js%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%88%e4%ba%94%e6%8b%9b%e8%ae%a9%e4%bd%a0%e6%88%90%e4%b8%baVue.js%e5%a4%a7%e5%b8%88%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Vue.js最佳实践（五招让你成为Vue.js大师）</h1><div class="meta"><div class="postdate"><time datetime="2018-12-08" itemprop="datePublished">2018-12-08</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cem\x3e本文面向对象是有一定Vue.js编程经验的开发者。如果有人需要Vue.js入门系列的文章可以在评论区告诉我，有空就给你们写。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e对大部分人来说，掌握Vue.js基本的几个API后就已经能够正常地开发前端网站。但如果你想更加高效地使用Vue来开发，成为Vue.js大师，那下面我要传授的这五招你一定得认真学习一下了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e第一招：化繁为简的Watchers\x3c\/h2\x3e\n\x3cp\x3e\x3cem\x3e场景还原：\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22created(){\n    this.fetchPostList()\n},\nwatch: {\n    searchInputValue(){\n        this.fetchPostList()\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3ecreated(){\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fetchPostList()\n},\nwatch: {\n    searchInputValue(){\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.fetchPostList()\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e组件创建的时候我们获取一次列表，同时监听input框，每当发生变化的时候重新获取一次筛选后的列表这个场景很常见，有没有办法优化一下呢？\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e招式解析：\x3c\/em\x3e\x3cbr\x3e首先，在watchers中，可以直接使用函数的字面量名称；其次，声明immediate:true表示创建组件时立马执行一次。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22watch: {\n    searchInputValue:{\n        handler: \x27fetchPostList\x27,\n        immediate: true\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attr\x22\x3ewatch:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    searchInputValue:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        handler:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27fetchPostList\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        immediate:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e第二招：一劳永逸的组件注册\x3c\/h2\x3e\n\x3cp\x3e\x3cem\x3e场景还原：\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import BaseButton from \x27.\/baseButton\x27\nimport BaseIcon from \x27.\/baseIcon\x27\nimport BaseInput from \x27.\/baseInput\x27\n\nexport default {\n  components: {\n    BaseButton,\n    BaseIcon,\n    BaseInput\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e BaseButton \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/baseButton\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e BaseIcon \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/baseIcon\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e BaseInput \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/baseInput\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  components: {\n    BaseButton,\n    BaseIcon,\n    BaseInput\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cBaseInput\n  v-model=\x26quot;searchText\x26quot;\n  @keydown.enter=\x26quot;search\x26quot;\n\/\x3e\n\x3cBaseButton @click=\x26quot;search\x26quot;\x3e\n  \x3cBaseIcon name=\x26quot;search\x26quot;\/\x3e\n\x3c\/BaseButton\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eBaseInput\x3c\/span\x3e\n  \x3cspan class=\x22hljs-attr\x22\x3ev-model\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22searchText\x22\x3c\/span\x3e\n  @\x3cspan class=\x22hljs-attr\x22\x3ekeydown.enter\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22search\x22\x3c\/span\x3e\n\/\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eBaseButton\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22search\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eBaseIcon\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22search\x22\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eBaseButton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们写了一堆基础UI组件，然后每次我们需要使用这些组件的时候，都得先import，然后声明components，很繁琐！秉持能偷懒就偷懒的原则，我们要想办法优化！\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e招式解析：\x3c\/em\x3e\x3cbr\x3e我们需要借助一下神器webpack，使用 \x3ccode\x3erequire.context()\x3c\/code\x3e 方法来创建自己的（模块）上下文，从而实现自动动态require组件。这个方法需要3个参数：要搜索的文件夹目录，是否还应该搜索它的子目录，以及一个匹配文件的正则表达式。\x3c\/p\x3e\n\x3cp\x3e我们在components文件夹添加一个叫global.js的文件，在这个文件里借助webpack动态将需要的基础组件统统打包进来。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() \x2b string.slice(1)\n}\n\nconst requireComponent = require.context(\n  \x27.\x27, false, \/\\.vue$\/\n   \/\/找到components文件夹下以.vue命名的文件\n)\n\nrequireComponent.keys().forEach(fileName =\x3e {\n  const componentConfig = requireComponent(fileName)\n\n  const componentName = capitalizeFirstLetter(\n    fileName.replace(\/^\\.\\\/\/, \x27\x27).replace(\/\\.\\w\x2b$\/, \x27\x27)\n    \/\/因为得到的filename格式是: \x27.\/baseButton.vue\x27, 所以这里我们去掉头和尾，只保留真正的文件名\n  )\n\n  Vue.component(componentName, componentConfig.default || componentConfig)\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecapitalizeFirstLetter\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3estring\x3c\/span\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3estring\x3c\/span\x3e.charAt(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e).toUpperCase() \x2b \x3cspan class=\x22hljs-built_in\x22\x3estring\x3c\/span\x3e.slice(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e requireComponent = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.context(\n  \x3cspan class=\x22hljs-string\x22\x3e\x27.\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.vue$\/\x3c\/span\x3e\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/找到components文件夹下以.vue命名的文件\x3c\/span\x3e\n)\n\nrequireComponent.keys().forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3efileName\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e componentConfig = requireComponent(fileName)\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e componentName = capitalizeFirstLetter(\n    fileName.replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/^\\.\\\/\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e).replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/\\.\\w\x2b$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/因为得到的filename格式是: \x27.\/baseButton.vue\x27, 所以这里我们去掉头和尾，只保留真正的文件名\x3c\/span\x3e\n  )\n\n  Vue.component(componentName, componentConfig.default || componentConfig)\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后我们在main.js中\x3ccode\x3eimport \x27components\/global.js\x27\x3c\/code\x3e，然后我们就可以随时随地使用这些基础组件，无需手动引入了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e第三招：釜底抽薪的router key\x3c\/h2\x3e\n\x3cp\x3e\x3cem\x3e场景还原：\x3c\/em\x3e\x3cbr\x3e下面这个场景真的是伤透了很多程序员的心...先默认大家用的是Vue-router来实现路由的控制。\x3cbr\x3e假设我们在写一个博客网站，需求是从\/post-page\/a，跳转到\/post-page\/b。然后我们惊人的发现，页面跳转后数据竟然没更新？！原因是vue-router\x22智能地\x22发现这是同一个组件，然后它就决定要复用这个组件，所以你在created函数里写的方法压根就没执行。通常的解决方案是监听\x3ccode\x3e$route\x3c\/code\x3e的变化来初始化数据，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22data() {\n  return {\n    loading: false,\n    error: null,\n    post: null\n  }\n}, \nwatch: {\n  \x27$route\x27: {\n    handler: \x27resetData\x27,\n    immediate: true\n  }\n},\nmethods: {\n  resetData() {\n    this.loading = false\n    this.error = null\n    this.post = null\n    this.getPost(this.$route.params.id)\n  },\n  getPost(id){\n\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e() {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    loading: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    error: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n    post: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n  }\n}, \nwatch: {\n  \x3cspan class=\x22hljs-string\x22\x3e\x27$route\x27\x3c\/span\x3e: {\n    handler: \x3cspan class=\x22hljs-string\x22\x3e\x27resetData\x27\x3c\/span\x3e,\n    immediate: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  }\n},\nmethods: {\n  resetData() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.loading = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.error = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.post = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getPost(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$route.params.id)\n  },\n  getPost(id){\n\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ebug是解决了，可每次这么写也太不优雅了吧？秉持着能偷懒则偷懒的原则，我们希望代码这样写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22data() {\n  return {\n    loading: false,\n    error: null,\n    post: null\n  }\n},\ncreated () {\n  this.getPost(this.$route.params.id)\n},\nmethods () {\n  getPost(postId) {\n    \/\/ ...\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e() {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    loading: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    error: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n    post: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n  }\n},\ncreated () {\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getPost(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$route.params.id)\n},\nmethods () {\n  getPost(postId) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3e招式解析:\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e那要怎么样才能实现这样的效果呢，答案是给router-view添加一个unique的key，这样即使是公用组件，只要url变化了，就一定会重新创建这个组件。（虽然损失了一丢丢性能，但避免了无限的bug）。同时，注意我将key直接设置为路由的完整路径，一举两得。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3crouter-view :key=\x26quot;$route.fullpath\x26quot;\x3e\x3c\/router-view\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;router-view \x3cspan class=\x22hljs-symbol\x22\x3e:key=\x3cspan class=\x22hljs-string\x22\x3e\x22$route.fullpath\x22\x3c\/span\x3e\x26gt;\x26lt;\/router-view\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e第四招: 无所不能的render函数\x3c\/h2\x3e\n\x3cp\x3e\x3cem\x3e场景还原:\x3c\/em\x3e\x3cbr\x3evue要求每一个组件都只能有一个根元素，当你有多个根元素时，vue就会给你报错\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cli\n    v-for=\x26quot;route in routes\x26quot;\n    :key=\x26quot;route.name\x26quot;\n  \x3e\n    \x3crouter-link :to=\x26quot;route\x26quot;\x3e\n      \x22{{\x22 route.title \x22}}\x22\n    \x3c\/router-link\x3e\n  \x3c\/li\x3e\n\x3c\/template\x3e\n\n\n ERROR - Component template should contain exactly one root element. \n    If you are using v-if on multiple elements, use v-else-if \n    to chain them instead.\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x26lt;template\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eli\x3c\/span\x3e\n    v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22route in routes\x22\x3c\/span\x3e\n    :key=\x3cspan class=\x22hljs-string\x22\x3e\x22route.name\x22\x3c\/span\x3e\n  \x26gt;\n    \x26lt;router-link :to=\x3cspan class=\x22hljs-string\x22\x3e\x22route\x22\x3c\/span\x3e\x26gt;\n      \x22{{\x22 route.title \x22}}\x22\n    \x26lt;\/router-link\x26gt;\n  \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3eli\x3c\/span\x3e\x26gt;\n\x26lt;\/template\x26gt;\n\n\n \x3cspan class=\x22hljs-keyword\x22\x3eERROR\x3c\/span\x3e - Component template should contain exactly \x3cspan class=\x22hljs-keyword\x22\x3eone\x3c\/span\x3e root element. \n    \x3cspan class=\x22hljs-keyword\x22\x3eIf\x3c\/span\x3e you are using v-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e multiple elements, \x3cspan class=\x22hljs-keyword\x22\x3euse\x3c\/span\x3e v-\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e \n    to chain them instead.\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3e招式解析:\x3c\/em\x3e\x3cbr\x3e那有没有办法化解呢，答案是有的，只不过这时候我们需要使用render()函数来创建HTML，而不是template。其实用js来生成html的好处就是极度的灵活功能强大，而且你不需要去学习使用vue的那些功能有限的指令API，比如v-for, v-if。（reactjs就完全丢弃了template）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22functional: true,\nrender(h, { props }) {\n  return props.routes.map(route =\x3e\n    \x3cli key={route.name}\x3e\n      \x3crouter-link to={route}\x3e\n        {route.title}\n      \x3c\/router-link\x3e\n    \x3c\/li\x3e\n  )\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3efunctional: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\nrender(h, { props }) {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e props.routes.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e\n    \x26lt;li key={route.name}\x26gt;\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3erouter-link\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{route}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        {route.title}\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3erouter-link\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n  )\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e第五招：无招胜有招的高阶组件\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e划重点：这一招威力无穷，请务必掌握\x3c\/strong\x3e\x3cbr\x3e当我们写组件的时候，通常我们都需要从父组件传递一系列的props到子组件，同时父组件监听子组件emit过来的一系列事件。举例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/父组件\n\x3cBaseInput \n    :value=\x26quot;value\x26quot;\n    label=\x26quot;密码\x26quot; \n    placeholder=\x26quot;请填写密码\x26quot;\n    @input=\x26quot;handleInput\x26quot;\n    @focus=\x26quot;handleFocus\x3e\n\x3c\/BaseInput\x3e\n\n\/\/子组件\n\x3ctemplate\x3e\n  \x3clabel\x3e\n    \x22{{\x22 label \x22}}\x22\n    \x3cinput\n      :value=\x26quot;value\x26quot;\n      :placeholder=\x26quot;placeholder\x26quot;\n      @focus=$emit(\x27focus\x27, $event)\x26quot;\n      @input=\x26quot;$emit(\x27input\x27, $event.target.value)\x26quot;\n    \x3e\n  \x3c\/label\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/父组件\x3c\/span\x3e\n\x26lt;BaseInput \n    :value=\x3cspan class=\x22hljs-string\x22\x3e\x22value\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elabel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22密码\x22\x3c\/span\x3e \n    placeholder=\x3cspan class=\x22hljs-string\x22\x3e\x22请填写密码\x22\x3c\/span\x3e\n    @\x3cspan class=\x22hljs-keyword\x22\x3einput\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22handleInput\x22\x3c\/span\x3e\n    @focus=\x22handleFocus\x26gt;\n\x26lt;\/BaseInput\x26gt;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/子组件\x3c\/span\x3e\n\x26lt;template\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3elabel\x3c\/span\x3e\x26gt;\n    \x22{{\x22 \x3cspan class=\x22hljs-keyword\x22\x3elabel\x3c\/span\x3e \x22}}\x22\n    \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3einput\x3c\/span\x3e\n      :value=\x3cspan class=\x22hljs-string\x22\x3e\x22value\x22\x3c\/span\x3e\n      :placeholder=\x3cspan class=\x22hljs-string\x22\x3e\x22placeholder\x22\x3c\/span\x3e\n      @focus=\x3cspan class=\x22hljs-variable\x22\x3e$emit\x3c\/span\x3e(\x27focus\x27, \x3cspan class=\x22hljs-variable\x22\x3e$event\x3c\/span\x3e)\x22\n      @\x3cspan class=\x22hljs-keyword\x22\x3einput\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$emit(\x27input\x27, $event.target.value)\x22\x3c\/span\x3e\n    \x26gt;\n  \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3elabel\x3c\/span\x3e\x26gt;\n\x26lt;\/template\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有下面几个优化点：\x3c\/p\x3e\n\x3cp\x3e1.每一个从父组件传到子组件的props,我们都得在子组件的Props中显式的声明才能使用。这样一来，我们的子组件每次都需要申明一大堆props, 而类似placeholer这种dom原生的property我们其实完全可以直接从父传到子，无需声明。方法如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \x3cinput\n      :value=\x26quot;value\x26quot;\n      v-bind=\x26quot;$attrs\x26quot;\n      @input=\x26quot;$emit(\x27input\x27, $event.target.value)\x26quot;\n    \x3e\n   \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs perl\x22\x3e\x3ccode\x3e    \x26lt;input\n      :value=\x3cspan class=\x22hljs-string\x22\x3e\x22value\x22\x3c\/span\x3e\n      v-\x3cspan class=\x22hljs-keyword\x22\x3ebind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$attrs\x22\x3c\/span\x3e\n      @input=\x3cspan class=\x22hljs-string\x22\x3e\x22$emit(\x27input\x27, $event.target.value)\x22\x3c\/span\x3e\n    \x26gt;\n   \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e$attrs\x3c\/code\x3e包含了父作用域中不作为 prop 被识别 (且获取) 的特性绑定 (class 和 style 除外)。当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定，并且可以通过 v-bind=\x22$attrs\x22 传入内部组件——在创建更高层次的组件时非常有用。\x3c\/p\x3e\n\x3cp\x3e2.注意到子组件的\x3ccode\x3e@focus=$emit(\x27focus\x27, $event)\x22\x3c\/code\x3e其实什么都没做，只是把event传回给父组件而已，那其实和上面类似，我完全没必要显式地申明：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cinput\n    :value=\x26quot;value\x26quot;\n    v-bind=\x26quot;$attrs\x26quot;\n    v-on=\x26quot;listeners\x26quot;\n\x3e\n\ncomputed: {\n  listeners() {\n    return {\n      ...this.$listeners,\n      input: event =\x3e \n        this.$emit(\x27input\x27, event.target.value)\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3einput\x3c\/span\x3e\n    :value=\x3cspan class=\x22hljs-string\x22\x3e\x22value\x22\x3c\/span\x3e\n    v-bind=\x3cspan class=\x22hljs-string\x22\x3e\x22$attrs\x22\x3c\/span\x3e\n    v-on=\x3cspan class=\x22hljs-string\x22\x3e\x22listeners\x22\x3c\/span\x3e\n\x26gt;\n\ncomputed: {\n  listeners() {\n    return {\n      ..\x3cspan class=\x22hljs-selector-class\x22\x3e.this\x3c\/span\x3e.\x3cspan class=\x22hljs-variable\x22\x3e$listeners\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-selector-tag\x22\x3einput\x3c\/span\x3e: event =\x26gt; \n        this.\x3cspan class=\x22hljs-variable\x22\x3e$emit\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e, event\x3cspan class=\x22hljs-selector-class\x22\x3e.target\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.value\x3c\/span\x3e)\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e$listeners\x3c\/code\x3e包含了父作用域中的 (不含 .native 修饰器的) v-on 事件监听器。它可以通过 v-on=\x22$listeners\x22 传入内部组件——在创建更高层次的组件时非常有用。\x3c\/p\x3e\n\x3cp\x3e3.需要注意的是，由于我们input并不是BaseInput这个组件的根节点，而默认情况下父作用域的不被认作 props 的特性绑定将会“回退”且作为普通的 HTML 特性应用在子组件的根元素上。所以我们需要设置\x3ccode\x3einheritAttrs:false\x3c\/code\x3e，这些默认行为将会被去掉, 以上两点的优化才能成功。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e结尾\x3c\/h2\x3e\n\x3cp\x3e掌握了以上五招，你就能在Vue.js的海洋中自由驰骋了，去吧少年。\x3cbr\x3e陆续可能还会更新一些别的招数，敬请期待。\x3c\/p\x3e\n\x3cp\x3e如果你对VueJs或者ReactJs的虚拟DOM是如何实现的感兴趣，可以去看我的这个系列文章：\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000014572815\x22\x3e【React进阶系列】从零开始手把手教你实现一个Virtual DOM（一）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000014603332\x22 target=\x22_blank\x22\x3e【React进阶系列】从零开始手把手教你实现一个Virtual DOM（二）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000014641724\x22\x3e【React进阶系列】从零开始手把手教你实现一个Virtual DOM（二）\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e标题虽然是React进阶，但事实上Vuejs从2.0开始也使用了虚拟DOM，虽然你仍然可以使用Vuejs的模板template写代码，但本质上template最后也会complile成虚拟DOM。（官方文档\x3ca href=\x22https:\/\/cn.vuejs.org\/v2\/guide\/render-function.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVuejs 渲染函数 \x26amp; JSX\x3c\/a\x3e）。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e广告时间：阿里巴巴电商板块增速最快的新业务之一内推招人，请大家多多推荐或自荐，内部推荐优先面试，技术面试一周内出结果。可以私信我了解详情，或者直接把简历发到我邮箱：zeqiang.wang@alibaba-inc.com \x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Vue.js最佳实践（五招让你成为Vue.js大师）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014085613">https://segmentfault.com/a/1190000014085613</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/y20wom1k1ys/" target="_blank">https://alili.tech/archive/y20wom1k1ys/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>