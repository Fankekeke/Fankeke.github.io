<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="重构 - 保持函数的单一职责"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>重构 - 保持函数的单一职责 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/y5rr9ceylq/",
				"appid": "1613049289050283", 
				"title": "重构 - 保持函数的单一职责 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-11-30T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/jp1i04e358/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xeytlqifn5h/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&text=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&text=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&title=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&is_video=false&description=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&title=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&title=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&title=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy5rr9ceylq%2f&title=%e9%87%8d%e6%9e%84%20-%20%e4%bf%9d%e6%8c%81%e5%87%bd%e6%95%b0%e7%9a%84%e5%8d%95%e4%b8%80%e8%81%8c%e8%b4%a3"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">重构 - 保持函数的单一职责</h1><div class="meta"><div class="postdate"><time datetime="2018-11-30" itemprop="datePublished">2018-11-30</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2\x3e1.前言\x3c\/h2\x3e\n\x3cp\x3e上篇文章写了添加扩展性方面的重构，讲到了开放封闭原则。学习的步伐不能就此停止，今天的文章，将会提及开发的另一个原则：单一职责原则。通俗点说就是一个函数只做一件事，下面将会通过几个实例，探究单一职责原则。\x3c\/p\x3e\n\x3ch2\x3e2.单一职责表现形式\x3c\/h2\x3e\n\x3cp\x3e单一职责的定义可以理解为：一个对象或者方法，只做一件事。\x3c\/p\x3e\n\x3cp\x3e遵守单一职责的实例太多了，下面简单列举一下。\x3c\/p\x3e\n\x3cp\x3e原生的API方面\x3c\/p\x3e\n\x3cp\x3etrimRight()和trimLeft()：trimRight 只负责去除右边的空白，其它地方一概不管。 trimLeft 只负责去除右边的空白，其它地方也一概不关。\x3c\/p\x3e\n\x3cp\x3econcat()： concat 只负责连接两个或更多的数组，并返回结果。不会涉及删除数组的操作。\x3c\/p\x3e\n\x3cp\x3etoFixed(): toFixed 只把 Number 类型的值四舍五入为指定小数位数的数字。不会执行其它操作。\x3c\/p\x3e\n\x3cp\x3eJQuery 的 API\x3c\/p\x3e\n\x3cp\x3e$.each() 只负责遍历，要处理什么，自己再动手操作。\x3c\/p\x3e\n\x3cp\x3ecss() 只负责设置 DOM 的 style ，不会设置 innerHTML 。\x3c\/p\x3e\n\x3cp\x3eanimate() 只负责执行 CSS 属性集的自定义动画，不会涉及其它操作。\x3c\/p\x3e\n\x3cp\x3e说是这样说，但是大家看着可能会有点懵，看不出来遵守单一原则有什么好处，下面看一个实例。\x3c\/p\x3e\n\x3ch2\x3e3.实例-数组处理\x3c\/h2\x3e\n\x3cp\x3e如下例子：\x3c\/p\x3e\n\x3cp\x3e现有一批的录入学生信息，但是数据有重复，需要把数据根据 id 进行去重。然后把为空的信息，改成\x27--\x27。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3elet students=[\n    {\n        id:5,\n        name:\x27守候\x27,\n        sex:\x27男\x27,\n        age:\x27\x27,\n    },\n    {\n        id:2,\n        name:\x27浪迹天涯\x27,\n        sex:\x27男\x27,\n        age:\x27\x27\n    },\n    {\n        id:5,\n        name:\x27守候\x27,\n        sex:\x27\x27,\n        age:\x27\x27\n    },\n    {\n        id:3,\n        name:\x27鸿雁\x27,\n        sex:\x27\x27,\n        age:\x2720\x27\n    }\n];\n\nfunction handle(arr) {\n    \/\/数组去重\n    let _arr=[],_arrIds=[];\n    for(let i=0;i\x26lt;arr.length;i\x2b\x2b){\n        if(_arrIds.indexOf(arr[i].id)===-1){\n            _arrIds.push(arr[i].id);\n            _arr.push(arr[i]);\n        }\n    }\n    \/\/遍历替换\n    _arr.map(item=\x26gt;{\n        for(let key in item){\n            if(item[key]===\x27\x27){\n                item[key]=\x27--\x27;\n            }\n        }\n    });\n    return _arr;\n}\nconsole.log(handle(students))\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbaqvV?w=620\x26amp;h=106\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbaqvV?w=620\x26amp;h=106\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e运行结果没有问题，但是大家想一下，\x3c\/p\x3e\n\x3cp\x3e1.如果改了需求，比如，学生信息不会再有重复的记录，要求把去重的函数去掉，无论，就是整个函数都要改了，还影响到下面的操作。\x3c\/p\x3e\n\x3cp\x3e2.如果项目另一个地方也是同样的操作，但是不需要去重。这样只能再写一个基本一样的函数，因为上面的函数无法复用。如下\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3efunction handle1(arr) {\n    \/\/数组深拷贝\n    let _arr=JSON.parse(JSON.stringify(arr));\n    \/\/遍历替换\n    _arr.map(item=\x26gt;{\n        for(let key in item){\n            if(item[key]===\x27\x27){\n                item[key]=\x27--\x27;\n            }\n        }\n    });\n    return _arr;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e3.如果项目有一个地方还需要根据 ID 排序。这样还是得写一个函数，因为在不能在上面的函数上面排序。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3efunction handle2(arr) {\n    \/\/数组去重\n    let _arr=[],_arrIds=[];\n    for(let i=0;i\x26lt;arr.length;i\x2b\x2b){\n        if(_arrIds.indexOf(arr[i].id)===-1){\n            _arrIds.push(arr[i].id);\n            _arr.push(arr[i]);\n        }\n    }\n    \/\/遍历替换\n    _arr.map(item=\x26gt;{\n        for(let key in item){\n            if(item[key]===\x27\x27){\n                item[key]=\x27--\x27;\n            }\n        }\n    });\n    \/\/根据ID排序\n    _arr.sort((item1,item2)=\x26gt;item1.id-item2.id);\n    return _arr;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样的问题就是在于，面对需求的变化，不能灵活的处理。函数也基本没办法复用。\x3c\/p\x3e\n\x3cp\x3e下面使用单一原则构造一下\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3elet handle={\n    \/\/数组去重\n    removeRepeat(arr){\n        let _arr=[],_arrIds=[];\n        for(let i=0;i\x26lt;arr.length;i\x2b\x2b){\n            if(_arrIds.indexOf(arr[i].id)===-1){\n                _arrIds.push(arr[i].id);\n                _arr.push(arr[i]);\n            }\n        }\n        return _arr;\n    },\n    \/\/遍历替换\n    setInfo(arr){\n        arr.map(item=\x26gt;{\n            for(let key in item){\n                if(item[key]===\x27\x27){\n                    item[key]=\x27--\x27;\n                }\n            }\n        });\n        return arr;\n    },\n    \/\/根据id排序\n    sortForId(arr){\n        return arr.sort((item1,item2)=\x26gt;item1.id-item2.id);\n    }\n};\n\/\/去重\nstudents=handle.removeRepeat(students);\n\/\/设置信息\nstudents=handle.setInfo(students);\nconsole.log(students);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbaqvV?w=620\x26amp;h=106\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbaqvV?w=620\x26amp;h=106\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e结果一样，而且这样的方式，可以使得方法可以组合使用，更加的灵活，也方便复用。\x3c\/p\x3e\n\x3cp\x3e如果还需要根据ID排序，就在\x3cstrong\x3e上面代码执行结果的基础上\x3c\/strong\x3e，再加一行代码即可。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3e\/\/根据ID排序\nstudents=handle.sortForId(students);\nconsole.log(students);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbaqvX?w=546\x26amp;h=135\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbaqvX?w=546\x26amp;h=135\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果\x3cstrong\x3e原始数据\x3c\/strong\x3e不需要去重，设置完信息之后，直接排序\x3c\/p\x3e\n\x3cpre\x3e\x3ccode\x3elet students=[\n    {\n        id:5,\n        name:\x27守候\x27,\n        sex:\x27男\x27,\n        age:\x27\x27,\n    },\n    {\n        id:2,\n        name:\x27浪迹天涯\x27,\n        sex:\x27男\x27,\n        age:\x27\x27\n    },\n    {\n        id:5,\n        name:\x27守候\x27,\n        sex:\x27\x27,\n        age:\x27\x27\n    },\n    {\n        id:3,\n        name:\x27鸿雁\x27,\n        sex:\x27\x27,\n        age:\x2720\x27\n    }\n];\n\/\/设置信息\nstudents=handle.setInfo(students);\n\/\/根据ID排序\nstudents=handle.sortForId(students);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbaqvY?w=554\x26amp;h=148\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbaqvY?w=554\x26amp;h=148\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这样操作起来，即使以后需求有改动，在可控的范围内，可以灵活的组合使用，函数也可以复用。\x3c\/p\x3e\n\x3cp\x3e如果觉得要让 students 连续赋值麻烦，可以借鉴 JQuery 的链式调用方式。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22js\x22\x3elet ec=(function () {\n    let handle=function (obj) {\n        this.obj=JSON.parse(JSON.stringify(obj));\n    };\n    handle.prototype={\n        \/**\n         * @description 去重\n         *\/\n        unique(){\n            \/\/根据id数组去重\n            let _arr=[],_arrIds=[];\n            for(let i=0;i\x26lt;this.obj.length;i\x2b\x2b){\n                if(_arrIds.indexOf(this.obj[i].id)===-1){\n                    _arrIds.push(this.obj[i].id);\n                    _arr.push(this.obj[i]);\n                }\n            }\n            this.obj=_arr;\n            return this;\n        },\n        \/**\n         * @description 设置保密信息\n         *\/\n        setInfo(){\n            this.obj.map(item=\x26gt;{\n                for(let key in item){\n                    if(item[key]===\x27\x27){\n                        item[key]=\x27--\x27;\n                    }\n                }\n            });\n            return this;\n        },\n        sortForId(){\n            this.obj.sort((item1,item2)=\x26gt;item1.id-item2.id);\n            return this;\n        },\n        \/**\n         * @description 返回处理结果\n         * @return {Array|*}\n         *\/\n        end(){\n            return this.obj;\n        }\n    }\n    \/\/暴露构造函数接口\n    return function (obj) {\n        return new handle(obj);\n    }\n})();\nlet students=[\n    {\n        id:5,\n        name:\x27守候\x27,\n        sex:\x27男\x27,\n        age:\x27\x27,\n    },\n    {\n        id:2,\n        name:\x27浪迹天涯\x27,\n        sex:\x27男\x27,\n        age:\x27\x27\n    },\n    {\n        id:5,\n        name:\x27守候\x27,\n        sex:\x27\x27,\n        age:\x27\x27\n    },\n    {\n        id:3,\n        name:\x27鸿雁\x27,\n        sex:\x27\x27,\n        age:\x2720\x27\n    }\n];\n\/\/根据id去重和设置\x27--\x27\nstudents=ec(students).unique().setInfo().end();\nconsole.log(students)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbaqv2?w=586\x26amp;h=117\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbaqv2?w=586\x26amp;h=117\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e结果还是一样，只是增加了一个方法，方便链式调用。\x3c\/p\x3e\n\x3cblockquote\x3e关于实现链式调用，这个肯定是会增加代码的，如果调用的方法并不是一些常用，通用的方法的话，只是处理一些特殊格式的数据的方法（如上实例），不建议花费时间，实现链式调用，普通调用就好。如果是一些常用的函数的封装，就建议使用链式调用。\x3c\/blockquote\x3e\n\x3ch2\x3e4.违反单一职责原则\x3c\/h2\x3e\n\x3cp\x3e在上面的实例里面，相信大家都看到了，遵守单一职责的好处，但是单一职责也有缺点，就是会增加代码的复杂程度。\x3c\/p\x3e\n\x3cp\x3e在市面上，也有API是违反单一职责的。\x3c\/p\x3e\n\x3cp\x3eJQuery 的 html() 方法，既可以获取 innerHTML ，也可以设置 innerHTML 。 attr ()既可以获取 DOM 元素的某一个属性，也可以设置 DOM 元素的某一个属性。\x3c\/p\x3e\n\x3cp\x3e在维护上面，这样的代码，可能会给维护增加难度，但是对于使用者而言，这样简化了使用。这应该是一个取舍关系，取什么，舍什么。这个就是具体情况具体分析。\x3c\/p\x3e\n\x3ch2\x3e5.小结\x3c\/h2\x3e\n\x3cp\x3e今天的例子就到这里了，这个例子，解释降解函数单一原则会有什么好处。这个例子比上篇文章的例子还要简单。大家看不明白，把代码拷贝在浏览器上运行，就很好理解。如果大家对这个例子有什么更好的建议，或者代码上有什么问题，欢迎在评论区留言，大家多交流，相互学习。\x3c\/p\x3e\n\x3cp\x3e---------------------华丽的分割线---------------------\x3c\/p\x3e\n\x3cp\x3e想了解更多，关注关注我的微信公众号：守候书阁\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bV55El?w=258\x26amp;h=258\x22 src=\x22https:\/\/static.alili.tech\/img\/bV55El?w=258\x26amp;h=258\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>重构 - 保持函数的单一职责</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000014843095">https://segmentfault.com/a/1190000014843095</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/y5rr9ceylq/" target="_blank">https://alili.tech/archive/y5rr9ceylq/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>