<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="ES6系列---迭代器（Iterator）与生成器（Generator）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>ES6系列---迭代器（Iterator）与生成器（Generator） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/yb881ezh0ze/",
				"appid": "1613049289050283", 
				"title": "ES6系列---迭代器（Iterator）与生成器（Generator） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-04T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/6r09ttwndud/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rpohaayze7s/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&text=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&text=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&title=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&is_video=false&description=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&title=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&title=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&title=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyb881ezh0ze%2f&title=ES6%e7%b3%bb%e5%88%97---%e8%bf%ad%e4%bb%a3%e5%99%a8%ef%bc%88Iterator%ef%bc%89%e4%b8%8e%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%88Generator%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">ES6系列---迭代器（Iterator）与生成器（Generator）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-04" itemprop="datePublished">2019-01-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e循环语句的问题\x3c\/h1\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var colors = [\x26quot;red\x26quot;, \x26quot;green\x26quot;, \x26quot;blue\x26quot;];\nfor(var i=0; i\x3ccolors.length; i\x2b\x2b){\n    console.log(colors[i]);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e colors = [\x3cspan class=\x22hljs-string\x22\x3e\x22red\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22green\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22blue\x22\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i\x26lt;colors.length; i\x2b\x2b){\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(colors[i]);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在\x3ccode\x3eES6\x3c\/code\x3e之前，这种标准的for循环，通过变量来跟踪数组的索引。如果多个循环嵌套就需要追踪多个变量，代码复杂度会大大增加，也容易产生错用循环变量的bug。\x3c\/p\x3e\n\x3cp\x3e迭代器的出现旨在消除这种复杂性并减少循环中的错误。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e什么是迭代器\x3c\/h1\x3e\n\x3cp\x3e我们先感受一下用\x3ccode\x3eES5\x3c\/code\x3e语法模拟创建一个迭代器：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function createIterator(items) {\n    var i = 0;\n    \n    return { \/\/ 返回一个迭代器对象\n        next: function() { \/\/ 迭代器对象一定有个next()方法\n            var done = (i \x3e= items.length);\n            var value = !done ? items[i\x2b\x2b] : undefined;\n            \n            return { \/\/ next()方法返回结果对象\n                value: value,\n                done: done\n            };\n        }\n    };\n}\n\nvar iterator = createIterator([1, 2, 3]);\n\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 1, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 2, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 3, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: undefiend, done: true}\x26quot;\n\/\/ 之后所有的调用都会返回相同内容\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: undefiend, done: true}\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitems\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回一个迭代器对象\x3c\/span\x3e\n        next: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{ \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 迭代器对象一定有个next()方法\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e done = (i \x26gt;= items.length);\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e value = !done ? items[i\x2b\x2b] : \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e;\n            \n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ next()方法返回结果对象\x3c\/span\x3e\n                value: value,\n                \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: done\n            };\n        }\n    };\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iterator = createIterator([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 2, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 3, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefiend, done: true}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 之后所有的调用都会返回相同内容\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefiend, done: true}\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e以上，我们通过调用createIterator()函数，返回一个对象，这个对象存在一个next()方法，当next()方法被调用时，返回格式{ value: 1, done: false}的结果对象。\x3cbr\x3e因此，我们可以这么定义：迭代器是一个拥有next()方法的特殊对象，每次调用next()都返回一个结果对象。\x3c\/p\x3e\n\x3cp\x3e借助这个迭代器对象，我们来改造刚开始那个标准的for循环【暂时先忘记ES6的for-of循环新特性】：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var colors = [\x26quot;red\x26quot;, \x26quot;green\x26quot;, \x26quot;blue\x26quot;];\nvar iterator = createIterator(colors);\nwhile(!iterator.next().done){\n    console.log(iterator.next().value);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e colors = [\x3cspan class=\x22hljs-string\x22\x3e\x22red\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22green\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22blue\x22\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iterator = createIterator(colors);\n\x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e(!iterator.next().done){\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next().value);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ewhat?，消除循环变量而已，需要搞这么麻烦，代码上不是得不偿失了吗？\x3cbr\x3e并非如此，毕竟createIterator()只需写一次，就可以一直复用。不过\x3ccode\x3eES6\x3c\/code\x3e引入了生成器对象，可以让创建迭代器的过程变得更加简单。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e什么是生成器\x3c\/h1\x3e\n\x3cp\x3e生成器是一种返回迭代器的函数，通过\x3ccode\x3efunction\x3c\/code\x3e关键字后的星号（*）来表示，函数中会用到新的关键字\x3ccode\x3eyield\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator(items) {\n    for(let i=0; i\x3citems.length; i\x2b\x2b) {\n        yield items[i];\n    }\n}\n\nlet iterator = createIterator([1, 2, 3]);\n\n\/\/ 既然生成器返回的是迭代器，自然就可以调用迭代器的next()方法\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 1, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 2, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 3, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: undefiend, done: true}\x26quot;\n\/\/ 之后所有的调用都会返回相同内容\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: undefiend, done: true}\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitems\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i\x26lt;items.length; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e items[i];\n    }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = createIterator([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 既然生成器返回的是迭代器，自然就可以调用迭代器的next()方法\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 2, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 3, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefiend, done: true}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 之后所有的调用都会返回相同内容\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefiend, done: true}\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面，我们用\x3ccode\x3eES6\x3c\/code\x3e的生成器，大大简化了迭代器的创建过程。我们给生成器函数createIterator()传入一个items数组，函数内部，for循环不断从数组中生成新的元素放入迭代器中，每遇到一个\x3ccode\x3eyield\x3c\/code\x3e语句循环都会停止；每次调用迭代器的next()方法，循环便继续运行并停止在下一条\x3ccode\x3eyield\x3c\/code\x3e语句处。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e生成器的创建方式\x3c\/h2\x3e\n\x3cp\x3e生成器是个函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator(items) { ... }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitems\x3c\/span\x3e) \x3c\/span\x3e{ ... }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以用函数表达式方式书写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let createIterator = function *(item) { ... }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e createIterator = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) \x3c\/span\x3e{ ... }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e也可以添加到对象中，\x3ccode\x3eES5\x3c\/code\x3e风格对象字面量：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let o = {\n    createIterator: function *(items) { ... }\n};\n\nlet iterator = o.createIterator([1, 2, 3]);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e o = {\n    \x3cspan class=\x22hljs-attr\x22\x3ecreateIterator\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *(\x3cspan class=\x22hljs-params\x22\x3eitems\x3c\/span\x3e) \x3c\/span\x3e{ ... }\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = o.createIterator([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eES6\x3c\/code\x3e风格的对象方法简写方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let o = {\n    *createIterator(items) { ... }\n};\n\nlet iterator = o.createIterator([1, 2, 3]);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3elet o\x3c\/span\x3e = {\n    *createIterator(items) { ... }\n};\n\n\x3cspan class=\x22hljs-attribute\x22\x3elet iterator\x3c\/span\x3e = o.createIterator([1, 2, 3]);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e可迭代（Iterable）对象\x3c\/h1\x3e\n\x3cp\x3e在ES6中，所有的集合对象（数组、Set集合及Map集合）和字符串都是可迭代对象，可迭代对象都绑定了默认的迭代器。\x3c\/p\x3e\n\x3cp\x3e来了来了，姗姗来迟的ES6循环新特性\x3ccode\x3efor-of\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var colors = [\x26quot;red\x26quot;, \x26quot;green\x26quot;, \x26quot;blue\x26quot;];\nfor(let color of colors){\n    console.log(color);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e colors = [\x3cspan class=\x22hljs-string\x22\x3e\x22red\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22green\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22blue\x22\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e color \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e colors){\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(color);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3efor-of\x3c\/code\x3e循环，可作用在可迭代对象上，正是利用了可迭代对象上的默认迭代器。大致过程是：\x3ccode\x3efor-of\x3c\/code\x3e循环每执行一次都会调用可迭代对象的next()方法，并将迭代器返回的结果对象的value属性存储在变量中，循环将继续执行这一过程直到返回对象的\x3ccode\x3edone\x3c\/code\x3e属性的值为\x3ccode\x3etrue\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e如果只需要迭代数组或集合中的值，用for-of循环代替for循环是个不错的选择。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e访问默认迭代器\x3c\/h2\x3e\n\x3cp\x3e可迭代对象，都有一个Symbol.iterator方法，\x3ccode\x3efor-of\x3c\/code\x3e循环时，通过调用\x3ccode\x3ecolors\x3c\/code\x3e数组的Symbol.iterator方法来获取默认迭代器的，这一过程是在\x3ccode\x3eJavaScript\x3c\/code\x3e引擎背后完成的。\x3c\/p\x3e\n\x3cp\x3e我们可以主动获取一下这个默认迭代器来感受一下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let values = [1, 2, 3];\nlet iterator = values[Symbol.iterator]();\n\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 1, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 2, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 3, done: false}\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: undefined, done: true}\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e values = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = values[\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.iterator]();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 2, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 3, done: false}\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefined, done: true}\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这段代码中，通过Symbol.iterator获取了数组values的默认迭代器，并用它遍历数组中的元素。在JavaScript引擎中执行for-of循环语句也是类似的处理过程。\x3c\/p\x3e\n\x3cp\x3e用Symbol.iterator属性来检测对象是否为可迭代对象：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function isIterator(object) {\n    return typeof object[Symbol.iterator] === \x26quot;function\x26quot;;\n}\n\nconsole.log(isIterable([1, 2, 3]));  \/\/ true\nconsole.log(isIterable(new Set()));  \/\/ true\nconsole.log(isIterable(new Map()));  \/\/ true\nconsole.log(isIterable(\x26quot;Hello\x26quot;));  \/\/ true\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eisIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobject\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e object[\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.iterator] === \x3cspan class=\x22hljs-string\x22\x3e\x22function\x22\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterable([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterable(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e()));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterable(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eMap\x3c\/span\x3e()));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterable(\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e创建可迭代对象\x3c\/h2\x3e\n\x3cp\x3e当我们在创建对象时，给Symbol.iterator属性添加一个生成器，则可以将其变成可迭代对象：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let collection = {\n    items: [],\n    *[Symbol.iterator]() { \/\/ 将生成器赋值给对象的Symbol.iterator属性来创建默认的迭代器\n        for(let item of this.items) {\n            yield item;\n        }\n    }\n};\n\ncollection.items.push(1);\ncollection.items.push(2);\ncollection.items.push(3);\n\nfor(let x of collection) {\n    console.log(x);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e collection = {\n    \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: [],\n    *[\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.iterator]() { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将生成器赋值给对象的Symbol.iterator属性来创建默认的迭代器\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.items) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e item;\n        }\n    }\n};\n\ncollection.items.push(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\ncollection.items.push(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\ncollection.items.push(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e x \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e collection) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e内建迭代器\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eES6\x3c\/code\x3e中的集合对象，数组、\x3ccode\x3eSet\x3c\/code\x3e集合和\x3ccode\x3eMap\x3c\/code\x3e集合，都内建了三种迭代器：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eentries() 返回一个迭代器，其值为多个键值对。\x3cbr\x3e  如果是数组，第一个元素是索引位置；如果是\x3ccode\x3eSet\x3c\/code\x3e集合，第一个元素与第二个元素一样，都是值。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3evalues() 返回一个迭代器，其值为集合的值。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ekeys() 返回一个迭代器，其值为集合中的所有键名。\x3cbr\x3e  如果是数组，返回的是索引；如果是\x3ccode\x3eSet\x3c\/code\x3e集合，返回的是值（\x3ccode\x3eSet\x3c\/code\x3e的值被同时用作键和值）。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e不同集合的默认迭代器\x3c\/h2\x3e\n\x3cp\x3e每个集合类型都有一个默认的迭代器，在for-of循环中，如果没有显式指定则使用默认的迭代器。按常规使用习惯，我们很容易猜到，数组和\x3ccode\x3eSet\x3c\/code\x3e集合的默认迭代器是values()，\x3ccode\x3eMap\x3c\/code\x3e集合的默认迭代器是entries()。\x3c\/p\x3e\n\x3cp\x3e请看以下示例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let colors = [ \x26quot;red\x26quot;, \x26quot;green\x26quot;, \x26quot;blue\x26quot;];\nlet tracking = new Set([1234, 5678, 9012]);\nlet data = new Map();\n\ndata.set(\x26quot;title\x26quot;, \x26quot;Understanding ECMAScript 6\x26quot;);\ndata.set(\x26quot;format\x26quot;, \x26quot;print\x26quot;);\n\n\/\/ 与调用colors.values()方法相同\nfor(let value of colors) {\n    console.log(value);\n}\n\n\/\/ 与调用tracking.values()方法相同\nfor(let num of tracking) {\n    console.log(num);\n}\n\n\/\/ 与调用data.entries()方法相同\nfor(let entry of data) {\n    console.log(entry);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e colors = [ \x3cspan class=\x22hljs-string\x22\x3e\x22red\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22green\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22blue\x22\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e tracking = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e([\x3cspan class=\x22hljs-number\x22\x3e1234\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5678\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e9012\x3c\/span\x3e]);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eMap\x3c\/span\x3e();\n\ndata.set(\x3cspan class=\x22hljs-string\x22\x3e\x22title\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22Understanding ECMAScript 6\x22\x3c\/span\x3e);\ndata.set(\x3cspan class=\x22hljs-string\x22\x3e\x22format\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22print\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 与调用colors.values()方法相同\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e value \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e colors) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(value);\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 与调用tracking.values()方法相同\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e num \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e tracking) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(num);\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 与调用data.entries()方法相同\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e entry \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e data) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(entry);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这段代码会输入以下内容：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;red\x26quot;\n\x26quot;green\x26quot;\n\x26quot;blue\x26quot;\n1234\n5678\n9012\n[\x26quot;title\x26quot;, \x26quot;Understanding ECMAScript 6\x26quot;]\n[\x26quot;format\x26quot;, \x26quot;print\x26quot;]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22red\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22green\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22blue\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e1234\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e5678\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e9012\x3c\/span\x3e\n[\x3cspan class=\x22hljs-string\x22\x3e\x22title\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22Understanding ECMAScript 6\x22\x3c\/span\x3e]\n[\x3cspan class=\x22hljs-string\x22\x3e\x22format\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22print\x22\x3c\/span\x3e]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3efor-of循环配合解构特性，操纵数据会更方便：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22for(let [key, value] of data) {\n    console.log(key \x2b \x26quot;=\x26quot; \x2b value);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ceylon\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e [key, \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e] \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e data) {\n    console.log(key \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22=\x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3evalue\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e用展开运算符操纵\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let set = new Set([1, 2, 3, 4, 5]),\n    array = [...set];\n    \nconsole.log(array);  \/\/ [1,2,3,4,5]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs smali\x22\x3e\x3ccode\x3elet set =\x3cspan class=\x22hljs-built_in\x22\x3e new \x3c\/span\x3eSet([1, 2, 3, 4, 5]),\n   \x3cspan class=\x22hljs-built_in\x22\x3e array \x3c\/span\x3e= [...set];\n    \nconsole.log(array);  \/\/ [1,2,3,4,5]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e展开运算符可以操作所有的可迭代对象，并根据默认迭代器来选取要引用的值，从迭代器读取所有值。然后按返回顺序将它们依次插入到数组中。因此如果想将可迭代对象转换为数组，用展开运算符是最简单的方法。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader10\x22\x3e迭代器高级功能\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e给迭代器传参\x3c\/h2\x3e\n\x3cp\x3e前面我们看到，在迭代器内部使用yield关键字可以生成值，在外面可以用迭代器的next()方法获得返回值。\x3cbr\x3e其实next()方法还可以接收参数，这个参数的值就会代替生成器内部上一条yield语句的返回值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator() {\n    let first = yield 1;\n    let second = yield first \x2b 2;  \/\/ 4 \x2b 2\n    yield second \x2b 3;  \/\/ 5 \x2b 3\n}\n\nlet iterator = createIterator();\n\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next(4)); \/\/ \x26quot;{ value: 6, done: false }\x26quot;\nconsole.log(iterator.next(5)); \/\/ \x26quot;{ value: 8, done: false }\x26quot;\nconsole.log(iterator.next());  \/\/ \x26quot;{ value: undefined, done: true }\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e first = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e second = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e first \x2b \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 4 \x2b 2\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e second \x2b \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 5 \x2b 3\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = createIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 6, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 8, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefined, done: true }\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e下图的阴影展示了每次yield前正在执行的代码，可以辅助理解程序内部的具体细节：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVTgFC?w=313\x26amp;h=110\x22 src=\x22https:\/\/static.alili.tech\/img\/bVTgFC?w=313\x26amp;h=110\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e在生成器内部，浅红色高亮的是next()方法的第一次调用，浅绿色标识了next(4)的调用过程，紫色标示了next(5)的调用过程，分别返回每一次yield生成的值。这里有一个过程很复杂，在执行左侧代码前，右侧的每一个表达式会先执行再停止。\x3cbr\x3e这里有个特例，第一次调用next()方法时无论传入什么参数都会被丢弃。由于传递给next()方法的参数会代替上一次yield的返回值，而在第一次调用next()方法前不会执行任何yield语句，因此在第一次调用next()方法时传递参数是毫无意义的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e在迭代器中抛出错误\x3c\/h2\x3e\n\x3cp\x3e除了给迭代器传递数据外，还可以给它传递错误条件。通过throw()方法，当迭代器恢复执行时可令其抛出一个错误。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator() {\n    let first = yield 1;\n    let second = yield first \x2b 2;  \/\/ yield 4 \x2b 2, 然后抛出错误\n    yield second \x2b 3;              \/\/ 永远不会被执行\n}\n\nlet iterator = createIterator();\n\nconsole.log(iterator.next());                    \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next(4));                   \/\/ \x26quot;{ value: 6, done: false }\x26quot;\nconsole.log(iterator.throw(new Error(\x26quot;Boom\x26quot;)));  \/\/ 从生成器中抛出错误\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e first = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e second = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e first \x2b \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ yield 4 \x2b 2, 然后抛出错误\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e second \x2b \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;              \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 永远不会被执行\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = createIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e));                   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 6, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.throw(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Boom\x22\x3c\/span\x3e)));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 从生成器中抛出错误\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个示例中，前两个表达式正常求值，而调用throw()后，在继续执行let second求值前，错误就会被抛出并阻止代码继续执行。\x3cbr\x3e知道了这一点，就可以在生成器内部通过try-catch代码块来捕获这些错误：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator() {\n    let first = yield 1;\n    let second;\n    \n    try {\n        second = yield first \x2b 2;  \/\/ yield 4 \x2b 2, 然后抛出错误\n    } catch(e) {\n        second = 6;\n    }\n    yield second \x2b 3;\n}\n\nlet iterator = createIterator();\n\nconsole.log(iterator.next());                    \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next(4));                   \/\/ \x26quot;{ value: 6, done: false }\x26quot;\nconsole.log(iterator.throw(new Error(\x26quot;Boom\x26quot;)));  \/\/ \x26quot;{ value: 9, done: false }\x26quot;\nconsole.log(iterator.next());                    \/\/ \x26quot;{ value: undefined, done: true }\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e first = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e second;\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        second = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e first \x2b \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ yield 4 \x2b 2, 然后抛出错误\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e(e) {\n        second = \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e second \x2b \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = createIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e));                   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 6, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.throw(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Boom\x22\x3c\/span\x3e)));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 9, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefined, done: true }\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里有个有趣的现象：调用throw()方法后也会像调用next()方法一样返回一个结果对象。由于在生成器内部捕获了这个错误，因而会继续执行下一条yield语句，最终返回数值9。\x3cbr\x3e如此一来，next()和throw()就像是迭代器的两条指令，调用next()方法命令迭代器继续执行（可能提供一个值），调用throw()方法也会命令迭代器继续执行，但同时抛出一个错误，在此之后的执行过程取决于生成器内部的代码。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e生成器返回语句\x3c\/h2\x3e\n\x3cp\x3e由于生成器也是函数，因此可以通过return语句提前退出函数执行。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator() {\n    yield 1;\n    return;\n    yield 2;\n    yield 3;\n}\n\nlet iterator = createIterator();\n\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: undefined, done: true }\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = createIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefined, done: true }\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这段代码中的生成器包含多条yield语句和一条return语句，其中return语句紧随第一条yield语句，其后的yield语句将不会被执行。\x3cbr\x3e在return语句中也可以指定一个返回值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator() {\n    yield 1;\n    return 10;\n}\n\nlet iterator = createIterator();\n\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 10, done: true }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: undefined, done: true }\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = createIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 10, done: true }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undefined, done: true }\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过return语句指定的返回值，只会在返回对象中出现一次，在后续调用返回的对象中，value属性会被重置为undefined。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e委托生成器\x3c\/h2\x3e\n\x3cp\x3e在某些情况下，需要将两个迭代器合二为一，这时可以创建一个生成器，再给yield语句添加一个星号，就可以将生成数据的过程委托给其他生成器。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createNumberIterator() {\n    yield 1;\n    yield 2;\n}\n\nfunction *createColorIterator() {\n    yield \x26quot;red\x26quot;;\n    yield \x26quot;green\x26quot;;\n}\n\nfunction *createCombinedIterator() {\n    yield *createNumberIterator();\n    yield *createColorIterator();\n    yield true;\n}\n\nvar iterator = createCombinedIterator();\n\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 2, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;red\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;green\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: true, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: undfined, done: true }\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateNumberIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateColorIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22red\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22green\x22\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateCombinedIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e *createNumberIterator();\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e *createColorIterator();\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iterator = createCombinedIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 2, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22red\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22green\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: true, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undfined, done: true }\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有了委托生成器这个信功能，你可以进一步利用生成器的返回值来处理复杂任务：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createNumberIterator() {\n    yield 1;\n    yield 2;\n    return 3;\n}\n\nfunction *createRepeatingIterator(count) {\n    for(let i=0; i\x3ccount; i\x2b\x2b) {\n        yield \x26quot;repeat\x26quot;;\n    }\n}\n\nfunction *createCombinedIterator() {\n    let result = yield *createNumberIterator();\n    yield *createRepeatingIterator(result);\n}\n\nvar iterator = createCombinedIterator();\n\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 2, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;repeat\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;repeat\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;repeat\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: undfined, done: true }\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateNumberIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateRepeatingIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecount\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i\x26lt;count; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22repeat\x22\x3c\/span\x3e;\n    }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateCombinedIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e result = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e *createNumberIterator();\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e *createRepeatingIterator(result);\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iterator = createCombinedIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 2, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22repeat\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22repeat\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22repeat\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undfined, done: true }\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意，无论通过何种方式调用迭代器的next()方法，数值3永远不会被返回，它只存在于生成器createCombinedIterator()的内部。但如果想输出这个值，则可以额外添加一条yield语句：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createNumberIterator() {\n    yield 1;\n    yield 2;\n    return 3;\n}\n\nfunction *createRepeatingIterator(count) {\n    for(let i=0; i\x3ccount; i\x2b\x2b) {\n        yield \x26quot;repeat\x26quot;;\n    }\n}\n\nfunction *createCombinedIterator() {\n    let result = yield *createNumberIterator();\n    yield result;  \/\/ 这里加一句yield\n    yield *createRepeatingIterator(result);\n}\n\nvar iterator = createCombinedIterator();\n\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 1, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 2, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: 3, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;repeat\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;repeat\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: \x26quot;repeat\x26quot;, done: false }\x26quot;\nconsole.log(iterator.next());      \/\/ \x26quot;{ value: undfined, done: true }\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateNumberIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateRepeatingIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecount\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i\x26lt;count; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22repeat\x22\x3c\/span\x3e;\n    }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateCombinedIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e result = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e *createNumberIterator();\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e result;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里加一句yield\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e *createRepeatingIterator(result);\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e iterator = createCombinedIterator();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 1, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 2, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: 3, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22repeat\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22repeat\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: \x22repeat\x22, done: false }\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next());      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22{ value: undfined, done: true }\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>ES6系列&mdash;迭代器（Iterator）与生成器（Generator）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010747122">https://segmentfault.com/a/1190000010747122</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/yb881ezh0ze/" target="_blank">https://alili.tech/archive/yb881ezh0ze/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>