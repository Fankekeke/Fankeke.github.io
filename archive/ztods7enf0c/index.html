<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="基于 react, redux 最佳实践构建的 2048"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>基于 react, redux 最佳实践构建的 2048 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ztods7enf0c/",
				"appid": "1613049289050283", 
				"title": "基于 react, redux 最佳实践构建的 2048 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2018-12-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/z1s3jxecrpf/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/2mfagqc9o1r/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&text=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&text=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&title=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&is_video=false&description=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&title=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&title=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&title=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fztods7enf0c%2f&title=%e5%9f%ba%e4%ba%8e%20react%2c%20redux%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e6%9e%84%e5%bb%ba%e7%9a%84%202048"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">基于 react, redux 最佳实践构建的 2048</h1><div class="meta"><div class="postdate"><time datetime="2018-12-29" itemprop="datePublished">2018-12-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e前段时间 React license 的问题闹的沸沸扬扬，搞得 React 社区人心惶惶，好在最终 React 团队听取了社区意见把 license 换成了 MIT。不管 React license 如何，React 都是一个值得好好学习的优秀视图库。\x3c\/p\x3e\n\x3cp\x3e本项目算不上什么大型项目，但依然按照大型项目的标准采用前端流行的最佳实践来打造一个有良好代码质量，高性能，高可维护性，模块化的应用。本项目是基于 \x3ca href=\x22https:\/\/github.com\/facebook\/react\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact\x3c\/a\x3e, \x3ca href=\x22https:\/\/github.com\/reactjs\/redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eredux\x3c\/a\x3e 构建的 2048，此外也使用了近两年优秀的开源工具来提高代码质量，包括 \x3ca href=\x22https:\/\/github.com\/eslint\/eslint\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eeslint\x3c\/a\x3e，\x3ca href=\x22https:\/\/github.com\/stylelint\/stylelint\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estylelint\x3c\/a\x3e，\x3ca href=\x22https:\/\/github.com\/prettier\/prettier\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eprettier\x3c\/a\x3e 等等，以及 \x3ca href=\x22https:\/\/travis-ci.org\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etravis\x3c\/a\x3e，\x3ca href=\x22https:\/\/codecov.io\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecodecov\x3c\/a\x3e 等持续集成，持续部署等服务来保障代码质量和提高开发效率。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e项目地址\x3c\/a\x3e，喜欢的话 github 点个 star 支持下吧?\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e预览\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e桌面端\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011522875?w=2048\x26amp;h=1186\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011522875?w=2048\x26amp;h=1186\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e移动端\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWvHg?w=561\x26amp;h=1176\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWvHg?w=561\x26amp;h=1176\x22 alt=\x228ef543b5gy1fkbxcozh9cj20fl0woju7.jpg\x22 title=\x228ef543b5gy1fkbxcozh9cj20fl0woju7.jpg\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e特性\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e响应式\x3c\/h3\x3e\n\x3cp\x3e自适应桌面和移动平台不同分辨率和尺寸，支持移动平台浏览器触控操作。下面的动图模拟了不同分辨率下的显示效果。实现方式主要是把 css 单位从 px 换成了 \x3ca href=\x22https:\/\/github.com\/simaQ\/cssfun\/issues\/1\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evw 和 rem\x3c\/a\x3e ，各元素的尺寸是按照分辨率来进行缩放的。css 媒体查询到移动浏览器的话，调整部分组件的位置，隐藏部分不重要的组件，使页面更加紧凑。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011522876?w=1359\x26amp;h=644\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011522876?w=1359\x26amp;h=644\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e数据持久化\x3c\/h3\x3e\n\x3cp\x3e网页应用最怕断电和离线，第一个问题通过 \x3ccode\x3estore.subscribe\x3c\/code\x3e 订阅 redux 状态更新，把状态序列化到 \x3ccode\x3elocalStorage\x3c\/code\x3e 储存，即使刷新，断电，程序奔溃再次打开仍然是最新的状态，第二个问题借助 chrome 的 \x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/25167289\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePWA\x3c\/a\x3e 技术，即使断开网络仍然可以访问缓存的资源文件。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011522877?w=938\x26amp;h=626\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011522877?w=938\x26amp;h=626\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3eRedux 状态\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/reactjs\/redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eredux\x3c\/a\x3e 是一个可预测的 JS 状态管理容器，结合 \x3ca href=\x22https:\/\/github.com\/zalmoxisus\/redux-devtools-extension\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRedux DevTools extension\x3c\/a\x3e 扩展可以很方便的进行应用状态穿梭，对辅助开发和debug大有裨益。不仅可以查看 redux 保存的状态，还可以随时回到到过去某个时刻的状态就像时间穿梭机一样，也看得到 redux 每次 action 的触发，以及每次触发造成的状态改动。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011522878?w=1350\x26amp;h=626\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011522878?w=1350\x26amp;h=626\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e评论系统\x3c\/h3\x3e\n\x3cp\x3e借助 github issue api，使用 github 账号登录之后以回复 issue 的方式留言。留言支持 markdown 格式，和 github issue 体验类似。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011522879?w=1083\x26amp;h=649\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011522879?w=1083\x26amp;h=649\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3ePWA\x3c\/h3\x3e\n\x3cp\x3e在支持 \x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/25167289\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePWA\x3c\/a\x3e 技术的浏览器上（比如较新的 chrome）打开页面会自动询问你添加到屏幕，添加过程就像原生应用的安装一样。应用添加之后就可以像原生应用一样离线操作，也可以卸载应用。下图演示了 PWA 在 chrome 上面的添加过程，添加完成之后桌面会出现添加的应用，即便关闭所有网络仍然可以像原生应用一样正常操作。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVWvIe?w=720\x26amp;h=1280\x22 src=\x22https:\/\/static.alili.tech\/img\/bVWvIe?w=720\x26amp;h=1280\x22 alt=\x22116af3f1e8dd2471ccf49211985fe467\x22 title=\x22116af3f1e8dd2471ccf49211985fe467\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3ei18n\x3c\/h3\x3e\n\x3cp\x3e应用支持多语言，且自动适配浏览器语言设置。目前检测到浏览器支持中文优先使用中文，否则默认使用英文显示。需要更多语言支持，编辑 \x3ccode\x3esrc\/utils\/i18n.js\x3c\/code\x3e 的  \x3ccode\x3edata\x3c\/code\x3e 对象，添加对应语言文字即可。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000011522880?w=2048\x26amp;h=1335\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000011522880?w=2048\x26amp;h=1335\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3ereact 最佳实践\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e一个文件一个组件。\x3c\/li\x3e\n\x3cli\x3e尽量使用无状态（Stateless）组件，也就是如果只是写一个单纯展示的组件，不需要组件保存自己的状态，不需要生命周期方法或者 refs 来操作 DOM 的组件则优先使用无状态组件，采用函数的形式。以项目 Tips 组件示例:\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    import React from \x26quot;react\x26quot;;\n    import PropTypes from \x26quot;prop-types\x26quot;;\n    import styles from \x26quot;.\/tips.scss\x26quot;;\n    \n    export default function Tips({ title, content }) {\n      return (\n        \x3cdiv className={styles.tips}\x3e\n          \x3cp className={styles.title}\x3e{title}\x3c\/p\x3e\n          \x3cp className={styles.content}\x3e{content}\x3c\/p\x3e\n        \x3c\/div\x3e\n      );\n    }\n    \n    Tips.propTypes = {\n      title: PropTypes.string.isRequired,\n      content: PropTypes.string.isRequired\n    };\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e PropTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22prop-types\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e styles \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/tips.scss\x22\x3c\/span\x3e;\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTips\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ title, content }\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n        \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{styles.tips}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{styles.title}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{title}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{styles.content}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{content}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n      );\n    }\n    \n    Tips.propTypes = {\n      \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: PropTypes.string.isRequired,\n      \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: PropTypes.string.isRequired\n    };\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e和上面相反，如果你需要组件生命周期方法优化组件性能（典型应用，重写 \x3ccode\x3eshouldComponentUpdate\x3c\/code\x3e 方法），需要组件保存自己的状态，或者用 refs 操作 DOM，你就需要一个有状态组件，采用 es6 class 继承 React.Component 的写法。组件示例：\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    import React from \x26quot;react\x26quot;;\n    import PropTypes from \x26quot;prop-types\x26quot;;\n    import classnames from \x26quot;classnames\x26quot;;\n    import styles from \x26quot;.\/cell.scss\x26quot;;\n    import { isObjEqual } from \x26quot;..\/..\/utils\/helpers\x26quot;;\n    \n    export default class Cell extends React.Component {\n      static propTypes = {\n        value: PropTypes.number.isRequired\n      };\n    \n      shouldComponentUpdate(nextProps, nextState) {\n        return (\n          !isObjEqual(nextProps, this.props) || !isObjEqual(nextState, this.state)\n        );\n      }\n    \n      render() {\n        const { props: { value } } = this;\n    \n        const color = `color-${value}`;\n        return (\n          \x3ctd\x3e\n            \x3cdiv\n              className={classnames([styles.cell, { [styles[color]]: !!value }])}\n            \x3e\n              \x3cdiv className={styles.number}\x3e{value || null}\x3c\/div\x3e\n            \x3c\/div\x3e\n          \x3c\/td\x3e\n        );\n      }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e PropTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22prop-types\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e classnames \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22classnames\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e styles \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/cell.scss\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { isObjEqual } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22..\/..\/utils\/helpers\x22\x3c\/span\x3e;\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eCell\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e propTypes = {\n        \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: PropTypes.number.isRequired\n      };\n    \n      shouldComponentUpdate(nextProps, nextState) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n          !isObjEqual(nextProps, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props) || !isObjEqual(nextState, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state)\n        );\n      }\n    \n      render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3eprops\x3c\/span\x3e: { value } } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    \n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e color = \x3cspan class=\x22hljs-string\x22\x3e`color-\x3cspan class=\x22hljs-subst\x22\x3e${value}\x3c\/span\x3e`\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n          \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etd\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\n              \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{classnames([styles.cell,\x3c\/span\x3e { [\x3cspan class=\x22hljs-attr\x22\x3estyles\x3c\/span\x3e[\x3cspan class=\x22hljs-attr\x22\x3ecolor\x3c\/span\x3e]]\x3cspan class=\x22hljs-attr\x22\x3e:\x3c\/span\x3e !!\x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e }])}\n            \x26gt;\x3c\/span\x3e\n              \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{styles.number}\x3c\/span\x3e\x26gt;\x3c\/span\x3e{value || null}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etd\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n      }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e事件绑定 this 方法。在构造函数里面绑定一次 this 之后后面就可以正常使用。以 \x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/e6812e8b89bb38109387e7f6495fcd5d70c11f26\/src\/containers\/ControlPanel\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eControlPanel\x3c\/a\x3e 组件部分代码示例：\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22constructor(...args) {\n    super(...args);\n\n    this.handleMoveUp = this.handleMoveUp.bind(this);\n    this.handleMoveDown = this.handleMoveDown.bind(this);\n    this.handleMoveLeft = this.handleMoveLeft.bind(this);\n    this.handleMoveRight = this.handleMoveRight.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n    this.handleSpeakerClick = this.handleSpeakerClick.bind(this);\n    this.handleUndo = this.handleUndo.bind(this);\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(...args) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(...args);\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveUp = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveUp.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveDown = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveDown.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveLeft = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveLeft.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveRight = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleMoveRight.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleKeyUp = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleKeyUp.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleSpeakerClick = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleSpeakerClick.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleUndo = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleUndo.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e使用 \x3ca href=\x22https:\/\/reactjs.org\/docs\/typechecking-with-proptypes.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epropTypes\x3c\/a\x3e 属性进行传入 prop 的校验。可以校验 prop 的类型和是否必需，非必需的 prop 还必需填写 defaultProps 默认值。以无状态组件 \x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/e6812e8b89bb38109387e7f6495fcd5d70c11f26\/src\/components\/Button\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eButton\x3c\/a\x3e 的部分代码示例：\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    Button.propTypes = {\n      children: PropTypes.oneOfType([PropTypes.node]),\n      onClick: PropTypes.func,\n      size: PropTypes.oneOf([\x26quot;lg\x26quot;, \x26quot;md\x26quot;, \x26quot;sm\x26quot;, \x26quot;xs\x26quot;]),\n      type: PropTypes.oneOf([\n        \x26quot;default\x26quot;,\n        \x26quot;primary\x26quot;,\n        \x26quot;warn\x26quot;,\n        \x26quot;danger\x26quot;,\n        \x26quot;success\x26quot;,\n        \x26quot;royal\x26quot;\n      ]).isRequired\n    };\n    \n    Button.defaultProps = {\n      children: \x26quot;\x26quot;,\n      onClick() {},\n      size: \x26quot;md\x26quot;,\n    };\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e    Button.propTypes = {\n      \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: PropTypes.oneOfType([PropTypes.node]),\n      \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e: PropTypes.func,\n      \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e: PropTypes.oneOf([\x3cspan class=\x22hljs-string\x22\x3e\x22lg\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22md\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22sm\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22xs\x22\x3c\/span\x3e]),\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: PropTypes.oneOf([\n        \x3cspan class=\x22hljs-string\x22\x3e\x22default\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22primary\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22warn\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22danger\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22success\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22royal\x22\x3c\/span\x3e\n      ]).isRequired\n    };\n    \n    Button.defaultProps = {\n      \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n      onClick() {},\n      \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22md\x22\x3c\/span\x3e,\n    };\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e使用 \x3ca href=\x22http:\/\/huziketang.com\/books\/react\/lesson28\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHOC(Higher-Order Components)\x3c\/a\x3e 代替 mixin。mixin 官方已经不推荐使用了，redux 的 connect 方法就是 HOC 的应用。\x3c\/li\x3e\n\x3cli\x3e为了提高应用性能，避免不必要的视图重绘，在需要的组件使用 \x3ccode\x3eshouldComponentUpdate\x3c\/code\x3e 方法；以组件 \x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/e6812e8b89bb38109387e7f6495fcd5d70c11f26\/src\/components\/Row\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRow\x3c\/a\x3e 示例：\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \/\/ 如果该行没有格子需要刷新也没有组件自己的状态刷新，\n  \/\/ 则该组件不执行 render 方法，\n  \/\/ 避免每次别的行数据刷新也跟着重新渲染。\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      !isObjEqual(nextProps, this.props) || !isObjEqual(nextState, this.state)\n    );\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果该行没有格子需要刷新也没有组件自己的状态刷新，\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 则该组件不执行 render 方法，\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 避免每次别的行数据刷新也跟着重新渲染。\x3c\/span\x3e\n  shouldComponentUpdate(nextProps, nextState) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      !isObjEqual(nextProps, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props) || !isObjEqual(nextState, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state)\n    );\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e项目结构\x3c\/h2\x3e\n\x3cp\x3e本项目是基于 Facebook 官方出品的 \x3ca href=\x22https:\/\/github.com\/facebookincubator\/create-react-app\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecreate-react-app\x3c\/a\x3e 脚手架搭建的，reject 后做了适当修改以适配项目需求。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e调整如下\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/webpack\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e 添加 \x3ca href=\x22http:\/\/sass-lang.com\/guide\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3escss\x3c\/a\x3e 支持。之所以没有用 \x3ca href=\x22https:\/\/medium.com\/@gajus\/stop-using-css-in-javascript-for-web-development-fa32fb873dcc\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCssInJS\x3c\/a\x3e 的方案是因为这些方案普遍不完美，也考虑到要遵循样式和结构分离的原则，scss 是目前比较成熟的 css 预处理器，社区轮子也比较多，开发起来很方便。推荐学习 scss\/sass \x3ca href=\x22http:\/\/www.sassshop.com\/#\/1\/2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e教程\x3c\/a\x3e。添加 \x3ccode\x3esass-loader\x3c\/code\x3e 到 scss 规则下面最下面即可。\x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/149d75e117c048a44704315a6122e0e28c256a97\/config\/webpack.config.dev.js#L190\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e配置代码\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e开启 \x3ca href=\x22https:\/\/github.com\/css-modules\/css-modules\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecss module\x3c\/a\x3e 支持。在大型项目里面组件之间需要尽量解耦，但是 css 类名的全局特性很容易导致意料之外的错误。开启 css module 之后，所有的类名最终都会被一小段 hash 值填充，所以类名也就有一定的唯一性，不容易污染全局的代码。\x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/149d75e117c048a44704315a6122e0e28c256a97\/config\/webpack.config.dev.js#L170\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e配置代码\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e添加 \x3ca href=\x22https:\/\/github.com\/stylelint\/stylelint\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estylelint\x3c\/a\x3e 支持。js 代码已经有 \x3ca href=\x22https:\/\/github.com\/eslint\/eslint\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eeslint\x3c\/a\x3e (但采用了更流行，校验更严格的 \x3ca href=\x22https:\/\/github.com\/airbnb\/javascript\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eairbnb\x3c\/a\x3e 规则) 来检查代码，但是样式代码也需要保持代码风格统一，同时校验规则一般有社区的最佳实践。\x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/149d75e117c048a44704315a6122e0e28c256a97\/config\/webpack.config.dev.js#L251\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e配置代码\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e添加静态资源 cdn 支持。由于项目部署在 \x3ca href=\x22https:\/\/pages.github.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub page\x3c\/a\x3e 在国内访问速度不是很理想，所以在可能的情况下尽量减小 js 包的大小对页面加载速度至关重要。像 ReactDOM 这类较大的 npm 包从打包文件剥离出去采用 CDN 来加载，可显著减小打包文件的大小。（PS：之所以 CDN 加载比较快，是因为 CDN 提供商在全国各地都建立了缓存服务器，资源就近获取比自己从 github 获取快得多，而且一般 CDN 的带宽也比较充裕）把 React 和 ReactDOM 剥离出去只需要在 html 文件添加 CDN 的 [script 标签]()，同时在 webpack 添加 \x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/e6812e8b89bb38109387e7f6495fcd5d70c11f26\/config\/webpack.config.prod.js#L77\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eexternals\x3c\/a\x3e 属性，该属性指定代码 \x3ccode\x3eimport\x3c\/code\x3e 该包时直接从全局变量获取。剥离后打包的 js 文件大小从 278kb 减小到 164 kb。\x3c\/li\x3e\n\x3cli\x3e添加 webpack \x3ca href=\x22https:\/\/github.com\/webpack-contrib\/compression-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e代码压缩\x3c\/a\x3e插件。默认的 webpack 配置直接输出原始的 js，css 代码，但添加压缩过后，文件显著减小（js 文件从 164kb 到 49kb），对于移动浏览器来说打开速度得到明显提升。\x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\/blob\/25099b82afe7b32d060b0957862e4d1d397fc539\/config\/webpack.config.prod.js#L329\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e配置代码\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e添加 \x3ca href=\x22https:\/\/github.com\/webpack-contrib\/webpack-bundle-analyzer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-bundle-analyzer\x3c\/a\x3e 插件，通过各模块包所占打包文件后的比重来分析项目代码，借此优化代码。比如，React 和 ReactDOM 的剥离就是因为分析后发现这两个包所占比重较大。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e文件结构\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3esrc， 项目源代码大部分都在这里，主要是 react 组件 js 代码  和 scss 样式代码。次级目录包含了 \x3ca href=\x22https:\/\/github.com\/facebook\/jest\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ejest\x3c\/a\x3e 单元测试代码，测试代码尽量和源代码挨着，以方便编写。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eassets，主要存放一些全局样式代码，icon svg 文件，游戏音效 mp3 文件，图片等等；\x3c\/li\x3e\n\x3cli\x3ecomponents，存放 \x3ca href=\x22http:\/\/huziketang.com\/books\/react\/lesson43\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact dumb 组件\x3c\/a\x3e, 每个组件包含在采用首字母大写的目录的 \x3ccode\x3eindex.js\x3c\/code\x3e 里面，同时该目录包含该组件用到样式的 scss 文件，尽量一个目录包含该组件所需的所有代码避免污染其他代码，提高组件复用性。\x3c\/li\x3e\n\x3cli\x3econtainers，存放 \x3ca href=\x22http:\/\/huziketang.com\/books\/react\/lesson43\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact smart 组件\x3c\/a\x3e，该目录结构和 \x3ccode\x3ecomponents\x3c\/code\x3e 类似，但因为是 smart 组件，所以这里的组件可以操作 redux 的数据，不用太考虑复用性。\x3c\/li\x3e\n\x3cli\x3ereducers，这是 redux 包含的是无副作用的纯函数式计算状态操作的函数。\x3c\/li\x3e\n\x3cli\x3eutils，包括评论组件初始化，i18n 多语言文件，移动浏览器滑动检测和注册 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Service_Worker_API\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eServiceWorker\x3c\/a\x3e 等等。\x3c\/li\x3e\n\x3cli\x3eindex.js，项目入口文件，主要把 react 根组件 渲染到指定 DOM 节点，并且注册 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Service_Worker_API\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eServiceWorker\x3c\/a\x3e。\x3c\/li\x3e\n\x3cli\x3estore.js，redux store 初始化，同时 \x3ccode\x3estore.subscribe\x3c\/code\x3e 订阅应用状态更新，序列化状态存到 \x3ccode\x3elocalStorage\x3c\/code\x3e。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3epublic，包括项目的 html 文件，网站 icon favicon 和 \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/Manifest\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePWA manifest\x3c\/a\x3e 文件。\x3c\/li\x3e\n\x3cli\x3econfig，主要包括 webpack 的各种配置文件。\x3c\/li\x3e\n\x3cli\x3escripts，npm 的启动脚本，启动开发模式，项目打包，运行 jest 单元测试等等。\x3c\/li\x3e\n\x3cli\x3ebuild，项目打包后的输出目录。\x3c\/li\x3e\n\x3cli\x3escreenshots，README 各种图片的原图，为了国内用户访问方便实际上 README 的图片来自新浪微博的图床。\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22http:\/\/editorconfig.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e.editorconfig\x3c\/a\x3e，通用的编辑器配置，统一不同编辑器 \/ IDE 的代码格式。\x3c\/li\x3e\n\x3cli\x3e.eslintignore，需要 eslint 忽略的文件或者目录，规则类似 .gitignore\x3c\/li\x3e\n\x3cli\x3e.travis.yml, 持续集成脚本，每次提交代码到 github 之后，测试服务器都会自动运行该脚本执行测试用例，并输出代码覆盖率，最后自动部署到 \x3ca href=\x22https:\/\/pages.github.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub page\x3c\/a\x3e。所有状态都在项目中 README 的徽章中可见。\x3c\/li\x3e\n\x3cli\x3epackage.json，项目基本信息和部分配置都存在这里。常见的内容包括项目的各类依赖包，各种启动脚本，项目 homepage 等等；为了减少根项目的文件数目，jest，babel，eslint，stylelint 的配置也写在这里。值得注意的是，项目中引入 \x3ca href=\x22https:\/\/github.com\/typicode\/husky\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehusky\x3c\/a\x3e，在每次代码 commit 之前都会执行 \x3ca href=\x22https:\/\/github.com\/okonet\/lint-staged\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elint-staged\x3c\/a\x3e，以自动执行 \x3ca href=\x22https:\/\/github.com\/prettier\/prettier\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eprettier\x3c\/a\x3e 来美化代码格式。每次代码推送 到 github 之前也会执行所有单元测试用例，全部通过才可以继续推送。\x3c\/li\x3e\n\x3cli\x3eyarn.locl，\x3ca\x3eyarn\x3c\/a\x3e 首次安装依赖包之后生成的 lock 文件。通过 yarn 来安装依赖包时，yarn 自动把项目的依赖包（包括依赖包依赖的父级包）固定在指定的版本（包括依赖包安装的 url 和 hash 值），这样所有开发环境都使用 yarn 来管理项目，不同的机器不同的系统安装出来包都是一样的，这样就避免了之前 npm 的缺陷（版本要求太松或者父级包版本更新等等导致每次安装出来的依赖版本不一样）。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e技术栈\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/facebook\/react\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact\x3c\/a\x3e，组件式构建 UI\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/reactjs\/redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eredux\x3c\/a\x3e，管理应用状态\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/babel\/babel\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel\x3c\/a\x3e，把 es2017\x2b 语法转成 es5 兼容语法\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/webpack\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e，代码热加载，scss 样式文件处理，组件编译打包等等\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/sass\/sass\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3escss\x3c\/a\x3e，成熟的 css 预处理器（之所以没有用 CssInJS 的方案是因为这些方案普遍不完美，也考虑到要遵循样式和结构分离的原则）\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/eslint\/eslint\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eeslint\x3c\/a\x3e，使用流行的 airbnb 的代码规范严格约束代码风格\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/stylelint\/stylelint\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estylelint\x3c\/a\x3e，scss 代码风格检查\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/facebook\/jest\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ejest\x3c\/a\x3e，fb 出品的代码测试框架，snapshot 功能对测试 react 组件 UI 十分方便\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/prettier\/prettier\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePrettier\x3c\/a\x3e，js 和 scss 代码格式美化工具\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/25167289\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePWA\x3c\/a\x3e(Progressive Web Apps)，借助浏览器 service worker 能力，使 web 应用在移动平台有接近原生应用的能力，可离线使用，接收通知消息等等\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e运行 \x26amp; 测试 \x26amp; 打包\x3c\/h2\x3e\n\x3cp\x3e因为配置文件用了 es6\x2b 语法所以要求 node 的版本大于 6.10，同时建议使用 \x3ca href=\x22https:\/\/yarnpkg.com\/zh-Hans\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eyarn\x3c\/a\x3e 来管理依赖包。fork 项目之后可以按如下命令操作。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  npm i -g yarn # 安装 yarn\n  git clone git@github.com:\x3c你的名字\x3e\/React-2048-game.git\n  cd React-2048-game\n  yarn # 安装依赖包\n  yarn start # 开启调试模式，启动后自动打开浏览器 http:\/\/localhost:3000 \n  yarn test # 自动测试\n  yarn build # 打包代码\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e  npm i -g yarn \x3cspan class=\x22hljs-comment\x22\x3e# 安装 yarn\x3c\/span\x3e\n  git \x3cspan class=\x22hljs-built_in\x22\x3eclone\x3c\/span\x3e git@github.com:\x26lt;你的名字\x26gt;\/React-2048-game.git\n  \x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e React-2048-game\n  yarn \x3cspan class=\x22hljs-comment\x22\x3e# 安装依赖包\x3c\/span\x3e\n  yarn start \x3cspan class=\x22hljs-comment\x22\x3e# 开启调试模式，启动后自动打开浏览器 http:\/\/localhost:3000 \x3c\/span\x3e\n  yarn \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e# 自动测试\x3c\/span\x3e\n  yarn build \x3cspan class=\x22hljs-comment\x22\x3e# 打包代码\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3e踩坑记录\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e在调烟花动画的时候发现没效果，仔细对比了下 webpack 编译后的 css 文件发现所有的 @keyframes 的名字都加了 hash 值（也就是当成普通的局部 css 类名），解决办法就是在 @keyframes 的名字前面和整个 scss 文件添加伪类 :global，可以参考烟花的 scss 文件，这不是完美的解决办法(css 类名不再有局部特性)，后续再深挖一下。\x3c\/li\x3e\n\x3cli\x3ecss module 用到的 :global 这个不是标准的伪类，所以 stylelint 需要添加配置以忽略这个错误。参见 \x3ccode\x3epackage.json\x3c\/code\x3e 的 \x3ccode\x3estylelint.rules\x3c\/code\x3e。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3e\n\x3ca href=\x22https:\/\/github.com\/devrsi0n\/React-2048-game\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e项目地址\x3c\/a\x3e，喜欢的话 github 点个 star 支持下吧?\x3c\/h2\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>基于 react, redux 最佳实践构建的 2048</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000011522870">https://segmentfault.com/a/1190000011522870</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ztods7enf0c/" target="_blank">https://alili.tech/archive/ztods7enf0c/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/hvvo3rmt3dj/">JS打包工具rollup——完全入门指南<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/semhn25oasq/">Spring Boot [基于Spring Boot 与 Vue的后台脚手架] SanJi Boot Security<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/t1iml4tjj7r/">WebGL入门demo<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/8gbs1y0r0ns/">[面试专题]一线互联网大厂面试总结<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/4os59l0zeel/">react&#43;react-router4&#43;redux最新版构建分享<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/dznv6a9ewcj/">react虚拟dom机制与diff算法<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/myiqarfowok/">一套Vue的单页模板：N3-admin<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/2eeweuxgjbk/">使用 json-server 搭建 api mock 服务 (一)<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/h7cszygcoqq/">使用Ionic3框架开始第一个混合开发APP<aside class="dates">2019-01-04</aside></a></li><li><a href="/archive/g8by6kv9q8t/">如何只用 CSS 完成漂亮的加载<aside class="dates">2019-01-04</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>